{"version":3,"kind":"Notebook","sha256":"9d9f262dfd7ff072549101250c4682ad9785774736632c9c8fec91fb13769818","slug":"sections.computer-programming.fortran.fortran-mooc.section-cellular-automata","location":"/Sections/Computer_Programming/Fortran/Fortran_MOOC/Section_Cellular_Automata.ipynb","dependencies":[],"frontmatter":{"title":"Section: Cellular Automata","content_includes_title":true,"kernelspec":{"name":"py311_env","display_name":"Python 3.11","language":"python"},"authors":[{"nameParsed":{"literal":"Mark Khusid","given":"Mark","family":"Khusid"},"name":"Mark Khusid","id":"contributors-myst-generated-uid-0"}],"github":"https://github.com/markkhusid/MKDynamics_Website_V2","numbering":{"title":{"offset":5}},"source_url":"https://github.com/markkhusid/MKDynamics_Website_V2/blob/master/Sections/Computer_Programming/Fortran/Fortran_MOOC/Section_Cellular_Automata.ipynb","edit_url":"https://github.com/markkhusid/MKDynamics_Website_V2/edit/master/Sections/Computer_Programming/Fortran/Fortran_MOOC/Section_Cellular_Automata.ipynb","exports":[{"format":"ipynb","filename":"Section_Cellular_Automata.ipynb","url":"/build/Section_Cellular_Aut-5e4e5d13d4b755fd6761694b98f3007f.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"code","lang":"","value":"---\njupytext:\n  formats: md:myst\n  text_representation:\n    extension: .md\n    format_name: myst\nkernelspec:\n  display_name: Python 3\n  language: python\n  name: python3\n---","key":"FKBAlTdSIK"}],"key":"yuVZQgYaLZ"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Section: Cellular Automata","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"d3ElR90BSO"}],"identifier":"section-cellular-automata","label":"Section: Cellular Automata","html_id":"section-cellular-automata","implicit":true,"key":"H7I3n3aw1Y"}],"visibility":"show","key":"hNdFuS8UGT"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Adapted from: ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"F9Sxn0k6Qp"},{"type":"link","url":"https://github.com/gjbex/Fortran-MOOC/tree/master/source_code/cellular_automata","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"https://​github​.com​/gjbex​/Fortran​-MOOC​/tree​/master​/source​_code​/cellular​_automata","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"m2CyFRGUs2"}],"urlSource":"https://github.com/gjbex/Fortran-MOOC/tree/master/source_code/cellular_automata","error":true,"key":"S47ZaVUDXn"}],"key":"IfleCAQYpq"}],"key":"saHJRpvY2K"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"This Fortran program simulates a ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pvZtgDy9cF"},{"type":"strong","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"one-dimensional cellular automaton","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BfSxqPj2qC"}],"key":"lLfh29vg5B"},{"type":"text","value":". Here’s what it does:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AkAMGqBIyb"}],"key":"BgK7k48sXr"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":3,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"Imports a module","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"Hd5Gt5r4DW"}],"key":"dZ83e7yvjx"},{"type":"text","value":" (","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"bSUioWB60d"},{"type":"inlineCode","value":"cellular_automata_mod","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"khOv3FGyhZ"},{"type":"text","value":") that defines the automaton type and related procedures.","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"unbZZsxISb"}],"key":"kyj60D8ano"}],"key":"xEiVx6qpiB"},{"type":"listItem","spread":true,"position":{"start":{"line":4,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"children":[{"type":"text","value":"Reads parameters","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"NTO9hWr9PH"}],"key":"kHRzW6GmUv"},{"type":"text","value":" for the simulation:","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"kxmM3QzQiS"}],"key":"NEmad2apxR"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":5,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"rule_nr","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"oOUnJyVirk"},{"type":"text","value":": The rule number for the automaton (default 90, can be set via command-line argument).","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"BApwMnkc4d"}],"key":"Hx9MR6s8n4"}],"key":"i4CsSaekCO"},{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"nr_cells","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"ZRePQEqZKT"},{"type":"text","value":": Number of cells in the automaton (default 50, can be set via command-line).","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"ol54X6RXkZ"}],"key":"cMWSMWhDqP"}],"key":"AsBylZSwFn"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"max_steps","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"vdNq0QnVIc"},{"type":"text","value":": Number of time steps to simulate (default 100, can be set via command-line).","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"IYjJ050r9l"}],"key":"JM74KsAtvF"}],"key":"lsuS1AsLkG"}],"key":"hf06Ho6HPP"}],"key":"Ey5i3S6zix"},{"type":"listItem","spread":true,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Initializes the automaton","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"PLzIxrp1ac"}],"key":"Pu1oVGlfSR"},{"type":"text","value":" with the specified rule and number of cells.","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"jv1O8ARENX"}],"key":"PXMNmCJdDp"}],"key":"kcyJXHe8aA"},{"type":"listItem","spread":true,"position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Prints the rule and initial state","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"qw8YFwppJE"}],"key":"gW2wNNQw1r"},{"type":"text","value":" of the automaton.","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"rlDink0vc4"}],"key":"lAdnb9i6CP"}],"key":"JB6GGlImB6"},{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"Runs the simulation","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"TujptJLeqW"}],"key":"nCHTbcI9jE"},{"type":"text","value":" for ","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"H9sJjyMIg9"},{"type":"inlineCode","value":"max_steps","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"biG65TbHaE"},{"type":"text","value":" iterations:","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"TrT1ZLK8oF"}],"key":"lgi8sP9eO9"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":11,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"At each step, it updates the automaton’s state according to the rule.","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"XiY4yucuFD"}],"key":"T6x33JmmNK"}],"key":"jpJXNzHWjS"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Prints the current state after each update.","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"y8la1X5Rg8"}],"key":"TruOohGnLH"}],"key":"xL7VDD7YXV"}],"key":"gqxtTEwXmY"}],"key":"sYy0U1I0kL"}],"key":"LkCuD8QG0D"},{"type":"paragraph","position":{"start":{"line":14,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"strong","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"children":[{"type":"text","value":"Summary:","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"CW34SgRtBN"}],"key":"kA8nkystrc"},{"type":"break","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"GB9Zgzbxnn"},{"type":"text","value":"It models and displays the evolution of a 1D cellular automaton (like Rule 90) for a given number of cells and steps, optionally set via command-line arguments.","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"p7JQGbyftk"}],"key":"phPVx2P5df"}],"key":"RX9xivLJfN"},{"type":"block","kind":"notebook-content","data":{"vscode":{"languageId":"raw"}},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Code Analysis by Grok 4","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FFLcuz9b5D"}],"identifier":"code-analysis-by-grok-4","label":"Code Analysis by Grok 4","html_id":"code-analysis-by-grok-4","implicit":true,"key":"LyBwYP3ix9"}],"key":"QBmASYFvmf"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Overview of the Code","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YbdJOMJzvW"}],"identifier":"overview-of-the-code","label":"Overview of the Code","html_id":"overview-of-the-code","implicit":true,"key":"wR9eJvPbWs"},{"type":"paragraph","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"This Fortran code implements a simulation of an elementary cellular automaton (ECA), a simple computational model popularized by Stephen Wolfram. ECAs consist of a one-dimensional grid of cells, each in one of two states (0 or 1, often visualized as empty or filled). The state of each cell evolves over discrete time steps based on a rule that considers the cell itself and its immediate neighbors (left and right, for a total of 3 cells per “neighborhood”).","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"EIPB5cCq5Y"}],"key":"oQ3YBsAqMB"},{"type":"paragraph","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"children":[{"type":"text","value":"The code is divided into two main parts:","position":{"start":{"line":5,"column":1},"end":{"line":5,"column":1}},"key":"dDd4ZxOzSd"}],"key":"zxNTlmIhRT"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":6,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"A ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"whocrfOvSp"},{"type":"strong","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"module","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"beL01ioJeg"}],"key":"Nl8TBAV4tX"},{"type":"text","value":" named ","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"YPXordVPo7"},{"type":"inlineCode","value":"cellular_automata_mod","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"sowGpNFi2A"},{"type":"text","value":", which defines the data structures, initialization logic, rule application, stepping mechanism, and printing functions for the automaton.","position":{"start":{"line":6,"column":1},"end":{"line":6,"column":1}},"key":"pO1HsPKJfN"}],"key":"HQwtnqRBlf"}],"key":"n60fVZPEYJ"},{"type":"listItem","spread":true,"position":{"start":{"line":7,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"A ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"pV4BCQdJbK"},{"type":"strong","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"children":[{"type":"text","value":"program","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"vSWzXONgOa"}],"key":"KxZz1tlRrL"},{"type":"text","value":" named ","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"NClpjtyWEx"},{"type":"inlineCode","value":"cellular_automata","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"HZgbYOo3xQ"},{"type":"text","value":", which serves as the main entry point. It reads parameters (optionally from command-line arguments), initializes the automaton, prints the rules, and simulates the evolution over a specified number of steps, printing each state.","position":{"start":{"line":7,"column":1},"end":{"line":7,"column":1}},"key":"xkztetwKkK"}],"key":"vOFdi2lXji"}],"key":"IJnSCRvdrH"}],"key":"OxBHvgKZRD"},{"type":"paragraph","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"children":[{"type":"text","value":"Key features:","position":{"start":{"line":9,"column":1},"end":{"line":9,"column":1}},"key":"XF76LlBe1f"}],"key":"a1dR5iObUE"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":10,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Supports Wolfram’s rule numbering system (0–255 for 3-neighbor rules).","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"foTleOCqqZ"}],"key":"Fj85gXIPSg"}],"key":"sPa3t4rfka"},{"type":"listItem","spread":true,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Cells are initialized randomly (50% chance of being 1 or 0).","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"LmkH2NhDiW"}],"key":"twBmcZQ4Ja"}],"key":"itLOIy58ll"},{"type":"listItem","spread":true,"position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The grid is treated as ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"sAzFxuXISf"},{"type":"strong","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"circular","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"G2cUSAeYGt"}],"key":"cKKNnDqxpe"},{"type":"text","value":" (the leftmost cell’s left neighbor is the rightmost cell, and vice versa), which is evident in the stepping logic.","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"SFMVtDfn5J"}],"key":"yG9Cc3qr6a"}],"key":"XfuigfyDTH"},{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Output: Prints the rule set, then each generation’s state as a line of ‘X’ (for 1) or ’ ’ (for 0).","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"Y3ezExr5Tt"}],"key":"kUiYzgL5rk"}],"key":"qAO9T2KghZ"},{"type":"listItem","spread":true,"position":{"start":{"line":14,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Defaults: Rule 90, 50 cells, 100 steps, but can be overridden via command-line arguments.","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"Lnsf3uYoWc"}],"key":"KaBLP9gjYu"}],"key":"odoPSnxHqJ"}],"key":"kDfm2XDbtt"},{"type":"paragraph","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"The code uses modern Fortran features like modules, derived types, implicit none for safety, and intrinsic modules like ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"ptvn82RelV"},{"type":"inlineCode","value":"iso_fortran_env","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"GkRkI5aXZF"},{"type":"text","value":" for error handling. It assumes a fixed neighborhood size of 3 (left, self, right), leading to 8 possible neighborhood configurations (2^3 = 8 rules).","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"NNFtQGtoJp"}],"key":"PyzWxlo7Ij"},{"type":"paragraph","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"text","value":"Now, I’ll break it down section by section, explaining the code line by line where appropriate.","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"zucp52N16M"}],"key":"UlxqYK1UPw"},{"type":"heading","depth":3,"position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"text","value":"The Module: ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"o2bTfDo9c8"},{"type":"inlineCode","value":"cellular_automata_mod","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"C71PMvV5Pp"}],"identifier":"the-module-cellular-automata-mod","label":"The Module: cellular_automata_mod","html_id":"the-module-cellular-automata-mod","implicit":true,"key":"LwvsbSiW5y"},{"type":"paragraph","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"This module encapsulates all the logic for the automaton. It declares private entities by default and exposes public ones explicitly.","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"ue3exCUWn3"}],"key":"UZwgzQjpoa"},{"type":"code","lang":"fortran","value":"module cellular_automata_mod\n    use, intrinsic :: iso_fortran_env, only : error_unit\n    implicit none\n\n    private\n        integer, parameter, public :: nr_neighbouts = 3\n        type, public :: automaton_t\n            integer, dimension(0:2**nr_neighbouts - 1) :: rules\n            integer, dimension(:), allocatable :: cells\n        end type automaton_t\n\n        public :: init_automaton, step_automaton, print_automaton, &\n                  print_rules","position":{"start":{"line":24,"column":1},"end":{"line":38,"column":1}},"key":"gQBPil2DpB"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":39,"column":1},"end":{"line":47,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"use, intrinsic :: iso_fortran_env, only : error_unit","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"CIP8BMsI3k"},{"type":"text","value":": Imports the standard error unit for writing error messages.","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"ZrztsUc3nG"}],"key":"tsFZLbOn2N"}],"key":"MiMgcfU2gS"},{"type":"listItem","spread":true,"position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"implicit none","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"Gfy5gZbT4F"},{"type":"text","value":": Prevents implicit typing of variables, forcing explicit declarations for safety.","position":{"start":{"line":40,"column":1},"end":{"line":40,"column":1}},"key":"ZTaJV1AkBE"}],"key":"hcxXSxT84Z"}],"key":"m6S8MDzBtU"},{"type":"listItem","spread":true,"position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"private","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"AkLn0fr3fn"},{"type":"text","value":": Makes all module entities private by default, to control visibility.","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"sENyzwB1pZ"}],"key":"K84U7jxxUn"}],"key":"Yng9sPX9QI"},{"type":"listItem","spread":true,"position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"integer, parameter, public :: nr_neighbouts = 3","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"D9SmcgxedD"},{"type":"text","value":": Defines a constant for the number of neighbors (left, self, right). It’s public so the program can access it if needed. Note: There’s a typo here—“neighbouts” should be “neighbors,” but it doesn’t affect functionality.","position":{"start":{"line":42,"column":1},"end":{"line":42,"column":1}},"key":"dfWfFTVRIW"}],"key":"MWhu3XUmBG"}],"key":"ef0ZPPJJmq"},{"type":"listItem","spread":true,"position":{"start":{"line":43,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"type, public :: automaton_t","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"D2iAiwC0vm"},{"type":"text","value":": Defines a derived type (like a struct) for the automaton.","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"sdrEOSCFoV"}],"key":"VlWm7m2NEI"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":44,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"integer, dimension(0:2**nr_neighbouts - 1) :: rules","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"DXZdVYx3Cv"},{"type":"text","value":": An array of 8 integers (0 to 7), each 0 or 1, representing the output for each possible neighborhood configuration. The index is the binary value of the neighborhood (e.g., index 0 = 000, index 7 = 111).","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"oFTijaPFd0"}],"key":"DmZoeYCa94"}],"key":"Wkm4EEgdj4"},{"type":"listItem","spread":true,"position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"integer, dimension(:), allocatable :: cells","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"r5noVWeIZ8"},{"type":"text","value":": A dynamic array of integers (0 or 1) representing the grid of cells.","position":{"start":{"line":45,"column":1},"end":{"line":45,"column":1}},"key":"Bdcze7mAax"}],"key":"N1RRSP4iEC"}],"key":"oSiYRwIIex"}],"key":"nZGwYpeJLd"}],"key":"YUPUepTHMm"},{"type":"listItem","spread":true,"position":{"start":{"line":46,"column":1},"end":{"line":47,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"public :: init_automaton, step_automaton, print_automaton, print_rules","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"LzDAIug6PS"},{"type":"text","value":": Exposes these subroutines and functions for use outside the module.","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"wkwPJ1cWtI"}],"key":"Q3LdQdUGTh"}],"key":"oOzBYOcNR1"}],"key":"gXMpb89Rs5"},{"type":"paragraph","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"children":[{"type":"text","value":"The module then defines several contained procedures (functions and subroutines).","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"k36yI4GOer"}],"key":"FXqnjpxXIE"},{"type":"heading","depth":4,"position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"children":[{"type":"text","value":"Subroutine: ","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"Oz2FYf4W1T"},{"type":"inlineCode","value":"init_rule","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"MRKqBkyntM"}],"identifier":"subroutine-init-rule","label":"Subroutine: init_rule","html_id":"subroutine-init-rule","implicit":true,"key":"UDWgTa9NNx"},{"type":"code","lang":"fortran","value":"    subroutine init_rule(rules, rule_nr)\n        implicit none\n        integer, dimension(0:2**nr_neighbouts - 1), intent(out) :: rules\n        integer, value :: rule_nr\n        integer i\n\n        do i = lbound(rules, 1), ubound(rules, 1)\n            rules(i) = mod(rule_nr, 2)\n            rule_nr = rule_nr/2\n        end do\n    end subroutine init_rule","position":{"start":{"line":52,"column":1},"end":{"line":64,"column":1}},"key":"QqHEsDDJIZ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":65,"column":1},"end":{"line":72,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Purpose: Converts a Wolfram rule number (e.g., 90) into a binary array of rules.","position":{"start":{"line":65,"column":1},"end":{"line":65,"column":1}},"key":"DGd5wct6Ht"}],"key":"RR4eGCf0FZ"}],"key":"RukwDhkz3z"},{"type":"listItem","spread":true,"position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"intent(out) :: rules","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"st4yvuz04r"},{"type":"text","value":": The output array to fill.","position":{"start":{"line":66,"column":1},"end":{"line":66,"column":1}},"key":"rntE5BmhG1"}],"key":"xVNQJ9boDm"}],"key":"Nk6ohzwjUq"},{"type":"listItem","spread":true,"position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"integer, value :: rule_nr","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"key":"gm5VdOxHhw"},{"type":"text","value":": Passes the rule number by value (copy), so modifications don’t affect the caller.","position":{"start":{"line":67,"column":1},"end":{"line":67,"column":1}},"key":"V1adUZitwI"}],"key":"DC206SXdC3"}],"key":"rZpFvS6nuR"},{"type":"listItem","spread":true,"position":{"start":{"line":68,"column":1},"end":{"line":68,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Loop from 0 to 7 (lbound/ubound get array bounds dynamically).","position":{"start":{"line":68,"column":1},"end":{"line":68,"column":1}},"key":"iioP3coBOh"}],"key":"Qe8X3mEEMw"}],"key":"rPskkC72TA"},{"type":"listItem","spread":true,"position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"rules(i) = mod(rule_nr, 2)","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"key":"ALtnQ9MwmP"},{"type":"text","value":": Sets the ith rule to the least significant bit of ","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"key":"DLg2a39hvC"},{"type":"inlineCode","value":"rule_nr","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"key":"N5v9oPLTBx"},{"type":"text","value":".","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"key":"RxbfZM9AaC"}],"key":"kCxA9Bx8PF"}],"key":"Abd7itXXi7"},{"type":"listItem","spread":true,"position":{"start":{"line":70,"column":1},"end":{"line":70,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"rule_nr = rule_nr/2","position":{"start":{"line":70,"column":1},"end":{"line":70,"column":1}},"key":"XYWTbNScLB"},{"type":"text","value":": Right-shifts the number (integer division by 2) to process the next bit.","position":{"start":{"line":70,"column":1},"end":{"line":70,"column":1}},"key":"HQ9l1TTLeb"}],"key":"S6ZggVrU2D"}],"key":"ScQ0uzruzv"},{"type":"listItem","spread":true,"position":{"start":{"line":71,"column":1},"end":{"line":72,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Example: For rule 90 (binary 01011010), rules array becomes [0,1,0,1,1,0,1,0] for indices 0–7.","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"key":"bWHwUhEWnI"}],"key":"Uu8nilr3tO"}],"key":"TUUGHK3b1h"}],"key":"fOP0acGBAR"},{"type":"heading","depth":4,"position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"children":[{"type":"text","value":"Function: ","position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"key":"Xg9imA07fZ"},{"type":"inlineCode","value":"init_automaton","position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"key":"NqTbyKxwRf"}],"identifier":"function-init-automaton","label":"Function: init_automaton","html_id":"function-init-automaton","implicit":true,"key":"NIjWr65h9P"},{"type":"code","lang":"fortran","value":"    function init_automaton(nr_cells, rule_nr) result(automaton)\n        implicit none\n        integer, value :: nr_cells, rule_nr\n        type(automaton_t) :: automaton\n        integer :: i, istat\n        real :: r\n\n        allocate(automaton%cells(nr_cells), stat=istat)\n        if (istat /= 0) then\n            write (unit=error_unit, fmt='(A)') &\n                'error: can not allocate cells'\n            stop 1\n        end if\n        do i = 1, nr_cells\n            call random_number(r)\n            if (r > 0.5) then\n                automaton%cells(i) = 1\n            else\n                automaton%cells(i) = 0\n            end if\n        end do    \n        call init_rule(automaton%rules, rule_nr)\n    end function init_automaton","position":{"start":{"line":75,"column":1},"end":{"line":99,"column":1}},"key":"Evc2dYB9yi"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":100,"column":1},"end":{"line":106,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":100,"column":1},"end":{"line":100,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Purpose: Creates and initializes an ","position":{"start":{"line":100,"column":1},"end":{"line":100,"column":1}},"key":"PycNuOg76l"},{"type":"inlineCode","value":"automaton_t","position":{"start":{"line":100,"column":1},"end":{"line":100,"column":1}},"key":"dD9uUzl5s9"},{"type":"text","value":" instance.","position":{"start":{"line":100,"column":1},"end":{"line":100,"column":1}},"key":"SOqOva2TrH"}],"key":"HSesU5QF8L"}],"key":"vzXeXpVye1"},{"type":"listItem","spread":true,"position":{"start":{"line":101,"column":1},"end":{"line":101,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Returns the initialized automaton.","position":{"start":{"line":101,"column":1},"end":{"line":101,"column":1}},"key":"ryj9FzEUz1"}],"key":"JFKAHe1ZXf"}],"key":"nipN4CmWVS"},{"type":"listItem","spread":true,"position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Allocates the ","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"key":"GqjFTio8ao"},{"type":"inlineCode","value":"cells","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"key":"mJ2cJPTdTi"},{"type":"text","value":" array with size ","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"key":"hm8II4XXwd"},{"type":"inlineCode","value":"nr_cells","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"key":"LAT7PdUyk7"},{"type":"text","value":", checks for allocation failure, and exits if it fails.","position":{"start":{"line":102,"column":1},"end":{"line":102,"column":1}},"key":"lU42612kMD"}],"key":"y9Zr4mrpnp"}],"key":"b4f2JDMcQC"},{"type":"listItem","spread":true,"position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Initializes cells randomly: ","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"N0v0WdOunl"},{"type":"inlineCode","value":"random_number(r)","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"oxK1hxNAhK"},{"type":"text","value":" generates a uniform [0,1) real; >0.5 sets to 1 (roughly 50% chance).","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"opM6s1X8OR"}],"key":"bSrJuyL5OQ"}],"key":"vUrBZlSSAO"},{"type":"listItem","spread":true,"position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Calls ","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"CcjnxwQy9i"},{"type":"inlineCode","value":"init_rule","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"hTwJzFzwXF"},{"type":"text","value":" to set the rules array.","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"JjMODKb4Dr"}],"key":"UiiK812Y6n"}],"key":"NE9Wlf4oyN"},{"type":"listItem","spread":true,"position":{"start":{"line":105,"column":1},"end":{"line":106,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Note: Array indices start at 1 (Fortran default), unlike rules (0-based).","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"lbGUOKmfV8"}],"key":"fe7z9ADO4m"}],"key":"tfYGczMs9g"}],"key":"PkbMDpFUKf"},{"type":"heading","depth":4,"position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"Function: ","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"CB4U3UeonL"},{"type":"inlineCode","value":"apply_rule","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"cgxiDf8UwU"}],"identifier":"function-apply-rule","label":"Function: apply_rule","html_id":"function-apply-rule","implicit":true,"key":"tc2epwcIi6"},{"type":"code","lang":"fortran","value":"    function apply_rule(automaton, left, mid, right) result(new_mid)\n        implicit none\n        type(automaton_t), intent(in) :: automaton\n        integer, intent(in) :: left, mid, right\n        integer :: new_mid\n\n        new_mid = automaton%rules(4*left + 2*mid + right)\n    end function apply_rule","position":{"start":{"line":109,"column":1},"end":{"line":118,"column":1}},"key":"btZB7DLXj7"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":119,"column":1},"end":{"line":122,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Purpose: Computes the next state for a cell based on its neighborhood.","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"bwDvmLfB55"}],"key":"rLicdkbeIf"}],"key":"wj9QcEJqOk"},{"type":"listItem","spread":true,"position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The index is calculated as binary: left (MSB, weight 4), mid (weight 2), right (weight 1). E.g., 1,0,1 -> 4","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"key":"JNfjSKsM3S"},{"type":"emphasis","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"children":[{"type":"text","value":"1 + 2","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"key":"Zv5uj2PHrk"}],"key":"BBeA9r7WGI"},{"type":"text","value":"0 + 1*1 = 5.","position":{"start":{"line":120,"column":1},"end":{"line":120,"column":1}},"key":"VBtJ4cCBv3"}],"key":"GFLfJhwSRY"}],"key":"DSIwLq5fAa"},{"type":"listItem","spread":true,"position":{"start":{"line":121,"column":1},"end":{"line":122,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Looks up the precomputed rule for that index.","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"SmMGYmRwDv"}],"key":"LaHeU1BXY6"}],"key":"q5WSR5qeRh"}],"key":"BBKyqPwegT"},{"type":"heading","depth":4,"position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"children":[{"type":"text","value":"Subroutine: ","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"DMxlD1wECx"},{"type":"inlineCode","value":"step_automaton","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"WPaJk2OCss"}],"identifier":"subroutine-step-automaton","label":"Subroutine: step_automaton","html_id":"subroutine-step-automaton","implicit":true,"key":"Ka9ZGFY2e3"},{"type":"code","lang":"fortran","value":"    subroutine step_automaton(automaton)\n        implicit none\n        type(automaton_t), intent(inout) :: automaton\n        integer :: i, left, last_right, next_left\n\n        left = automaton%cells(size(automaton%cells))\n        last_right = automaton%cells(1)\n        do i = 1, size(automaton%cells) - 1\n            next_left = automaton%cells(i)\n            automaton%cells(i) = apply_rule(automaton, &\n                                            left, automaton%cells(i), &\n                                            automaton%cells(i + 1))\n            left = next_left\n        end do\n        automaton%cells(i) = apply_rule(automaton, &\n                                        left, automaton%cells(i), &\n                                        last_right)\n    end subroutine step_automaton","position":{"start":{"line":125,"column":1},"end":{"line":144,"column":1}},"key":"NWz5g8ZOOI"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":145,"column":1},"end":{"line":152,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Purpose: Advances the automaton by one step, updating all cells based on current states.","position":{"start":{"line":145,"column":1},"end":{"line":145,"column":1}},"key":"KYz9MASt3u"}],"key":"TTECDDUlai"}],"key":"hLwJhBSjdV"},{"type":"listItem","spread":true,"position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Handles circular boundary: ","position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"key":"jMBto5L4vG"},{"type":"inlineCode","value":"left","position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"key":"LZj9V0Z467"},{"type":"text","value":" starts as the last cell (right neighbor of first), ","position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"key":"RUKaJfq3FR"},{"type":"inlineCode","value":"last_right","position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"key":"qXdN4ByA1x"},{"type":"text","value":" is the first cell (left neighbor of last).","position":{"start":{"line":146,"column":1},"end":{"line":146,"column":1}},"key":"Hjjamuw5xF"}],"key":"uDdACBPhmY"}],"key":"saM1BGvYi6"},{"type":"listItem","spread":true,"position":{"start":{"line":147,"column":1},"end":{"line":150,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Loop over cells 1 to n-1:","position":{"start":{"line":147,"column":1},"end":{"line":147,"column":1}},"key":"yGxCwrFEX6"}],"key":"vElkUj24UY"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":148,"column":1},"end":{"line":150,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Saves current cell as ","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"Hwe4inEfzK"},{"type":"inlineCode","value":"next_left","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"DRbYLuwyJO"},{"type":"text","value":" for the next iteration.","position":{"start":{"line":148,"column":1},"end":{"line":148,"column":1}},"key":"yZPeqlSnyk"}],"key":"Sb10H9QZbm"}],"key":"TkXx9L7YTk"},{"type":"listItem","spread":true,"position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Updates cell i using ","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"Bgiec8TdCK"},{"type":"inlineCode","value":"apply_rule","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"h7onfnKLwX"},{"type":"text","value":" with previous left, current mid (but uses old mid for calculation—wait, bug?).","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"yZXyugUyb2"}],"key":"e9cVOe8hnA"}],"key":"LWQlBwknxe"},{"type":"listItem","spread":true,"position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"children":[{"type":"text","value":"Important note","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"CWxJPfmhYf"}],"key":"cy4VjHLRQl"},{"type":"text","value":": This updates cells in-place while iterating left-to-right. But since it uses the ","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"x9POsaBWeA"},{"type":"emphasis","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"children":[{"type":"text","value":"old","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"osawWRRW0W"}],"key":"kVooR1rMVa"},{"type":"text","value":" value of ","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"xydoNmA1l7"},{"type":"inlineCode","value":"automaton%cells(i)","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"w4NT3BEvXT"},{"type":"text","value":" in ","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"oyyL7DbhCb"},{"type":"inlineCode","value":"apply_rule","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"X9HOAVWLQm"},{"type":"text","value":", and ","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"COXF9I4z8k"},{"type":"inlineCode","value":"left","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"uyIOcHyjoQ"},{"type":"text","value":" is the previous cell’s old value, it effectively uses old states. However, for cell i+1, its left will be the ","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"wWWiYFNFBf"},{"type":"emphasis","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"children":[{"type":"text","value":"new","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"daGd9C5dFF"}],"key":"zr9Kx8ftRC"},{"type":"text","value":" value of cell i in the next iteration. This might introduce artifacts unless intended, but in standard ECA, updates should be simultaneous (use a temp array). This code uses in-place update with left-to-right sweep, which for circular grids can work but may not be standard simultaneous update. Potential bug or design choice?","position":{"start":{"line":150,"column":1},"end":{"line":150,"column":1}},"key":"RAAh207Fej"}],"key":"vvd2CZDF9n"}],"key":"g5uOcawngi"}],"key":"g2GLsIaiQZ"}],"key":"Mn7NHW7fLc"},{"type":"listItem","spread":true,"position":{"start":{"line":151,"column":1},"end":{"line":152,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"After loop, updates the last cell (i = n) using the updated left (from cell n-1) and ","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"hH6R65lI4l"},{"type":"inlineCode","value":"last_right","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"trKlA3KtUQ"},{"type":"text","value":" (old cell 1).","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"xp7lFWDWgh"}],"key":"OFZuxgIop0"}],"key":"AcoypoN7iB"}],"key":"wztrwejAyn"},{"type":"heading","depth":4,"position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"children":[{"type":"text","value":"Subroutine: ","position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"key":"F0EhNOPM82"},{"type":"inlineCode","value":"print_automaton","position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"key":"GkBAux6ZBp"}],"identifier":"subroutine-print-automaton","label":"Subroutine: print_automaton","html_id":"subroutine-print-automaton","implicit":true,"key":"OtxP8iqyEL"},{"type":"code","lang":"fortran","value":"    subroutine print_automaton(automaton)\n        use, intrinsic :: iso_fortran_env, only : output_unit\n        implicit none\n        type(automaton_t), intent(in) :: automaton\n        integer :: i\n        character :: c\n        \n        do i = 1, size(automaton%cells)\n            if (automaton%cells(i) == 1) then\n                c = 'X'\n            else\n                c = ' '\n            end if\n            write (unit=output_unit, fmt='(A)', advance='no') c\n        end do\n        print '(A)', ''\n    end subroutine print_automaton","position":{"start":{"line":155,"column":1},"end":{"line":173,"column":1}},"key":"wrXwosqRko"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":174,"column":1},"end":{"line":177,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Purpose: Prints the current state of cells as a line.","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"key":"pPx0saxrEO"}],"key":"MP8yLmNCK4"}],"key":"Cw40xfr67V"},{"type":"listItem","spread":true,"position":{"start":{"line":175,"column":1},"end":{"line":175,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Loops over cells, prints ‘X’ for 1, ’ ’ for 0, without advancing line until end.","position":{"start":{"line":175,"column":1},"end":{"line":175,"column":1}},"key":"X7TMsZyV8A"}],"key":"By9VJlC2OD"}],"key":"GjEn1CAJ1o"},{"type":"listItem","spread":true,"position":{"start":{"line":176,"column":1},"end":{"line":177,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Final ","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"BTZd368FEm"},{"type":"inlineCode","value":"print","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"BBxAYd2TGX"},{"type":"text","value":" adds a newline.","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"QO00CON9fH"}],"key":"I0pw5MaRLW"}],"key":"JcytJUJtXW"}],"key":"R1TghSgnRv"},{"type":"heading","depth":4,"position":{"start":{"line":178,"column":1},"end":{"line":178,"column":1}},"children":[{"type":"text","value":"Function: ","position":{"start":{"line":178,"column":1},"end":{"line":178,"column":1}},"key":"Lo3s5vimyF"},{"type":"inlineCode","value":"convert_to_neighbourhood","position":{"start":{"line":178,"column":1},"end":{"line":178,"column":1}},"key":"hGTypLa6gg"}],"identifier":"function-convert-to-neighbourhood","label":"Function: convert_to_neighbourhood","html_id":"function-convert-to-neighbourhood","implicit":true,"key":"qjwpO0EKxU"},{"type":"code","lang":"fortran","value":"    function convert_to_neighbourhood(idx) result(neighbours)\n        implicit none\n        integer, value :: idx\n        character(len=3) :: neighbours\n        integer :: i\n\n        do i = nr_neighbouts, 1, -1\n            if (mod(idx, 2) == 0) then\n                neighbours(i:i) = '0'\n            else\n                neighbours(i:i) = '1'\n            end if\n            idx = idx/2\n        end do\n    end function convert_to_neighbourhood","position":{"start":{"line":180,"column":1},"end":{"line":196,"column":1}},"key":"hklucZPY5f"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":197,"column":1},"end":{"line":199,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Purpose: Converts an integer index (0–7) to a 3-character binary string (e.g., 5 -> ‘101’).","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"oNr1SNC055"}],"key":"zoHwj9yhJ7"}],"key":"EcsjF30rov"},{"type":"listItem","spread":true,"position":{"start":{"line":198,"column":1},"end":{"line":199,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Builds the string from MSB (left) to LSB (right), looping backward.","position":{"start":{"line":198,"column":1},"end":{"line":198,"column":1}},"key":"Ctn9iVvkzk"}],"key":"BdgIKyKux6"}],"key":"MMq9x3hRe0"}],"key":"C7PmnR8vXb"},{"type":"heading","depth":4,"position":{"start":{"line":200,"column":1},"end":{"line":200,"column":1}},"children":[{"type":"text","value":"Subroutine: ","position":{"start":{"line":200,"column":1},"end":{"line":200,"column":1}},"key":"VzZcl2Ufbb"},{"type":"inlineCode","value":"print_rules","position":{"start":{"line":200,"column":1},"end":{"line":200,"column":1}},"key":"AGduzeWFhv"}],"identifier":"subroutine-print-rules","label":"Subroutine: print_rules","html_id":"subroutine-print-rules","implicit":true,"key":"d3Tocpgg21"},{"type":"code","lang":"fortran","value":"    subroutine print_rules(automaton)\n        implicit none\n        type(automaton_t), intent(in) :: automaton\n        integer :: i\n\n        do i = lbound(automaton%rules, 1), ubound(automaton%rules, 1)\n            print '(A3, x, I1)', convert_to_neighbourhood(i), &\n               automaton%rules(i)\n        end do\n    end subroutine print_rules","position":{"start":{"line":202,"column":1},"end":{"line":213,"column":1}},"key":"Vf1I0RJL2C"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":214,"column":1},"end":{"line":216,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":214,"column":1},"end":{"line":214,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Purpose: Prints each rule as “Neighborhood Output”, e.g., “101 1”.","position":{"start":{"line":214,"column":1},"end":{"line":214,"column":1}},"key":"BqMSCePiZf"}],"key":"CxU7Zt4s2m"}],"key":"JMz55sG3MJ"},{"type":"listItem","spread":true,"position":{"start":{"line":215,"column":1},"end":{"line":216,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Loops over rules array, uses ","position":{"start":{"line":215,"column":1},"end":{"line":215,"column":1}},"key":"rOudJjCYzu"},{"type":"inlineCode","value":"convert_to_neighbourhood","position":{"start":{"line":215,"column":1},"end":{"line":215,"column":1}},"key":"e1gTkctUyJ"},{"type":"text","value":" for the binary rep.","position":{"start":{"line":215,"column":1},"end":{"line":215,"column":1}},"key":"oa3BDIDOYx"}],"key":"bZK2NwQuEf"}],"key":"unaC8Hk8j4"}],"key":"OYi6ra7MfT"},{"type":"heading","depth":3,"position":{"start":{"line":217,"column":1},"end":{"line":217,"column":1}},"children":[{"type":"text","value":"The Program: ","position":{"start":{"line":217,"column":1},"end":{"line":217,"column":1}},"key":"Oa0bDqmwd6"},{"type":"inlineCode","value":"cellular_automata","position":{"start":{"line":217,"column":1},"end":{"line":217,"column":1}},"key":"XuCGt63tZC"}],"identifier":"the-program-cellular-automata","label":"The Program: cellular_automata","html_id":"the-program-cellular-automata","implicit":true,"key":"NgQV7lN7Kn"},{"type":"paragraph","position":{"start":{"line":219,"column":1},"end":{"line":219,"column":1}},"children":[{"type":"text","value":"This is the main executable.","position":{"start":{"line":219,"column":1},"end":{"line":219,"column":1}},"key":"xTFVjeKUAe"}],"key":"GiEDhT1ZhL"},{"type":"code","lang":"fortran","value":"program cellular_automata\n    use :: cellular_automata_mod\n    implicit none\n    integer :: nr_cells, rule_nr, max_steps\n    type(automaton_t) :: automaton\n    integer :: step\n\n    call get_parameters(rule_nr, nr_cells, max_steps)\n    automaton = init_automaton(nr_cells, rule_nr)\n    call print_rules(automaton)\n    call print_automaton(automaton)\n    do step = 1, max_steps\n        call step_automaton(automaton)\n        call print_automaton(automaton)\n    end do","position":{"start":{"line":221,"column":1},"end":{"line":237,"column":1}},"key":"aPETZ2b4te"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":238,"column":1},"end":{"line":244,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":238,"column":1},"end":{"line":238,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"use :: cellular_automata_mod","position":{"start":{"line":238,"column":1},"end":{"line":238,"column":1}},"key":"dJ0Uyfv5Yx"},{"type":"text","value":": Imports the module.","position":{"start":{"line":238,"column":1},"end":{"line":238,"column":1}},"key":"Y15XCCHixD"}],"key":"U9YNhnmHJt"}],"key":"xOadrWRJoU"},{"type":"listItem","spread":true,"position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Declares variables: parameters, automaton instance, loop counter.","position":{"start":{"line":239,"column":1},"end":{"line":239,"column":1}},"key":"SreaXjktEF"}],"key":"Aj5IZdYvOn"}],"key":"h17yrBmQJ0"},{"type":"listItem","spread":true,"position":{"start":{"line":240,"column":1},"end":{"line":240,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Calls ","position":{"start":{"line":240,"column":1},"end":{"line":240,"column":1}},"key":"llpjLp38S3"},{"type":"inlineCode","value":"get_parameters","position":{"start":{"line":240,"column":1},"end":{"line":240,"column":1}},"key":"dubqOkH6kF"},{"type":"text","value":" to set defaults or read from args.","position":{"start":{"line":240,"column":1},"end":{"line":240,"column":1}},"key":"kjGgxWqonF"}],"key":"L3SirDXGj0"}],"key":"H3OCFetcQn"},{"type":"listItem","spread":true,"position":{"start":{"line":241,"column":1},"end":{"line":241,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Initializes automaton.","position":{"start":{"line":241,"column":1},"end":{"line":241,"column":1}},"key":"WMIPiXqKGr"}],"key":"PikZFGeNhd"}],"key":"buTb9gXGtz"},{"type":"listItem","spread":true,"position":{"start":{"line":242,"column":1},"end":{"line":242,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Prints rules and initial state.","position":{"start":{"line":242,"column":1},"end":{"line":242,"column":1}},"key":"FS9fNoFEOt"}],"key":"st6MxD8HZP"}],"key":"xN8AEgsfj8"},{"type":"listItem","spread":true,"position":{"start":{"line":243,"column":1},"end":{"line":244,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Loops for ","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"key":"OXnwNh9538"},{"type":"inlineCode","value":"max_steps","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"key":"MUccJSSmDu"},{"type":"text","value":": steps the automaton and prints each new state.","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"key":"pkYH3sRlxw"}],"key":"x91wzM96Uo"}],"key":"CwxJSBGJOy"}],"key":"cenrLzOols"},{"type":"heading","depth":4,"position":{"start":{"line":245,"column":1},"end":{"line":245,"column":1}},"children":[{"type":"text","value":"Contained Subroutine: ","position":{"start":{"line":245,"column":1},"end":{"line":245,"column":1}},"key":"CiRDVAZXzR"},{"type":"inlineCode","value":"get_parameters","position":{"start":{"line":245,"column":1},"end":{"line":245,"column":1}},"key":"xIn3L6ltRT"}],"identifier":"contained-subroutine-get-parameters","label":"Contained Subroutine: get_parameters","html_id":"contained-subroutine-get-parameters","implicit":true,"key":"WK1soGiBFv"},{"type":"code","lang":"fortran","value":"    subroutine get_parameters(rule_nr, nr_cells, max_steps)\n        use, intrinsic :: iso_fortran_env, only : error_unit\n        implicit none\n        integer, intent(out) :: rule_nr, nr_cells, max_steps\n        integer :: istat\n        character(len=1024) :: buffer, msg\n\n        rule_nr = 90\n        nr_cells = 50\n        max_steps = 100\n\n        if (command_argument_count() > 0) then\n            call get_command_argument(1, buffer)\n            read (buffer, fmt=*, iostat=istat, iomsg=msg) rule_nr\n            if (istat /= 0) then\n                print '(2A)', 'error: ', msg\n                stop 1\n            end if\n        end if\n        if (command_argument_count() > 1) then\n            call get_command_argument(2, buffer)\n            read (buffer, fmt=*, iostat=istat, iomsg=msg) nr_cells\n            if (istat /= 0) then\n                print '(2A)', 'error: ', msg\n                stop 1\n            end if\n        end if\n        if (command_argument_count() > 2) then\n            call get_command_argument(3, buffer)\n            read (buffer, fmt=*, iostat=istat, iomsg=msg) max_steps\n            if (istat /= 0) then\n                print '(2A)', 'error: ', msg\n                stop 1\n            end if\n        end if\n    end subroutine get_parameters","position":{"start":{"line":247,"column":1},"end":{"line":284,"column":1}},"key":"QL7lg310CJ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":285,"column":1},"end":{"line":289,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":285,"column":1},"end":{"line":285,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Purpose: Sets default parameters or overrides with command-line args (arg1: rule_nr, arg2: nr_cells, arg3: max_steps).","position":{"start":{"line":285,"column":1},"end":{"line":285,"column":1}},"key":"VKMZj5OGTd"}],"key":"vuUhkbS7EP"}],"key":"IiB3kuneKE"},{"type":"listItem","spread":true,"position":{"start":{"line":286,"column":1},"end":{"line":286,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Uses ","position":{"start":{"line":286,"column":1},"end":{"line":286,"column":1}},"key":"i3GmKieSP3"},{"type":"inlineCode","value":"command_argument_count()","position":{"start":{"line":286,"column":1},"end":{"line":286,"column":1}},"key":"v8HHNwLFEo"},{"type":"text","value":" to check arg count.","position":{"start":{"line":286,"column":1},"end":{"line":286,"column":1}},"key":"gFUUeZbV97"}],"key":"l0EguO5vko"}],"key":"q7niaft3zw"},{"type":"listItem","spread":true,"position":{"start":{"line":287,"column":1},"end":{"line":287,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"get_command_argument(n, buffer)","position":{"start":{"line":287,"column":1},"end":{"line":287,"column":1}},"key":"EhqfykbCHj"},{"type":"text","value":": Gets the nth arg as string.","position":{"start":{"line":287,"column":1},"end":{"line":287,"column":1}},"key":"TZlHbGicV8"}],"key":"keec8V7d8d"}],"key":"mepul6d1Bm"},{"type":"listItem","spread":true,"position":{"start":{"line":288,"column":1},"end":{"line":289,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"read (buffer, fmt=*, ...)","position":{"start":{"line":288,"column":1},"end":{"line":288,"column":1}},"key":"uRahuN8RMR"},{"type":"text","value":": Parses string to integer, with error checking (istat !=0 prints msg and stops).","position":{"start":{"line":288,"column":1},"end":{"line":288,"column":1}},"key":"UoabjoXL4E"}],"key":"pwNYX0Ixv1"}],"key":"Tg0RyLxyXn"}],"key":"X440CWD9uS"},{"type":"heading","depth":3,"position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"children":[{"type":"text","value":"Potential Issues and Notes","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"l5wNG6c7Rq"}],"identifier":"potential-issues-and-notes","label":"Potential Issues and Notes","html_id":"potential-issues-and-notes","implicit":true,"key":"Gnufw9Mi3a"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":291,"column":1},"end":{"line":297,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":291,"column":1},"end":{"line":291,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":291,"column":1},"end":{"line":291,"column":1}},"children":[{"type":"text","value":"In-place Update in ","position":{"start":{"line":291,"column":1},"end":{"line":291,"column":1}},"key":"j825kCvo3R"},{"type":"inlineCode","value":"step_automaton","position":{"start":{"line":291,"column":1},"end":{"line":291,"column":1}},"key":"zSTvWMKtkE"}],"key":"LuJlJdVSfM"},{"type":"text","value":": As noted, updates are not simultaneous; left cells influence right ones within the same step due to in-place modification. Standard ECA uses a temporary array for new states to ensure all updates use old states. This might lead to different behavior than expected for some rules.","position":{"start":{"line":291,"column":1},"end":{"line":291,"column":1}},"key":"bTgmEp86fc"}],"key":"hrdOuBkSoB"}],"key":"WzglbKdt0x"},{"type":"listItem","spread":true,"position":{"start":{"line":292,"column":1},"end":{"line":292,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":292,"column":1},"end":{"line":292,"column":1}},"children":[{"type":"text","value":"Random Initialization","position":{"start":{"line":292,"column":1},"end":{"line":292,"column":1}},"key":"gy6HISbJEC"}],"key":"W8ay8UkKIH"},{"type":"text","value":": Relies on ","position":{"start":{"line":292,"column":1},"end":{"line":292,"column":1}},"key":"oIo6lcTVon"},{"type":"inlineCode","value":"random_number","position":{"start":{"line":292,"column":1},"end":{"line":292,"column":1}},"key":"OczVSbUHww"},{"type":"text","value":", which may need seeding (","position":{"start":{"line":292,"column":1},"end":{"line":292,"column":1}},"key":"DSNV9htuKc"},{"type":"inlineCode","value":"random_seed","position":{"start":{"line":292,"column":1},"end":{"line":292,"column":1}},"key":"NvgN0Thh7S"},{"type":"text","value":") for reproducibility, but it’s not seeded here—so results vary per run.","position":{"start":{"line":292,"column":1},"end":{"line":292,"column":1}},"key":"QL3ywYtFwA"}],"key":"qRrjx16EeK"}],"key":"L4aPcXrBcy"},{"type":"listItem","spread":true,"position":{"start":{"line":293,"column":1},"end":{"line":293,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":293,"column":1},"end":{"line":293,"column":1}},"children":[{"type":"text","value":"Circular Grid","position":{"start":{"line":293,"column":1},"end":{"line":293,"column":1}},"key":"hBI2yRb9QU"}],"key":"IxzVUAOA2p"},{"type":"text","value":": Explicitly handled, good for periodic boundaries.","position":{"start":{"line":293,"column":1},"end":{"line":293,"column":1}},"key":"QrVaDfLM9c"}],"key":"BZnPT0lmbs"}],"key":"pQIQHjkdP6"},{"type":"listItem","spread":true,"position":{"start":{"line":294,"column":1},"end":{"line":294,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":294,"column":1},"end":{"line":294,"column":1}},"children":[{"type":"text","value":"Error Handling","position":{"start":{"line":294,"column":1},"end":{"line":294,"column":1}},"key":"oVGeYeErrR"}],"key":"Qw7mY5XZJk"},{"type":"text","value":": Basic but present for allocation and input parsing.","position":{"start":{"line":294,"column":1},"end":{"line":294,"column":1}},"key":"PtCRr5gBlC"}],"key":"BsPQQiItUG"}],"key":"cv1UhyIrQW"},{"type":"listItem","spread":true,"position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"children":[{"type":"text","value":"Compilation/Run","position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"key":"qNW4iysz7v"}],"key":"KjDxkyouig"},{"type":"text","value":": Compile with ","position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"key":"yGc5QalFVS"},{"type":"inlineCode","value":"gfortran cellular_automata_mod.f90 cellular_automata.f90 -o sim","position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"key":"BJoMGIDT4P"},{"type":"text","value":" (assuming separate files). Run with ","position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"key":"kIm1x71pHj"},{"type":"inlineCode","value":"./sim 30 100 50","position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"key":"r0TCaaICGq"},{"type":"text","value":" for rule 30, 100 cells, 50 steps.","position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"key":"hzFgwpi789"}],"key":"WmKsHEXMKY"}],"key":"kfQSvL1prg"},{"type":"listItem","spread":true,"position":{"start":{"line":296,"column":1},"end":{"line":297,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":296,"column":1},"end":{"line":296,"column":1}},"children":[{"type":"text","value":"Visualization","position":{"start":{"line":296,"column":1},"end":{"line":296,"column":1}},"key":"uRjV73pakm"}],"key":"vncFQuHzuA"},{"type":"text","value":": Output is text-based; for rule 90, it often produces Sierpinski-like patterns.","position":{"start":{"line":296,"column":1},"end":{"line":296,"column":1}},"key":"urLpTlB4Sk"}],"key":"UTak3imHmV"}],"key":"RLqSmtFryw"}],"key":"wjx9NSISiO"},{"type":"paragraph","position":{"start":{"line":298,"column":1},"end":{"line":298,"column":1}},"children":[{"type":"text","value":"This code provides a solid, if basic, ECA simulator. For extensions, one could add temp arrays for simultaneous updates or more initialization options.","position":{"start":{"line":298,"column":1},"end":{"line":298,"column":1}},"key":"xBwSpVB8By"}],"key":"e63pnWJxcJ"}],"key":"QChVQ8q0cQ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Code Analysis by ChatGPT 4o","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Zj0YUVnMGb"}],"identifier":"code-analysis-by-chatgpt-4o","label":"Code Analysis by ChatGPT 4o","html_id":"code-analysis-by-chatgpt-4o","implicit":true,"key":"H3Y5vD5YkQ"}],"key":"FgQfs9KDPT"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"File: ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Foo3uh08VY"},{"type":"inlineCode","value":"cellular_automata.f90","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ScctGeHxEw"}],"identifier":"file-cellular-automata-f90","label":"File: cellular_automata.f90","html_id":"file-cellular-automata-f90","implicit":true,"key":"aeA2LUzDjN"},{"type":"heading","depth":3,"position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"children":[{"type":"text","value":"1. Program Declaration and Module Use","position":{"start":{"line":3,"column":1},"end":{"line":3,"column":1}},"key":"c2dAKaQ3Cg"}],"identifier":"id-1-program-declaration-and-module-use","label":"1. Program Declaration and Module Use","html_id":"id-1-program-declaration-and-module-use","implicit":true,"key":"yoy1glb7b5"},{"type":"code","lang":"fortran","value":"program cellular_automata\n    use cellular_automata_mod\n    implicit none","position":{"start":{"line":5,"column":1},"end":{"line":9,"column":1}},"key":"ocGCxN74iX"},{"type":"heading","depth":4,"position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"children":[{"type":"text","value":"Explanation:","position":{"start":{"line":11,"column":1},"end":{"line":11,"column":1}},"key":"iTmxvWpYfL"}],"identifier":"explanation","label":"Explanation:","html_id":"explanation","implicit":true,"key":"QwAeRNpuoM"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":13,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":13,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"strong","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"children":[{"type":"inlineCode","value":"program cellular_automata","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"jLFU4SZUXi"}],"key":"EGmPYokCH3"},{"type":"text","value":":","position":{"start":{"line":13,"column":1},"end":{"line":13,"column":1}},"key":"BDhGZDpWHl"}],"key":"cNdvAbnp3i"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":15,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Declares the beginning of a named program unit called ","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"VBABKtOc5M"},{"type":"inlineCode","value":"cellular_automata","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"RhegOcOkQE"},{"type":"text","value":".","position":{"start":{"line":15,"column":1},"end":{"line":15,"column":1}},"key":"nElSPpFI0g"}],"key":"hUeFQ7Ium1"}],"key":"PtcHTOezxp"},{"type":"listItem","spread":true,"position":{"start":{"line":16,"column":1},"end":{"line":17,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Fortran programs must start with a ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"cCpxSxdl03"},{"type":"inlineCode","value":"program","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"UNTUCqJ5xV"},{"type":"text","value":" declaration and end with ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"MYhkwdScjC"},{"type":"inlineCode","value":"end program","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"f68Df13rTd"},{"type":"text","value":".","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"SBTeTVpc5V"}],"key":"lCIf1aDSHm"}],"key":"djE5JIuDMv"}],"key":"Mkx5WrzvUA"}],"key":"ZOIj4q2Isl"},{"type":"listItem","spread":true,"position":{"start":{"line":18,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"strong","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"children":[{"type":"inlineCode","value":"use cellular_automata_mod","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"RMKGNPd8f2"}],"key":"Mw3vblvzJ9"},{"type":"text","value":":","position":{"start":{"line":18,"column":1},"end":{"line":18,"column":1}},"key":"nt86fUfeXU"}],"key":"dZCdFTmvj6"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":20,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Imports definitions from a module named ","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"TpRwVwiy4C"},{"type":"inlineCode","value":"cellular_automata_mod","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"yx4Hm4XA3u"},{"type":"text","value":".","position":{"start":{"line":20,"column":1},"end":{"line":20,"column":1}},"key":"X7zRvbhHMv"}],"key":"tXI8DqSF8q"}],"key":"meuykBi7Ff"},{"type":"listItem","spread":true,"position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"This allows access to procedures such as ","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"AsM3efD0EJ"},{"type":"inlineCode","value":"random_initialize","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"AtCcl5KDyt"},{"type":"text","value":", ","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"qwI5NXUkXq"},{"type":"inlineCode","value":"display_generation","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"eQtmjKtY1W"},{"type":"text","value":", and ","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"RHoa2QyIYA"},{"type":"inlineCode","value":"update_generation","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"Iqybl8GHpy"},{"type":"text","value":".","position":{"start":{"line":21,"column":1},"end":{"line":21,"column":1}},"key":"AoT9Xfu9yD"}],"key":"u7RmfT0pXq"}],"key":"IelA3dp8D1"},{"type":"listItem","spread":true,"position":{"start":{"line":22,"column":1},"end":{"line":23,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Promotes modularity and reuse of code (especially subroutines).","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"KS0E58MnyC"}],"key":"FEIPxNffDu"}],"key":"qHjJ6V3jy7"}],"key":"bxVMGffVP5"}],"key":"KBjkskRLjE"},{"type":"listItem","spread":true,"position":{"start":{"line":24,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"strong","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"inlineCode","value":"implicit none","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"F5pg8XuVqY"}],"key":"QgLknyvMdG"},{"type":"text","value":":","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"amCYbtz0Rh"}],"key":"Wm1EvofXvo"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":26,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Disables implicit typing. Variables must be declared explicitly.","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"QYZLdRjax3"}],"key":"pMG9YcFzI2"}],"key":"rnRm0szJFt"},{"type":"listItem","spread":true,"position":{"start":{"line":27,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"This helps catch typographical errors and improves code clarity.","position":{"start":{"line":27,"column":1},"end":{"line":27,"column":1}},"key":"IWwOVhciX8"}],"key":"CqQmutdcxq"}],"key":"dQV5h7SimO"}],"key":"vIXMmEFwi3"}],"key":"GpUxgewIW4"}],"key":"nLZeAgtQCt"},{"type":"thematicBreak","position":{"start":{"line":29,"column":1},"end":{"line":29,"column":1}},"key":"YfyzOeVR56"},{"type":"heading","depth":3,"position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"children":[{"type":"text","value":"2. Constant and Variable Declarations","position":{"start":{"line":31,"column":1},"end":{"line":31,"column":1}},"key":"X3TSjwM0qy"}],"identifier":"id-2-constant-and-variable-declarations","label":"2. Constant and Variable Declarations","html_id":"id-2-constant-and-variable-declarations","implicit":true,"key":"ipq6dsuq8D"},{"type":"code","lang":"fortran","value":"    integer, parameter :: n = 20, steps = 20\n    integer :: i\n    integer, dimension(n) :: current_gen, next_gen","position":{"start":{"line":33,"column":1},"end":{"line":37,"column":1}},"key":"Lj0Wx988wd"},{"type":"heading","depth":4,"position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"children":[{"type":"text","value":"Explanation:","position":{"start":{"line":39,"column":1},"end":{"line":39,"column":1}},"key":"hOA3kwLB7M"}],"identifier":"explanation","label":"Explanation:","html_id":"explanation-1","implicit":true,"key":"olIqMhvt6O"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":41,"column":1},"end":{"line":60,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":41,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"strong","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"children":[{"type":"inlineCode","value":"integer, parameter :: n = 20","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"WGUe8a9pnr"}],"key":"A9V718amR9"},{"type":"text","value":":","position":{"start":{"line":41,"column":1},"end":{"line":41,"column":1}},"key":"aE1pcXJHUk"}],"key":"ukwydTXgac"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":43,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"n","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"uBf5OHy7JN"},{"type":"text","value":" is the number of cells in the automaton.","position":{"start":{"line":43,"column":1},"end":{"line":43,"column":1}},"key":"RZEANfEaBk"}],"key":"XjdRA6Tzkq"}],"key":"Rtbxy8i5S5"},{"type":"listItem","spread":true,"position":{"start":{"line":44,"column":1},"end":{"line":45,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"parameter","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"VSIKOvQY15"},{"type":"text","value":" indicates a ","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"kU13APzNZq"},{"type":"strong","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"text","value":"compile-time constant","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"kfQqP8dSm9"}],"key":"d2ZJAyLb4J"},{"type":"text","value":", meaning its value cannot be changed at runtime.","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"X9V37FyUto"}],"key":"KFcHd4qVNF"}],"key":"NCp9RDBkdr"}],"key":"xjHIKqfnCg"}],"key":"nVYrIyLtVi"},{"type":"listItem","spread":true,"position":{"start":{"line":46,"column":1},"end":{"line":49,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"strong","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"children":[{"type":"inlineCode","value":"steps = 20","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"bz6T8DiBrh"}],"key":"ZGbz43CBuo"},{"type":"text","value":":","position":{"start":{"line":46,"column":1},"end":{"line":46,"column":1}},"key":"LHp1eNYMfn"}],"key":"KyYW5uKAxS"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":48,"column":1},"end":{"line":49,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":48,"column":1},"end":{"line":49,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Total number of iterations (time steps) the simulation will run.","position":{"start":{"line":48,"column":1},"end":{"line":48,"column":1}},"key":"fV6Lhj6v3Y"}],"key":"KGuLf3MxSQ"}],"key":"rbLdKTLPkS"}],"key":"X9CD6QBWti"}],"key":"Ag4komhjIn"},{"type":"listItem","spread":true,"position":{"start":{"line":50,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"children":[{"type":"strong","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"children":[{"type":"inlineCode","value":"integer :: i","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"lN3Q9Z9bBD"}],"key":"tQ9sJnZ4qF"},{"type":"text","value":":","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"iXfyxNcLZC"}],"key":"fGbuiyFyvT"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":52,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":52,"column":1},"end":{"line":53,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"A loop counter variable used in the simulation’s main loop.","position":{"start":{"line":52,"column":1},"end":{"line":52,"column":1}},"key":"NWnI04uEgw"}],"key":"wgBI7HB7rs"}],"key":"e3kHwRXPyT"}],"key":"bwlGOnKf0k"}],"key":"MSTAkUqdC5"},{"type":"listItem","spread":true,"position":{"start":{"line":54,"column":1},"end":{"line":60,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"strong","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"children":[{"type":"inlineCode","value":"integer, dimension(n) :: current_gen, next_gen","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"CZAh4Ou5gz"}],"key":"gknuQPZZN3"},{"type":"text","value":":","position":{"start":{"line":54,"column":1},"end":{"line":54,"column":1}},"key":"vth4A5nH6L"}],"key":"g6IWUXZ15S"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":56,"column":1},"end":{"line":60,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":56,"column":1},"end":{"line":60,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"children":[{"type":"text","value":"Arrays of size ","position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"key":"uhC0XFXvOw"},{"type":"inlineCode","value":"n","position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"key":"ChDKZuSysK"},{"type":"text","value":" representing the state of the automaton:","position":{"start":{"line":56,"column":1},"end":{"line":56,"column":1}},"key":"oppRPx3uKV"}],"key":"syRPBUHIve"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":58,"column":1},"end":{"line":60,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"current_gen","position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"key":"v79Zid72YS"},{"type":"text","value":" holds the current state.","position":{"start":{"line":58,"column":1},"end":{"line":58,"column":1}},"key":"IGx8ZDDhnQ"}],"key":"MwAvoKpDki"}],"key":"K6WRlrORyt"},{"type":"listItem","spread":true,"position":{"start":{"line":59,"column":1},"end":{"line":60,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"next_gen","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"o4Wsyfu8hF"},{"type":"text","value":" will hold the next generation’s state computed from ","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"WWX0H68yK6"},{"type":"inlineCode","value":"current_gen","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"N7koE0OEzF"},{"type":"text","value":".","position":{"start":{"line":59,"column":1},"end":{"line":59,"column":1}},"key":"Avj3DFDgmA"}],"key":"HbpAde89rA"}],"key":"DfiFnTInUW"}],"key":"MOmpfkNMYA"}],"key":"usUmqOmimZ"}],"key":"Wt4RWG24mi"}],"key":"ylO99IGGSz"}],"key":"ckpjTB602z"},{"type":"thematicBreak","position":{"start":{"line":61,"column":1},"end":{"line":61,"column":1}},"key":"kjG0yLzXvB"},{"type":"heading","depth":3,"position":{"start":{"line":63,"column":1},"end":{"line":63,"column":1}},"children":[{"type":"text","value":"3. Initialization of the Automaton","position":{"start":{"line":63,"column":1},"end":{"line":63,"column":1}},"key":"yshfXW4BAx"}],"identifier":"id-3-initialization-of-the-automaton","label":"3. Initialization of the Automaton","html_id":"id-3-initialization-of-the-automaton","implicit":true,"key":"L7JrsvVEs0"},{"type":"code","lang":"fortran","value":"    call random_initialize(current_gen)","position":{"start":{"line":65,"column":1},"end":{"line":67,"column":1}},"key":"eUoXC7hLTP"},{"type":"heading","depth":4,"position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"children":[{"type":"text","value":"Explanation:","position":{"start":{"line":69,"column":1},"end":{"line":69,"column":1}},"key":"NM9aoMS4XC"}],"identifier":"explanation","label":"Explanation:","html_id":"explanation-2","implicit":true,"key":"u4lS4v307y"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":71,"column":1},"end":{"line":74,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Calls a ","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"key":"hFuVUHJEmv"},{"type":"strong","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"children":[{"type":"text","value":"subroutine","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"key":"IqEyo5mRqh"}],"key":"w4PFkTEqxd"},{"type":"text","value":" ","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"key":"sKZoKH0uHZ"},{"type":"inlineCode","value":"random_initialize","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"key":"FPFFcv0j5x"},{"type":"text","value":", defined in the module ","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"key":"Ze4ioo3jWW"},{"type":"inlineCode","value":"cellular_automata_mod","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"key":"T5jyiHbgFJ"},{"type":"text","value":".","position":{"start":{"line":71,"column":1},"end":{"line":71,"column":1}},"key":"klxYRp9Xx3"}],"key":"vceF2tsKsO"}],"key":"UsMwIQZjf3"},{"type":"listItem","spread":true,"position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"children":[{"type":"text","value":"Purpose","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"key":"dfRx64fDkF"}],"key":"ebOPYJsdSd"},{"type":"text","value":": To fill the array ","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"key":"olvIIohM2d"},{"type":"inlineCode","value":"current_gen","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"key":"yFzpknpnsJ"},{"type":"text","value":" with random values, likely 0s and 1s, simulating an initial binary cellular state.","position":{"start":{"line":72,"column":1},"end":{"line":72,"column":1}},"key":"rHjM2zKwiO"}],"key":"Gn2rKYPZlG"}],"key":"Azy2Q5g2EV"},{"type":"listItem","spread":true,"position":{"start":{"line":73,"column":1},"end":{"line":74,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"This is crucial in stochastic or Monte Carlo-style simulations to observe emergent behavior from random initial conditions.","position":{"start":{"line":73,"column":1},"end":{"line":73,"column":1}},"key":"SuD6H4hy45"}],"key":"conRMB0sa4"}],"key":"BwfK6eY0js"}],"key":"t4guKbvasD"},{"type":"thematicBreak","position":{"start":{"line":75,"column":1},"end":{"line":75,"column":1}},"key":"Sv5wFrLzsR"},{"type":"heading","depth":3,"position":{"start":{"line":77,"column":1},"end":{"line":77,"column":1}},"children":[{"type":"text","value":"4. Main Simulation Loop","position":{"start":{"line":77,"column":1},"end":{"line":77,"column":1}},"key":"RS36aAXcbe"}],"identifier":"id-4-main-simulation-loop","label":"4. Main Simulation Loop","html_id":"id-4-main-simulation-loop","implicit":true,"key":"kIeTL820tQ"},{"type":"code","lang":"fortran","value":"    do i = 1, steps\n        call display_generation(current_gen)\n        call update_generation(current_gen, next_gen)\n        current_gen = next_gen\n    end do","position":{"start":{"line":79,"column":1},"end":{"line":85,"column":1}},"key":"na02TZ69XA"},{"type":"heading","depth":4,"position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"children":[{"type":"text","value":"Explanation:","position":{"start":{"line":87,"column":1},"end":{"line":87,"column":1}},"key":"OKHtdYIIHb"}],"identifier":"explanation","label":"Explanation:","html_id":"explanation-3","implicit":true,"key":"osy3fPA0mL"},{"type":"paragraph","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"children":[{"type":"text","value":"This loop runs the simulation for a fixed number of ","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"key":"EXQwwFKamz"},{"type":"inlineCode","value":"steps","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"key":"tI7ccTNh7H"},{"type":"text","value":" (20 times).","position":{"start":{"line":89,"column":1},"end":{"line":89,"column":1}},"key":"isj1admSxq"}],"key":"lwivtpn7Ja"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":91,"column":1},"end":{"line":105,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":91,"column":1},"end":{"line":95,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"children":[{"type":"strong","position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"children":[{"type":"inlineCode","value":"call display_generation(current_gen)","position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"key":"VNQmdHy93g"}],"key":"fA4Y64d5so"},{"type":"text","value":":","position":{"start":{"line":91,"column":1},"end":{"line":91,"column":1}},"key":"OvW85xj2rS"}],"key":"iRHyLr9vnb"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":93,"column":1},"end":{"line":95,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":93,"column":1},"end":{"line":93,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Displays the current state of the automaton.","position":{"start":{"line":93,"column":1},"end":{"line":93,"column":1}},"key":"M2fFylCk25"}],"key":"J9OQIX7SG0"}],"key":"P88Vn1MZp9"},{"type":"listItem","spread":true,"position":{"start":{"line":94,"column":1},"end":{"line":95,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Most likely, it maps 0s and 1s to symbols like ","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"key":"Mwt6H45GF2"},{"type":"inlineCode","value":".","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"key":"Mey72MPDsD"},{"type":"text","value":" and ","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"key":"QH2LQd09o4"},{"type":"inlineCode","value":"#","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"key":"Mc1lLplSjb"},{"type":"text","value":" or prints the raw binary sequence.","position":{"start":{"line":94,"column":1},"end":{"line":94,"column":1}},"key":"EUBIGfzjWD"}],"key":"Qqf2KAZJq5"}],"key":"kz93oY3bqN"}],"key":"rlWi4jl3Ve"}],"key":"cZaVSuOLFa"},{"type":"listItem","spread":true,"position":{"start":{"line":96,"column":1},"end":{"line":100,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"children":[{"type":"strong","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"children":[{"type":"inlineCode","value":"call update_generation(current_gen, next_gen)","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"key":"foZGhhOzBM"}],"key":"jaW8g4eUOW"},{"type":"text","value":":","position":{"start":{"line":96,"column":1},"end":{"line":96,"column":1}},"key":"tH4x1u1g7D"}],"key":"JzR6hm6L9k"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":98,"column":1},"end":{"line":100,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Computes the next state (","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"key":"KemBjeaB9I"},{"type":"inlineCode","value":"next_gen","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"key":"G1WHoAjV9n"},{"type":"text","value":") based on the current state using a specific rule.","position":{"start":{"line":98,"column":1},"end":{"line":98,"column":1}},"key":"vvbsb1UlbL"}],"key":"PZJunwtlqy"}],"key":"OwroFyCsy6"},{"type":"listItem","spread":true,"position":{"start":{"line":99,"column":1},"end":{"line":100,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"This could be something like ","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"I56Yjul99o"},{"type":"strong","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"children":[{"type":"text","value":"Rule 30","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"RO4GEzQov8"}],"key":"VHF2YrxPHT"},{"type":"text","value":", ","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"AP1fjpAwow"},{"type":"strong","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"children":[{"type":"text","value":"Rule 110","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"sLSihO7yDK"}],"key":"YYhMqnTFcP"},{"type":"text","value":", or a custom CA rule.","position":{"start":{"line":99,"column":1},"end":{"line":99,"column":1}},"key":"Tdb8zu6Tj0"}],"key":"GV1LdIeUtT"}],"key":"jzVL1nHiW8"}],"key":"fXpz6sabAH"}],"key":"Uc6Tmywyl0"},{"type":"listItem","spread":true,"position":{"start":{"line":101,"column":1},"end":{"line":105,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":101,"column":1},"end":{"line":101,"column":1}},"children":[{"type":"strong","position":{"start":{"line":101,"column":1},"end":{"line":101,"column":1}},"children":[{"type":"inlineCode","value":"current_gen = next_gen","position":{"start":{"line":101,"column":1},"end":{"line":101,"column":1}},"key":"hXNtyuk6iT"}],"key":"ZrjQitIpru"},{"type":"text","value":":","position":{"start":{"line":101,"column":1},"end":{"line":101,"column":1}},"key":"x6rdfnDorx"}],"key":"DQXpRLRoNk"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":103,"column":1},"end":{"line":105,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Updates the current generation to the next, making it ready for the next iteration.","position":{"start":{"line":103,"column":1},"end":{"line":103,"column":1}},"key":"EPwp2beFfu"}],"key":"zxiy2sHLzI"}],"key":"JoUD4tgRVJ"},{"type":"listItem","spread":true,"position":{"start":{"line":104,"column":1},"end":{"line":105,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"This ensures the simulation proceeds correctly with the newly computed state.","position":{"start":{"line":104,"column":1},"end":{"line":104,"column":1}},"key":"NveSwjOdf3"}],"key":"XD0xmNdkAi"}],"key":"vwfqaDEy8b"}],"key":"MNlLVrujKu"}],"key":"l4d66wSjbe"}],"key":"YWCZcMHoqR"},{"type":"thematicBreak","position":{"start":{"line":106,"column":1},"end":{"line":106,"column":1}},"key":"xP6mGhGkYY"},{"type":"heading","depth":3,"position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"children":[{"type":"text","value":"5. Program Termination","position":{"start":{"line":108,"column":1},"end":{"line":108,"column":1}},"key":"QM31nJzqTK"}],"identifier":"id-5-program-termination","label":"5. Program Termination","html_id":"id-5-program-termination","implicit":true,"key":"bRT2qJj0bW"},{"type":"code","lang":"fortran","value":"end program cellular_automata","position":{"start":{"line":110,"column":1},"end":{"line":112,"column":1}},"key":"tOBfU46lKe"},{"type":"heading","depth":4,"position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"children":[{"type":"text","value":"Explanation:","position":{"start":{"line":114,"column":1},"end":{"line":114,"column":1}},"key":"sU7sakQD1r"}],"identifier":"explanation","label":"Explanation:","html_id":"explanation-4","implicit":true,"key":"NLUvs2r108"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":116,"column":1},"end":{"line":118,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Marks the end of the main program.","position":{"start":{"line":116,"column":1},"end":{"line":116,"column":1}},"key":"dyBdMo0y4C"}],"key":"Ss9lwqSSBQ"}],"key":"TF9flKRIZg"},{"type":"listItem","spread":true,"position":{"start":{"line":117,"column":1},"end":{"line":118,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Cleanly terminates execution.","position":{"start":{"line":117,"column":1},"end":{"line":117,"column":1}},"key":"dM3GJBFACQ"}],"key":"J0xJYzBEUN"}],"key":"D2XHhbkl4D"}],"key":"C5BOoUVm77"},{"type":"thematicBreak","position":{"start":{"line":119,"column":1},"end":{"line":119,"column":1}},"key":"w9AY6tX8K5"},{"type":"heading","depth":3,"position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"children":[{"type":"text","value":"Summary","position":{"start":{"line":121,"column":1},"end":{"line":121,"column":1}},"key":"aIAbEBnYXI"}],"identifier":"summary","label":"Summary","html_id":"summary","implicit":true,"key":"uKVOa2rSpe"},{"type":"paragraph","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"children":[{"type":"text","value":"This main program is a ","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"HlCNsWzNE6"},{"type":"strong","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"children":[{"type":"text","value":"simple yet complete cellular automaton driver","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"wWbrjV8a7b"}],"key":"KgInjT2K08"},{"type":"text","value":" that does the following:","position":{"start":{"line":123,"column":1},"end":{"line":123,"column":1}},"key":"ObacmAREEy"}],"key":"nnYDP2cGPh"},{"type":"table","position":{"start":{"line":125,"column":1},"end":{"line":130,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"children":[{"type":"text","value":"Component","position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"key":"oge49HReQm"}],"key":"ZEv1rWMZdE"},{"type":"tableCell","header":true,"position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"children":[{"type":"text","value":"Purpose","position":{"start":{"line":125,"column":1},"end":{"line":125,"column":1}},"key":"sRBGUBMuqi"}],"key":"dwK3cP8TnA"}],"key":"fkrzPPsQdA"},{"type":"tableRow","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"children":[{"type":"text","value":"Module import","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"jjxfur2EIp"}],"key":"SlyP52Ih5C"},{"type":"tableCell","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"children":[{"type":"text","value":"Access core logic subroutines.","position":{"start":{"line":127,"column":1},"end":{"line":127,"column":1}},"key":"EoeRqOZXoI"}],"key":"cG1oJRT4pM"}],"key":"agQUoLHfmj"},{"type":"tableRow","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"children":[{"type":"text","value":"Initialization","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"key":"ge1blWCedX"}],"key":"llfeLyBpYy"},{"type":"tableCell","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"children":[{"type":"text","value":"Generate a random binary initial state.","position":{"start":{"line":128,"column":1},"end":{"line":128,"column":1}},"key":"Ak5nhWmmdR"}],"key":"o7OE6mAY8h"}],"key":"LCBVfwBQwf"},{"type":"tableRow","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"children":[{"type":"text","value":"Simulation loop","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"key":"RUkyhPrsKd"}],"key":"Sv2Zs5vBCW"},{"type":"tableCell","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"children":[{"type":"text","value":"Display and update state over time.","position":{"start":{"line":129,"column":1},"end":{"line":129,"column":1}},"key":"OdUFlrOdfl"}],"key":"h0zeBIYQGs"}],"key":"FeBcvxjc0X"},{"type":"tableRow","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"children":[{"type":"text","value":"Data representation","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"key":"ffd0V92Vdb"}],"key":"y19VDONuxo"},{"type":"tableCell","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"children":[{"type":"text","value":"One-dimensional array of binary states.","position":{"start":{"line":130,"column":1},"end":{"line":130,"column":1}},"key":"xXfITkzoZu"}],"key":"okv458VVOF"}],"key":"kV5N2kp06N"}],"key":"WNfqrZEA2I"},{"type":"paragraph","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"children":[{"type":"text","value":"The logic and control flow are tightly coupled to the functions defined in ","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"key":"GLhjvkb9A2"},{"type":"inlineCode","value":"cellular_automata_mod.f90","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"key":"GIAXgZpsrk"},{"type":"text","value":", which encapsulates the rules of the automaton and utilities like display and randomization.","position":{"start":{"line":132,"column":1},"end":{"line":132,"column":1}},"key":"ComXFucjRP"}],"key":"OjSZJO2sVh"},{"type":"paragraph","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"children":[{"type":"text","value":"Let’s now dive into a ","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"MhpZAUOaYT"},{"type":"strong","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"children":[{"type":"text","value":"detailed, section-by-section explanation","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"JMDCgPLpET"}],"key":"BtjNfjQvqw"},{"type":"text","value":" of the second file: ","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"ALwiIqZe6a"},{"type":"inlineCode","value":"cellular_automata_mod.f90","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"G0774Ktma6"},{"type":"text","value":", which implements the supporting logic for the main program.","position":{"start":{"line":135,"column":1},"end":{"line":135,"column":1}},"key":"pgYs1ozsOs"}],"key":"ehHqkatGaA"},{"type":"thematicBreak","position":{"start":{"line":137,"column":1},"end":{"line":137,"column":1}},"key":"PsREpj8Z7P"},{"type":"heading","depth":2,"position":{"start":{"line":139,"column":1},"end":{"line":139,"column":1}},"children":[{"type":"text","value":"File: ","position":{"start":{"line":139,"column":1},"end":{"line":139,"column":1}},"key":"li6sG6YLtW"},{"type":"inlineCode","value":"cellular_automata_mod.f90","position":{"start":{"line":139,"column":1},"end":{"line":139,"column":1}},"key":"sWB0oZXQ6i"}],"identifier":"file-cellular-automata-mod-f90","label":"File: cellular_automata_mod.f90","html_id":"file-cellular-automata-mod-f90","implicit":true,"key":"gore1vsCy0"},{"type":"heading","depth":3,"position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"children":[{"type":"text","value":"1. Module Declaration","position":{"start":{"line":141,"column":1},"end":{"line":141,"column":1}},"key":"HuPw6J7qfL"}],"identifier":"id-1-module-declaration","label":"1. Module Declaration","html_id":"id-1-module-declaration","implicit":true,"key":"Oyhlcn4Ckz"},{"type":"code","lang":"fortran","value":"module cellular_automata_mod\n    implicit none\ncontains","position":{"start":{"line":143,"column":1},"end":{"line":147,"column":1}},"key":"OpDbKEx0qf"},{"type":"heading","depth":4,"position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"children":[{"type":"text","value":"Explanation:","position":{"start":{"line":149,"column":1},"end":{"line":149,"column":1}},"key":"fzV6pdbRmU"}],"identifier":"explanation","label":"Explanation:","html_id":"explanation-5","implicit":true,"key":"P2HMbos3eE"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":151,"column":1},"end":{"line":163,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":151,"column":1},"end":{"line":155,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"strong","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"children":[{"type":"inlineCode","value":"module cellular_automata_mod","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"T7i4MvACPs"}],"key":"H0phQewkXe"},{"type":"text","value":":","position":{"start":{"line":151,"column":1},"end":{"line":151,"column":1}},"key":"tCIBdwwVqp"}],"key":"lXxRS5tH8Y"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":153,"column":1},"end":{"line":155,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Declares a Fortran module named ","position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"key":"VhJC9CcM0i"},{"type":"inlineCode","value":"cellular_automata_mod","position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"key":"MaShTnawrw"},{"type":"text","value":".","position":{"start":{"line":153,"column":1},"end":{"line":153,"column":1}},"key":"BUUeMiSCpN"}],"key":"ILoVYx385F"}],"key":"kLyxwRK9EV"},{"type":"listItem","spread":true,"position":{"start":{"line":154,"column":1},"end":{"line":155,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"A module in Fortran groups related procedures and data together, promoting modularity and reuse.","position":{"start":{"line":154,"column":1},"end":{"line":154,"column":1}},"key":"Ahe9WswD6J"}],"key":"PddOAA8EQB"}],"key":"ztdMOFg8Cr"}],"key":"ARMzd4qj7A"}],"key":"vdpZ9A7oJT"},{"type":"listItem","spread":true,"position":{"start":{"line":156,"column":1},"end":{"line":159,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"children":[{"type":"strong","position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"children":[{"type":"inlineCode","value":"implicit none","position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"key":"bzcH88DiQj"}],"key":"HtFDS69s69"},{"type":"text","value":":","position":{"start":{"line":156,"column":1},"end":{"line":156,"column":1}},"key":"pZHgRoRzN7"}],"key":"Vi2TQlOFbn"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":158,"column":1},"end":{"line":159,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":158,"column":1},"end":{"line":159,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Enforces explicit declarations of all variables within the module.","position":{"start":{"line":158,"column":1},"end":{"line":158,"column":1}},"key":"D7FIXR7DMa"}],"key":"MpvVK5G1cb"}],"key":"TAOYFK9tr6"}],"key":"OuobTbFt85"}],"key":"ZvOW9Cd2Fb"},{"type":"listItem","spread":true,"position":{"start":{"line":160,"column":1},"end":{"line":163,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"children":[{"type":"strong","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"children":[{"type":"inlineCode","value":"contains","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"key":"BRJaDVTWNC"}],"key":"Ij585GJTTa"},{"type":"text","value":":","position":{"start":{"line":160,"column":1},"end":{"line":160,"column":1}},"key":"J8FNyUxxw9"}],"key":"Q8VB3UqaNC"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":162,"column":1},"end":{"line":163,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":162,"column":1},"end":{"line":163,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Marks the beginning of the ","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"JwfyJnXWDd"},{"type":"strong","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"children":[{"type":"text","value":"internal procedures","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"D1LS93QEAs"}],"key":"YVo5tIRgO5"},{"type":"text","value":" (subroutines and functions) that belong to this module.","position":{"start":{"line":162,"column":1},"end":{"line":162,"column":1}},"key":"HTNPKIexmI"}],"key":"ONRzpe8FvJ"}],"key":"Mq6EXF4hId"}],"key":"kIJ5ziFGwJ"}],"key":"kXFGpLUdag"}],"key":"p8q95xqN6S"},{"type":"thematicBreak","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"FnJ7qzGSvy"},{"type":"heading","depth":3,"position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"children":[{"type":"text","value":"2. Subroutine: ","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"YLKbaFl53Y"},{"type":"inlineCode","value":"random_initialize","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"tXcBY0QALv"}],"identifier":"id-2-subroutine-random-initialize","label":"2. Subroutine: random_initialize","html_id":"id-2-subroutine-random-initialize","implicit":true,"key":"ksTKnRaco0"},{"type":"code","lang":"fortran","value":"subroutine random_initialize(gen)\n    integer, dimension(:), intent(out) :: gen\n    integer :: i\n    real :: r","position":{"start":{"line":168,"column":1},"end":{"line":173,"column":1}},"key":"Dheqe8DNkL"},{"type":"heading","depth":4,"position":{"start":{"line":175,"column":1},"end":{"line":175,"column":1}},"children":[{"type":"text","value":"Purpose:","position":{"start":{"line":175,"column":1},"end":{"line":175,"column":1}},"key":"um5q4udqcy"}],"identifier":"purpose","label":"Purpose:","html_id":"purpose","implicit":true,"key":"vkDFh7eAFD"},{"type":"paragraph","position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"children":[{"type":"text","value":"Initialize a 1D integer array ","position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"key":"Wg6ErcJfmg"},{"type":"inlineCode","value":"gen","position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"key":"WUqLznAPmI"},{"type":"text","value":" with random values of 0 or 1.","position":{"start":{"line":177,"column":1},"end":{"line":177,"column":1}},"key":"NOqPbiIJH1"}],"key":"gk8PHvtihM"},{"type":"heading","depth":4,"position":{"start":{"line":179,"column":1},"end":{"line":179,"column":1}},"children":[{"type":"text","value":"Detailed Explanation:","position":{"start":{"line":179,"column":1},"end":{"line":179,"column":1}},"key":"p2uOZ8XLXX"}],"identifier":"detailed-explanation","label":"Detailed Explanation:","html_id":"detailed-explanation","implicit":true,"key":"aNyuWqg9M2"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":181,"column":1},"end":{"line":184,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"children":[{"type":"inlineCode","value":"gen","position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"key":"rxE8V8FQMl"}],"key":"mTjgrtGne3"},{"type":"text","value":": A 1D integer array passed by reference. ","position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"key":"IP95cPGu6P"},{"type":"inlineCode","value":"intent(out)","position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"key":"ONUCa8pdlX"},{"type":"text","value":" indicates it’s an output.","position":{"start":{"line":181,"column":1},"end":{"line":181,"column":1}},"key":"B8JLbJNR87"}],"key":"eFs1fllK69"}],"key":"ZVZc0Qn4nq"},{"type":"listItem","spread":true,"position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"children":[{"type":"inlineCode","value":"i","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"EeWsqIeqPD"}],"key":"ZGFoSskzBQ"},{"type":"text","value":": Loop counter.","position":{"start":{"line":182,"column":1},"end":{"line":182,"column":1}},"key":"WI8f7bEwY4"}],"key":"kITG1jsOOa"}],"key":"ZmIJwUMrBZ"},{"type":"listItem","spread":true,"position":{"start":{"line":183,"column":1},"end":{"line":184,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":183,"column":1},"end":{"line":183,"column":1}},"children":[{"type":"inlineCode","value":"r","position":{"start":{"line":183,"column":1},"end":{"line":183,"column":1}},"key":"wbRzFXP8o2"}],"key":"tjqpWCGMGJ"},{"type":"text","value":": Temporary variable used to hold random numbers between 0 and 1.","position":{"start":{"line":183,"column":1},"end":{"line":183,"column":1}},"key":"Un98QdPktQ"}],"key":"ZH9lyfElMk"}],"key":"SPeoMfz7bt"}],"key":"XkVpky3nuV"},{"type":"thematicBreak","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"key":"OWrkMqC2dG"},{"type":"code","lang":"fortran","value":"    do i = 1, size(gen)\n        call random_number(r)\n        if (r < 0.5) then\n            gen(i) = 0\n        else\n            gen(i) = 1\n        end if\n    end do\nend subroutine random_initialize","position":{"start":{"line":187,"column":1},"end":{"line":197,"column":1}},"key":"n4On6JzICT"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":199,"column":1},"end":{"line":202,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"children":[{"type":"inlineCode","value":"random_number(r)","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"Rjzfzq86yh"}],"key":"d7eBV92aAa"},{"type":"text","value":": Fortran intrinsic that generates a random float in [0, 1).","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"EqzcfLe7tH"}],"key":"J8UGOnXMGN"}],"key":"ze8Ptos0Mr"},{"type":"listItem","spread":true,"position":{"start":{"line":200,"column":1},"end":{"line":200,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":200,"column":1},"end":{"line":200,"column":1}},"children":[{"type":"inlineCode","value":"r < 0.5","position":{"start":{"line":200,"column":1},"end":{"line":200,"column":1}},"key":"rcByCLKf7s"}],"key":"uK9r1b1zHF"},{"type":"text","value":": Splits the range to assign ","position":{"start":{"line":200,"column":1},"end":{"line":200,"column":1}},"key":"NnomTUFLbe"},{"type":"inlineCode","value":"0","position":{"start":{"line":200,"column":1},"end":{"line":200,"column":1}},"key":"BBHf1VNT67"},{"type":"text","value":" or ","position":{"start":{"line":200,"column":1},"end":{"line":200,"column":1}},"key":"DFbwV1BSYf"},{"type":"inlineCode","value":"1","position":{"start":{"line":200,"column":1},"end":{"line":200,"column":1}},"key":"ChLaBNEeLe"},{"type":"text","value":" with equal probability.","position":{"start":{"line":200,"column":1},"end":{"line":200,"column":1}},"key":"c7ascls5SJ"}],"key":"pFgsMJSJ2o"}],"key":"SHsHFv4Fqy"},{"type":"listItem","spread":true,"position":{"start":{"line":201,"column":1},"end":{"line":202,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"This simulates a random binary initialization of the cellular automaton.","position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"key":"BExpQfwY38"}],"key":"Kpbd71A84b"}],"key":"jylAx6mXTw"}],"key":"Fu0OkSyPyD"},{"type":"thematicBreak","position":{"start":{"line":203,"column":1},"end":{"line":203,"column":1}},"key":"aEXdabyNGQ"},{"type":"heading","depth":3,"position":{"start":{"line":205,"column":1},"end":{"line":205,"column":1}},"children":[{"type":"text","value":"3. Subroutine: ","position":{"start":{"line":205,"column":1},"end":{"line":205,"column":1}},"key":"ZLoWNp3SEU"},{"type":"inlineCode","value":"display_generation","position":{"start":{"line":205,"column":1},"end":{"line":205,"column":1}},"key":"BU7AmjwhKL"}],"identifier":"id-3-subroutine-display-generation","label":"3. Subroutine: display_generation","html_id":"id-3-subroutine-display-generation","implicit":true,"key":"dsHJg1L1RX"},{"type":"code","lang":"fortran","value":"subroutine display_generation(gen)\n    integer, dimension(:), intent(in) :: gen\n    integer :: i","position":{"start":{"line":207,"column":1},"end":{"line":211,"column":1}},"key":"n6IR27ZMUq"},{"type":"heading","depth":4,"position":{"start":{"line":213,"column":1},"end":{"line":213,"column":1}},"children":[{"type":"text","value":"Purpose:","position":{"start":{"line":213,"column":1},"end":{"line":213,"column":1}},"key":"dEPge0N4zE"}],"identifier":"purpose","label":"Purpose:","html_id":"purpose-1","implicit":true,"key":"PoXFEAvlju"},{"type":"paragraph","position":{"start":{"line":215,"column":1},"end":{"line":215,"column":1}},"children":[{"type":"text","value":"Print the array ","position":{"start":{"line":215,"column":1},"end":{"line":215,"column":1}},"key":"SD6rrNT63E"},{"type":"inlineCode","value":"gen","position":{"start":{"line":215,"column":1},"end":{"line":215,"column":1}},"key":"zGTnWCPYJy"},{"type":"text","value":" visually, mapping cell states to characters.","position":{"start":{"line":215,"column":1},"end":{"line":215,"column":1}},"key":"y0BGvEYfBM"}],"key":"RbxJrMpTeh"},{"type":"thematicBreak","position":{"start":{"line":217,"column":1},"end":{"line":217,"column":1}},"key":"TJzOOZsgMc"},{"type":"code","lang":"fortran","value":"    do i = 1, size(gen)\n        if (gen(i) == 0) then\n            write(*,'(A)', advance='no') '.'\n        else\n            write(*,'(A)', advance='no') '#'\n        end if\n    end do\n    print *\nend subroutine display_generation","position":{"start":{"line":219,"column":1},"end":{"line":229,"column":1}},"key":"FYpAgkeuaz"},{"type":"heading","depth":4,"position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"children":[{"type":"text","value":"Explanation:","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"ro0NjxLulI"}],"identifier":"explanation","label":"Explanation:","html_id":"explanation-6","implicit":true,"key":"KR8dCJyBlA"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":233,"column":1},"end":{"line":239,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":233,"column":1},"end":{"line":237,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"children":[{"type":"strong","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"children":[{"type":"text","value":"For each cell","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"key":"UJaK5vKo4H"}],"key":"sMo4oR4sbo"},{"type":"text","value":":","position":{"start":{"line":233,"column":1},"end":{"line":233,"column":1}},"key":"SX4EquCmK7"}],"key":"idEegG752S"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":235,"column":1},"end":{"line":237,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":235,"column":1},"end":{"line":235,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"If it contains ","position":{"start":{"line":235,"column":1},"end":{"line":235,"column":1}},"key":"Zr8xaiaF8f"},{"type":"inlineCode","value":"0","position":{"start":{"line":235,"column":1},"end":{"line":235,"column":1}},"key":"BzuBMd49ll"},{"type":"text","value":", print a dot (","position":{"start":{"line":235,"column":1},"end":{"line":235,"column":1}},"key":"jykJFda2iW"},{"type":"inlineCode","value":".","position":{"start":{"line":235,"column":1},"end":{"line":235,"column":1}},"key":"J436ZgYY26"},{"type":"text","value":").","position":{"start":{"line":235,"column":1},"end":{"line":235,"column":1}},"key":"qFXrx8WDy6"}],"key":"tVxN064Ilh"}],"key":"ttJ3Ud89jc"},{"type":"listItem","spread":true,"position":{"start":{"line":236,"column":1},"end":{"line":236,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"If it contains ","position":{"start":{"line":236,"column":1},"end":{"line":236,"column":1}},"key":"I60oxZ7Ayl"},{"type":"inlineCode","value":"1","position":{"start":{"line":236,"column":1},"end":{"line":236,"column":1}},"key":"ep4aISTpnp"},{"type":"text","value":", print a hash (","position":{"start":{"line":236,"column":1},"end":{"line":236,"column":1}},"key":"zkwnQxzZE4"},{"type":"inlineCode","value":"#","position":{"start":{"line":236,"column":1},"end":{"line":236,"column":1}},"key":"XKPzQU3T3k"},{"type":"text","value":").","position":{"start":{"line":236,"column":1},"end":{"line":236,"column":1}},"key":"KwCLzEOIxo"}],"key":"tGeh6QrA6p"}],"key":"xMqiBBBQSH"},{"type":"listItem","spread":true,"position":{"start":{"line":237,"column":1},"end":{"line":237,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":237,"column":1},"end":{"line":237,"column":1}},"children":[{"type":"inlineCode","value":"advance='no'","position":{"start":{"line":237,"column":1},"end":{"line":237,"column":1}},"key":"j5O3Sq5jQ5"}],"key":"qZ0C7DZusV"},{"type":"text","value":" ensures that the next character prints on the same line.","position":{"start":{"line":237,"column":1},"end":{"line":237,"column":1}},"key":"hZPMk9pup2"}],"key":"kil5zQo8Gu"}],"key":"nTni1cra9N"}],"key":"uqSnl1hSt5"}],"key":"VhP0lvxsm4"},{"type":"listItem","spread":true,"position":{"start":{"line":238,"column":1},"end":{"line":239,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":238,"column":1},"end":{"line":238,"column":1}},"children":[{"type":"strong","position":{"start":{"line":238,"column":1},"end":{"line":238,"column":1}},"children":[{"type":"inlineCode","value":"print *","position":{"start":{"line":238,"column":1},"end":{"line":238,"column":1}},"key":"BRhyCWJzUe"}],"key":"XA6CqL5IuU"},{"type":"text","value":": Moves to the next line after printing the whole row.","position":{"start":{"line":238,"column":1},"end":{"line":238,"column":1}},"key":"vWF8jAZXUQ"}],"key":"aVxt6ua4yv"}],"key":"RpFNaMtwsB"}],"key":"zsL7QyEdMD"},{"type":"paragraph","position":{"start":{"line":240,"column":1},"end":{"line":240,"column":1}},"children":[{"type":"text","value":"This is a ","position":{"start":{"line":240,"column":1},"end":{"line":240,"column":1}},"key":"XaFgoB210i"},{"type":"strong","position":{"start":{"line":240,"column":1},"end":{"line":240,"column":1}},"children":[{"type":"text","value":"visualization","position":{"start":{"line":240,"column":1},"end":{"line":240,"column":1}},"key":"L9cKvJ0TD9"}],"key":"ZeW1xF1oWm"},{"type":"text","value":" layer that helps observe the evolution of the automaton over time.","position":{"start":{"line":240,"column":1},"end":{"line":240,"column":1}},"key":"k6tcEfp24y"}],"key":"EbkJ1Z7bfl"},{"type":"thematicBreak","position":{"start":{"line":242,"column":1},"end":{"line":242,"column":1}},"key":"YidtrtqxtG"},{"type":"heading","depth":3,"position":{"start":{"line":244,"column":1},"end":{"line":244,"column":1}},"children":[{"type":"text","value":"4. Subroutine: ","position":{"start":{"line":244,"column":1},"end":{"line":244,"column":1}},"key":"JhFIFYcKBI"},{"type":"inlineCode","value":"update_generation","position":{"start":{"line":244,"column":1},"end":{"line":244,"column":1}},"key":"S0FQ0BOs2z"}],"identifier":"id-4-subroutine-update-generation","label":"4. Subroutine: update_generation","html_id":"id-4-subroutine-update-generation","implicit":true,"key":"PN4oWIlIb4"},{"type":"code","lang":"fortran","value":"subroutine update_generation(current, next)\n    integer, dimension(:), intent(in) :: current\n    integer, dimension(:), intent(out) :: next\n    integer :: i, left, right","position":{"start":{"line":246,"column":1},"end":{"line":251,"column":1}},"key":"JA01ylzxLA"},{"type":"heading","depth":4,"position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"children":[{"type":"text","value":"Purpose:","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"DyXZ4wTnKk"}],"identifier":"purpose","label":"Purpose:","html_id":"purpose-2","implicit":true,"key":"bwwehbcmt1"},{"type":"paragraph","position":{"start":{"line":255,"column":1},"end":{"line":255,"column":1}},"children":[{"type":"text","value":"Compute the next generation using a simple rule based on nearest neighbors.","position":{"start":{"line":255,"column":1},"end":{"line":255,"column":1}},"key":"Qi6Pl7Z0Ab"}],"key":"OYwRodtrGr"},{"type":"thematicBreak","position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"key":"gJ4Uzya6uD"},{"type":"code","lang":"fortran","value":"    do i = 1, size(current)\n        if (i == 1) then\n            left = current(size(current))\n        else\n            left = current(i - 1)\n        end if\n\n        if (i == size(current)) then\n            right = current(1)\n        else\n            right = current(i + 1)\n        end if","position":{"start":{"line":259,"column":1},"end":{"line":272,"column":1}},"key":"voS5AOVULx"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":274,"column":1},"end":{"line":278,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":274,"column":1},"end":{"line":278,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":274,"column":1},"end":{"line":274,"column":1}},"children":[{"type":"strong","position":{"start":{"line":274,"column":1},"end":{"line":274,"column":1}},"children":[{"type":"text","value":"Handles periodic (circular) boundary conditions","position":{"start":{"line":274,"column":1},"end":{"line":274,"column":1}},"key":"W3zSLrK0Ou"}],"key":"NwRpf5yrmq"},{"type":"text","value":":","position":{"start":{"line":274,"column":1},"end":{"line":274,"column":1}},"key":"pwRVha6WSH"}],"key":"aFk5yGGnrk"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":276,"column":1},"end":{"line":278,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":276,"column":1},"end":{"line":276,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"First cell wraps around to the last.","position":{"start":{"line":276,"column":1},"end":{"line":276,"column":1}},"key":"L25nnqqc2O"}],"key":"vjVPstes3Y"}],"key":"dj8pAR0RhN"},{"type":"listItem","spread":true,"position":{"start":{"line":277,"column":1},"end":{"line":278,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Last cell wraps around to the first.","position":{"start":{"line":277,"column":1},"end":{"line":277,"column":1}},"key":"Kkj7eYARgz"}],"key":"cFHrTKpWuX"}],"key":"YwtUFAJbOM"}],"key":"f6jmxeipq3"}],"key":"Ywmy7RZ6Mu"}],"key":"Tbwu2QTSwI"},{"type":"thematicBreak","position":{"start":{"line":279,"column":1},"end":{"line":279,"column":1}},"key":"ELotjI1WAI"},{"type":"code","lang":"fortran","value":"        ! Rule: new cell is XOR of left and right\n        next(i) = ieor(left, right)\n    end do\nend subroutine update_generation","position":{"start":{"line":281,"column":1},"end":{"line":286,"column":1}},"key":"lSIM4tF8Mp"},{"type":"heading","depth":4,"position":{"start":{"line":288,"column":1},"end":{"line":288,"column":1}},"children":[{"type":"text","value":"Explanation:","position":{"start":{"line":288,"column":1},"end":{"line":288,"column":1}},"key":"fLE8DIbmd2"}],"identifier":"explanation","label":"Explanation:","html_id":"explanation-7","implicit":true,"key":"huOPNENRNE"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":290,"column":1},"end":{"line":297,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":290,"column":1},"end":{"line":295,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"children":[{"type":"text","value":"Uses the bitwise ","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"giZZqDPoQO"},{"type":"strong","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"children":[{"type":"text","value":"exclusive OR (XOR)","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"AlzaE4HJWh"}],"key":"ZHStNHhRru"},{"type":"text","value":" function ","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"O7ny4nXGEb"},{"type":"inlineCode","value":"ieor(left, right)","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"xB196Raese"},{"type":"text","value":":","position":{"start":{"line":290,"column":1},"end":{"line":290,"column":1}},"key":"EnmhusXnDV"}],"key":"pTacx84VSl"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":292,"column":1},"end":{"line":295,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":292,"column":1},"end":{"line":292,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"ieor(0, 0) = 0","position":{"start":{"line":292,"column":1},"end":{"line":292,"column":1}},"key":"h2u62nXh4Y"}],"key":"fSBWbiFPfA"}],"key":"n7q6nNMgzl"},{"type":"listItem","spread":true,"position":{"start":{"line":293,"column":1},"end":{"line":293,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"ieor(0, 1) = 1","position":{"start":{"line":293,"column":1},"end":{"line":293,"column":1}},"key":"F7b1LFbzLx"}],"key":"a3OdWgkPoW"}],"key":"ZnyObKNKOb"},{"type":"listItem","spread":true,"position":{"start":{"line":294,"column":1},"end":{"line":294,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"ieor(1, 0) = 1","position":{"start":{"line":294,"column":1},"end":{"line":294,"column":1}},"key":"sAnRCyZA1U"}],"key":"p2vhNjZ8K3"}],"key":"xu6pREdX37"},{"type":"listItem","spread":true,"position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"ieor(1, 1) = 0","position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"key":"HnVIrIuRIA"}],"key":"TLjhZ5Vvu5"}],"key":"U5ueuGEsQG"}],"key":"pN0OZxSgZI"}],"key":"FtMJtxod3E"},{"type":"listItem","spread":true,"position":{"start":{"line":296,"column":1},"end":{"line":297,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":296,"column":1},"end":{"line":296,"column":1}},"children":[{"type":"text","value":"The rule is similar to ","position":{"start":{"line":296,"column":1},"end":{"line":296,"column":1}},"key":"Hg4rXv94mZ"},{"type":"strong","position":{"start":{"line":296,"column":1},"end":{"line":296,"column":1}},"children":[{"type":"text","value":"Rule 90","position":{"start":{"line":296,"column":1},"end":{"line":296,"column":1}},"key":"p4pjLFFO1q"}],"key":"P0Sr34P0jD"},{"type":"text","value":" in Wolfram’s classification of 1D binary cellular automata.","position":{"start":{"line":296,"column":1},"end":{"line":296,"column":1}},"key":"wZJxH1RqVY"}],"key":"Irq8JYZrEO"}],"key":"AhWJGIKaIw"}],"key":"h7fm3XRkzK"},{"type":"thematicBreak","position":{"start":{"line":298,"column":1},"end":{"line":298,"column":1}},"key":"PycKsG6FIE"},{"type":"heading","depth":3,"position":{"start":{"line":300,"column":1},"end":{"line":300,"column":1}},"children":[{"type":"text","value":"5. Module End","position":{"start":{"line":300,"column":1},"end":{"line":300,"column":1}},"key":"f6RLEnUEwU"}],"identifier":"id-5-module-end","label":"5. Module End","html_id":"id-5-module-end","implicit":true,"key":"g34aWgWotk"},{"type":"code","lang":"fortran","value":"end module cellular_automata_mod","position":{"start":{"line":302,"column":1},"end":{"line":304,"column":1}},"key":"CIjo1UsBvW"},{"type":"paragraph","position":{"start":{"line":306,"column":1},"end":{"line":306,"column":1}},"children":[{"type":"text","value":"Marks the end of the module. All subroutines declared above are now part of the ","position":{"start":{"line":306,"column":1},"end":{"line":306,"column":1}},"key":"EBtavzuWpo"},{"type":"inlineCode","value":"cellular_automata_mod","position":{"start":{"line":306,"column":1},"end":{"line":306,"column":1}},"key":"QiTA6YqpDX"},{"type":"text","value":".","position":{"start":{"line":306,"column":1},"end":{"line":306,"column":1}},"key":"osNj46vegU"}],"key":"rZKSSGCdTD"},{"type":"thematicBreak","position":{"start":{"line":308,"column":1},"end":{"line":308,"column":1}},"key":"NGVjYrr8ub"},{"type":"heading","depth":2,"position":{"start":{"line":310,"column":1},"end":{"line":310,"column":1}},"children":[{"type":"text","value":"Summary","position":{"start":{"line":310,"column":1},"end":{"line":310,"column":1}},"key":"d7vdwpGaZN"}],"identifier":"summary","label":"Summary","html_id":"summary-1","implicit":true,"key":"ldHE8nDQGG"},{"type":"paragraph","position":{"start":{"line":312,"column":1},"end":{"line":312,"column":1}},"children":[{"type":"text","value":"This module provides three subroutines:","position":{"start":{"line":312,"column":1},"end":{"line":312,"column":1}},"key":"n0cYRgKkET"}],"key":"h1xZkKf6gd"},{"type":"table","position":{"start":{"line":314,"column":1},"end":{"line":318,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":314,"column":1},"end":{"line":314,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":314,"column":1},"end":{"line":314,"column":1}},"children":[{"type":"text","value":"Subroutine","position":{"start":{"line":314,"column":1},"end":{"line":314,"column":1}},"key":"mBRWL5TkEC"}],"key":"Ge54bPevA6"},{"type":"tableCell","header":true,"position":{"start":{"line":314,"column":1},"end":{"line":314,"column":1}},"children":[{"type":"text","value":"Purpose","position":{"start":{"line":314,"column":1},"end":{"line":314,"column":1}},"key":"sIxoBQZ4GJ"}],"key":"bIYLEFKp1U"}],"key":"oV6be2PEyh"},{"type":"tableRow","position":{"start":{"line":316,"column":1},"end":{"line":316,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":316,"column":1},"end":{"line":316,"column":1}},"children":[{"type":"inlineCode","value":"random_initialize","position":{"start":{"line":316,"column":1},"end":{"line":316,"column":1}},"key":"Yf9863ZFKL"}],"key":"ecJmHqJ5qM"},{"type":"tableCell","position":{"start":{"line":316,"column":1},"end":{"line":316,"column":1}},"children":[{"type":"text","value":"Randomly fills a binary array using uniform RNG.","position":{"start":{"line":316,"column":1},"end":{"line":316,"column":1}},"key":"xzsB6rt8Ba"}],"key":"GzUMj0M53b"}],"key":"IVjSpPkHse"},{"type":"tableRow","position":{"start":{"line":317,"column":1},"end":{"line":317,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":317,"column":1},"end":{"line":317,"column":1}},"children":[{"type":"inlineCode","value":"display_generation","position":{"start":{"line":317,"column":1},"end":{"line":317,"column":1}},"key":"Y1FV20QuwP"}],"key":"wYZffqCkPr"},{"type":"tableCell","position":{"start":{"line":317,"column":1},"end":{"line":317,"column":1}},"children":[{"type":"text","value":"Visually prints 0s as ","position":{"start":{"line":317,"column":1},"end":{"line":317,"column":1}},"key":"v0zDAxicuz"},{"type":"inlineCode","value":".","position":{"start":{"line":317,"column":1},"end":{"line":317,"column":1}},"key":"ECKh687ujY"},{"type":"text","value":" and 1s as ","position":{"start":{"line":317,"column":1},"end":{"line":317,"column":1}},"key":"xVXdgEyXXB"},{"type":"inlineCode","value":"#","position":{"start":{"line":317,"column":1},"end":{"line":317,"column":1}},"key":"TqCMZyitsz"},{"type":"text","value":".","position":{"start":{"line":317,"column":1},"end":{"line":317,"column":1}},"key":"GoO0Vp0Nm4"}],"key":"wVQrwte6oS"}],"key":"Dkmr8Gc0JT"},{"type":"tableRow","position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"children":[{"type":"inlineCode","value":"update_generation","position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"key":"yGkSRlpkXg"}],"key":"Guduung4Ro"},{"type":"tableCell","position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"children":[{"type":"text","value":"Applies periodic boundary condition and Rule 90.","position":{"start":{"line":318,"column":1},"end":{"line":318,"column":1}},"key":"SQwI6bZBks"}],"key":"fPRXH7Pd0L"}],"key":"czDbTt0v0f"}],"key":"ZJTGVymBV2"},{"type":"thematicBreak","position":{"start":{"line":320,"column":1},"end":{"line":320,"column":1}},"key":"V1BHB0uT2s"},{"type":"heading","depth":2,"position":{"start":{"line":322,"column":1},"end":{"line":322,"column":1}},"children":[{"type":"text","value":"Behavior of the Overall Program","position":{"start":{"line":322,"column":1},"end":{"line":322,"column":1}},"key":"N7bgmpfq4q"}],"identifier":"behavior-of-the-overall-program","label":"Behavior of the Overall Program","html_id":"behavior-of-the-overall-program","implicit":true,"key":"gokJb2gUOx"},{"type":"paragraph","position":{"start":{"line":324,"column":1},"end":{"line":324,"column":1}},"children":[{"type":"text","value":"Together with ","position":{"start":{"line":324,"column":1},"end":{"line":324,"column":1}},"key":"zHHVzn61gi"},{"type":"inlineCode","value":"cellular_automata.f90","position":{"start":{"line":324,"column":1},"end":{"line":324,"column":1}},"key":"CJ0Cq9NDej"},{"type":"text","value":", the system:","position":{"start":{"line":324,"column":1},"end":{"line":324,"column":1}},"key":"wonDrK55qg"}],"key":"r4qWnRpexY"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":326,"column":1},"end":{"line":329,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":326,"column":1},"end":{"line":326,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Initializes a random generation of binary states.","position":{"start":{"line":326,"column":1},"end":{"line":326,"column":1}},"key":"vir5JbrtVo"}],"key":"KLEIpSnoHV"}],"key":"T3MhxBvpji"},{"type":"listItem","spread":true,"position":{"start":{"line":327,"column":1},"end":{"line":327,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Applies Rule 90 across 20 generations.","position":{"start":{"line":327,"column":1},"end":{"line":327,"column":1}},"key":"uhRJxT6QTt"}],"key":"gskB9KI1F4"}],"key":"c7d7lMojj9"},{"type":"listItem","spread":true,"position":{"start":{"line":328,"column":1},"end":{"line":329,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Prints each generation visually, allowing the user to watch patterns emerge (e.g. Pascal’s Triangle modulo 2, typical for Rule 90).","position":{"start":{"line":328,"column":1},"end":{"line":328,"column":1}},"key":"DO6NaPHW7b"}],"key":"IgG0blsGXj"}],"key":"Zgm57kifhZ"}],"key":"lpXVX0x17C"},{"type":"thematicBreak","position":{"start":{"line":330,"column":1},"end":{"line":330,"column":1}},"key":"ip7Kjnt3zs"},{"type":"paragraph","position":{"start":{"line":332,"column":1},"end":{"line":332,"column":1}},"children":[{"type":"text","value":"Would you like me to modify the rule logic (e.g. implement Rule 30 or 110), or analyze the emergent behavior of this automaton?","position":{"start":{"line":332,"column":1},"end":{"line":332,"column":1}},"key":"ocHoNK1nnC"}],"key":"y0lNEuTnri"}],"key":"unwJzXsJSV"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Program Code","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"C6GscLQF5U"}],"identifier":"program-code","label":"Program Code","html_id":"program-code","implicit":true,"key":"QSSRNJV4HX"}],"key":"Tvvn8fGMM5"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"section_cellular_automata.f90","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"eZGN08irt3"}],"identifier":"section-cellular-automata-f90","label":"section_cellular_automata.f90","html_id":"section-cellular-automata-f90","implicit":true,"key":"bf2QGe7Mdd"}],"key":"Hn1iGSnokW"},{"type":"block","kind":"notebook-content","children":[{"type":"include","file":"Fortran_Code/Section_Cellular_Automata/app/section_cellular_automata.f90","literal":true,"children":[{"type":"code","value":"program cellular_automata\n    use :: cellular_automata_mod\n    implicit none\n    integer :: nr_cells, rule_nr, max_steps\n    type(automaton_t) :: automaton\n    integer :: step\n\n    call get_parameters(rule_nr, nr_cells, max_steps)\n    automaton = init_automaton(nr_cells, rule_nr)\n    call print_rules(automaton)\n    call print_automaton(automaton)\n    do step = 1, max_steps\n        call step_automaton(automaton)\n        call print_automaton(automaton)\n    end do\n\ncontains\n\n    subroutine get_parameters(rule_nr, nr_cells, max_steps)\n        use, intrinsic :: iso_fortran_env, only : error_unit\n        implicit none\n        integer, intent(out) :: rule_nr, nr_cells, max_steps\n        integer :: istat\n        character(len=1024) :: buffer, msg\n\n        rule_nr = 90\n        nr_cells = 50\n        max_steps = 100\n\n        if (command_argument_count() > 0) then\n            call get_command_argument(1, buffer)\n            read (buffer, fmt=*, iostat=istat, iomsg=msg) rule_nr\n            if (istat /= 0) then\n                print '(2A)', 'error: ', msg\n                stop 1\n            end if\n        end if\n        if (command_argument_count() > 1) then\n            call get_command_argument(2, buffer)\n            read (buffer, fmt=*, iostat=istat, iomsg=msg) nr_cells\n            if (istat /= 0) then\n                print '(2A)', 'error: ', msg\n                stop 1\n            end if\n        end if\n        if (command_argument_count() > 2) then\n            call get_command_argument(3, buffer)\n            read (buffer, fmt=*, iostat=istat, iomsg=msg) max_steps\n            if (istat /= 0) then\n                print '(2A)', 'error: ', msg\n                stop 1\n            end if\n        end if\n    end subroutine get_parameters\n\nend program cellular_automata\n","lang":"fortran","filename":"section_cellular_automata.f90","key":"lmsbeTDpzP"}],"key":"LEvTyuASJF"}],"key":"sGTI1e2sLt"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"cellular_automata_mod.f90","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"t7SAbMwEwW"}],"identifier":"cellular-automata-mod-f90","label":"cellular_automata_mod.f90","html_id":"cellular-automata-mod-f90","implicit":true,"key":"qkOstoB5pP"},{"type":"include","file":"Fortran_Code/Section_Cellular_Automata/src/cellular_automata_mod.f90","literal":true,"children":[{"type":"code","value":"module cellular_automata_mod\n    use, intrinsic :: iso_fortran_env, only : error_unit\n    implicit none\n\n    private\n        integer, parameter, public :: nr_neighbouts = 3\n        type, public :: automaton_t\n            integer, dimension(0:2**nr_neighbouts - 1) :: rules\n            integer, dimension(:), allocatable :: cells\n        end type automaton_t\n\n        public :: init_automaton, step_automaton, print_automaton, &\n                  print_rules\n\ncontains\n\n    subroutine init_rule(rules, rule_nr)\n        implicit none\n        integer, dimension(0:2**nr_neighbouts - 1), intent(out) :: rules\n        integer, value :: rule_nr\n        integer i\n\n        do i = lbound(rules, 1), ubound(rules, 1)\n            rules(i) = mod(rule_nr, 2)\n            rule_nr = rule_nr/2\n        end do\n    end subroutine init_rule\n\n    function init_automaton(nr_cells, rule_nr) result(automaton)\n        implicit none\n        integer, value :: nr_cells, rule_nr\n        type(automaton_t) :: automaton\n        integer :: i, istat\n        real :: r\n\n        allocate(automaton%cells(nr_cells), stat=istat)\n        if (istat /= 0) then\n            write (unit=error_unit, fmt='(A)') &\n                'error: can not allocate cells'\n            stop 1\n        end if\n        do i = 1, nr_cells\n            call random_number(r)\n            if (r > 0.5) then\n                automaton%cells(i) = 1\n            else\n                automaton%cells(i) = 0\n            end if\n        end do    \n        call init_rule(automaton%rules, rule_nr)\n    end function init_automaton\n\n    function apply_rule(automaton, left, mid, right) result(new_mid)\n        implicit none\n        type(automaton_t), intent(in) :: automaton\n        integer, intent(in) :: left, mid, right\n        integer :: new_mid\n\n        new_mid = automaton%rules(4*left + 2*mid + right)\n    end function apply_rule\n\n    subroutine step_automaton(automaton)\n        implicit none\n        type(automaton_t), intent(inout) :: automaton\n        integer :: i, left, last_right, next_left\n\n        left = automaton%cells(size(automaton%cells))\n        last_right = automaton%cells(1)\n        do i = 1, size(automaton%cells) - 1\n            next_left = automaton%cells(i)\n            automaton%cells(i) = apply_rule(automaton, &\n                                            left, automaton%cells(i), &\n                                            automaton%cells(i + 1))\n            left = next_left\n        end do\n        automaton%cells(i) = apply_rule(automaton, &\n                                        left, automaton%cells(i), &\n                                        last_right)\n    end subroutine step_automaton\n\n    subroutine print_automaton(automaton)\n        use, intrinsic :: iso_fortran_env, only : output_unit\n        implicit none\n        type(automaton_t), intent(in) :: automaton\n        integer :: i\n        character :: c\n        \n        do i = 1, size(automaton%cells)\n            if (automaton%cells(i) == 1) then\n                c = 'X'\n            else\n                c = ' '\n            end if\n            write (unit=output_unit, fmt='(A)', advance='no') c\n        end do\n        print '(A)', ''\n    end subroutine print_automaton\n\n    function convert_to_neighbourhood(idx) result(neighbours)\n        implicit none\n        integer, value :: idx\n        character(len=3) :: neighbours\n        integer :: i\n\n        do i = nr_neighbouts, 1, -1\n            if (mod(idx, 2) == 0) then\n                neighbours(i:i) = '0'\n            else\n                neighbours(i:i) = '1'\n            end if\n            idx = idx/2\n        end do\n    end function convert_to_neighbourhood\n\n    subroutine print_rules(automaton)\n        implicit none\n        type(automaton_t), intent(in) :: automaton\n        integer :: i\n\n        do i = lbound(automaton%rules, 1), ubound(automaton%rules, 1)\n            print '(A3, x, I1)', convert_to_neighbourhood(i), &\n               automaton%rules(i)\n        end do\n    end subroutine print_rules\n\nend module cellular_automata_mod\n","lang":"fortran","filename":"cellular_automata_mod.f90","key":"Dpu8fd7Rzv"}],"key":"oceGYelu7U"}],"key":"wbIGQQiMkw"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The above program is compiled and run using Fortran Package Manager (fpm).  The following FPM configuration file (fpm.toml) was used:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qE0tKRy7i5"}],"key":"zEyc9ii0qL"}],"key":"eJXunevW3y"},{"type":"block","kind":"notebook-content","children":[{"type":"include","file":"Fortran_Code/Section_Cellular_Automata/fpm.toml","literal":true,"children":[{"type":"code","value":"name = \"Section_Cellular_Automata\"\n\n[build]\nauto-executables = true\nauto-tests = true\nauto-examples = true\nmodule-naming = false\n\n[install]\nlibrary = false\n\n[fortran]\nimplicit-typing = false\nimplicit-external = false\nsource-form = \"free\"\n\n[[executable]]\nname=\"Section_Cellular_Automata\"\nsource-dir=\"app\"\nmain=\"section_cellular_automata.f90\"\n\n","lang":"toml","filename":"fpm.toml","key":"FtXHMSduMH"}],"key":"V5ulp5QRVL"}],"key":"mvO0SAuzzb"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Build the Program using FPM (Fortran Package Manager)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jvXKiEO3L3"}],"identifier":"build-the-program-using-fpm-fortran-package-manager","label":"Build the Program using FPM (Fortran Package Manager)","html_id":"build-the-program-using-fpm-fortran-package-manager","implicit":true,"key":"vq4AewxkhW"}],"visibility":"show","key":"SNTnjDyhtL"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import os\nroot_dir = \"\"\nroot_dir = os.getcwd()","key":"GmUg1ndi6V"},{"type":"outputs","id":"2iZJo8xhnfrG9SYCHxAoG","children":[],"key":"jDBWIYgwY3"}],"key":"jVbd21SWgM"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"code_dir = root_dir + \"/\" + \"Fortran_Code/Section_Cellular_Automata\"","visibility":"show","key":"TUP4mVUTyv"},{"type":"outputs","id":"8sPF7hozYVtytdCjCUoBS","children":[],"visibility":"show","key":"aDeGvOtwIF"}],"visibility":"show","key":"THCyBiUJPB"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"os.chdir(code_dir)","key":"PQ29yuGJxv"},{"type":"outputs","id":"3JD0N6_G06ZXFT86lzFFH","children":[],"key":"ESMlm04XtM"}],"key":"mU8cBty8cj"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"build_status = os.system(\"fpm build 2>/dev/null\")","key":"N63mEYXdEZ"},{"type":"outputs","id":"8ky8-6EjDNJclwjh7GxQ6","children":[{"type":"output","jupyter_data":{"name":"stderr","output_type":"stream","text":"Project is up to date\n"},"children":[],"key":"pp8dpmp3mw"}],"key":"JP0J9TTHCx"}],"key":"WgcgtVs7t6"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Run and Animate the Program using FPM (Fortran Package Manager) and Python","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UC5XYurOAy"}],"identifier":"run-and-animate-the-program-using-fpm-fortran-package-manager-and-python","label":"Run and Animate the Program using FPM (Fortran Package Manager) and Python","html_id":"run-and-animate-the-program-using-fpm-fortran-package-manager-and-python","implicit":true,"key":"Ol4ZgYPSb0"}],"key":"qLXmikKv0F"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The program is run and the output is saved into a file named ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"r1BHW51yRL"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"output.txt","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Ue1Ev21DEr"}],"key":"lOOI8sQ0iD"},{"type":"text","value":".","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Kgbk0uZpAE"}],"key":"aXYsz0CWkW"}],"key":"SPwKUSnjBl"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"exec_status = \\\n    os.system(\"fpm run > output.txt 2> /dev/null\")","key":"sWBdlkD4Qq"},{"type":"outputs","id":"tXnUhkANoAOYiISnISGWf","children":[],"key":"n19AHebtjW"}],"key":"YUxoPEiNMK"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The program is run and the output is shown on the screen.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fsI0cBK40c"}],"key":"wigOfQJrk4"}],"key":"e21iRceKCQ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"exec_status = \\\n    os.system(\"fpm run 2> /dev/null\")","key":"ffQcaIGw84"},{"type":"outputs","id":"ddUBQh3PSXxjYqY7KwA_0","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"000 0\n001 1\n010 0\n011 1\n100 1\n101 0\n110 1\n111 0\nX   XX    XX X   X  X  X XXX  XXXXX  XX X  XXXX  X\nXX XXXX  XXX  X X XX XX  X XXXX   XXXXX  XXX  XXXX\n X X  XXXX XXX    XX XXXX  X  XX XX   XXXX XXXX   \nX   XXX  X X XX  XXX X  XXX XXXX XXX XX  X X  XX  \n X XX XXX    XXXXX X  XXX X X  X X X XXXX   XXXXXX\n   XX X XX  XX   X  XXX X    XX      X  XX XX    X\nX XXX   XXXXXXX X XXX X  X  XXXX    X XXXX XXX  X \n  X XX XX     X   X X  XX XXX  XX  X  X  X X XXX  \n X  XX XXX   X X X   XXXX X XXXXXXX XX XX    X XX \nX XXXX X XX X     X XX  X   X     X XX XXX  X  XXX\nX X  X   XX  X   X  XXXX X X X   X  XX X XXX XXX  \n   XX X XXXXX X X XXX  X      X X XXXX   X X X XXX\nX XXX   X   X     X XXX X    X    X  XX X      X X\nX X XX X X X X   X  X X  X  X X  X XXXX  X    X  X\nX   XX        X X XX   XX XX   XX  X  XXX X  X XXX\nXX XXXX      X    XXX XXX XXX XXXXX XXX X  XX  X  \nXX X  XX    X X  XX X X X X X X   X X X  XXXXXX XX\n X  XXXXX  X   XXXX            X X     XXX    X X \nX XXX   XXX X XX  XX          X   X   XX XX  X   X\nX X XX XX X   XXXXXXX        X X X X XXX XXXX X XX\nX   XX XX  X XX     XX      X        X X X  X   X \n X XXX XXXX  XXX   XXXX    X X      X     XX X X  \nX  X X X  XXXX XX XX  XX  X   X    X X   XXX    X \n XX     XXX  X XX XXXXXXXX X X X  X   X XX XX  X  \nXXXX   XX XXX  XX X      X      XX X X  XX XXXX X \nX  XX XXX X XXXXX  X    X X    XXX    XXXX X  X   \n XXXX X X   X   XXX X  X   X  XX XX  XX  X  XX X X\n X  X    X X X XX X  XX X X XXXX XXXXXXXX XXXX    \nX XX X  X      XX  XXXX     X  X X      X X  XX   \n  XX  XX X    XXXXXX  XX   X XX   X    X   XXXXX X\nXXXXXXXX  X  XX    XXXXXX X  XXX X X  X X XX   X  \nX      XXX XXXXX  XX    X  XXX X    XX    XXX X XX\nXX    XX X X   XXXXXX  X XXX X  X  XXXX  XX X   X \nXXX  XXX    X XX    XXX  X X  XX XXX  XXXXX  X X  \nX XXXX XX  X  XXX  XX XXX   XXXX X XXXX   XXX   XX\nX X  X XXXX XXX XXXXX X XX XX  X   X  XX XX XX XX \n   XX  X  X X X X   X   XX XXXX X X XXXX XX XX XX \n  XXXXX XX       X X X XXX X  X     X  X XX XX XXX\nXXX   X XXX     X      X X  XX X   X XX  XX XX X X\n  XX X  X XX   X X    X   XXXX  X X  XXXXXX XX   X\nXXXX  XX  XXX X   X  X X XX  XXX   XXX    X XXX X \nX  XXXXXXXX X  X X XX    XXXXX XX XX XX  X  X X   \n XXX      X  XX    XXX  XX   X XX XX XXXX XX   X X\n X XX    X XXXXX  XX XXXXXX X  XX XX X  X XXX X   \nX  XXX  X  X   XXXXX X    X  XXXX XX  XX  X X  X  \n XXX XXX XX X XX   X  X  X XXX  X XXXXXXXX   XX XX\n X X X X XX   XXX X XX XX  X XXX  X      XX XXX XX\n         XXX XX X   XX XXXX  X XXX X    XXX X X XX\nX       XX X XX  X XXX X  XXX  X X  X  XX X     XX\nXX     XXX   XXXX  X X  XXX XXX   XX XXXX  X   XX \nXXX   XX XX XX  XXX   XXX X X XX XXX X  XXX X XXX \nX XX XXX XX XXXXX XX XX X     XX X X  XXX X   X X \n  XX X X XX X   X XX XX  X   XXX    XXX X  X X    \n XXX     XX  X X  XX XXXX X XX XX  XX X  XX   X   \nXX XX   XXXXX   XXXX X  X   XX XXXXXX  XXXXX X X  \nXX XXX XX   XX XX  X  XX X XXX X    XXXX   X    XX\n X X X XXX XXX XXXX XXXX   X X  X  XX  XX X X  XX \nX      X X X X X  X X  XX X   XX XXXXXXXX    XXXXX\nXX    X         XX   XXXX  X XXX X      XX  XX    \nXXX  X X       XXXX XX  XXX  X X  X    XXXXXXXX  X\n  XXX   X     XX  X XXXXX XXX   XX X  XX      XXXX\nXXX XX X X   XXXXX  X   X X XX XXX  XXXXX    XX  X\n  X XX    X XX   XXX X X    XX X XXXX   XX  XXXXXX\nXX  XXX  X  XXX XX X    X  XXX   X  XX XXXXXX    X\n XXXX XXX XXX X XX  X  X XXX XX X XXXX X    XX  XX\n X  X X X X X   XXXX XX  X X XX   X  X  X  XXXXXXX\n  XX         X XX  X XXXX    XXX X XX XX XXX     X\nXXXXX       X  XXXX  X  XX  XX X   XX XX X XX   X \nX   XX     X XXX  XXX XXXXXXXX  X XXX XX   XXX X  \n X XXXX   X  X XXXX X X      XXX  X X XXX XX X  XX\n   X  XX X XX  X  X    X    XX XXX    X X XX  XXXX\nX X XXXX   XXXX XX X  X X  XXX X XX  X    XXXXX  X\nX   X  XX XX  X XX  XX   XXX X   XXXX X  XX   XXXX\nXX X XXXX XXXX  XXXXXXX XX X  X XX  X  XXXXX XX   \nXX   X  X X  XXXX     X XX  XX  XXXX XXX   X XXX X\n XX X XX   XXX  XX   X  XXXXXXXXX  X X XX X  X X X\n XX   XXX XX XXXXXX X XXX       XXX    XX  XX     \nXXXX XX X XX X    X   X XX     XX XX  XXXXXXXX    \nX  X XX   XX  X  X X X  XXX   XXX XXXXX      XX  X\nXXX  XXX XXXXX XX     XXX XX XX X X   XX    XXXXXX\n  XXXX X X   X XXX   XX X XX XX    X XXXX  XX     \n XX  X    X X  X XX XXX   XX XXX  X  X  XXXXXX    \nXXXXX X  X   XX  XX X XX XXX X XXX XX XXX    XX   \nX   X  XX X XXXXXXX   XX X X   X X XX X XX  XXXX X\nXX X XXXX   X     XX XXX    X X    XX   XXXXX  X X\n X   X  XX X X   XXX X XX  X   X  XXXX XX   XXX  X\n  X X XXXX    X XX X   XXXX X X XXX  X XXX XX XXX \n X    X  XX  X  XX  X XX  X     X XXX  X X XX X XX\n  X  X XXXXXX XXXXXX  XXXX X   X  X XXX    XX   XX\nXX XX  X    X X    XXXX  X  X X XX  X XX  XXXX XXX\n X XXXX X  X   X  XX  XXX XX    XXXX  XXXXX  X X  \nX  X  X  XX X X XXXXXXX X XXX  XX  XXXX   XXX   X \n XX XX XXXX     X     X   X XXXXXXXX  XX XX XX X  \nXXX XX X  XX   X X   X X X  X      XXXXX XX XX  X \nX X XX  XXXXX X   X X     XX X    XX   X XX XXXX  \n    XXXXX   X  X X   X   XXX  X  XXXX X  XX X  XXX\nX  XX   XX X XX   X X X XX XXX XXX  X  XXXX  XXX X\nXXXXXX XXX   XXX X      XX X X X XXX XXX  XXXX X X\n     X X XX XX X  X    XXX       X X X XXXX  X   X\nX   X    XX XX  XX X  XX XX     X      X  XXX X X \n X X X  XXX XXXXXX  XXXX XXX   X X    X XXX X     \n"},"children":[],"key":"dag3yetntY"}],"key":"U7CHDT9AX0"}],"key":"iwm1pe95RB"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Animation of Cellular Automata","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ytGZzgwT1w"}],"identifier":"animation-of-cellular-automata","label":"Animation of Cellular Automata","html_id":"animation-of-cellular-automata","implicit":true,"key":"qOwAUvRt7y"}],"key":"hx0CaG67XY"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import numpy as np\nimport matplotlib.pyplot as plt\nfrom matplotlib.animation import FuncAnimation\nfrom IPython.display import HTML\nimport subprocess","key":"uE3eMUpPml"},{"type":"outputs","id":"KQn4SFNL1TrKbCbQg8M0M","children":[],"key":"tcgEmmv1Mf"}],"key":"Wh1ECYB5fk"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"\ndef run_fortran_ca(rule=90, nr_cells=50, max_steps=100):\n\n    # Call the Fortran program using FPM\n    # The correct way to call FPM is to use:\n    # fpm run -- rule_nr nr_cells max_steps\n    # from subprocess.run\n    # This will execute the Fortran program with the specified parameters\n    if not isinstance(rule, int) or rule < 0:\n        raise ValueError(\"Rule must be a non-negative integer.\")\n    if not isinstance(nr_cells, int) or nr_cells <= 0:\n        raise ValueError(\"Number of cells must be a positive integer.\")\n    if not isinstance(max_steps, int) or max_steps <= 0:\n        raise ValueError(\"Maximum steps must be a positive integer.\")\n\n    # Run the Fortran program with the specified parameters\n    # The Fortran program expects the rule number, number of cells, and max steps as command line arguments\n    # redirect the output to 'output.txt' and errors to /dev/null\n    process = subprocess.run(\n        f\"fpm run -- {str(rule)} {str(nr_cells)} {str(max_steps)} > output.txt 2> /dev/null\", shell=True, text=True\n    )\n\n    # Check if the process was successful\n    if process.returncode != 0:\n        raise RuntimeError(\"Fortran program failed to run. Please check the Fortran code and the parameters provided.\")\n\n    # Check if the output file was created\n    if not os.path.exists(\"output.txt\"):\n        raise FileNotFoundError(\"Output file 'output.txt' was not created. Please check if the Fortran program ran successfully.\")\n\n    # Read the output file 'output.txt' generated by the Fortran program\n    with open(\"output.txt\", \"r\") as f:\n        output = f.read().splitlines()\n\n    # Check if the output is empty\n    if not output:\n        raise ValueError(\"The output file is empty. Please check if the Fortran program ran successfully.\")\n    \n    # Parse the output: skip rule print, collect lines that are the grid states\n    history = []\n    for i, line in enumerate(output):\n        # Only remove line endings, preserve all spaces\n        cleaned_line = line.rstrip('\\r\\n')\n        # Use {' ', 'X'} if your Fortran uses 'X'; otherwise {' ', '*'}\n        is_valid = len(cleaned_line) == nr_cells and set(cleaned_line).issubset({' ', 'X'})\n        # Debug logging\n        #print(f\"Line {i+1}: '{cleaned_line}' (Length: {len(cleaned_line)}, Valid: {is_valid})\")\n        if is_valid:\n            # Convert ' ' to 0, 'X' to 1 (or '*' to 1 if using '*')\n            row = np.array([1 if c == 'X' else 0 for c in cleaned_line])\n            #print(f\"Parsed row: {row}\")\n            # Append the row to the history\n            history.append(row)\n    \n    # Stack into 2D array (steps + 1 rows, nr_cells columns)\n    history = np.array(history)\n    # Check expected vs actual\n    expected_steps = max_steps + 1\n    if history.shape[0] != expected_steps:\n        print(f\"Warning: Expected {expected_steps} steps, parsed {history.shape[0]}\")\n    return history","key":"CgbLmD0Wru"},{"type":"outputs","id":"ki4GhnE28uawKHTcGqLRe","children":[],"key":"GZvFuLcjAI"}],"key":"d2wWlU32Ev"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"run_fortran_ca(rule=90, nr_cells=50, max_steps=100)","key":"UKmry3wmVH"},{"type":"outputs","id":"3V6B9wwNZSKeM_1sw20xQ","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":76,"metadata":{},"data":{"text/plain":{"content":"array([[1, 1, 1, ..., 1, 1, 1],\n       [0, 0, 1, ..., 0, 0, 0],\n       [0, 1, 1, ..., 1, 0, 0],\n       ...,\n       [0, 1, 1, ..., 1, 0, 1],\n       [0, 1, 1, ..., 0, 0, 0],\n       [1, 1, 1, ..., 0, 0, 0]], shape=(101, 50))","content_type":"text/plain"}}},"children":[],"key":"pZAKjA5Z1K"}],"key":"JfTDItacfn"}],"key":"x95HBNrzcd"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"# Main animation function\ndef animate_ca(rule=90, width=50, steps=100):\n    history = run_fortran_ca(rule, width, steps)\n    \n    fig, ax = plt.subplots(figsize=(7, 7))\n    ax.set_axis_off()\n    img = ax.imshow(history, cmap='binary', interpolation='nearest', aspect='auto')\n    \n    def animate(frame):\n        img.set_data(history[:frame + 1])\n        ax.set_title(f'Elementary Cellular Automaton - Rule {rule}\\nStep: {frame}')\n        return [img]\n    \n    anim = FuncAnimation(fig, animate, frames=history.shape[0], interval=100, blit=True)\n    plt.close(fig)\n    return HTML(anim.to_jshtml())\n","key":"Mq1DgCubAq"},{"type":"outputs","id":"DGlKSByCPJsT6Ca55lCDJ","children":[],"key":"JLx8m2cycV"}],"key":"l3w9T5ZO7N"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"\nanimate_ca(rule=90, width=50, steps=100)","key":"F1wl66zMeU"},{"type":"outputs","id":"MH2S90Xykj3qr534OAJWq","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":85,"metadata":{},"data":{"text/html":{"content_type":"text/html","hash":"a8712646091cbd894f4d31e94d396016","path":"/build/a8712646091cbd894f4d31e94d396016.html"},"text/plain":{"content":"<IPython.core.display.HTML object>","content_type":"text/plain"}}},"children":[],"key":"J7AzWuJ72E"}],"key":"OsvyGQMpwX"}],"key":"d7E20Sbfvd"}],"key":"gQosQMwRQa"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Section: Cellular Automata","url":"/sections/computer-programming/fortran/fortran-mooc/section-cellular-automata-head","group":"Computer Programming"},"next":{"title":"Section: Computing Pi","url":"/sections/computer-programming/fortran/fortran-mooc/section-computing-pi","group":"Computer Programming"}}},"domain":"http://localhost:3015"}