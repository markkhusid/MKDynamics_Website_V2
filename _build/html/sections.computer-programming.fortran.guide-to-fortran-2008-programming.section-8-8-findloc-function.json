{"version":3,"kind":"Notebook","sha256":"c8fa74ee730684d6e2d5f4712d33ac0b090627f66f4c1ec369d9d6c8ba578a55","slug":"sections.computer-programming.fortran.guide-to-fortran-2008-programming.section-8-8-findloc-function","location":"/Sections/Computer_Programming/Fortran/Guide_to_Fortran_2008_Programming/Section_8_8_Findloc_Function.ipynb","dependencies":[],"frontmatter":{"title":"Section 8.8: Findloc Function","content_includes_title":true,"kernelspec":{"name":"python3","display_name":"Python 3.9.2 64-bit","language":"python"},"authors":[{"nameParsed":{"literal":"Mark Khusid","given":"Mark","family":"Khusid"},"name":"Mark Khusid","id":"contributors-myst-generated-uid-0"}],"github":"https://github.com/markkhusid/MKDynamics_Website_V2","numbering":{"title":{"offset":4}},"source_url":"https://github.com/markkhusid/MKDynamics_Website_V2/blob/master/Sections/Computer_Programming/Fortran/Guide_to_Fortran_2008_Programming/Section_8_8_Findloc_Function.ipynb","edit_url":"https://github.com/markkhusid/MKDynamics_Website_V2/edit/master/Sections/Computer_Programming/Fortran/Guide_to_Fortran_2008_Programming/Section_8_8_Findloc_Function.ipynb","exports":[{"format":"ipynb","filename":"Section_8_8_Findloc_Function.ipynb","url":"/build/Section_8_8_Findloc_-320612659930176622322f93440bd5da.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"code","lang":"","value":"---\njupytext:\n  formats: md:myst\n  text_representation:\n    extension: .md\n    format_name: myst\nkernelspec:\n  display_name: Python 3\n  language: python\n  name: python3\n---","key":"WAeF9QVgAi"}],"key":"JCxPRuUgji"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Section 8.8: Findloc Function","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JBbRdHrxtA"}],"identifier":"section-8-8-findloc-function","label":"Section 8.8: Findloc Function","html_id":"section-8-8-findloc-function","implicit":true,"key":"yfUMIivWS8"}],"visibility":"show","key":"KQwa3dYCPg"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Adapted from: “Guide to Fortran 2008 Programming” by Walter S. Brainerd (Springer 2015)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VXGG4351rw"}],"key":"NiF8VW1qGH"}],"key":"ooNR6oCIpN"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Program to demonstrate the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"i16SFzE8Vx"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"findloc","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jDzLrGKRyf"}],"key":"NrUPC6jU45"},{"type":"text","value":" function.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VDnI5XUOSj"}],"identifier":"program-to-demonstrate-the-findloc-function","label":"Program to demonstrate the findloc function.","html_id":"program-to-demonstrate-the-findloc-function","implicit":true,"key":"yhtzNkZNR3"}],"key":"s7MpiaMVRp"},{"type":"block","kind":"notebook-content","children":[{"type":"code","lang":"fortran","value":"program find_loc\n\n    implicit none\n\n    intrinsic :: findloc\n\n    real, dimension (3,3)   :: X =          &\n        reshape (                           &\n                    [   -11,  12, -13,      &\n                         21,  22, -23,      &\n                         31, -32, -33 ],    &\n                    [ 3, 3 ], order = [ 2, 1 ] )\n\n    logical, parameter      :: T = .true.\n\n    write (*,'(a)') \"[*] The matrix X\"\n    call write_matrix(X)\n\n    write (*,*)\n\n    write (*,'(a)') \"[*] Begin findloc call...\"\n    write (*,'(a)') \"findloc( X > 0, T )\"\n    write (*,'(a, 2i2, a)')  \"The first element where (i,j) > 0 is: (\", &\n        findloc( X > 0, T ), &\n        \") in column major order.\"            ! = [ 2, 1 ]\n\n    contains\n\n        subroutine write_matrix(a)\n            real, dimension(:,:), intent(in) :: a\n            integer :: i, j\n            do i = lbound(a,1), ubound(a,1)\n                write (*,*) (a(i,j), j = lbound(a,2), ubound(a,2))\n            end do\n        end subroutine write_matrix\n\nend program find_loc","position":{"start":{"line":1,"column":1},"end":{"line":39,"column":1}},"key":"WllfB9hNmX"}],"key":"nnnFtNUzAu"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The above program is compiled and run using Fortran Package Manager (fpm):","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fE2jOaLcjA"}],"key":"Gt7xu7Q3ja"}],"key":"cGVWkPNJ99"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import os\nroot_dir = os.getcwd()","key":"a7qJ9nSpUP"},{"type":"outputs","id":"NQm9G4_NME3UFZ30MhXUe","children":[],"key":"bh2N6vg92n"}],"key":"orIawQfK71"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"code_dir = root_dir + \"/\" + \"Fortran_Code/Section_8_8_Findloc_Function\"","key":"gqnZckVIYb"},{"type":"outputs","id":"iXOw2OMO0CpROcq9cgR99","children":[],"key":"efczIXX5qT"}],"key":"MwN5081ZQY"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"os.chdir(code_dir)","key":"PQgOMdNWGw"},{"type":"outputs","id":"NdPcAVkMWkQhPaE4lMuqW","children":[],"key":"LyrZKtm9JQ"}],"key":"hNtr8OzKN7"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"build_status = os.system(\"fpm build 2>/dev/null\")","key":"oPpJ6buHT0"},{"type":"outputs","id":"RyaiHUTXBmkGcnvpIik24","children":[],"key":"IQuso79rm6"}],"key":"uAf9DBaFex"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"exec_status = os.system(\"fpm run 2>/dev/null\")","key":"HlcvunWxP4"},{"type":"outputs","id":"tOx0-WQDtdC8C1-XuWijJ","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"[*] The matrix X\n  -11.0000000       12.0000000      -13.0000000    \n   21.0000000       22.0000000      -23.0000000    \n   31.0000000      -32.0000000      -33.0000000    \n\n[*] Begin findloc call...\nfindloc( X > 0, T )\nThe first element where (i,j) > 0 is: ( 2 1) in column major order.\n"},"children":[],"key":"sNtG9RYddf"}],"key":"EM8HaSuVDa"}],"key":"Qp542Nrb4w"}],"key":"z5CyQISQrH"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Section 8.7: Generic Elemental Procedures","url":"/sections/computer-programming/fortran/guide-to-fortran-2008-programming/section-8-7-generic-elemental-procedures","group":"Computer Programming"},"next":{"title":"Fortran MOOC","url":"/sections/computer-programming/fortran/fortran-mooc/fortran-mooc","group":"Computer Programming"}}},"domain":"http://localhost:3007"}