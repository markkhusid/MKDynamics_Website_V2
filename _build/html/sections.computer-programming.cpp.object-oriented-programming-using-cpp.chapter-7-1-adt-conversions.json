{"version":3,"kind":"Notebook","sha256":"7e1949bc26e719248f48fcb82947a03ce8ae5546922eb5dc3e3c2e5f3c815f34","slug":"sections.computer-programming.cpp.object-oriented-programming-using-cpp.chapter-7-1-adt-conversions","location":"/Sections/Computer_Programming/CPP/Object_Oriented_Programming_Using_Cpp/Chapter_7_1_ADT_Conversions.ipynb","dependencies":[],"frontmatter":{"title":"Chapter 7.1: ADT Conversions","content_includes_title":true,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"authors":[{"nameParsed":{"literal":"Mark Khusid","given":"Mark","family":"Khusid"},"name":"Mark Khusid","id":"contributors-myst-generated-uid-0"}],"github":"https://github.com/markkhusid/MKDynamics_Website_V2","numbering":{"title":{"offset":5}},"source_url":"https://github.com/markkhusid/MKDynamics_Website_V2/blob/master/Sections/Computer_Programming/CPP/Object_Oriented_Programming_Using_Cpp/Chapter_7_1_ADT_Conversions.ipynb","edit_url":"https://github.com/markkhusid/MKDynamics_Website_V2/edit/master/Sections/Computer_Programming/CPP/Object_Oriented_Programming_Using_Cpp/Chapter_7_1_ADT_Conversions.ipynb","exports":[{"format":"ipynb","filename":"Chapter_7_1_ADT_Conversions.ipynb","url":"/build/Chapter_7_1_ADT_Conv-bf2a47a4d8d2c36a309e02d28e4de60e.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"code","lang":"","value":"---\njupytext:\n  formats: md:myst\n  text_representation:\n    extension: .md\n    format_name: myst\nkernelspec:\n  display_name: Python 3\n  language: python\n  name: python3\n---","key":"rXBGxgaJWJ"}],"key":"GblO6ocVPZ"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Chapter 7.1: ADT Conversions","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pj4S2pw7D8"}],"identifier":"chapter-7-1-adt-conversions","label":"Chapter 7.1: ADT Conversions","html_id":"chapter-7-1-adt-conversions","implicit":true,"key":"exD8DAVClR"}],"visibility":"show","key":"Ln0ASVCtJR"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Adapted from: “Object-Oriented Programming Using C++” by Ira Pohl (Addison - Wesley)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WFcPZ53IzD"}],"key":"dkPkNdWw35"}],"key":"bbZrBL9QVF"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Program that demonstrates an implicit copy constructor in C++","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mqnwebGInk"}],"identifier":"program-that-demonstrates-an-implicit-copy-constructor-in-c","label":"Program that demonstrates an implicit copy constructor in C++","html_id":"program-that-demonstrates-an-implicit-copy-constructor-in-c","implicit":true,"key":"YUVmF9CpHd"}],"key":"QwrkRWtZaf"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"In file string7.cpp","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NdtD74MuHC"}],"key":"GBlEji7y0q"}],"key":"QWBYqr1i0C"},{"type":"block","kind":"notebook-content","children":[{"type":"code","lang":"c++","value":"/*********************************************************************\n\n  Filename:  string7.cpp\n  Chapter:   7      Ad Hoc Polymorphism\n  Section:   7.1    ADT Conversions\n  Compiler:  Borland C++     Version 5.0       Summer 1996\n  Object Oriented Programming Using C++, Edition 2   By Ira Pohl\n\n*********************************************************************/\n\n// An implementation of dynamically allocated strings.\n// with conversions and overloaded assignment\n\n#include <iostream>\n#include <string.h>\n#include <assert.h>\n\nusing namespace std;\n\nclass my_string {\npublic:\n   my_string() : len(0)\n      { \n         s = new char[1];\n         assert(s != 0); \n         s[0] = 0;\n      }\n   my_string(const my_string& str); //copy constructor\n   my_string(const char* p);        //conversion constructor\n   ~my_string() \n      { \n         delete []s; \n      }\n   void print() const \n      { \n         cout << s << endl; \n      }\n   // Had to make the parameter const so that the program can compile.  MK.   \n   my_string operator=(const my_string& a);\n   operator char*();     //conversion to char*\nprivate:\n   char*  s;\n   int    len;\n};\n\n// No return type.  MK.\nmy_string::operator char*()\n{\n   char*  p = new char[len + 1];\n   assert(p != 0);\n   strcpy(p, s);\n   return p;\n}\n\nmy_string::my_string(const char* p)\n{\n   len = strlen(p);\n   s = new char[len + 1];\n   assert(s != 0);\n   strcpy(s, p);\n}\n\nmy_string::my_string(const my_string& str) : len(str.len)\n{\n   s = new char[len + 1];\n   assert(s != 0);\n   strcpy(s, str.s);\n}\n\n// Had to make the parameter const so that the program can compile.  MK.\nmy_string my_string::operator=(const my_string& a)\n{\n   if (this != &a) {       //a = a; do nothing\n      if (a.len != len) {  //  if need different size string\n         delete []s;\n         len = a.len;\n         s = new char[len + 1];\n         assert(s != 0);\n      }\n      strcpy(s, a.s);\n   }\n   return *this;\n}\n\nint main()\n{\n   my_string s(\"Test it\"), c(\"One\"), d(\"Two\");\n   char* logo = \"Geometrics Inc\";\n   char* logo2 = \"MK Dynamics Inc\";\n   char* testit;\n\n   testit = s;\n   cout << testit << endl;     // check convert my_string to char*\n   s = \"One two three\";\n   s.print();\n   s = logo;                   // check convert char* to my_string and =\n   s.print();\n   s = static_cast<my_string>(logo2);\n   s.print();\n   c = s = d;                  //check multiple assign on overloaded =\n   c.print();\n   s.print();\n}","position":{"start":{"line":1,"column":1},"end":{"line":105,"column":1}},"key":"podBa6y7wr"}],"key":"cmwLVkuDoO"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Compilation Process","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YJQoM1p1lG"}],"identifier":"compilation-process","label":"Compilation Process","html_id":"compilation-process","implicit":true,"key":"yjBNFIf36F"}],"key":"JrQpsqGyGx"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The above program is compiled and run using Gnu Compiler Collection (g++):","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uTPSsBxcnH"}],"key":"uUKGsbmSLl"}],"key":"eMVSsyQvD0"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import os\nroot_dir = os.getcwd()","key":"V9oNl48SOB"},{"type":"outputs","id":"OrRR-eb4g12RVrwEhpApn","children":[],"key":"p1gNUlaqKo"}],"key":"kZtJchAK9h"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"code_dir = root_dir + \"/\" + \\\n    \"Cpp_Code/Chapter_7_1_ADT_Conversions\"","key":"v8ywLIZS84"},{"type":"outputs","id":"feRdb4or0qC-t5umb3gZD","children":[],"key":"vWM657zR2a"}],"key":"a678xr8T4F"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"os.chdir(code_dir)","key":"GJ9yySSnzW"},{"type":"outputs","id":"5b5kc6R1BvFWEdutlRqdk","children":[],"key":"F5vJPHJFCf"}],"key":"RDo0qdydrW"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"build_command = os.system(\"g++ string7.cpp -w -o string7\")","key":"SBS6MNYqbl"},{"type":"outputs","id":"GFBf5ZAJSGCSk_98il-b_","children":[],"key":"kCZ4bQ3o8o"}],"key":"x69qs3u5gc"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Execution Process","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VnX2W5Mua8"}],"identifier":"execution-process","label":"Execution Process","html_id":"execution-process","implicit":true,"key":"aUHdO1TbVS"}],"key":"IxKN7O2t1k"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"exec_status = os.system(\"./string7\")","key":"abS4InjK9D"},{"type":"outputs","id":"DI6qjUha7s5IFZchoVLjV","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Test it\nOne two three\nGeometrics Inc\nMK Dynamics Inc\nTwo\nTwo\n"},"children":[],"key":"iSZH5mBcnU"}],"key":"h5FO3N4cNr"}],"key":"qu8fKJY5FW"}],"key":"FGu4yB7HRy"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Chapter 7: Ad Hoc Polymorphism","url":"/sections/computer-programming/cpp/object-oriented-programming-using-cpp/object-oriented-programming-using-cpp-ch-7","group":"Computer Programming"},"next":{"title":"Chapter 7.2: Overloading and Function Selection","url":"/sections/computer-programming/cpp/object-oriented-programming-using-cpp/chapter-7-2-overloading-and-function-selection","group":"Computer Programming"}}},"domain":"http://localhost:3023"}