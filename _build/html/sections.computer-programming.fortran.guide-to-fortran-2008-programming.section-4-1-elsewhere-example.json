{"version":3,"kind":"Notebook","sha256":"75e6bdc85a50b4574c710bf2f6a222a075fdb1a8fbc84f2d7bdb4382f7a17d5e","slug":"sections.computer-programming.fortran.guide-to-fortran-2008-programming.section-4-1-elsewhere-example","location":"/Sections/Computer_Programming/Fortran/Guide_to_Fortran_2008_Programming/Section_4_1_Elsewhere_Example.ipynb","dependencies":[],"frontmatter":{"title":"Section 4.1: Elsewhere Example","content_includes_title":true,"kernelspec":{"name":"python3","display_name":"Python 3.9.2 64-bit","language":"python"},"authors":[{"nameParsed":{"literal":"Mark Khusid","given":"Mark","family":"Khusid"},"name":"Mark Khusid","id":"contributors-myst-generated-uid-0"}],"github":"https://github.com/markkhusid/MKDynamics_Website_V2","numbering":{"title":{"offset":4}},"source_url":"https://github.com/markkhusid/MKDynamics_Website_V2/blob/master/Sections/Computer_Programming/Fortran/Guide_to_Fortran_2008_Programming/Section_4_1_Elsewhere_Example.ipynb","edit_url":"https://github.com/markkhusid/MKDynamics_Website_V2/edit/master/Sections/Computer_Programming/Fortran/Guide_to_Fortran_2008_Programming/Section_4_1_Elsewhere_Example.ipynb","exports":[{"format":"ipynb","filename":"Section_4_1_Elsewhere_Example.ipynb","url":"/build/Section_4_1_Elsewher-f2df942ed291ba0f16ff184cc9de144f.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"code","lang":"","value":"---\njupytext:\n  formats: md:myst\n  text_representation:\n    extension: .md\n    format_name: myst\nkernelspec:\n  display_name: Python 3\n  language: python\n  name: python3\n---","key":"cD8dVtyxOe"}],"key":"Loz9lV6rKb"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Section 4.1: Elsewhere Example","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TsbT5pZgFT"}],"identifier":"section-4-1-elsewhere-example","label":"Section 4.1: Elsewhere Example","html_id":"section-4-1-elsewhere-example","implicit":true,"key":"IzXx20JTQq"}],"visibility":"show","key":"l0Me6SlUsz"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Adapted from: “Guide to Fortran 2008 Programming” by Walter S. Brainerd (Springer 2015)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jLVoxdOUjd"}],"key":"CJBBjzPlp0"}],"key":"G9wl9a4rhS"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Program to demonstrate the use of the ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rmurVnHC6F"},{"type":"emphasis","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"elsewhere","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Nr1jQvNZkd"}],"key":"SexD51ub5H"},{"type":"text","value":" construct.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iaMkniSSRi"}],"identifier":"program-to-demonstrate-the-use-of-the-elsewhere-construct","label":"Program to demonstrate the use of the elsewhere construct.","html_id":"program-to-demonstrate-the-use-of-the-elsewhere-construct","implicit":true,"key":"P26fA46GBt"}],"key":"iMBr6DYZ2x"},{"type":"block","kind":"notebook-content","children":[{"type":"code","lang":"fortran","value":"program elsewhere_example\n\n    implicit none\n    integer, parameter          :: n = 15\n    integer, dimension(n, n)    :: key\n    integer                     :: i, j\n    real, dimension(n, n)       :: a\n\n    call random_number(a)\n    do i = 1, n\n        do j = 1, n\n            if (i > j) then\n                ! Put negative numbers below the diagonal\n                a(i, j) = -a(i, j) - 2.0\n            else if (i < j) then\n                ! Put positive numbers above the diagonal\n                a(i, j) = a(i, j) + 2.0\n            else\n                ! Put zeros on the diagonal\n                a(i, j) = 0.0\n            end if\n        end do\n    end do\n\n    where (a > 0)\n        key = 1\n    elsewhere (a < 0)\n        key = -1\n    elsewhere\n        key = 0\n    end where\n\n    write (*, \"(15f5.1)\") (a(i,:), i=1,n)\n    print *\n    write (*, \"(15i5)\") (key(i,:), i=1,n)\nend program elsewhere_example","position":{"start":{"line":1,"column":1},"end":{"line":38,"column":1}},"key":"RLknmWkYJS"}],"key":"OaOfNY8XYD"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The above program is compiled and run using Fortran Package Manager (fpm):","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cz0POfG8rx"}],"key":"slJdDrlxk7"}],"key":"Y6NCNPeyye"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import os\nroot_dir = os.getcwd()","key":"JRg9q99XBa"},{"type":"outputs","id":"S0Rcg7xYPyJCqHWhVWwC9","children":[],"key":"UjtY017SCX"}],"key":"QzmGgQvyjg"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"code_dir = root_dir + \"/\" + \"Fortran_Code/Section_4_1_Elsewhere_Example\"","key":"CLKTKmUvB5"},{"type":"outputs","id":"xkoLDMoobZgPR-2f56NXq","children":[],"key":"zveCNXvqY3"}],"key":"RV2Vpv8XoM"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"os.chdir(code_dir)","key":"TztxbJNowv"},{"type":"outputs","id":"Zqe06r8DzzkzSjuo4Hvt9","children":[],"key":"RumlMfRDXO"}],"key":"sdonBVECOJ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"build_status = os.system(\"fpm build 2>/dev/null\")","key":"hcJhtghvdv"},{"type":"outputs","id":"ie6uvU0Bj4SaFtNt7xW2m","children":[],"key":"PqgFTC6n1t"}],"key":"tCyVuGQUwA"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"exec_status = os.system(\"fpm run 2>/dev/null\")","key":"uk44zjk676"},{"type":"outputs","id":"56HA9TxSqRAeta4_4e0sk","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"  0.0  2.9  2.7  2.0  2.7  2.9  3.0  2.6  2.9  2.3  2.7  2.6  2.6  2.8  2.8\n -2.0  0.0  2.8  2.1  2.6  2.6  2.5  2.9  2.6  2.0  2.9  2.2  3.0  2.2  2.7\n -3.0 -2.6  0.0  2.8  2.4  2.1  2.8  2.1  2.6  2.5  2.4  2.7  2.6  2.6  2.6\n -2.5 -2.0 -3.0  0.0  2.6  2.4  2.9  2.2  2.5  2.1  2.5  2.0  2.3  2.7  2.2\n -2.9 -2.8 -2.4 -2.1  0.0  2.5  2.8  2.8  2.8  2.0  2.8  2.2  2.8  2.4  2.4\n -2.3 -2.7 -2.9 -2.7 -2.6  0.0  2.8  2.3  2.5  2.8  2.5  3.0  2.9  2.7  2.3\n -2.2 -2.2 -2.6 -2.2 -2.9 -2.1  0.0  2.2  2.0  2.8  2.1  2.3  2.2  2.4  2.2\n -2.4 -2.7 -3.0 -2.4 -2.3 -2.3 -2.5  0.0  2.2  2.7  2.9  2.1  2.9  2.6  2.2\n -2.4 -2.6 -2.1 -2.5 -2.2 -2.2 -3.0 -2.3  0.0  2.4  2.2  2.5  2.2  2.8  2.1\n -2.4 -2.9 -2.2 -2.9 -2.3 -2.4 -2.0 -2.3 -2.1  0.0  2.4  2.1  2.2  2.7  2.8\n -2.2 -2.1 -3.0 -2.7 -2.5 -2.4 -2.9 -2.7 -2.8 -2.8  0.0  2.9  2.1  2.2  2.8\n -2.8 -2.4 -2.7 -2.3 -2.9 -2.2 -2.7 -2.3 -3.0 -2.6 -2.5  0.0  2.8  3.0  2.5\n -2.4 -2.1 -2.9 -2.9 -2.2 -2.3 -2.7 -2.3 -2.6 -2.1 -2.4 -2.4  0.0  3.0  2.3\n -2.4 -2.9 -2.3 -2.9 -2.5 -2.0 -2.9 -2.3 -2.2 -2.6 -2.7 -2.4 -2.4  0.0  2.1\n -2.2 -2.3 -2.8 -2.6 -2.3 -2.2 -2.3 -2.4 -2.5 -2.6 -2.1 -2.4 -2.4 -2.8  0.0\n\n    0    1    1    1    1    1    1    1    1    1    1    1    1    1    1\n   -1    0    1    1    1    1    1    1    1    1    1    1    1    1    1\n   -1   -1    0    1    1    1    1    1    1    1    1    1    1    1    1\n   -1   -1   -1    0    1    1    1    1    1    1    1    1    1    1    1\n   -1   -1   -1   -1    0    1    1    1    1    1    1    1    1    1    1\n   -1   -1   -1   -1   -1    0    1    1    1    1    1    1    1    1    1\n   -1   -1   -1   -1   -1   -1    0    1    1    1    1    1    1    1    1\n   -1   -1   -1   -1   -1   -1   -1    0    1    1    1    1    1    1    1\n   -1   -1   -1   -1   -1   -1   -1   -1    0    1    1    1    1    1    1\n   -1   -1   -1   -1   -1   -1   -1   -1   -1    0    1    1    1    1    1\n   -1   -1   -1   -1   -1   -1   -1   -1   -1   -1    0    1    1    1    1\n   -1   -1   -1   -1   -1   -1   -1   -1   -1   -1   -1    0    1    1    1\n   -1   -1   -1   -1   -1   -1   -1   -1   -1   -1   -1   -1    0    1    1\n   -1   -1   -1   -1   -1   -1   -1   -1   -1   -1   -1   -1   -1    0    1\n   -1   -1   -1   -1   -1   -1   -1   -1   -1   -1   -1   -1   -1   -1    0\n"},"children":[],"key":"qBee8cBmNQ"}],"key":"g1JsydGebH"}],"key":"y6V0Meob6m"}],"key":"la18RUCeM0"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Section 3.17: Case Study: Adaptive Numerical Integration","url":"/sections/computer-programming/fortran/guide-to-fortran-2008-programming/section-3-17-case-study-adaptive-numberical-integr","group":"Computer Programming"},"next":{"title":"Section 8.1: Submodules","url":"/sections/computer-programming/fortran/guide-to-fortran-2008-programming/section-8-1-submodules","group":"Computer Programming"}}},"domain":"http://localhost:3008"}