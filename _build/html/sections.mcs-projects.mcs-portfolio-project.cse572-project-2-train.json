{"version":3,"kind":"Notebook","sha256":"5c5002aaef6e15e3b54b1172a4727c12e4f42381be92e8469108925acc920bef","slug":"sections.mcs-projects.mcs-portfolio-project.cse572-project-2-train","location":"/Sections/MCS_Projects/MCS_Portfolio_Project/CSE572_Project_2_train.ipynb","dependencies":[],"frontmatter":{"title":"CSE572 Project 2 - Model Training","content_includes_title":false,"kernelspec":{"name":"py311_env","display_name":"Python 3.11","language":"python"},"authors":[{"nameParsed":{"literal":"Mark Khusid","given":"Mark","family":"Khusid"},"name":"Mark Khusid","id":"contributors-myst-generated-uid-0"}],"github":"https://github.com/markkhusid/MKDynamics_Website_V2","numbering":{"title":{"offset":3}},"source_url":"https://github.com/markkhusid/MKDynamics_Website_V2/blob/master/Sections/MCS_Projects/MCS_Portfolio_Project/CSE572_Project_2_train.ipynb","edit_url":"https://github.com/markkhusid/MKDynamics_Website_V2/edit/master/Sections/MCS_Projects/MCS_Portfolio_Project/CSE572_Project_2_train.ipynb","exports":[{"format":"ipynb","filename":"CSE572_Project_2_train.ipynb","url":"/build/CSE572_Project_2_tra-1fce57515f221134d3c95f3f90aba6a3.ipynb"}]},"widgets":{"application/vnd.jupyter.widget-state+json":{"state":{},"version_major":2,"version_minor":0}},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Mark Khusid","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XdcLQlQvZD"}],"key":"xwFMd8Aiuf"}],"key":"lOvWeJCG1A"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-22T01:37:44.962334Z","iopub.status.busy":"2024-10-22T01:37:44.954588Z","iopub.status.idle":"2024-10-22T01:37:45.077308Z","shell.execute_reply":"2024-10-22T01:37:45.047004Z","shell.execute_reply.started":"2024-10-22T01:37:44.962297Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"import pandas as pd\nimport numpy as np\n\nfrom mpl_toolkits.mplot3d import Axes3D\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nimport pickle\n\nfrom scipy.integrate import simpson\nfrom scipy.ndimage import uniform_filter1d\nfrom scipy.signal import find_peaks\n\nfrom sklearn.impute import KNNImputer\n\nfrom sklearn.svm import SVC\n\nfrom sklearn.decomposition import PCA\n\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.model_selection import cross_val_score\n\nfrom sklearn.preprocessing import StandardScaler\n\nfrom sklearn.metrics import confusion_matrix\nfrom sklearn.metrics import accuracy_score, recall_score, precision_score, f1_score","key":"jyDaKYGTkA"},{"type":"outputs","id":"nk_OfG7xpC6753ZOQDboN","children":[],"key":"rDBCJ2tkOb"}],"key":"JEYorVWEzT"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Load the datasets","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Vk9bVWnc7O"}],"identifier":"load-the-datasets","label":"Load the datasets","html_id":"load-the-datasets","implicit":true,"key":"qI5SoRzCDW"}],"key":"ENW5RlIvZ2"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:45.305803Z","iopub.status.busy":"2024-10-21T11:06:45.305404Z","iopub.status.idle":"2024-10-21T11:06:45.955969Z","shell.execute_reply":"2024-10-21T11:06:45.953391Z","shell.execute_reply.started":"2024-10-21T11:06:45.305786Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"insulin_data_1 = pd.read_csv('InsulinData.csv', low_memory=False)\ninsulin_data_2 = pd.read_csv('Insulin_patient2.csv', low_memory=False)\ncgm_data_1 = pd.read_csv('CGMData.csv', low_memory=False)\ncgm_data_2 = pd.read_csv('CGM_patient2.csv', low_memory=False)","key":"zezbrdLYrF"},{"type":"outputs","id":"Hd_SNDqudUywc-qqsqmT0","children":[],"key":"YoaN4odGJV"}],"key":"P5Oiw2SQEs"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"View Dataframes","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"orMK74rdcU"}],"identifier":"view-dataframes","label":"View Dataframes","html_id":"view-dataframes","implicit":true,"key":"RYtHN1V2oV"}],"key":"Iituzfv6fp"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:45.957258Z","iopub.status.busy":"2024-10-21T11:06:45.956785Z","iopub.status.idle":"2024-10-21T11:06:45.971331Z","shell.execute_reply":"2024-10-21T11:06:45.966661Z","shell.execute_reply.started":"2024-10-21T11:06:45.957232Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#insulin_data_1","key":"B2iTLRd2AW"},{"type":"outputs","id":"7LrNdVFBfHoToTp1I1YVL","children":[],"key":"MHq23zs5Su"}],"key":"xilrUEaVx6"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:45.973345Z","iopub.status.busy":"2024-10-21T11:06:45.973160Z","iopub.status.idle":"2024-10-21T11:06:45.989960Z","shell.execute_reply":"2024-10-21T11:06:45.988622Z","shell.execute_reply.started":"2024-10-21T11:06:45.973330Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#cgm_data_1","key":"QIhFEx1UQr"},{"type":"outputs","id":"CISvGogFfuvhnLexqGZoX","children":[],"key":"Vj0s13pNO8"}],"key":"Nok415beDm"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:45.991505Z","iopub.status.busy":"2024-10-21T11:06:45.991265Z","iopub.status.idle":"2024-10-21T11:06:46.001274Z","shell.execute_reply":"2024-10-21T11:06:45.999957Z","shell.execute_reply.started":"2024-10-21T11:06:45.991485Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#insulin_data_2","key":"JEiWAxwlvo"},{"type":"outputs","id":"NSxaWY7fuIUroTtGYDsV1","children":[],"key":"jg5cR5I69O"}],"key":"ksknqySWTW"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:46.013957Z","iopub.status.busy":"2024-10-21T11:06:46.010415Z","iopub.status.idle":"2024-10-21T11:06:46.261790Z","shell.execute_reply":"2024-10-21T11:06:46.231129Z","shell.execute_reply.started":"2024-10-21T11:06:46.013913Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#cgm_data_2","key":"d2Nf3b7IDN"},{"type":"outputs","id":"4MdMG-Z65XBkmWhW7Pide","children":[],"key":"sW3wuORMpS"}],"key":"aH3wf2czfa"},{"type":"block","kind":"notebook-content","data":{"execution":{"iopub.execute_input":"2024-09-17T02:57:26.794025Z","iopub.status.busy":"2024-09-17T02:57:26.793587Z","iopub.status.idle":"2024-09-17T02:57:26.837838Z","shell.execute_reply":"2024-09-17T02:57:26.801234Z","shell.execute_reply.started":"2024-09-17T02:57:26.793989Z"}},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"EDA on dataframes","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nGJoKj4thV"}],"identifier":"eda-on-dataframes","label":"EDA on dataframes","html_id":"eda-on-dataframes","implicit":true,"key":"hGeeABjg2w"}],"key":"IAhLLO2fGj"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:46.262465Z","iopub.status.busy":"2024-10-21T11:06:46.262293Z","iopub.status.idle":"2024-10-21T11:06:46.412542Z","shell.execute_reply":"2024-10-21T11:06:46.411743Z","shell.execute_reply.started":"2024-10-21T11:06:46.262451Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#insulin_data_1.info()","key":"KaELb4m7Hj"},{"type":"outputs","id":"tZLa3UIuPNVlLaTUX6nFN","children":[],"key":"FdFrNVG4h0"}],"key":"ZE8yGVOFKv"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:46.413552Z","iopub.status.busy":"2024-10-21T11:06:46.413316Z","iopub.status.idle":"2024-10-21T11:06:46.507906Z","shell.execute_reply":"2024-10-21T11:06:46.507065Z","shell.execute_reply.started":"2024-10-21T11:06:46.413534Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#cgm_data_1.info()","key":"qNv1PnJXJu"},{"type":"outputs","id":"Xn8rumbZvPN8UktuY-2iR","children":[],"key":"VyOS6cfYaP"}],"key":"Ko3uH4NZYf"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:46.508666Z","iopub.status.busy":"2024-10-21T11:06:46.508506Z","iopub.status.idle":"2024-10-21T11:06:46.625005Z","shell.execute_reply":"2024-10-21T11:06:46.603891Z","shell.execute_reply.started":"2024-10-21T11:06:46.508652Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#insulin_data_2.info()","key":"caFBktzoWl"},{"type":"outputs","id":"d1OOuh8KHHsTkoYIprjl-","children":[],"key":"mVEujRzg1F"}],"key":"VaGXr3qK2R"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:46.652642Z","iopub.status.busy":"2024-10-21T11:06:46.647709Z","iopub.status.idle":"2024-10-21T11:06:47.016334Z","shell.execute_reply":"2024-10-21T11:06:46.936754Z","shell.execute_reply.started":"2024-10-21T11:06:46.652611Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#cgm_data_2.info()","key":"ssUe2gqlCs"},{"type":"outputs","id":"dqg1V6V8G-pxtbL6cSSkU","children":[],"key":"U0F3ZtWjrT"}],"key":"CuwD5bkIjt"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Convert ‘Date’ and ‘Time’ columns to datetime format in both datasets for easier manipulation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"i9oSBw6VTO"}],"identifier":"convert-date-and-time-columns-to-datetime-format-in-both-datasets-for-easier-manipulation","label":"Convert ‘Date’ and ‘Time’ columns to datetime format in both datasets for easier manipulation","html_id":"convert-date-and-time-columns-to-datetime-format-in-both-datasets-for-easier-manipulation","implicit":true,"key":"fHGOBB8S04"}],"key":"dEmr7HGVk3"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:47.021222Z","iopub.status.busy":"2024-10-21T11:06:47.021031Z","iopub.status.idle":"2024-10-21T11:06:47.323478Z","shell.execute_reply":"2024-10-21T11:06:47.234244Z","shell.execute_reply.started":"2024-10-21T11:06:47.021207Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"def preprocess_date(date_string):\n    date_string = date_string.strip()\n    if len(date_string.split()) == 1:\n        return date_string\n    elif len(date_string.split()) == 2:\n        return date_string.split()[0]","key":"zKzTEtTio5"},{"type":"outputs","id":"e4-oGFqYQVTsLRUTs3jVf","children":[],"key":"ZNNlCacSPZ"}],"key":"smQeBHZljg"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:47.338302Z","iopub.status.busy":"2024-10-21T11:06:47.338094Z","iopub.status.idle":"2024-10-21T11:06:47.559916Z","shell.execute_reply":"2024-10-21T11:06:47.535113Z","shell.execute_reply.started":"2024-10-21T11:06:47.338286Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"insulin_data_1['Date'] = insulin_data_1['Date'].apply(preprocess_date)\ninsulin_data_2['Date'] = insulin_data_2['Date'].apply(preprocess_date)","key":"LmMzTiFh9Y"},{"type":"outputs","id":"R2M9GtbxDudYH_wLDFrLR","children":[],"key":"DV1kECFt59"}],"key":"M9OE0P8EeX"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:47.563558Z","iopub.status.busy":"2024-10-21T11:06:47.563304Z","iopub.status.idle":"2024-10-21T11:06:48.440204Z","shell.execute_reply":"2024-10-21T11:06:48.418838Z","shell.execute_reply.started":"2024-10-21T11:06:47.563541Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"insulin_data_1['datetime'] = pd.to_datetime(insulin_data_1['Date'] + ' ' + insulin_data_1['Time'])\ninsulin_data_2['datetime'] = pd.to_datetime(insulin_data_2['Date'] + ' ' + insulin_data_2['Time'])\n\ncgm_data_1['datetime'] = pd.to_datetime(cgm_data_1['Date'] + ' ' + cgm_data_1['Time'])\ncgm_data_2['datetime'] = pd.to_datetime(cgm_data_2['Date'] + ' ' + cgm_data_2['Time'])","key":"sZeZODarzG"},{"type":"outputs","id":"0dGYbQup0eeAQRl8I39rg","children":[],"key":"Dqcx9vp8se"}],"key":"dwmW051bl3"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:48.443489Z","iopub.status.busy":"2024-10-21T11:06:48.440683Z","iopub.status.idle":"2024-10-21T11:06:48.534614Z","shell.execute_reply":"2024-10-21T11:06:48.489351Z","shell.execute_reply.started":"2024-10-21T11:06:48.443466Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#insulin_data_1[['Date', 'Time', 'datetime']]","key":"bLEt00EiIx"},{"type":"outputs","id":"zRsshoWeOCpkyZSs6Ch5W","children":[],"key":"FTuQ20FGRe"}],"key":"X7Do8tjQxw"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:48.552664Z","iopub.status.busy":"2024-10-21T11:06:48.552455Z","iopub.status.idle":"2024-10-21T11:06:48.689249Z","shell.execute_reply":"2024-10-21T11:06:48.684405Z","shell.execute_reply.started":"2024-10-21T11:06:48.552648Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#insulin_data_2[['Date', 'Time', 'datetime']]","key":"SUS52s75es"},{"type":"outputs","id":"scBeB7UIxlSFrG9C1X2Oi","children":[],"key":"AhqMz7MSxf"}],"key":"ZH5zf0eLH4"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:48.704048Z","iopub.status.busy":"2024-10-21T11:06:48.703878Z","iopub.status.idle":"2024-10-21T11:06:48.944844Z","shell.execute_reply":"2024-10-21T11:06:48.932951Z","shell.execute_reply.started":"2024-10-21T11:06:48.704033Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#cgm_data_1[['Date', 'Time', 'datetime']]","key":"sMG1O3raFN"},{"type":"outputs","id":"uvBqEdXFoPGv52Fci2Qpi","children":[],"key":"lYq5RvVJ9p"}],"key":"h2fx5x9FSv"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:48.946385Z","iopub.status.busy":"2024-10-21T11:06:48.945931Z","iopub.status.idle":"2024-10-21T11:06:49.047232Z","shell.execute_reply":"2024-10-21T11:06:49.046594Z","shell.execute_reply.started":"2024-10-21T11:06:48.946359Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#cgm_data_2[['Date', 'Time', 'datetime']]","key":"sqJtze6q1q"},{"type":"outputs","id":"907a9wrp80pfNTJ9QLuHr","children":[],"key":"FV7WdyEKYD"}],"key":"kK2BQ90gHO"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Search for non-zero BWZ Carb Input Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SKXxE27Iyk"}],"identifier":"search-for-non-zero-bwz-carb-input-data","label":"Search for non-zero BWZ Carb Input Data","html_id":"search-for-non-zero-bwz-carb-input-data","implicit":true,"key":"ycOfjhmDUg"}],"key":"bLQIA3u09h"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:49.070586Z","iopub.status.busy":"2024-10-21T11:06:49.070368Z","iopub.status.idle":"2024-10-21T11:06:49.480357Z","shell.execute_reply":"2024-10-21T11:06:49.449443Z","shell.execute_reply.started":"2024-10-21T11:06:49.070571Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# This datetime series contains the start of all non NaN and  positive carb input\n# data from the column BWZ Carb Input (grams)\nmeal_times_1 = \\\n    insulin_data_1[~insulin_data_1['BWZ Carb Input (grams)'].isna() & \\\n    (insulin_data_1['BWZ Carb Input (grams)'] > 0)]['datetime']\nmeal_times_1","key":"DYJTAjbEhi"},{"type":"outputs","id":"uzhfLptPfh2x7wen11g8-","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":18,"metadata":{},"data":{"text/plain":{"content":"48      2018-02-12 09:15:45\n129     2018-02-12 02:30:55\n188     2018-02-11 20:33:18\n207     2018-02-11 18:14:37\n222     2018-02-11 16:27:04\n                ...        \n41265   2017-07-26 11:24:52\n41274   2017-07-26 09:27:16\n41347   2017-07-25 18:31:40\n41393   2017-07-25 10:39:46\n41401   2017-07-25 10:21:19\nName: datetime, Length: 747, dtype: datetime64[ns]","content_type":"text/plain"}}},"children":[],"key":"ONmjcUdMFe"}],"key":"SSPJAIIxTK"}],"key":"fOuhENC3nv"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:49.523585Z","iopub.status.busy":"2024-10-21T11:06:49.507641Z","iopub.status.idle":"2024-10-21T11:06:49.786356Z","shell.execute_reply":"2024-10-21T11:06:49.735494Z","shell.execute_reply.started":"2024-10-21T11:06:49.523540Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# This datetime series contains the start of all non NaN and  positive carb input\n# data from the column BWZ Carb Input (grams)\nmeal_times_2 = \\\n    insulin_data_2[~insulin_data_2['BWZ Carb Input (grams)'].isna() & \\\n    (insulin_data_2['BWZ Carb Input (grams)'] > 0)]['datetime']\n#meal_times_2","key":"x8JQIHOZCB"},{"type":"outputs","id":"vvEHtjSH61vfbb54ZKWqR","children":[],"key":"sqo86ii4Jm"}],"key":"MXJhcExigY"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Extract Meal Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fjPe2VhzkP"}],"identifier":"extract-meal-data","label":"Extract Meal Data","html_id":"extract-meal-data","implicit":true,"key":"Ra2HGJln1b"}],"key":"Fufz7JnCqf"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Obtain CGM Data based on Length of After-Meal Window","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nTmRGjtz4k"}],"identifier":"obtain-cgm-data-based-on-length-of-after-meal-window","label":"Obtain CGM Data based on Length of After-Meal Window","html_id":"obtain-cgm-data-based-on-length-of-after-meal-window","implicit":true,"key":"fy4YWG9uOA"}],"key":"G6IBRf8czV"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:49.788868Z","iopub.status.busy":"2024-10-21T11:06:49.788637Z","iopub.status.idle":"2024-10-21T11:06:51.067708Z","shell.execute_reply":"2024-10-21T11:06:51.067218Z","shell.execute_reply.started":"2024-10-21T11:06:49.788852Z"},"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"# Initialize meal data list\nmeal_data_1 = []\n\n# Loop through each meal start time\nfor meal_time in meal_times_1:\n    # A meal windows is 2 hours long\n    meal_window = insulin_data_1[(insulin_data_1['datetime'] > meal_time) & \n                               (insulin_data_1['datetime'] <= (meal_time + pd.Timedelta(hours=2)))]\n    #print(meal_window)\n\n    # If that meal window is empty, get corresponding CGM_\n    # data that starts at tm-30 and ends at tm+2hrs\n    if meal_window.empty:\n        # Step 4 condition (a): No meal between tm and tm+2hrs, use this stretch as meal data\n        meal_cgm_data_1 = cgm_data_1[(cgm_data_1['datetime'] >= (meal_time - pd.Timedelta(minutes=30))) & \n                                 (cgm_data_1['datetime'] <= (meal_time + pd.Timedelta(hours=2)))]\n    else:\n        # Step 4 check for condition (b) or (c)\n        next_meal_time = meal_window.iloc[0]['datetime']\n        if next_meal_time < (meal_time + pd.Timedelta(hours=2)):\n            # condition (b): There is a meal at tp between tm and tm+2hrs, use tp data\n            meal_time = next_meal_time\n            meal_cgm_data_1 = cgm_data_1[(cgm_data_1['datetime'] >= (meal_time - pd.Timedelta(minutes=30))) & \n                                     (cgm_data_1['datetime'] <= (meal_time + pd.Timedelta(hours=2)))]\n        # Condition (c): There is a meal exactly at tm+2hrs, use tm+1hr 30min to tm+4hrs\n        elif next_meal_time == (meal_time + pd.Timedelta(hours=2)):\n            meal_cgm_data_1 = cgm_data_1[(cgm_data_1['datetime'] >= (meal_time + pd.Timedelta(hours=1, minutes=30))) & \n                                     (cgm_data_1['datetime'] <= (meal_time + pd.Timedelta(hours=4)))]\n\n    # Check if the extracted data has the correct number of points (30 for meal data)\n    if len(meal_cgm_data_1) == 30:\n        #print(f\"Meal Time Data {meal_time} has {len(meal_cgm_data)} number of points.\")\n        meal_data_1.append(meal_cgm_data_1['Sensor Glucose (mg/dL)'].values)","key":"PgKI8wVtzg"},{"type":"outputs","id":"YKzyMxaWMK0qET_fhmT1m","children":[],"key":"R54t5XAmoh"}],"key":"RfX2EMw6rU"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:51.068483Z","iopub.status.busy":"2024-10-21T11:06:51.068280Z","iopub.status.idle":"2024-10-21T11:06:51.525565Z","shell.execute_reply":"2024-10-21T11:06:51.524806Z","shell.execute_reply.started":"2024-10-21T11:06:51.068467Z"},"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"# Initialize meal data list\nmeal_data_2 = []\n\n# Loop through each meal start time\nfor meal_time in meal_times_2:\n    # A meal windows is 2 hours long\n    meal_window = insulin_data_2[(insulin_data_2['datetime'] > meal_time) & \n                               (insulin_data_2['datetime'] <= (meal_time + pd.Timedelta(hours=2)))]\n    #print(meal_window)\n\n    # If that meal window is empty, get corresponding CGM_\n    # data that starts at tm-30 and ends at tm+2hrs\n    if meal_window.empty:\n        # Step 4 condition (a): No meal between tm and tm+2hrs, use this stretch as meal data\n        meal_cgm_data_2 = cgm_data_2[(cgm_data_2['datetime'] >= (meal_time - pd.Timedelta(minutes=30))) & \n                                 (cgm_data_2['datetime'] <= (meal_time + pd.Timedelta(hours=2)))]\n    else:\n        # Step 4 check for condition (b) or (c)\n        next_meal_time = meal_window.iloc[0]['datetime']\n        if next_meal_time < (meal_time + pd.Timedelta(hours=2)):\n            # condition (b): There is a meal at tp between tm and tm+2hrs, use tp data\n            meal_time = next_meal_time\n            meal_cgm_data_2 = cgm_data_2[(cgm_data_2['datetime'] >= (meal_time - pd.Timedelta(minutes=30))) & \n                                     (cgm_data_2['datetime'] <= (meal_time + pd.Timedelta(hours=2)))]\n        # Condition (c): There is a meal exactly at tm+2hrs, use tm+1hr 30min to tm+4hrs\n        elif next_meal_time == (meal_time + pd.Timedelta(hours=2)):\n            meal_cgm_data_2 = cgm_data_2[(cgm_data_2['datetime'] >= (meal_time + pd.Timedelta(hours=1, minutes=30))) & \n                                     (cgm_data_2['datetime'] <= (meal_time + pd.Timedelta(hours=4)))]\n\n    # Check if the extracted data has the correct number of points (30 for meal data)\n    if len(meal_cgm_data_2) == 30:\n        #print(f\"Meal Time Data {meal_time} has {len(meal_cgm_data)} number of points.\")\n        meal_data_2.append(meal_cgm_data_2['Sensor Glucose (mg/dL)'].values)","key":"Z7EhMPhiAN"},{"type":"outputs","id":"b17T3Zzyb76GXOk8bTT0s","children":[],"key":"YwX9GFhFiG"}],"key":"WF8Cxg74uV"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Get Length of Meal Data CGM Values","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qcwQOIm4aO"}],"identifier":"get-length-of-meal-data-cgm-values","label":"Get Length of Meal Data CGM Values","html_id":"get-length-of-meal-data-cgm-values","implicit":true,"key":"gbMpAwWdXJ"}],"key":"CTliuIKSf0"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:51.526539Z","iopub.status.busy":"2024-10-21T11:06:51.526274Z","iopub.status.idle":"2024-10-21T11:06:51.545317Z","shell.execute_reply":"2024-10-21T11:06:51.544525Z","shell.execute_reply.started":"2024-10-21T11:06:51.526523Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"len(meal_data_1)","key":"ATSNePYgaI"},{"type":"outputs","id":"FDhutHJCAMu_flieMj2jY","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":22,"metadata":{},"data":{"text/plain":{"content":"715","content_type":"text/plain"}}},"children":[],"key":"MHvRbYUp88"}],"key":"H5yaYHQGX5"}],"key":"eFTG1zPkbY"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:51.546117Z","iopub.status.busy":"2024-10-21T11:06:51.545908Z","iopub.status.idle":"2024-10-21T11:06:51.626653Z","shell.execute_reply":"2024-10-21T11:06:51.609859Z","shell.execute_reply.started":"2024-10-21T11:06:51.546102Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"len(meal_data_2)","key":"XV2iIpWkLe"},{"type":"outputs","id":"kHHVf_9Dmd_HIz0zb43Cg","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":23,"metadata":{},"data":{"text/plain":{"content":"372","content_type":"text/plain"}}},"children":[],"key":"bA1nKSOKcn"}],"key":"MlLkCoTAyF"}],"key":"BElHkn74bD"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:51.631611Z","iopub.status.busy":"2024-10-21T11:06:51.631383Z","iopub.status.idle":"2024-10-21T11:06:51.671928Z","shell.execute_reply":"2024-10-21T11:06:51.669961Z","shell.execute_reply.started":"2024-10-21T11:06:51.631595Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_data_1[0:5]","key":"Fhhy44u2q3"},{"type":"outputs","id":"QWN6InlEvIU4t780PydZi","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":24,"metadata":{},"data":{"text/plain":{"content":"[array([ nan,  nan, 124., 126., 127., 128., 130., 137., 140.,  nan, 150.,\n        140., 131., 130., 134., 148.,  nan, 159., 157., 140., 146., 148.,\n        151., 150., 162., 174., 180., 178., 184., 185.]),\n array([121., 120., 115., 110., 106., 103., 103., 101.,  nan, 131., 109.,\n         82.,  74.,  66.,  73.,  82.,  87.,  90.,  83.,  73.,  49.,  58.,\n         69.,  79.,  nan,  93.,  92.,  86.,  84.,  80.]),\n array([287., 288., 289., 279., 260., 262., 259., 250., 245., 250., 247.,\n        243., 227., 213., 205., 182., 175., 170., 166., 164., 165., 158.,\n        153., 161., 177., 194., 200., 201., 189., 162.]),\n array([189., 162., 166., 173., 176., 169., 167., 166., 168., 180., 182.,\n        178., 171., 160., 145., 138., 132., 120., 127., 129., 132., 123.,\n        104., 100., 107., 106., 123., 128., 137., 147.]),\n array([107., 106., 123., 128., 137., 147., 145., 142.,  nan,  nan,  nan,\n         nan,  nan,  nan,  nan,  nan,  nan,  nan,  nan,  nan,  nan,  nan,\n         nan,  nan,  nan,  nan,  nan,  nan,  nan,  nan])]","content_type":"text/plain"}}},"children":[],"key":"E5KTr7sCJE"}],"key":"i6xs8eX1tN"}],"key":"P28mEWwW34"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:51.687301Z","iopub.status.busy":"2024-10-21T11:06:51.685863Z","iopub.status.idle":"2024-10-21T11:06:51.702752Z","shell.execute_reply":"2024-10-21T11:06:51.701346Z","shell.execute_reply.started":"2024-10-21T11:06:51.687273Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#meal_data_2[0:5]","key":"AF51WEb4MO"},{"type":"outputs","id":"9d6B_NE35dMRdS89Cl_hU","children":[],"key":"QYUSojFQzm"}],"key":"RG8MZ8tAJc"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Create Meal Data Matrix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OYGcgJyrZs"}],"identifier":"create-meal-data-matrix","label":"Create Meal Data Matrix","html_id":"create-meal-data-matrix","implicit":true,"key":"suub2tk1ka"}],"key":"tCgKTiZS0e"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:51.703804Z","iopub.status.busy":"2024-10-21T11:06:51.703287Z","iopub.status.idle":"2024-10-21T11:06:51.891231Z","shell.execute_reply":"2024-10-21T11:06:51.836646Z","shell.execute_reply.started":"2024-10-21T11:06:51.703786Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_data_matrix_1 = np.array(meal_data_1)\nmeal_data_matrix_1","key":"bC15LQbU9d"},{"type":"outputs","id":"gW_D9bGZuSAu0rsO_P2Bb","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":26,"metadata":{},"data":{"text/plain":{"content":"array([[ nan,  nan, 124., ..., 178., 184., 185.],\n       [121., 120., 115., ...,  86.,  84.,  80.],\n       [287., 288., 289., ..., 201., 189., 162.],\n       ...,\n       [274., 278., 283., ..., 268., 281., 292.],\n       [223., 222., 222., ..., 324., 326., 328.],\n       [ 82.,  85.,  92., ..., 164., 163., 155.]])","content_type":"text/plain"}}},"children":[],"key":"A7MQT1woP4"}],"key":"eCiIvz4BqZ"}],"key":"KJTOnPunrE"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:51.891955Z","iopub.status.busy":"2024-10-21T11:06:51.891786Z","iopub.status.idle":"2024-10-21T11:06:52.129153Z","shell.execute_reply":"2024-10-21T11:06:52.128606Z","shell.execute_reply.started":"2024-10-21T11:06:51.891941Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_data_matrix_1.shape","key":"lxWmAEuYMk"},{"type":"outputs","id":"5YiziswwrVgzMaI_Q9JEs","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":27,"metadata":{},"data":{"text/plain":{"content":"(715, 30)","content_type":"text/plain"}}},"children":[],"key":"aScdJUFGLL"}],"key":"wIFhclTxrj"}],"key":"qDlPVjPLlu"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:52.139991Z","iopub.status.busy":"2024-10-21T11:06:52.139805Z","iopub.status.idle":"2024-10-21T11:06:52.470191Z","shell.execute_reply":"2024-10-21T11:06:52.443496Z","shell.execute_reply.started":"2024-10-21T11:06:52.139977Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_data_matrix_2 = np.array(meal_data_2)\nmeal_data_matrix_2","key":"huq6nsWwb9"},{"type":"outputs","id":"fEw1Dqf8BPUf8FEh3ZFNO","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":28,"metadata":{},"data":{"text/plain":{"content":"array([[390., 391., 389., ..., 165., 139., 133.],\n       [116., 113., 110., ..., 248., 233., 222.],\n       [130., 129., 126., ..., 153., 147., 147.],\n       ...,\n       [174., 181., 191., ..., 126., 129., 128.],\n       [174., 181., 191., ..., 126., 129., 128.],\n       [102.,  94.,  92., ..., 169., 180., 186.]])","content_type":"text/plain"}}},"children":[],"key":"CI29AtazlM"}],"key":"npsq9BagD7"}],"key":"UuRFT68g56"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:52.496056Z","iopub.status.busy":"2024-10-21T11:06:52.486493Z","iopub.status.idle":"2024-10-21T11:06:52.796622Z","shell.execute_reply":"2024-10-21T11:06:52.777291Z","shell.execute_reply.started":"2024-10-21T11:06:52.496012Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_data_matrix_2.shape","key":"u1Lx0UfOf5"},{"type":"outputs","id":"u7Bn4PXokgn8dT61vddc7","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":29,"metadata":{},"data":{"text/plain":{"content":"(372, 30)","content_type":"text/plain"}}},"children":[],"key":"hw9ncfYQK0"}],"key":"Ikl0R02NLE"}],"key":"QI7xR6lIP3"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZeUKGC9tCy"}],"identifier":"visualize-meal-data-matrix-1","label":"Visualize Meal Data Matrix 1","html_id":"visualize-meal-data-matrix-1","implicit":true,"key":"wJz6r5CUtI"}],"key":"QNmvRGFpM0"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Heatmap of Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Ie6e4w84eO"}],"identifier":"heatmap-of-meal-data-matrix-1","label":"Heatmap of Meal Data Matrix 1","html_id":"heatmap-of-meal-data-matrix-1","implicit":true,"key":"BBvtORIddy"}],"key":"pnEw0a5ZVL"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:52.821616Z","iopub.status.busy":"2024-10-21T11:06:52.817008Z","iopub.status.idle":"2024-10-21T11:06:54.250078Z","shell.execute_reply":"2024-10-21T11:06:54.248849Z","shell.execute_reply.started":"2024-10-21T11:06:52.821577Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the heatmap\nsampled_meal_data_matrix_1 = meal_data_matrix_1[np.random.choice(meal_data_matrix_1.shape[0], 200, replace=False)]\nplt.figure(figsize=(30, 30))\nsns.heatmap(sampled_meal_data_matrix_1, cmap='YlGnBu', linewidths=0.5, annot=False, vmin=None, vmax=None)\nplt.title('Heatmap of Meal Data Matrix 1')\nplt.xlabel('Time Points')\nplt.ylabel('Meals (Samples)')\nplt.show()","key":"G2kFA13jos"},{"type":"outputs","id":"h3HHIAqxeBHV_D5yI_mUW","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"a1f685b6fd0b25da1985e1bc18c26ec1","path":"/build/a1f685b6fd0b25da1985e1bc18c26ec1.png"},"text/plain":{"content":"<Figure size 3000x3000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"ssyIlAHcaq"}],"key":"veE70RVBYE"}],"key":"yTCIDDZQNI"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Surface Plot of Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BDQjadTv3t"}],"identifier":"surface-plot-of-meal-data-matrix-1","label":"Surface Plot of Meal Data Matrix 1","html_id":"surface-plot-of-meal-data-matrix-1","implicit":true,"key":"PahqP2GBue"}],"key":"jFt0uw8sEZ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:54.251236Z","iopub.status.busy":"2024-10-21T11:06:54.250929Z","iopub.status.idle":"2024-10-21T11:06:54.257296Z","shell.execute_reply":"2024-10-21T11:06:54.256325Z","shell.execute_reply.started":"2024-10-21T11:06:54.251218Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create X, Y meshgrid\nX = np.arange(meal_data_matrix_1.shape[1])\nY = np.arange(meal_data_matrix_1.shape[0])\ntime_points = np.linspace(-30, 120, 30)  # X-axis: from -30 minutes to +120 minutes (30 time points)\nmeal_numbers = np.arange(1, len(meal_data_1) + 1)\nX, Y = np.meshgrid(time_points, Y)\n#X, Y = np.meshgrid(time_points, meal_numbers)","key":"FFAZqcH84q"},{"type":"outputs","id":"R-Gd6zKHlT7Mq8d6Fvaxe","children":[],"key":"DfZXSSjKb5"}],"key":"dIYNi6b3da"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:54.258422Z","iopub.status.busy":"2024-10-21T11:06:54.258200Z","iopub.status.idle":"2024-10-21T11:06:54.349852Z","shell.execute_reply":"2024-10-21T11:06:54.346121Z","shell.execute_reply.started":"2024-10-21T11:06:54.258398Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X","key":"xuA7Cm84vM"},{"type":"outputs","id":"qlTMTIrVLLtuNDR14KVNQ","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":32,"metadata":{},"data":{"text/plain":{"content":"array([[-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       ...,\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ]])","content_type":"text/plain"}}},"children":[],"key":"Wumki6Av41"}],"key":"Te9SeamwU3"}],"key":"UlmTX9uG46"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:54.351018Z","iopub.status.busy":"2024-10-21T11:06:54.350759Z","iopub.status.idle":"2024-10-21T11:06:54.442287Z","shell.execute_reply":"2024-10-21T11:06:54.441885Z","shell.execute_reply.started":"2024-10-21T11:06:54.350997Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X.shape","key":"kMvrPFaLx0"},{"type":"outputs","id":"TtzgaHqQo5GEUqD6ad93I","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":33,"metadata":{},"data":{"text/plain":{"content":"(715, 30)","content_type":"text/plain"}}},"children":[],"key":"ZdNlP6VkMV"}],"key":"ws2SwZ84eT"}],"key":"f9zLQGa2ol"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:54.442959Z","iopub.status.busy":"2024-10-21T11:06:54.442759Z","iopub.status.idle":"2024-10-21T11:06:54.543278Z","shell.execute_reply":"2024-10-21T11:06:54.525032Z","shell.execute_reply.started":"2024-10-21T11:06:54.442944Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y","key":"ZZcqkeC3Sb"},{"type":"outputs","id":"sqEH87f1kS2ZjT9WY0hen","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":34,"metadata":{},"data":{"text/plain":{"content":"array([[  0,   0,   0, ...,   0,   0,   0],\n       [  1,   1,   1, ...,   1,   1,   1],\n       [  2,   2,   2, ...,   2,   2,   2],\n       ...,\n       [712, 712, 712, ..., 712, 712, 712],\n       [713, 713, 713, ..., 713, 713, 713],\n       [714, 714, 714, ..., 714, 714, 714]])","content_type":"text/plain"}}},"children":[],"key":"jEBPicVVph"}],"key":"wcSvvxKKSX"}],"key":"XD1xQ1iOB5"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:54.551508Z","iopub.status.busy":"2024-10-21T11:06:54.551322Z","iopub.status.idle":"2024-10-21T11:06:54.588165Z","shell.execute_reply":"2024-10-21T11:06:54.578904Z","shell.execute_reply.started":"2024-10-21T11:06:54.551493Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Fill NaNs using forward fill, then backward fill\nmeal_data_matrix_1_df = pd.DataFrame(meal_data_matrix_1)\nmeal_data_matrix_1_filled = meal_data_matrix_1_df.ffill().bfill().values","key":"W6wyBc0oyJ"},{"type":"outputs","id":"4aAquRIcSrPvqBgefgubY","children":[],"key":"VbwDEmMxpi"}],"key":"w4BK7PVl6F"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:54.609143Z","iopub.status.busy":"2024-10-21T11:06:54.598895Z","iopub.status.idle":"2024-10-21T11:06:54.800289Z","shell.execute_reply":"2024-10-21T11:06:54.784350Z","shell.execute_reply.started":"2024-10-21T11:06:54.609121Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Apply a moving average smoothing to each row\nwindow_size = 5  # Choose a window size for smoothing\nsmoothed_meal_data_matrix_1 = np.array([uniform_filter1d(row, size=window_size) for row in meal_data_matrix_1_filled])","key":"c8FQKd1D1d"},{"type":"outputs","id":"kDrFtUzQhLKGGhBsERJMV","children":[],"key":"uGyVVrpLZz"}],"key":"qjUwWi7miw"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:54.813055Z","iopub.status.busy":"2024-10-21T11:06:54.808854Z","iopub.status.idle":"2024-10-21T11:06:55.789632Z","shell.execute_reply":"2024-10-21T11:06:55.733617Z","shell.execute_reply.started":"2024-10-21T11:06:54.813028Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the plot\nfig = plt.figure(figsize=(10, 8))\nax = fig.add_subplot(111, projection='3d')\nstride = 100\n\n# Plot the surface\nsurface_plot = ax.plot_surface(X[::stride], Y[::stride], smoothed_meal_data_matrix_1[::stride], cmap='viridis', edgecolor='none')\nax.set_title('3D Surface Plot of Smoothed Averaged Meal Glucose Levels', y=0.985)\nax.set_xlabel('Time Relative to Start of Meal [minutes]', labelpad=10)\nax.set_ylabel('Meal Samples', labelpad=10)\n#ax.set_zlabel('Glucose Level (mg/dL)', labelpad=30)\n\n#ax.set_xticks(np.linspace(-30, 120, 7))\n\n# Adjust axis limits to create a zoom-out effect\n#ax.set_xlim(-30, 120)\nax.set_ylim(0, 800)\nax.set_zlim(0, 300)\n\nfig.colorbar(surface_plot, ax=ax, shrink=0.5, aspect=10, label='Glucose Level (mg/dL)')\n\n#plt.tight_layout()\nfig.subplots_adjust(left=0.01, right=1, top=0.9, bottom=0.1)\n\nax.view_init(elev=25, azim=-55)\n\nplt.show()","key":"jzmg3YVkYY"},{"type":"outputs","id":"ngyV3uaRZSRu-b7jDw0fq","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"a358ab8cc88548f7c8f091f310422644","path":"/build/a358ab8cc88548f7c8f091f310422644.png"},"text/plain":{"content":"<Figure size 1000x800 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"Gtfon3gffj"}],"key":"usac2S9zk3"}],"key":"K3y4JSNNUJ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Contour Plot of Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bKdiO5YQLZ"}],"identifier":"contour-plot-of-meal-data-matrix-1","label":"Contour Plot of Meal Data Matrix 1","html_id":"contour-plot-of-meal-data-matrix-1","implicit":true,"key":"iw4puP84NX"}],"key":"LK6anAvDMy"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:55.800430Z","iopub.status.busy":"2024-10-21T11:06:55.794685Z","iopub.status.idle":"2024-10-21T11:06:56.476424Z","shell.execute_reply":"2024-10-21T11:06:56.475366Z","shell.execute_reply.started":"2024-10-21T11:06:55.800382Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the contour plot\nplt.figure(figsize=(15, 10))\nplt.contourf(X, Y, meal_data_matrix_1_df, cmap='viridis', levels=30)\nplt.colorbar(label='Glucose Level (mg/dL)')\nplt.title('Contour Plot of Meal Glucose Levels')\nplt.xlabel('Time Points')\nplt.ylabel('Meal Samples')\nplt.show()","key":"FXnZMRlXUI"},{"type":"outputs","id":"G1wpcaq2RvlKiAoqPiCmt","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"126ddca12ae9dc0fcc519551eb88c0b8","path":"/build/126ddca12ae9dc0fcc519551eb88c0b8.png"},"text/plain":{"content":"<Figure size 1500x1000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"s1AmX3pnyw"}],"key":"pc9OMmhj5W"}],"key":"PGYtFEVskm"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"C7OlGdEQ38"}],"identifier":"visualize-meal-data-matrix-2","label":"Visualize Meal Data Matrix 2","html_id":"visualize-meal-data-matrix-2","implicit":true,"key":"E8RfgDvzCT"}],"key":"IQ124c5BbO"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Heatmap of Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Amah4KmpoU"}],"identifier":"heatmap-of-meal-data-matrix-2","label":"Heatmap of Meal Data Matrix 2","html_id":"heatmap-of-meal-data-matrix-2","implicit":true,"key":"wXpsnSEtP8"}],"key":"Vv6RQzQ7Kk"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:56.477674Z","iopub.status.busy":"2024-10-21T11:06:56.477456Z","iopub.status.idle":"2024-10-21T11:06:57.429684Z","shell.execute_reply":"2024-10-21T11:06:57.428450Z","shell.execute_reply.started":"2024-10-21T11:06:56.477659Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the heatmap\nsampled_meal_data_matrix_2 = meal_data_matrix_2[np.random.choice(meal_data_matrix_2.shape[0], 200, replace=False)]\nplt.figure(figsize=(30, 30))\nsns.heatmap(sampled_meal_data_matrix_2, cmap='YlGnBu', linewidths=0.5, annot=False, vmin=None, vmax=None)\nplt.title('Heatmap of Meal Data Matrix 2')\nplt.xlabel('Time Points')\nplt.ylabel('Meals (Samples)')\nplt.show()","key":"PTRdNdjx4T"},{"type":"outputs","id":"hmwnCqWNJ6iaPS6YuPuTh","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"82f82fc0c9bba17c87599c06cd8e4f27","path":"/build/82f82fc0c9bba17c87599c06cd8e4f27.png"},"text/plain":{"content":"<Figure size 3000x3000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"eecVGxikFD"}],"key":"DJu6BsLhAm"}],"key":"Wp1jeUf1T0"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Surface Plot of Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"s6Sv90M8m0"}],"identifier":"surface-plot-of-meal-data-matrix-2","label":"Surface Plot of Meal Data Matrix 2","html_id":"surface-plot-of-meal-data-matrix-2","implicit":true,"key":"uS7QinnHfv"}],"key":"c3m2cLpEXg"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:57.436058Z","iopub.status.busy":"2024-10-21T11:06:57.435849Z","iopub.status.idle":"2024-10-21T11:06:57.454491Z","shell.execute_reply":"2024-10-21T11:06:57.453341Z","shell.execute_reply.started":"2024-10-21T11:06:57.436042Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create X, Y meshgrid\nX = np.arange(meal_data_matrix_2.shape[1])\nY = np.arange(meal_data_matrix_2.shape[0])\ntime_points = np.linspace(-30, 120, 30)  # X-axis: from -30 minutes to +120 minutes (30 time points)\nmeal_numbers = np.arange(1, len(meal_data_2) + 1)\nX, Y = np.meshgrid(time_points, Y)\n#X, Y = np.meshgrid(time_points, meal_numbers)","key":"Pc3IAWbE6V"},{"type":"outputs","id":"Khch90DJxkR1dHt6CcXHC","children":[],"key":"ANG9h2W5wK"}],"key":"Av4VYfIXeh"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:57.455531Z","iopub.status.busy":"2024-10-21T11:06:57.455271Z","iopub.status.idle":"2024-10-21T11:06:57.526317Z","shell.execute_reply":"2024-10-21T11:06:57.515783Z","shell.execute_reply.started":"2024-10-21T11:06:57.455512Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X","key":"xrjAuVp2lZ"},{"type":"outputs","id":"3y405MCTrnqSCPOM4zmb4","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":41,"metadata":{},"data":{"text/plain":{"content":"array([[-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       ...,\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ]])","content_type":"text/plain"}}},"children":[],"key":"qBkIHfYzPy"}],"key":"yBfTb6YsHA"}],"key":"faaYASAQ3E"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:57.537374Z","iopub.status.busy":"2024-10-21T11:06:57.527167Z","iopub.status.idle":"2024-10-21T11:06:57.547896Z","shell.execute_reply":"2024-10-21T11:06:57.547018Z","shell.execute_reply.started":"2024-10-21T11:06:57.537338Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X.shape","key":"FTqP72XaUY"},{"type":"outputs","id":"FoJ4pcsp2-e4rumKuro2K","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":42,"metadata":{},"data":{"text/plain":{"content":"(372, 30)","content_type":"text/plain"}}},"children":[],"key":"SFrX2kq8aA"}],"key":"huzFB7Y25h"}],"key":"y1LowCPhGn"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:57.549986Z","iopub.status.busy":"2024-10-21T11:06:57.549764Z","iopub.status.idle":"2024-10-21T11:06:57.560589Z","shell.execute_reply":"2024-10-21T11:06:57.559735Z","shell.execute_reply.started":"2024-10-21T11:06:57.549970Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y","key":"YOPMhtVROI"},{"type":"outputs","id":"0X120CPDqhlTZD_b8qEuB","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":43,"metadata":{},"data":{"text/plain":{"content":"array([[  0,   0,   0, ...,   0,   0,   0],\n       [  1,   1,   1, ...,   1,   1,   1],\n       [  2,   2,   2, ...,   2,   2,   2],\n       ...,\n       [369, 369, 369, ..., 369, 369, 369],\n       [370, 370, 370, ..., 370, 370, 370],\n       [371, 371, 371, ..., 371, 371, 371]])","content_type":"text/plain"}}},"children":[],"key":"EZPvPH9wiX"}],"key":"evBW2FPPwi"}],"key":"TOrZLetQDG"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:57.564133Z","iopub.status.busy":"2024-10-21T11:06:57.563915Z","iopub.status.idle":"2024-10-21T11:06:57.586578Z","shell.execute_reply":"2024-10-21T11:06:57.585679Z","shell.execute_reply.started":"2024-10-21T11:06:57.564118Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Fill NaNs using forward fill, then backward fill\nmeal_data_matrix_2_df = pd.DataFrame(meal_data_matrix_2)\nmeal_data_matrix_2_filled = meal_data_matrix_2_df.ffill().bfill().values","key":"yIT7V1XDJS"},{"type":"outputs","id":"b3RJuploASzxTHqQkG-8w","children":[],"key":"enxj9cP90T"}],"key":"KR0BcWLrb2"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:57.587640Z","iopub.status.busy":"2024-10-21T11:06:57.587388Z","iopub.status.idle":"2024-10-21T11:06:57.623610Z","shell.execute_reply":"2024-10-21T11:06:57.620891Z","shell.execute_reply.started":"2024-10-21T11:06:57.587624Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Apply a moving average smoothing to each row\nwindow_size = 5  # Choose a window size for smoothing\nsmoothed_meal_data_matrix_2 = np.array([uniform_filter1d(row, size=window_size) for row in meal_data_matrix_2_filled])","key":"HebgAmXk4a"},{"type":"outputs","id":"erNVtZpb-j5m27p1fvqfr","children":[],"key":"MaLIrhcXQJ"}],"key":"yKKfqemzVT"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:57.636602Z","iopub.status.busy":"2024-10-21T11:06:57.629841Z","iopub.status.idle":"2024-10-21T11:06:58.072001Z","shell.execute_reply":"2024-10-21T11:06:58.031354Z","shell.execute_reply.started":"2024-10-21T11:06:57.636518Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the plot\nfig = plt.figure(figsize=(10, 8))\nax = fig.add_subplot(111, projection='3d')\nstride = 100\n\n# Plot the surface\nsurface_plot = ax.plot_surface(X[::stride], Y[::stride], smoothed_meal_data_matrix_2[::stride], cmap='viridis', edgecolor='none')\nax.set_title('3D Surface Plot of Smoothed Averaged Meal Glucose Levels', y=0.985)\nax.set_xlabel('Time Relative to Start of Meal [minutes]', labelpad=10)\nax.set_ylabel('Meal Samples', labelpad=10)\n#ax.set_zlabel('Glucose Level (mg/dL)', labelpad=30)\n\n#ax.set_xticks(np.linspace(-30, 120, 7))\n\n# Adjust axis limits to create a zoom-out effect\n#ax.set_xlim(-30, 120)\n#ax.set_ylim(0, 800)\nax.set_zlim(0, 400)\n\nfig.colorbar(surface_plot, ax=ax, shrink=0.5, aspect=10, label='Glucose Level (mg/dL)')\n\n#plt.tight_layout()\nfig.subplots_adjust(left=0.01, right=1, top=0.9, bottom=0.1)\n\nax.view_init(elev=25, azim=-55)\n\nplt.show()","key":"r9X9pnuDGe"},{"type":"outputs","id":"KJ_BHaG-Ta3qdyaTRreEM","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"70c826f5eb335eac4570cc114495306f","path":"/build/70c826f5eb335eac4570cc114495306f.png"},"text/plain":{"content":"<Figure size 1000x800 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"IpGiKceX0D"}],"key":"FolLcfZTjs"}],"key":"tqgfKIzCW9"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Contour Plot of Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RhTnqSyRtY"}],"identifier":"contour-plot-of-meal-data-matrix-2","label":"Contour Plot of Meal Data Matrix 2","html_id":"contour-plot-of-meal-data-matrix-2","implicit":true,"key":"aW45dfpckc"}],"key":"d0nfXLjd0T"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:58.072973Z","iopub.status.busy":"2024-10-21T11:06:58.072781Z","iopub.status.idle":"2024-10-21T11:06:59.000914Z","shell.execute_reply":"2024-10-21T11:06:58.998362Z","shell.execute_reply.started":"2024-10-21T11:06:58.072958Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the contour plot\nplt.figure(figsize=(15, 10))\nplt.contourf(X, Y, meal_data_matrix_2_df, cmap='viridis', levels=30)\nplt.colorbar(label='Glucose Level (mg/dL)')\nplt.title('Contour Plot of Meal Glucose Levels')\nplt.xlabel('Time Points')\nplt.ylabel('Meal Samples')\nplt.show()","key":"TNOz2FkMI3"},{"type":"outputs","id":"AmZFFniHKx2X31mVNndal","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"23f4cbe824596a683b003752d28acd7d","path":"/build/23f4cbe824596a683b003752d28acd7d.png"},"text/plain":{"content":"<Figure size 1500x1000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"sXVqDuHUPb"}],"key":"HC16cxWOkt"}],"key":"dq4I9Tmznc"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Extract No - Meal Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZVHBvKVU7c"}],"identifier":"extract-no-meal-data","label":"Extract No - Meal Data","html_id":"extract-no-meal-data","implicit":true,"key":"fT2GxOAigI"}],"key":"ZsmMMXt2Mv"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:59.012803Z","iopub.status.busy":"2024-10-21T11:06:59.001886Z","iopub.status.idle":"2024-10-21T11:07:00.218713Z","shell.execute_reply":"2024-10-21T11:07:00.192075Z","shell.execute_reply.started":"2024-10-21T11:06:59.012766Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Initialize meal data list\nno_meal_data_1 = []\n    \n# Loop through each meal start time to find valid post - absorbtive windows\nfor meal_time in meal_times_1:\n    # Define the post-absorptive period: starts from tm+2 hours\n    # and lasts 2 hours (i.e to four hours)\n    post_absorptive_start = meal_time + pd.Timedelta(hours=2)\n    post_absorptive_end = meal_time + pd.Timedelta(hours=4)\n    \n    # Check for meals in the post-absorptive period\n    post_absorptive_meals = insulin_data_1[(insulin_data_1['datetime'] >= post_absorptive_start) &\n                                         (insulin_data_1['datetime'] <= post_absorptive_end)]\n    \n    # Step 2 Condition (a): If any non-zero, non-NaN meal is found in the\n    # post-absorptive period, skip this stretch\n    if not post_absorptive_meals.empty:\n        # Check if any of the meals have a non-zero carb input\n        if (post_absorptive_meals['BWZ Carb Input (grams)'] > 0).any():\n            # Skip this stretch, as there is a meal found in the post-absorptive period\n            continue\n    \n    # Step 2 condition (b): If meal values are 0 or NaN, ignore and consider the stretch\n    # Extract the corresponding 2-hour CGM data\n    no_meal_cgm_data_1 = cgm_data_1[(cgm_data_1['datetime'] >= post_absorptive_start) & \n                                (cgm_data_1['datetime'] <= post_absorptive_end)]\n    \n    # Check if the extracted data has the correct number of points (24 for no meal data)\n    if len(no_meal_cgm_data_1) == 24:\n        no_meal_data_1.append(no_meal_cgm_data_1['Sensor Glucose (mg/dL)'].values)","key":"lc7DbkRQae"},{"type":"outputs","id":"fo07ZaLPYpvd5BBrANpoN","children":[],"key":"BA9ONn7JGZ"}],"key":"ZJTIsLk5iV"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:00.226448Z","iopub.status.busy":"2024-10-21T11:07:00.226256Z","iopub.status.idle":"2024-10-21T11:07:00.797814Z","shell.execute_reply":"2024-10-21T11:07:00.796869Z","shell.execute_reply.started":"2024-10-21T11:07:00.226432Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Initialize meal data list\nno_meal_data_2 = []\n    \n# Loop through each meal start time to find valid post - absorbtive windows\nfor meal_time in meal_times_2:\n    # Define the post-absorptive period: starts from tm+2 hours\n    # and lasts 2 hours (i.e to four hours)\n    post_absorptive_start = meal_time + pd.Timedelta(hours=2)\n    post_absorptive_end = meal_time + pd.Timedelta(hours=4)\n    \n    # Check for meals in the post-absorptive period\n    post_absorptive_meals = insulin_data_2[(insulin_data_2['datetime'] >= post_absorptive_start) &\n                                         (insulin_data_2['datetime'] <= post_absorptive_end)]\n    \n    # Step 2 Condition (a): If any non-zero, non-NaN meal is found in the\n    # post-absorptive period, skip this stretch\n    if not post_absorptive_meals.empty:\n        # Check if any of the meals have a non-zero carb input\n        if (post_absorptive_meals['BWZ Carb Input (grams)'] > 0).any():\n            # Skip this stretch, as there is a meal found in the post-absorptive period\n            continue\n    \n    # Step 2 condition (b): If meal values are 0 or NaN, ignore and consider the stretch\n    # Extract the corresponding 2-hour CGM data\n    no_meal_cgm_data_2 = cgm_data_2[(cgm_data_2['datetime'] >= post_absorptive_start) & \n                                (cgm_data_2['datetime'] <= post_absorptive_end)]\n    \n    # Check if the extracted data has the correct number of points (24 for no meal data)\n    if len(no_meal_cgm_data_2) == 24:\n        no_meal_data_2.append(no_meal_cgm_data_2['Sensor Glucose (mg/dL)'].values)","key":"D53N3phpTp"},{"type":"outputs","id":"AjQ5i5xdfV4egGRmXecUF","children":[],"key":"eGcLSyO28m"}],"key":"ZHnTHQq76P"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:00.798515Z","iopub.status.busy":"2024-10-21T11:07:00.798298Z","iopub.status.idle":"2024-10-21T11:07:00.875166Z","shell.execute_reply":"2024-10-21T11:07:00.873447Z","shell.execute_reply.started":"2024-10-21T11:07:00.798499Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"len(no_meal_data_1)","key":"SDOFoF2yJG"},{"type":"outputs","id":"X5GXFJ_RfLQzTLx5aV2PT","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":50,"metadata":{},"data":{"text/plain":{"content":"510","content_type":"text/plain"}}},"children":[],"key":"An42TNdBqb"}],"key":"ULdlpOpnYe"}],"key":"U0LCuYcobl"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:00.876103Z","iopub.status.busy":"2024-10-21T11:07:00.875856Z","iopub.status.idle":"2024-10-21T11:07:00.940095Z","shell.execute_reply":"2024-10-21T11:07:00.928972Z","shell.execute_reply.started":"2024-10-21T11:07:00.876087Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"len(no_meal_data_2)","key":"DC8nGSXkjo"},{"type":"outputs","id":"gh4g-K-NokCnXq1nAFTy5","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":51,"metadata":{},"data":{"text/plain":{"content":"325","content_type":"text/plain"}}},"children":[],"key":"TgaPzK5zdc"}],"key":"vyw9VhuSuD"}],"key":"JQU3V4uTWT"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:00.942879Z","iopub.status.busy":"2024-10-21T11:07:00.942051Z","iopub.status.idle":"2024-10-21T11:07:00.951145Z","shell.execute_reply":"2024-10-21T11:07:00.948375Z","shell.execute_reply.started":"2024-10-21T11:07:00.942857Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#no_meal_data_1[0:5]","key":"g3uDaL1KwM"},{"type":"outputs","id":"3l7zHsjlrICepp_1uhkCG","children":[],"key":"HNwd6FnjVu"}],"key":"zbFQXqI1PL"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:00.958835Z","iopub.status.busy":"2024-10-21T11:07:00.952316Z","iopub.status.idle":"2024-10-21T11:07:01.119642Z","shell.execute_reply":"2024-10-21T11:07:01.094880Z","shell.execute_reply.started":"2024-10-21T11:07:00.958812Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#no_meal_data_2[0:5]","key":"p3MnUTwHAr"},{"type":"outputs","id":"1FETS6egW12j0zNP9br-V","children":[],"key":"pyOA2hzc19"}],"key":"TDKRNZwrZM"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Create No Meal Data Matrix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yOECPC6iSn"}],"identifier":"create-no-meal-data-matrix","label":"Create No Meal Data Matrix","html_id":"create-no-meal-data-matrix","implicit":true,"key":"ts6ugZN7Ro"}],"key":"ZMjfEqMGio"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:01.133371Z","iopub.status.busy":"2024-10-21T11:07:01.128104Z","iopub.status.idle":"2024-10-21T11:07:01.183398Z","shell.execute_reply":"2024-10-21T11:07:01.182874Z","shell.execute_reply.started":"2024-10-21T11:07:01.133345Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"no_meal_data_matrix_1 = np.array(no_meal_data_1)\n#no_meal_data_matrix_1","key":"p7jqhiFqgK"},{"type":"outputs","id":"5laTAVVF3jSe65jwpIWri","children":[],"key":"lYiTqyNV8f"}],"key":"JRjtPGifMd"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:01.199336Z","iopub.status.busy":"2024-10-21T11:07:01.199133Z","iopub.status.idle":"2024-10-21T11:07:01.442974Z","shell.execute_reply":"2024-10-21T11:07:01.358041Z","shell.execute_reply.started":"2024-10-21T11:07:01.199322Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"no_meal_data_matrix_2 = np.array(no_meal_data_2)\n#no_meal_data_matrix_2","key":"XpFl25Jpqp"},{"type":"outputs","id":"DvC0R_C46WRBEoqnoxhDH","children":[],"key":"sJbScpnXs2"}],"key":"GZXwicqtJd"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:01.449540Z","iopub.status.busy":"2024-10-21T11:07:01.449338Z","iopub.status.idle":"2024-10-21T11:07:01.851249Z","shell.execute_reply":"2024-10-21T11:07:01.816597Z","shell.execute_reply.started":"2024-10-21T11:07:01.449526Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"no_meal_data_matrix_1.shape","key":"r2oDldCLpU"},{"type":"outputs","id":"maEz5HVYBPRDermlzzr8Y","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":56,"metadata":{},"data":{"text/plain":{"content":"(510, 24)","content_type":"text/plain"}}},"children":[],"key":"jtRwu64Y2v"}],"key":"HbeyTa6al8"}],"key":"oumF2xv49r"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:01.869668Z","iopub.status.busy":"2024-10-21T11:07:01.864443Z","iopub.status.idle":"2024-10-21T11:07:02.008543Z","shell.execute_reply":"2024-10-21T11:07:01.975723Z","shell.execute_reply.started":"2024-10-21T11:07:01.869639Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"no_meal_data_matrix_2.shape","key":"ajgVx9y8QP"},{"type":"outputs","id":"JseHE7stJNmDqEqliOjOv","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":57,"metadata":{},"data":{"text/plain":{"content":"(325, 24)","content_type":"text/plain"}}},"children":[],"key":"OP2oVX8B9i"}],"key":"NyzKzqFyYY"}],"key":"DMQDcG1Ubb"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize No Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vgC0fDC6Hj"}],"identifier":"visualize-no-meal-data-matrix-1","label":"Visualize No Meal Data Matrix 1","html_id":"visualize-no-meal-data-matrix-1","implicit":true,"key":"kby7lVYkQN"}],"key":"CKKgTV7YNi"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Heatmap of No Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OpqmtsbyTO"}],"identifier":"heatmap-of-no-meal-data-matrix-1","label":"Heatmap of No Meal Data Matrix 1","html_id":"heatmap-of-no-meal-data-matrix-1","implicit":true,"key":"bLg06OkdPk"}],"key":"y0LdkIR3uO"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:02.038134Z","iopub.status.busy":"2024-10-21T11:07:02.033827Z","iopub.status.idle":"2024-10-21T11:07:03.425254Z","shell.execute_reply":"2024-10-21T11:07:03.424126Z","shell.execute_reply.started":"2024-10-21T11:07:02.038104Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the heatmap\nsampled_no_meal_data_matrix_1 = no_meal_data_matrix_1[np.random.choice(no_meal_data_matrix_1.shape[0], 200, replace=False)]\nplt.figure(figsize=(30, 30))\nsns.heatmap(sampled_no_meal_data_matrix_1, cmap='YlGnBu', linewidths=0.5, annot=False, vmin=None, vmax=None)\nplt.title('Heatmap of No Meal Data Matrix 1')\nplt.xlabel('Time Points')\nplt.ylabel('Meals (Samples)')\nplt.show()","key":"tBaeIU0o5W"},{"type":"outputs","id":"DTRSc79b1Da3yfuk7tWL7","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"b0cde087ebdd9a43dde2e268f39de683","path":"/build/b0cde087ebdd9a43dde2e268f39de683.png"},"text/plain":{"content":"<Figure size 3000x3000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"PLoGIzAKCU"}],"key":"yDXaZyDvDR"}],"key":"mEx5j8ICGw"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Surface Plot of No Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PK555D9y1s"}],"identifier":"surface-plot-of-no-meal-data-matrix-1","label":"Surface Plot of No Meal Data Matrix 1","html_id":"surface-plot-of-no-meal-data-matrix-1","implicit":true,"key":"a51H1Gqek6"}],"key":"UGL6QGhHzh"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:03.426430Z","iopub.status.busy":"2024-10-21T11:07:03.426143Z","iopub.status.idle":"2024-10-21T11:07:03.441691Z","shell.execute_reply":"2024-10-21T11:07:03.440757Z","shell.execute_reply.started":"2024-10-21T11:07:03.426402Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"time_points = np.linspace(-30, 120, 24)\nprint(time_points)\nprint(time_points.shape)","key":"k22aiJZcs7"},{"type":"outputs","id":"2fbwLlJ1Zhfw4B1mek9ye","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"[-30.         -23.47826087 -16.95652174 -10.43478261  -3.91304348\n   2.60869565   9.13043478  15.65217391  22.17391304  28.69565217\n  35.2173913   41.73913043  48.26086957  54.7826087   61.30434783\n  67.82608696  74.34782609  80.86956522  87.39130435  93.91304348\n 100.43478261 106.95652174 113.47826087 120.        ]\n(24,)\n"},"children":[],"key":"dPCyS58SmC"}],"key":"VZGhAZVSUV"}],"key":"mpfFdwusuf"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:03.443126Z","iopub.status.busy":"2024-10-21T11:07:03.442534Z","iopub.status.idle":"2024-10-21T11:07:03.459704Z","shell.execute_reply":"2024-10-21T11:07:03.458555Z","shell.execute_reply.started":"2024-10-21T11:07:03.443105Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create X, Y meshgrid\nX = np.arange(no_meal_data_matrix_1.shape[1])\nY = np.arange(no_meal_data_matrix_1.shape[0])\ntime_points = np.linspace(-30, 120, 24)  # X-axis: from -30 minutes to +120 minutes (24 time points)\nmeal_numbers = np.arange(1, len(no_meal_data_1) + 1)\nX, Y = np.meshgrid(time_points, Y)\n#X, Y = np.meshgrid(time_points, meal_numbers)","key":"o4jTn4mzvv"},{"type":"outputs","id":"6wKeqlwPyn5hHcpTiGS5v","children":[],"key":"OP4vD3kJTy"}],"key":"sUqgFVYz0c"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:03.460932Z","iopub.status.busy":"2024-10-21T11:07:03.460631Z","iopub.status.idle":"2024-10-21T11:07:03.486124Z","shell.execute_reply":"2024-10-21T11:07:03.485260Z","shell.execute_reply.started":"2024-10-21T11:07:03.460906Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X","key":"Ki1lO7sGVw"},{"type":"outputs","id":"mSpAKEkSD6btlqWHYJ69j","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":61,"metadata":{},"data":{"text/plain":{"content":"array([[-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ],\n       [-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ],\n       [-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ],\n       ...,\n       [-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ],\n       [-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ],\n       [-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ]])","content_type":"text/plain"}}},"children":[],"key":"FORQCy29sh"}],"key":"q6JV99xcGd"}],"key":"CfCnICiWfF"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:03.487241Z","iopub.status.busy":"2024-10-21T11:07:03.486813Z","iopub.status.idle":"2024-10-21T11:07:03.500183Z","shell.execute_reply":"2024-10-21T11:07:03.499409Z","shell.execute_reply.started":"2024-10-21T11:07:03.487224Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X.shape","key":"Twm2fnwdSa"},{"type":"outputs","id":"2A0tQOv3WKT_Jw8O-bwxd","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":62,"metadata":{},"data":{"text/plain":{"content":"(510, 24)","content_type":"text/plain"}}},"children":[],"key":"yLfQhfomUv"}],"key":"dEvKTY7hWV"}],"key":"ITiVYyzMt7"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:03.501860Z","iopub.status.busy":"2024-10-21T11:07:03.501600Z","iopub.status.idle":"2024-10-21T11:07:03.547255Z","shell.execute_reply":"2024-10-21T11:07:03.546077Z","shell.execute_reply.started":"2024-10-21T11:07:03.501844Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y","key":"oo9Yefpl0H"},{"type":"outputs","id":"1GERP3UUbhJ62M2UYwkz5","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":63,"metadata":{},"data":{"text/plain":{"content":"array([[  0,   0,   0, ...,   0,   0,   0],\n       [  1,   1,   1, ...,   1,   1,   1],\n       [  2,   2,   2, ...,   2,   2,   2],\n       ...,\n       [507, 507, 507, ..., 507, 507, 507],\n       [508, 508, 508, ..., 508, 508, 508],\n       [509, 509, 509, ..., 509, 509, 509]])","content_type":"text/plain"}}},"children":[],"key":"dXKfmEQAXk"}],"key":"j2Tvy03RRa"}],"key":"dnDCPHrvdQ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:03.550086Z","iopub.status.busy":"2024-10-21T11:07:03.549515Z","iopub.status.idle":"2024-10-21T11:07:03.603141Z","shell.execute_reply":"2024-10-21T11:07:03.566734Z","shell.execute_reply.started":"2024-10-21T11:07:03.550062Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y.shape","key":"o4DXUyznsM"},{"type":"outputs","id":"kPCl5vXec0R5MHrRHm1wm","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":64,"metadata":{},"data":{"text/plain":{"content":"(510, 24)","content_type":"text/plain"}}},"children":[],"key":"W3sUmFCqlM"}],"key":"RTRJdazRWb"}],"key":"PLfA3k7bWw"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:03.618250Z","iopub.status.busy":"2024-10-21T11:07:03.613381Z","iopub.status.idle":"2024-10-21T11:07:03.624859Z","shell.execute_reply":"2024-10-21T11:07:03.623405Z","shell.execute_reply.started":"2024-10-21T11:07:03.618212Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Fill NaNs using forward fill, then backward fill\nno_meal_data_matrix_1_df = pd.DataFrame(no_meal_data_matrix_1)\nno_meal_data_matrix_1_filled = no_meal_data_matrix_1_df.ffill().bfill().values","key":"IzeBsVTSv2"},{"type":"outputs","id":"M3DVl9CdwkoqEJev6rHzx","children":[],"key":"wbwhviscIJ"}],"key":"OFOYr7ffUg"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:03.625995Z","iopub.status.busy":"2024-10-21T11:07:03.625764Z","iopub.status.idle":"2024-10-21T11:07:03.674045Z","shell.execute_reply":"2024-10-21T11:07:03.654483Z","shell.execute_reply.started":"2024-10-21T11:07:03.625979Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Apply a moving average smoothing to each row\nwindow_size = 5  # Choose a window size for smoothing\nsmoothed_no_meal_data_matrix_1 = np.array([uniform_filter1d(row, size=window_size) for row in no_meal_data_matrix_1_filled])","key":"sNxMkvdlSS"},{"type":"outputs","id":"qWwRtG54n8x_ue_DYbila","children":[],"key":"an8LkvpyBQ"}],"key":"BkL1hufttt"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:03.679463Z","iopub.status.busy":"2024-10-21T11:07:03.679143Z","iopub.status.idle":"2024-10-21T11:07:04.576064Z","shell.execute_reply":"2024-10-21T11:07:04.562132Z","shell.execute_reply.started":"2024-10-21T11:07:03.679447Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the plot\nfig = plt.figure(figsize=(10, 8))\nax = fig.add_subplot(111, projection='3d')\nstride = 100\n\n# Plot the surface\nsurface_plot = ax.plot_surface(X[::stride], Y[::stride], smoothed_no_meal_data_matrix_1[::stride], cmap='viridis', edgecolor='none')\nax.set_title('3D Surface Plot of Smoothed Averaged No Meal Glucose Levels', y=0.985)\nax.set_xlabel('Time Relative to End of Meal [minutes]', labelpad=10)\nax.set_ylabel('Meal Samples', labelpad=10)\n#ax.set_zlabel('Glucose Level (mg/dL)', labelpad=30)\n\n#ax.set_xticks(np.linspace(-30, 120, 7))\n\n# Adjust axis limits to create a zoom-out effect\n#ax.set_xlim(-30, 120)\n#ax.set_ylim(0, 800)\n#ax.set_zlim(0, 300)\n\nfig.colorbar(surface_plot, ax=ax, shrink=0.5, aspect=10, label='Glucose Level (mg/dL)')\n\n#plt.tight_layout()\nfig.subplots_adjust(left=0.01, right=1, top=0.9, bottom=0.1)\n\nax.view_init(elev=25, azim=-55)\n\nplt.show()","key":"rAPtzPkhLU"},{"type":"outputs","id":"F9Q83pWToCkGSiq_fAB4F","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"852e2b3b38614cf71d1db9b868b4224f","path":"/build/852e2b3b38614cf71d1db9b868b4224f.png"},"text/plain":{"content":"<Figure size 1000x800 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"g7KNub3pP8"}],"key":"Wh8Msu9Qc5"}],"key":"WftTnOWWCM"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Contour Plot of No Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"H1srT6rgdx"}],"identifier":"contour-plot-of-no-meal-data-matrix-1","label":"Contour Plot of No Meal Data Matrix 1","html_id":"contour-plot-of-no-meal-data-matrix-1","implicit":true,"key":"Hzf6WFC6Qr"}],"key":"YfHWD0eDMI"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:04.589769Z","iopub.status.busy":"2024-10-21T11:07:04.579959Z","iopub.status.idle":"2024-10-21T11:07:05.245658Z","shell.execute_reply":"2024-10-21T11:07:05.244445Z","shell.execute_reply.started":"2024-10-21T11:07:04.589743Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the contour plot\nplt.figure(figsize=(15, 10))\nplt.contourf(X, Y, no_meal_data_matrix_1_df, cmap='viridis', levels=30)\nplt.colorbar(label='Glucose Level (mg/dL)')\nplt.title('Contour Plot of No Meal Glucose Levels')\nplt.xlabel('Time Points')\nplt.ylabel('Meal Samples')\nplt.show()","key":"M8sG91KrDs"},{"type":"outputs","id":"En1ZlO0cFV9FprJPQOLoX","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"fd34e6f01e7c7e3e118f37add522c9b2","path":"/build/fd34e6f01e7c7e3e118f37add522c9b2.png"},"text/plain":{"content":"<Figure size 1500x1000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"lYxX7TiXzi"}],"key":"WOw72IHNIs"}],"key":"z0SdbhriWl"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize No Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aDnqV9cNz8"}],"identifier":"visualize-no-meal-data-matrix-2","label":"Visualize No Meal Data Matrix 2","html_id":"visualize-no-meal-data-matrix-2","implicit":true,"key":"OOnYuCcNpa"}],"key":"h2Wvib45xX"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Heatmap of No Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"I5bcCzuHJ4"}],"identifier":"heatmap-of-no-meal-data-matrix-2","label":"Heatmap of No Meal Data Matrix 2","html_id":"heatmap-of-no-meal-data-matrix-2","implicit":true,"key":"ugeBzZu2Tw"}],"key":"Sokagky8Qg"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:05.252411Z","iopub.status.busy":"2024-10-21T11:07:05.249774Z","iopub.status.idle":"2024-10-21T11:07:06.525790Z","shell.execute_reply":"2024-10-21T11:07:06.524877Z","shell.execute_reply.started":"2024-10-21T11:07:05.252386Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the heatmap\nsampled_no_meal_data_matrix_2 = no_meal_data_matrix_2[np.random.choice(no_meal_data_matrix_2.shape[0], 200, replace=False)]\nplt.figure(figsize=(30, 30))\nsns.heatmap(sampled_meal_data_matrix_2, cmap='YlGnBu', linewidths=0.5, annot=False, vmin=None, vmax=None)\nplt.title('Heatmap of No Meal Data Matrix 1')\nplt.xlabel('Time Points')\nplt.ylabel('Meals (Samples)')\nplt.show()","key":"rIqJiffbMw"},{"type":"outputs","id":"TfgyWFGovO5U5_ihm18nY","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"38dbc59a10c3bb9ea4ce45782e7631d0","path":"/build/38dbc59a10c3bb9ea4ce45782e7631d0.png"},"text/plain":{"content":"<Figure size 3000x3000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"NvS8zhxsMy"}],"key":"mZGK9diEqG"}],"key":"kC5BXHfVRN"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Surface Plot of No Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rQeJeqMOzB"}],"identifier":"surface-plot-of-no-meal-data-matrix-2","label":"Surface Plot of No Meal Data Matrix 2","html_id":"surface-plot-of-no-meal-data-matrix-2","implicit":true,"key":"xJQ1sIUnB1"}],"key":"vnYrU9iOjp"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:06.526634Z","iopub.status.busy":"2024-10-21T11:07:06.526391Z","iopub.status.idle":"2024-10-21T11:07:06.546387Z","shell.execute_reply":"2024-10-21T11:07:06.545483Z","shell.execute_reply.started":"2024-10-21T11:07:06.526618Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"time_points = np.linspace(-30, 120, 24)\nprint(time_points)\nprint(time_points.shape)","key":"A2f9hY7qWD"},{"type":"outputs","id":"B6T5IduIVgcEXsreqo1v3","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"[-30.         -23.47826087 -16.95652174 -10.43478261  -3.91304348\n   2.60869565   9.13043478  15.65217391  22.17391304  28.69565217\n  35.2173913   41.73913043  48.26086957  54.7826087   61.30434783\n  67.82608696  74.34782609  80.86956522  87.39130435  93.91304348\n 100.43478261 106.95652174 113.47826087 120.        ]\n(24,)\n"},"children":[],"key":"u8UGs3mRce"}],"key":"FcKQB6uaJQ"}],"key":"rIvME3lWJl"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:06.548131Z","iopub.status.busy":"2024-10-21T11:07:06.547905Z","iopub.status.idle":"2024-10-21T11:07:06.607281Z","shell.execute_reply":"2024-10-21T11:07:06.590343Z","shell.execute_reply.started":"2024-10-21T11:07:06.548116Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create X, Y meshgrid\nX = np.arange(no_meal_data_matrix_2.shape[1])\nY = np.arange(no_meal_data_matrix_2.shape[0])\ntime_points = np.linspace(-30, 120, 24)  # X-axis: from -30 minutes to +120 minutes (24 time points)\nmeal_numbers = np.arange(1, len(no_meal_data_2) + 1)\nX, Y = np.meshgrid(time_points, Y)\n#X, Y = np.meshgrid(time_points, meal_numbers)","key":"iLI2XuixU0"},{"type":"outputs","id":"zvBZvFJdybs3E7lnGtyo3","children":[],"key":"qxqGMMY4c3"}],"key":"mH2cZ10BeS"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:06.633173Z","iopub.status.busy":"2024-10-21T11:07:06.609795Z","iopub.status.idle":"2024-10-21T11:07:06.732116Z","shell.execute_reply":"2024-10-21T11:07:06.731013Z","shell.execute_reply.started":"2024-10-21T11:07:06.633147Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X","key":"ghKmfC4pTH"},{"type":"outputs","id":"gRtkt2ZqtrCV8NK0xvxOb","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":72,"metadata":{},"data":{"text/plain":{"content":"array([[-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ],\n       [-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ],\n       [-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ],\n       ...,\n       [-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ],\n       [-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ],\n       [-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ]])","content_type":"text/plain"}}},"children":[],"key":"nROb64qw6t"}],"key":"cq80nXY7pz"}],"key":"QQs8wqkTD7"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:06.733023Z","iopub.status.busy":"2024-10-21T11:07:06.732828Z","iopub.status.idle":"2024-10-21T11:07:06.749450Z","shell.execute_reply":"2024-10-21T11:07:06.748702Z","shell.execute_reply.started":"2024-10-21T11:07:06.733005Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X.shape","key":"su0iXsu7Au"},{"type":"outputs","id":"BJ2bsfryU4Rqnj8ObFs7d","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":73,"metadata":{},"data":{"text/plain":{"content":"(325, 24)","content_type":"text/plain"}}},"children":[],"key":"MjEz1eaZmd"}],"key":"PcJ2droNqg"}],"key":"AbEo3J69pW"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:06.750494Z","iopub.status.busy":"2024-10-21T11:07:06.750027Z","iopub.status.idle":"2024-10-21T11:07:07.012762Z","shell.execute_reply":"2024-10-21T11:07:06.993735Z","shell.execute_reply.started":"2024-10-21T11:07:06.750478Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y","key":"DHTXVxCTMj"},{"type":"outputs","id":"umXY6HtBpPhYgf6zI5Bjq","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":74,"metadata":{},"data":{"text/plain":{"content":"array([[  0,   0,   0, ...,   0,   0,   0],\n       [  1,   1,   1, ...,   1,   1,   1],\n       [  2,   2,   2, ...,   2,   2,   2],\n       ...,\n       [322, 322, 322, ..., 322, 322, 322],\n       [323, 323, 323, ..., 323, 323, 323],\n       [324, 324, 324, ..., 324, 324, 324]])","content_type":"text/plain"}}},"children":[],"key":"dJZHXdoy5l"}],"key":"BVdStHB7S2"}],"key":"ZhFl1APfni"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:07.037017Z","iopub.status.busy":"2024-10-21T11:07:07.023280Z","iopub.status.idle":"2024-10-21T11:07:07.275682Z","shell.execute_reply":"2024-10-21T11:07:07.232825Z","shell.execute_reply.started":"2024-10-21T11:07:07.036987Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y.shape","key":"HzvcI09dOG"},{"type":"outputs","id":"P-vlwf4EWnwo0bDy1eEJ3","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":75,"metadata":{},"data":{"text/plain":{"content":"(325, 24)","content_type":"text/plain"}}},"children":[],"key":"U9RJxlPxrs"}],"key":"Y7bMQLLMvY"}],"key":"ol0kEIp2mn"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:07.292033Z","iopub.status.busy":"2024-10-21T11:07:07.276196Z","iopub.status.idle":"2024-10-21T11:07:07.437586Z","shell.execute_reply":"2024-10-21T11:07:07.422987Z","shell.execute_reply.started":"2024-10-21T11:07:07.291975Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Fill NaNs using forward fill, then backward fill\nno_meal_data_matrix_2_df = pd.DataFrame(no_meal_data_matrix_2)\nno_meal_data_matrix_2_filled = no_meal_data_matrix_2_df.ffill().bfill().values","key":"XwlbrQkEzl"},{"type":"outputs","id":"EhopSz3wDRoIGTiRdexCO","children":[],"key":"a7tbBj6EjY"}],"key":"IFr3vP7AW3"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:07.461209Z","iopub.status.busy":"2024-10-21T11:07:07.449834Z","iopub.status.idle":"2024-10-21T11:07:07.785792Z","shell.execute_reply":"2024-10-21T11:07:07.780485Z","shell.execute_reply.started":"2024-10-21T11:07:07.461162Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Apply a moving average smoothing to each row\nwindow_size = 5  # Choose a window size for smoothing\nsmoothed_no_meal_data_matrix_2 = np.array([uniform_filter1d(row, size=window_size) for row in no_meal_data_matrix_2_filled])","key":"J8BPINC9wE"},{"type":"outputs","id":"aWqgRlc1tEr8YpOkmoN1V","children":[],"key":"FHkmAuukAj"}],"key":"L3qDTKb45x"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:07.827137Z","iopub.status.busy":"2024-10-21T11:07:07.808332Z","iopub.status.idle":"2024-10-21T11:07:08.585468Z","shell.execute_reply":"2024-10-21T11:07:08.561271Z","shell.execute_reply.started":"2024-10-21T11:07:07.827103Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the plot\nfig = plt.figure(figsize=(10, 8))\nax = fig.add_subplot(111, projection='3d')\nstride = 100\n\n# Plot the surface\nsurface_plot = ax.plot_surface(X[::stride], Y[::stride], smoothed_no_meal_data_matrix_2[::stride], cmap='viridis', edgecolor='none')\nax.set_title('3D Surface Plot of Smoothed Averaged No Meal Glucose Levels', y=0.985)\nax.set_xlabel('Time Relative to End of Meal [minutes]', labelpad=10)\nax.set_ylabel('Meal Samples', labelpad=10)\n#ax.set_zlabel('Glucose Level (mg/dL)', labelpad=30)\n\n#ax.set_xticks(np.linspace(-30, 120, 7))\n\n# Adjust axis limits to create a zoom-out effect\n#ax.set_xlim(-30, 120)\n#ax.set_ylim(0, 800)\n#ax.set_zlim(0, 300)\n\nfig.colorbar(surface_plot, ax=ax, shrink=0.5, aspect=10, label='Glucose Level (mg/dL)')\n\n#plt.tight_layout()\nfig.subplots_adjust(left=0.01, right=1, top=0.9, bottom=0.1)\n\nax.view_init(elev=25, azim=-55)\n\nplt.show()","key":"oujsBHHPmO"},{"type":"outputs","id":"sf-Wb9Puu6i-zdqVmJ6Ey","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"53f8e67ddb84bce4df19d06f417ac1e8","path":"/build/53f8e67ddb84bce4df19d06f417ac1e8.png"},"text/plain":{"content":"<Figure size 1000x800 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"Yy44KI4ZGA"}],"key":"owPS85tTRX"}],"key":"wLo2HVSe0o"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Contour Plot of No Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xZb3SJzlkt"}],"identifier":"contour-plot-of-no-meal-data-matrix-2","label":"Contour Plot of No Meal Data Matrix 2","html_id":"contour-plot-of-no-meal-data-matrix-2","implicit":true,"key":"zGJ3z0iS7r"}],"key":"R4poZz8JZv"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:08.586534Z","iopub.status.busy":"2024-10-21T11:07:08.586284Z","iopub.status.idle":"2024-10-21T11:07:09.209790Z","shell.execute_reply":"2024-10-21T11:07:09.208448Z","shell.execute_reply.started":"2024-10-21T11:07:08.586515Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the contour plot\nplt.figure(figsize=(15, 10))\nplt.contourf(X, Y, no_meal_data_matrix_2_df, cmap='viridis', levels=30)\nplt.colorbar(label='Glucose Level (mg/dL)')\nplt.title('Contour Plot of No Meal Glucose Levels')\nplt.xlabel('Time Points')\nplt.ylabel('Meal Samples')\nplt.show()","key":"F7YEmMHTdj"},{"type":"outputs","id":"sPoFQSlof9Gdt1Tf_xndk","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"51695a6d9698fcaf8b0a3f4f05b11c79","path":"/build/51695a6d9698fcaf8b0a3f4f05b11c79.png"},"text/plain":{"content":"<Figure size 1500x1000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"InkvHY2IKH"}],"key":"RUPnKE5QJz"}],"key":"og7una8jvx"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"","key":"xw9qi22e8E"},{"type":"outputs","id":"_S_cKgEZ7Bc_LxQWPCk__","children":[],"key":"McquWDNgwh"}],"key":"f50waHiJ9q"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Handle Missing Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nMe108R7Tw"}],"identifier":"handle-missing-data","label":"Handle Missing Data","html_id":"handle-missing-data","implicit":true,"key":"WdQgmr8CyA"}],"key":"OKtEkalTOK"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We will use a strategy of deleting rows of data that have more than 10% of bad data.  If less than 10%, we will use KNN with a nearest neighbor hyperparameter (K=7).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bCANdYqpdT"}],"key":"VZG8ZGh2Bv"}],"key":"qi7gitjh15"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Define Threshold for Dumping Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"avgOr13vm5"}],"identifier":"define-threshold-for-dumping-data","label":"Define Threshold for Dumping Data","html_id":"define-threshold-for-dumping-data","implicit":true,"key":"zA9L2QOnVe"}],"key":"RQC48F8ZyT"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:09.211210Z","iopub.status.busy":"2024-10-21T11:07:09.210917Z","iopub.status.idle":"2024-10-21T11:07:09.281513Z","shell.execute_reply":"2024-10-21T11:07:09.245711Z","shell.execute_reply.started":"2024-10-21T11:07:09.211183Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# 10%\ndump_thresold = 0.1","key":"lyMoQdOK2o"},{"type":"outputs","id":"C8CfSCN7r73zWGHEwCu9o","children":[],"key":"vyBhwbMXSM"}],"key":"PV7CbULtD5"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Create KNN Imputer","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tpoEfaIzo2"}],"identifier":"create-knn-imputer","label":"Create KNN Imputer","html_id":"create-knn-imputer","implicit":true,"key":"jmKqH7nkfG"}],"key":"wOkFII9Adc"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:09.290697Z","iopub.status.busy":"2024-10-21T11:07:09.290445Z","iopub.status.idle":"2024-10-21T11:07:09.451749Z","shell.execute_reply":"2024-10-21T11:07:09.450751Z","shell.execute_reply.started":"2024-10-21T11:07:09.290680Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"knn_imputer = KNNImputer(n_neighbors=7)","key":"EBcDTWxqzG"},{"type":"outputs","id":"q0vQUp04gH4PSj8i4dLnx","children":[],"key":"owelYTMdwh"}],"key":"SPhIqnHf7P"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Parse Meal Data and Handle Missing Values","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bmLZj70ori"}],"identifier":"parse-meal-data-and-handle-missing-values","label":"Parse Meal Data and Handle Missing Values","html_id":"parse-meal-data-and-handle-missing-values","implicit":true,"key":"adLWIrjYRD"}],"key":"TzlrQi418G"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:09.468673Z","iopub.status.busy":"2024-10-21T11:07:09.463761Z","iopub.status.idle":"2024-10-21T11:07:09.582230Z","shell.execute_reply":"2024-10-21T11:07:09.581269Z","shell.execute_reply.started":"2024-10-21T11:07:09.468640Z"},"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_meal_data_1 = []\nfor row in meal_data_matrix_1:\n\n    proportion_missing_data = np.isnan(row).mean()\n\n    if proportion_missing_data > dump_thresold:\n\n        # Ignore this row\n        print(f\"Ignoring row with {proportion_missing_data*100:.2f}% missing data\")\n        continue\n\n    else:\n        # The data is good, use it\n        cleaned_meal_data_1.append(row)","key":"ibKRlBk3F7"},{"type":"outputs","id":"0ih-SY3RE5Be6_CnNwoOT","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Ignoring row with 13.33% missing data\nIgnoring row with 73.33% missing data\nIgnoring row with 66.67% missing data\nIgnoring row with 13.33% missing data\nIgnoring row with 30.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 23.33% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 26.67% missing data\nIgnoring row with 30.00% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 73.33% missing data\nIgnoring row with 63.33% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 33.33% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 60.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 36.67% missing data\nIgnoring row with 43.33% missing data\nIgnoring row with 13.33% missing data\nIgnoring row with 13.33% missing data\nIgnoring row with 60.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 53.33% missing data\nIgnoring row with 33.33% missing data\nIgnoring row with 13.33% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 83.33% missing data\nIgnoring row with 86.67% missing data\nIgnoring row with 70.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 43.33% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 63.33% missing data\nIgnoring row with 63.33% missing data\nIgnoring row with 26.67% missing data\nIgnoring row with 60.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 33.33% missing data\nIgnoring row with 96.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 80.00% missing data\nIgnoring row with 43.33% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 70.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 83.33% missing data\nIgnoring row with 83.33% missing data\nIgnoring row with 30.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 30.00% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 76.67% missing data\nIgnoring row with 73.33% missing data\nIgnoring row with 70.00% missing data\nIgnoring row with 36.67% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 36.67% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 63.33% missing data\nIgnoring row with 13.33% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 26.67% missing data\nIgnoring row with 90.00% missing data\nIgnoring row with 23.33% missing data\nIgnoring row with 33.33% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 80.00% missing data\nIgnoring row with 33.33% missing data\nIgnoring row with 30.00% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 33.33% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 13.33% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 16.67% missing data\n"},"children":[],"key":"RiNeRR5JSo"}],"key":"IhSFMZlefL"}],"key":"t375TacZMj"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:09.583143Z","iopub.status.busy":"2024-10-21T11:07:09.582811Z","iopub.status.idle":"2024-10-21T11:07:09.670381Z","shell.execute_reply":"2024-10-21T11:07:09.667037Z","shell.execute_reply.started":"2024-10-21T11:07:09.583127Z"},"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_meal_data_2 = []\nfor row in meal_data_matrix_2:\n\n    proportion_missing_data = np.isnan(row).mean()\n\n    if proportion_missing_data > dump_thresold:\n\n        # Ignore this row\n        print(f\"Ignoring row with {proportion_missing_data*100:.2f}% missing data\")\n        continue\n\n    else:\n        # The data is good, use it\n        cleaned_meal_data_2.append(row)","key":"dC0MCo1zb8"},{"type":"outputs","id":"6zJnz1bijg3J7fhfnWVy9","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Ignoring row with 43.33% missing data\nIgnoring row with 43.33% missing data\nIgnoring row with 30.00% missing data\nIgnoring row with 63.33% missing data\nIgnoring row with 36.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 66.67% missing data\nIgnoring row with 26.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 56.67% missing data\nIgnoring row with 53.33% missing data\nIgnoring row with 70.00% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 13.33% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 60.00% missing data\nIgnoring row with 80.00% missing data\nIgnoring row with 36.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 56.67% missing data\nIgnoring row with 63.33% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 26.67% missing data\nIgnoring row with 13.33% missing data\nIgnoring row with 73.33% missing data\nIgnoring row with 36.67% missing data\nIgnoring row with 23.33% missing data\nIgnoring row with 13.33% missing data\nIgnoring row with 13.33% missing data\nIgnoring row with 13.33% missing data\nIgnoring row with 36.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 26.67% missing data\nIgnoring row with 26.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 20.00% missing data\n"},"children":[],"key":"Fnzj3JbOm8"}],"key":"MOYpn26ERm"}],"key":"gPQEyfNvLH"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:09.682496Z","iopub.status.busy":"2024-10-21T11:07:09.682185Z","iopub.status.idle":"2024-10-21T11:07:09.735377Z","shell.execute_reply":"2024-10-21T11:07:09.734493Z","shell.execute_reply.started":"2024-10-21T11:07:09.682479Z"},"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_meal_data_1[0]","key":"Y3nctdkqsp"},{"type":"outputs","id":"RzZ_EX2YMluG4o5rsyuxM","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":84,"metadata":{},"data":{"text/plain":{"content":"array([121., 120., 115., 110., 106., 103., 103., 101.,  nan, 131., 109.,\n        82.,  74.,  66.,  73.,  82.,  87.,  90.,  83.,  73.,  49.,  58.,\n        69.,  79.,  nan,  93.,  92.,  86.,  84.,  80.])","content_type":"text/plain"}}},"children":[],"key":"K5S2ivzXDB"}],"key":"xAVuUPuu01"}],"key":"W6jLyhTGaW"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:09.738166Z","iopub.status.busy":"2024-10-21T11:07:09.737977Z","iopub.status.idle":"2024-10-21T11:07:09.944610Z","shell.execute_reply":"2024-10-21T11:07:09.943697Z","shell.execute_reply.started":"2024-10-21T11:07:09.738151Z"},"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_meal_data_2[0]","key":"CDmJwyclTv"},{"type":"outputs","id":"Bgo-Gx8kBMcfIdIzFHxdO","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":85,"metadata":{},"data":{"text/plain":{"content":"array([390., 391., 389., 383., 375., 368., 357., 349., 336., 326., 315.,\n       305., 295., 286., 279., 273., 268., 259., 252., 246., 238., 229.,\n       218., 206., 195., 192., 181., 165., 139., 133.])","content_type":"text/plain"}}},"children":[],"key":"JO0qqNI48j"}],"key":"cQFu6WdI20"}],"key":"G6UD23R2T4"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Convert Cleaned Meal Data List into a Matrix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"caFpgosi1K"}],"identifier":"convert-cleaned-meal-data-list-into-a-matrix","label":"Convert Cleaned Meal Data List into a Matrix","html_id":"convert-cleaned-meal-data-list-into-a-matrix","implicit":true,"key":"AHrtko9nFo"}],"key":"PinfjZMBVH"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:09.945870Z","iopub.status.busy":"2024-10-21T11:07:09.945567Z","iopub.status.idle":"2024-10-21T11:07:10.024160Z","shell.execute_reply":"2024-10-21T11:07:10.017134Z","shell.execute_reply.started":"2024-10-21T11:07:09.945851Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_meal_data_matrix_1 = \\\n    np.array(cleaned_meal_data_1)","key":"UlOy9d69gp"},{"type":"outputs","id":"kToD3t7cg9PpRCSlgC3SC","children":[],"key":"MrGUgdSijc"}],"key":"JsVzBb3C2T"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:10.025075Z","iopub.status.busy":"2024-10-21T11:07:10.024831Z","iopub.status.idle":"2024-10-21T11:07:10.155121Z","shell.execute_reply":"2024-10-21T11:07:10.115892Z","shell.execute_reply.started":"2024-10-21T11:07:10.025057Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_meal_data_matrix_2 = \\\n    np.array(cleaned_meal_data_2)","key":"vvBu4i5Vas"},{"type":"outputs","id":"yr1LdnWHdY2bjJwn4U818","children":[],"key":"w7eUurPQS4"}],"key":"gNwzozft4g"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Use KNN to Impute NaNs in Cleaned Meal Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vuByFpwMQ7"}],"identifier":"use-knn-to-impute-nans-in-cleaned-meal-data","label":"Use KNN to Impute NaNs in Cleaned Meal Data","html_id":"use-knn-to-impute-nans-in-cleaned-meal-data","implicit":true,"key":"T7hjbfaDGM"}],"key":"Y06Z46EgpT"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:10.160459Z","iopub.status.busy":"2024-10-21T11:07:10.160218Z","iopub.status.idle":"2024-10-21T11:07:10.438649Z","shell.execute_reply":"2024-10-21T11:07:10.411096Z","shell.execute_reply.started":"2024-10-21T11:07:10.160441Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_meal_matrix_1 = knn_imputer.fit_transform(cleaned_meal_data_matrix_1)","key":"njg7gUwspu"},{"type":"outputs","id":"twjxgAkkRfazzsWYFOxVa","children":[],"key":"iGIsAo9KZk"}],"key":"PwJwWh2EFE"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:10.472565Z","iopub.status.busy":"2024-10-21T11:07:10.455666Z","iopub.status.idle":"2024-10-21T11:07:10.592694Z","shell.execute_reply":"2024-10-21T11:07:10.560999Z","shell.execute_reply.started":"2024-10-21T11:07:10.472528Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_meal_matrix_2 = knn_imputer.fit_transform(cleaned_meal_data_matrix_2)","key":"mtk228TDlP"},{"type":"outputs","id":"l6gRkKF-b3LTemKreHWzf","children":[],"key":"m36mIuO1UW"}],"key":"uq4T4u4uIK"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:10.646843Z","iopub.status.busy":"2024-10-21T11:07:10.636911Z","iopub.status.idle":"2024-10-21T11:07:10.828102Z","shell.execute_reply":"2024-10-21T11:07:10.827390Z","shell.execute_reply.started":"2024-10-21T11:07:10.646805Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_meal_matrix_1[0]","key":"ny42UX3d9N"},{"type":"outputs","id":"tfPDS1hLxkjFSm6Sar1lC","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":90,"metadata":{},"data":{"text/plain":{"content":"array([121.        , 120.        , 115.        , 110.        ,\n       106.        , 103.        , 103.        , 101.        ,\n        99.71428571, 131.        , 109.        ,  82.        ,\n        74.        ,  66.        ,  73.        ,  82.        ,\n        87.        ,  90.        ,  83.        ,  73.        ,\n        49.        ,  58.        ,  69.        ,  79.        ,\n        75.85714286,  93.        ,  92.        ,  86.        ,\n        84.        ,  80.        ])","content_type":"text/plain"}}},"children":[],"key":"hv5dwaFTVg"}],"key":"TM1M1rEZxf"}],"key":"dSl7cKreAk"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:10.849184Z","iopub.status.busy":"2024-10-21T11:07:10.843613Z","iopub.status.idle":"2024-10-21T11:07:11.070925Z","shell.execute_reply":"2024-10-21T11:07:11.070441Z","shell.execute_reply.started":"2024-10-21T11:07:10.849152Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_meal_matrix_1.shape","key":"BkOz1TZ17j"},{"type":"outputs","id":"Y55XcYfEeNQO635t4hyjK","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":91,"metadata":{},"data":{"text/plain":{"content":"(619, 30)","content_type":"text/plain"}}},"children":[],"key":"nAcDr4ubWi"}],"key":"QD41KfOODp"}],"key":"Narp3ntVKv"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:11.071604Z","iopub.status.busy":"2024-10-21T11:07:11.071357Z","iopub.status.idle":"2024-10-21T11:07:11.126669Z","shell.execute_reply":"2024-10-21T11:07:11.122625Z","shell.execute_reply.started":"2024-10-21T11:07:11.071582Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_meal_matrix_2[0]","key":"gClfm15LHu"},{"type":"outputs","id":"aVu2XL5mmdTOLtAz3tZ5Q","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":92,"metadata":{},"data":{"text/plain":{"content":"array([390., 391., 389., 383., 375., 368., 357., 349., 336., 326., 315.,\n       305., 295., 286., 279., 273., 268., 259., 252., 246., 238., 229.,\n       218., 206., 195., 192., 181., 165., 139., 133.])","content_type":"text/plain"}}},"children":[],"key":"VbfietuK6M"}],"key":"fr4NHASmKV"}],"key":"bR5hyrlav2"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:11.136212Z","iopub.status.busy":"2024-10-21T11:07:11.135861Z","iopub.status.idle":"2024-10-21T11:07:11.366609Z","shell.execute_reply":"2024-10-21T11:07:11.349997Z","shell.execute_reply.started":"2024-10-21T11:07:11.136192Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_meal_matrix_2.shape","key":"xGUbx3AaMx"},{"type":"outputs","id":"XRyPQqRTOB7lmVX5RIAUt","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":93,"metadata":{},"data":{"text/plain":{"content":"(325, 30)","content_type":"text/plain"}}},"children":[],"key":"a80hnyS20w"}],"key":"Q8bfVNlpV9"}],"key":"MOflyBcE6F"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Parse No Meal Data and Handle Missing Values","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BO99UnmyfC"}],"identifier":"parse-no-meal-data-and-handle-missing-values","label":"Parse No Meal Data and Handle Missing Values","html_id":"parse-no-meal-data-and-handle-missing-values","implicit":true,"key":"QFlF8IfZgA"}],"key":"I04bPC5Uv5"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:11.380451Z","iopub.status.busy":"2024-10-21T11:07:11.380094Z","iopub.status.idle":"2024-10-21T11:07:11.579719Z","shell.execute_reply":"2024-10-21T11:07:11.579069Z","shell.execute_reply.started":"2024-10-21T11:07:11.380432Z"},"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_no_meal_data_1 = []\nfor row in no_meal_data_matrix_1:\n\n    proportion_missing_data = np.isnan(row).mean()\n\n    if proportion_missing_data > dump_thresold:\n\n        # Ignore this row\n        print(f\"Ignoring row with {proportion_missing_data*100:.2f}% missing data\")\n        continue\n\n    else:\n        # The data is good, use it\n        cleaned_no_meal_data_1.append(row)","key":"PDyT7VGxyM"},{"type":"outputs","id":"U_wNw87XlVFrG7fYoOrtS","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Ignoring row with 20.83% missing data\nIgnoring row with 58.33% missing data\nIgnoring row with 12.50% missing data\nIgnoring row with 33.33% missing data\nIgnoring row with 12.50% missing data\nIgnoring row with 41.67% missing data\nIgnoring row with 79.17% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 66.67% missing data\nIgnoring row with 50.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 29.17% missing data\nIgnoring row with 12.50% missing data\nIgnoring row with 66.67% missing data\nIgnoring row with 83.33% missing data\nIgnoring row with 12.50% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 20.83% missing data\nIgnoring row with 54.17% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 91.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 12.50% missing data\nIgnoring row with 12.50% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 12.50% missing data\nIgnoring row with 12.50% missing data\nIgnoring row with 79.17% missing data\nIgnoring row with 62.50% missing data\nIgnoring row with 54.17% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 12.50% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 50.00% missing data\nIgnoring row with 12.50% missing data\nIgnoring row with 37.50% missing data\nIgnoring row with 91.67% missing data\nIgnoring row with 87.50% missing data\nIgnoring row with 66.67% missing data\nIgnoring row with 41.67% missing data\nIgnoring row with 87.50% missing data\nIgnoring row with 41.67% missing data\nIgnoring row with 87.50% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 12.50% missing data\nIgnoring row with 41.67% missing data\nIgnoring row with 29.17% missing data\nIgnoring row with 100.00% missing data\n"},"children":[],"key":"KCEmudFvEa"}],"key":"iqhtMHyhOi"}],"key":"lN2IWto4Z0"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:11.592373Z","iopub.status.busy":"2024-10-21T11:07:11.584622Z","iopub.status.idle":"2024-10-21T11:07:11.814637Z","shell.execute_reply":"2024-10-21T11:07:11.810072Z","shell.execute_reply.started":"2024-10-21T11:07:11.592341Z"},"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_no_meal_data_2 = []\nfor row in no_meal_data_matrix_2:\n\n    proportion_missing_data = np.isnan(row).mean()\n\n    if proportion_missing_data > dump_thresold:\n\n        # Ignore this row\n        print(f\"Ignoring row with {proportion_missing_data*100:.2f}% missing data\")\n        continue\n\n    else:\n        # The data is good, use it\n        cleaned_no_meal_data_2.append(row)","key":"iO0EvDQ3Ks"},{"type":"outputs","id":"YGhmX2QqZLxJhx7ciDw2k","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Ignoring row with 54.17% missing data\nIgnoring row with 54.17% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 83.33% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 58.33% missing data\nIgnoring row with 37.50% missing data\nIgnoring row with 50.00% missing data\nIgnoring row with 37.50% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 70.83% missing data\nIgnoring row with 29.17% missing data\nIgnoring row with 45.83% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 79.17% missing data\nIgnoring row with 75.00% missing data\nIgnoring row with 62.50% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 91.67% missing data\nIgnoring row with 20.83% missing data\nIgnoring row with 29.17% missing data\nIgnoring row with 20.83% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 33.33% missing data\nIgnoring row with 37.50% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 45.83% missing data\nIgnoring row with 16.67% missing data\n"},"children":[],"key":"jrE2HbvjG6"}],"key":"w69e24qLnv"}],"key":"ktc5KiThsR"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:11.826774Z","iopub.status.busy":"2024-10-21T11:07:11.824273Z","iopub.status.idle":"2024-10-21T11:07:12.156206Z","shell.execute_reply":"2024-10-21T11:07:12.155619Z","shell.execute_reply.started":"2024-10-21T11:07:11.826746Z"},"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_no_meal_data_1[0]","key":"VkVhgkVwWo"},{"type":"outputs","id":"5OpdXUmehtuAPZOhS_9ov","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":96,"metadata":{},"data":{"text/plain":{"content":"array([121., 120., 115., 110., 106., 103., 103., 101.,  nan, 131., 109.,\n        82.,  74.,  66.,  73.,  82.,  87.,  90.,  83.,  73.,  49.,  58.,\n        69.,  79.])","content_type":"text/plain"}}},"children":[],"key":"gHMWJ3zQTF"}],"key":"NSkva4u4Ur"}],"key":"UcG5ixzCUr"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:12.179393Z","iopub.status.busy":"2024-10-21T11:07:12.173540Z","iopub.status.idle":"2024-10-21T11:07:12.376963Z","shell.execute_reply":"2024-10-21T11:07:12.359823Z","shell.execute_reply.started":"2024-10-21T11:07:12.179361Z"},"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_no_meal_data_2[0]","key":"H5yAhPTF37"},{"type":"outputs","id":"1liKYqrD_BfX83mNB62_Q","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":97,"metadata":{},"data":{"text/plain":{"content":"array([390., 391., 389., 383., 375., 368., 357., 349., 336., 326., 315.,\n       305., 295., 286., 279., 273., 268., 259., 252., 246., 238., 229.,\n       218., 206.])","content_type":"text/plain"}}},"children":[],"key":"oMyCJ48scd"}],"key":"UIxn7sNN2e"}],"key":"eADoQqukmx"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:12.386673Z","iopub.status.busy":"2024-10-21T11:07:12.386355Z","iopub.status.idle":"2024-10-21T11:07:12.574130Z","shell.execute_reply":"2024-10-21T11:07:12.570258Z","shell.execute_reply.started":"2024-10-21T11:07:12.386655Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_no_meal_data_1[0].shape","key":"bPFPeF3Yuy"},{"type":"outputs","id":"M0x-P6IoJF-vqktvrRrpm","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":98,"metadata":{},"data":{"text/plain":{"content":"(24,)","content_type":"text/plain"}}},"children":[],"key":"pIfm6mTwuo"}],"key":"SDCQz8cC61"}],"key":"yULVcw7iW4"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:12.594698Z","iopub.status.busy":"2024-10-21T11:07:12.594369Z","iopub.status.idle":"2024-10-21T11:07:12.984825Z","shell.execute_reply":"2024-10-21T11:07:12.926401Z","shell.execute_reply.started":"2024-10-21T11:07:12.594679Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_no_meal_data_2[0].shape","key":"NiqJH9vm8H"},{"type":"outputs","id":"HvhQGnorMNEnqkenv1P6j","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":99,"metadata":{},"data":{"text/plain":{"content":"(24,)","content_type":"text/plain"}}},"children":[],"key":"dqjrmAnSeI"}],"key":"pNz25iHhtA"}],"key":"VBjThvDN5n"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Convert Cleaned No Meal Data List into a Matrix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jAacP06Rxk"}],"identifier":"convert-cleaned-no-meal-data-list-into-a-matrix","label":"Convert Cleaned No Meal Data List into a Matrix","html_id":"convert-cleaned-no-meal-data-list-into-a-matrix","implicit":true,"key":"hHXXKTL1Yd"}],"key":"igix1ecaOa"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:12.986614Z","iopub.status.busy":"2024-10-21T11:07:12.986284Z","iopub.status.idle":"2024-10-21T11:07:13.048927Z","shell.execute_reply":"2024-10-21T11:07:13.048484Z","shell.execute_reply.started":"2024-10-21T11:07:12.986591Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_no_meal_data_matrix_1 = \\\n    np.array(cleaned_no_meal_data_1)","key":"Ps9e1umuTB"},{"type":"outputs","id":"KpcLxrmv9EJ5yxG2L0zmR","children":[],"key":"bwrftNL03i"}],"key":"gWTZ2SsW0J"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:13.049441Z","iopub.status.busy":"2024-10-21T11:07:13.049305Z","iopub.status.idle":"2024-10-21T11:07:13.160145Z","shell.execute_reply":"2024-10-21T11:07:13.156969Z","shell.execute_reply.started":"2024-10-21T11:07:13.049427Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_no_meal_data_matrix_2 = \\\n    np.array(cleaned_no_meal_data_2)","key":"MXR29KHv0G"},{"type":"outputs","id":"AFjK0A_p55Ou6oHpE0Mnw","children":[],"key":"DPQXa4qdRZ"}],"key":"XCe12z9tMG"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Use KNN to Impute NaNs in Cleaned No Meal Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rxPstSV1PJ"}],"identifier":"use-knn-to-impute-nans-in-cleaned-no-meal-data","label":"Use KNN to Impute NaNs in Cleaned No Meal Data","html_id":"use-knn-to-impute-nans-in-cleaned-no-meal-data","implicit":true,"key":"WyleXmGT2l"}],"key":"kHyAf5RoKF"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:13.166264Z","iopub.status.busy":"2024-10-21T11:07:13.160586Z","iopub.status.idle":"2024-10-21T11:07:13.404472Z","shell.execute_reply":"2024-10-21T11:07:13.400854Z","shell.execute_reply.started":"2024-10-21T11:07:13.166227Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_no_meal_matrix_1 = knn_imputer.fit_transform(cleaned_no_meal_data_matrix_1)","key":"rH4S0N12Po"},{"type":"outputs","id":"2zwEgZKfVXLIPPuOJmehw","children":[],"key":"Jw6N3SrEjy"}],"key":"tMGcpviFB2"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:13.416435Z","iopub.status.busy":"2024-10-21T11:07:13.416191Z","iopub.status.idle":"2024-10-21T11:07:13.814093Z","shell.execute_reply":"2024-10-21T11:07:13.812235Z","shell.execute_reply.started":"2024-10-21T11:07:13.416418Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_no_meal_matrix_2 = knn_imputer.fit_transform(cleaned_no_meal_data_matrix_2)","key":"LfLxn7bl9P"},{"type":"outputs","id":"MYbyoS0KOhInckU7TBe9t","children":[],"key":"GyjWnZqPIu"}],"key":"s4vf7NuxAm"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:13.816091Z","iopub.status.busy":"2024-10-21T11:07:13.815844Z","iopub.status.idle":"2024-10-21T11:07:13.976786Z","shell.execute_reply":"2024-10-21T11:07:13.973756Z","shell.execute_reply.started":"2024-10-21T11:07:13.816074Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_no_meal_matrix_1[0]","key":"FXSMlq7UM9"},{"type":"outputs","id":"bKUxsALkR-uCAp6Hi1q1v","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":104,"metadata":{},"data":{"text/plain":{"content":"array([121.        , 120.        , 115.        , 110.        ,\n       106.        , 103.        , 103.        , 101.        ,\n       103.85714286, 131.        , 109.        ,  82.        ,\n        74.        ,  66.        ,  73.        ,  82.        ,\n        87.        ,  90.        ,  83.        ,  73.        ,\n        49.        ,  58.        ,  69.        ,  79.        ])","content_type":"text/plain"}}},"children":[],"key":"qdAgbdrwQo"}],"key":"vCvxw8iPdU"}],"key":"hGJEmx9hKN"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:14.005079Z","iopub.status.busy":"2024-10-21T11:07:13.996352Z","iopub.status.idle":"2024-10-21T11:07:14.380468Z","shell.execute_reply":"2024-10-21T11:07:14.319703Z","shell.execute_reply.started":"2024-10-21T11:07:14.005045Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_no_meal_matrix_2[0]","key":"WDHRzewEPj"},{"type":"outputs","id":"9UK38TWAtcqAN9Wq36u5Z","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":105,"metadata":{},"data":{"text/plain":{"content":"array([390., 391., 389., 383., 375., 368., 357., 349., 336., 326., 315.,\n       305., 295., 286., 279., 273., 268., 259., 252., 246., 238., 229.,\n       218., 206.])","content_type":"text/plain"}}},"children":[],"key":"DDKPBVc6sk"}],"key":"uqza2VzBDY"}],"key":"Bdrw1Koecm"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize Cleaned Imputed Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KcAGMFb4lA"}],"identifier":"visualize-cleaned-imputed-data","label":"Visualize Cleaned Imputed Data","html_id":"visualize-cleaned-imputed-data","implicit":true,"key":"hJD2O5GB9s"}],"key":"MGnMCW0o5f"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize Cleaned Imputed Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HmvgXl9YFf"}],"identifier":"visualize-cleaned-imputed-meal-data-matrix-1","label":"Visualize Cleaned Imputed Meal Data Matrix 1","html_id":"visualize-cleaned-imputed-meal-data-matrix-1","implicit":true,"key":"A7JMa9cSgm"}],"key":"D6ad3y4aUQ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Heatmap of Cleaned Imputed Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Hv8f9YtMgK"}],"identifier":"heatmap-of-cleaned-imputed-meal-data-matrix-1","label":"Heatmap of Cleaned Imputed Meal Data Matrix 1","html_id":"heatmap-of-cleaned-imputed-meal-data-matrix-1","implicit":true,"key":"WjAedlhLS9"}],"key":"P3cmu7sFOb"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:14.390191Z","iopub.status.busy":"2024-10-21T11:07:14.387313Z","iopub.status.idle":"2024-10-21T11:07:16.521261Z","shell.execute_reply":"2024-10-21T11:07:16.506412Z","shell.execute_reply.started":"2024-10-21T11:07:14.390167Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the heatmap\nsampled_meal_data_matrix_1 = cleaned_imputed_meal_matrix_1[np.random.choice(cleaned_imputed_meal_matrix_1.shape[0], 200, replace=False)]\nplt.figure(figsize=(30, 30))\nsns.heatmap(sampled_meal_data_matrix_1, cmap='YlGnBu', linewidths=0.5, annot=False, vmin=None, vmax=None)\nplt.title('Heatmap of Meal Data Matrix 1', fontsize=30)\nplt.xlabel('Time Points', fontsize=26)\nplt.ylabel('Meals (Samples)', fontsize=26)\n\n# Change font properties for the x and y tick labels\nplt.xticks(fontsize=16)\nplt.yticks(fontsize=16)\n\nplt.show()","key":"GoKHHGB77W"},{"type":"outputs","id":"FfwxlXhh4j8M4dx6tc3fD","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"afc0f68d7cc75c3160f17cbdfd91b534","path":"/build/afc0f68d7cc75c3160f17cbdfd91b534.png"},"text/plain":{"content":"<Figure size 3000x3000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"hoqo63uDO8"}],"key":"GkAqFTJGVX"}],"key":"ENoSkUUFfk"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Surface Plot of Cleaned Imputed Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"oTcQVhGNT9"}],"identifier":"surface-plot-of-cleaned-imputed-meal-data-matrix-1","label":"Surface Plot of Cleaned Imputed Meal Data Matrix 1","html_id":"surface-plot-of-cleaned-imputed-meal-data-matrix-1","implicit":true,"key":"i32ydqq0QH"}],"key":"eVvnTj1A1w"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:16.521958Z","iopub.status.busy":"2024-10-21T11:07:16.521770Z","iopub.status.idle":"2024-10-21T11:07:16.560167Z","shell.execute_reply":"2024-10-21T11:07:16.559631Z","shell.execute_reply.started":"2024-10-21T11:07:16.521941Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create X, Y meshgrid\nX = np.arange(cleaned_imputed_meal_matrix_1.shape[1])\nY = np.arange(cleaned_imputed_meal_matrix_1.shape[0])\ntime_points = np.linspace(-30, 120, 30)  # X-axis: from -30 minutes to +120 minutes (30 time points)\nmeal_numbers = np.arange(1, len(meal_data_1) + 1)\nX, Y = np.meshgrid(time_points, Y)\n#X, Y = np.meshgrid(time_points, meal_numbers)","key":"pTpVcOwbmM"},{"type":"outputs","id":"pb_kE-QsjiY2ukZqTZaVL","children":[],"key":"XUsegchTHP"}],"key":"r6fgFD1C35"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:16.590091Z","iopub.status.busy":"2024-10-21T11:07:16.584539Z","iopub.status.idle":"2024-10-21T11:07:17.000422Z","shell.execute_reply":"2024-10-21T11:07:16.950769Z","shell.execute_reply.started":"2024-10-21T11:07:16.590062Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X","key":"luwLlGIWnp"},{"type":"outputs","id":"pDMVIFoT7kh9sS3gaa6lp","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":108,"metadata":{},"data":{"text/plain":{"content":"array([[-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       ...,\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ]])","content_type":"text/plain"}}},"children":[],"key":"d0iJ2YC6yz"}],"key":"NM1mYLrjnZ"}],"key":"pfurNT2m6V"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:17.006160Z","iopub.status.busy":"2024-10-21T11:07:17.005961Z","iopub.status.idle":"2024-10-21T11:07:17.236860Z","shell.execute_reply":"2024-10-21T11:07:17.196229Z","shell.execute_reply.started":"2024-10-21T11:07:17.006145Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X.shape","key":"LuONb2qxkm"},{"type":"outputs","id":"n8RP6Mo4N44aU2xES37t_","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":109,"metadata":{},"data":{"text/plain":{"content":"(619, 30)","content_type":"text/plain"}}},"children":[],"key":"ZRTLxuUR3b"}],"key":"G2xKtcfsxf"}],"key":"sEu9AhnMyR"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:17.266998Z","iopub.status.busy":"2024-10-21T11:07:17.266772Z","iopub.status.idle":"2024-10-21T11:07:17.676789Z","shell.execute_reply":"2024-10-21T11:07:17.637874Z","shell.execute_reply.started":"2024-10-21T11:07:17.266983Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y","key":"nW7CkVbLxg"},{"type":"outputs","id":"Pdcw79SKcce1Vd5v1DR5v","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":110,"metadata":{},"data":{"text/plain":{"content":"array([[  0,   0,   0, ...,   0,   0,   0],\n       [  1,   1,   1, ...,   1,   1,   1],\n       [  2,   2,   2, ...,   2,   2,   2],\n       ...,\n       [616, 616, 616, ..., 616, 616, 616],\n       [617, 617, 617, ..., 617, 617, 617],\n       [618, 618, 618, ..., 618, 618, 618]])","content_type":"text/plain"}}},"children":[],"key":"hb7KccmGd5"}],"key":"io71HT2qs3"}],"key":"bNj12TXte2"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:17.691647Z","iopub.status.busy":"2024-10-21T11:07:17.687149Z","iopub.status.idle":"2024-10-21T11:07:17.980177Z","shell.execute_reply":"2024-10-21T11:07:17.945367Z","shell.execute_reply.started":"2024-10-21T11:07:17.691612Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Fill NaNs using forward fill, then backward fill\nmeal_data_matrix_1_df = pd.DataFrame(cleaned_imputed_meal_matrix_1)\nmeal_data_matrix_1_filled = meal_data_matrix_1_df.ffill().bfill().values","key":"aULzf3zfB7"},{"type":"outputs","id":"TTe5smTE-Mw-VPwfmwhAR","children":[],"key":"ZO6NahmcKb"}],"key":"hFGmhZHHg4"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:17.981069Z","iopub.status.busy":"2024-10-21T11:07:17.980888Z","iopub.status.idle":"2024-10-21T11:07:18.164150Z","shell.execute_reply":"2024-10-21T11:07:18.159501Z","shell.execute_reply.started":"2024-10-21T11:07:17.981054Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Apply a moving average smoothing to each row\nwindow_size = 3  # Choose a window size for smoothing\nsmoothed_meal_data_matrix_1 = np.array([uniform_filter1d(row, size=window_size) for row in meal_data_matrix_1_filled])","key":"MwQuuRnPEj"},{"type":"outputs","id":"pjfW4V-F2C77yKGh3l2aa","children":[],"key":"Hu7x8oDJGN"}],"key":"rtGo4bGoxS"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:18.175454Z","iopub.status.busy":"2024-10-21T11:07:18.175211Z","iopub.status.idle":"2024-10-21T11:07:18.863375Z","shell.execute_reply":"2024-10-21T11:07:18.862774Z","shell.execute_reply.started":"2024-10-21T11:07:18.175438Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the plot\nfig = plt.figure(figsize=(10, 8))\nax = fig.add_subplot(111, projection='3d')\nstride = 100\n\n# Plot the surface\nsurface_plot = ax.plot_surface(X[::stride], Y[::stride], smoothed_meal_data_matrix_1[::stride], cmap='viridis', edgecolor='none')\nax.set_title('3D Surface Plot of Smoothed Averaged Meal Glucose Levels', y=0.985)\nax.set_xlabel('Time Relative to Start of Meal [minutes]', labelpad=10)\nax.set_ylabel('Meal Samples', labelpad=10)\n#ax.set_zlabel('Glucose Level (mg/dL)', labelpad=30)\n\n#ax.set_xticks(np.linspace(-30, 120, 7))\n\n# Adjust axis limits to create a zoom-out effect\n#ax.set_xlim(-30, 120)\nax.set_ylim(0, 800)\nax.set_zlim(0, 300)\n\nfig.colorbar(surface_plot, ax=ax, shrink=0.5, aspect=10, label='Glucose Level (mg/dL)')\n\n#plt.tight_layout()\nfig.subplots_adjust(left=0.01, right=1, top=0.9, bottom=0.1)\n\nax.view_init(elev=25, azim=-55)\n\nplt.show()","key":"fi6c9Al7sz"},{"type":"outputs","id":"j_1tprryU-2dN4kuG1Avn","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"8610e5d8597ff50c90111088edaf6301","path":"/build/8610e5d8597ff50c90111088edaf6301.png"},"text/plain":{"content":"<Figure size 1000x800 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"cQwBDvDGdB"}],"key":"rfw3Wy5A6u"}],"key":"WseB4dKAHM"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Contour Plot of Cleaned Imputed Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XVWFmjfFB2"}],"identifier":"contour-plot-of-cleaned-imputed-meal-data-matrix-1","label":"Contour Plot of Cleaned Imputed Meal Data Matrix 1","html_id":"contour-plot-of-cleaned-imputed-meal-data-matrix-1","implicit":true,"key":"z6mIpDdSCm"}],"key":"QPDr0eMMCi"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:18.864585Z","iopub.status.busy":"2024-10-21T11:07:18.864309Z","iopub.status.idle":"2024-10-21T11:07:19.688716Z","shell.execute_reply":"2024-10-21T11:07:19.634419Z","shell.execute_reply.started":"2024-10-21T11:07:18.864567Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the contour plot\nplt.figure(figsize=(15, 10))\nplt.contourf(X, Y, meal_data_matrix_1_df, cmap='viridis', levels=30)\nplt.colorbar(label='Glucose Level (mg/dL)')\nplt.title('Contour Plot of Meal Glucose Levels')\nplt.xlabel('Time Points')\nplt.ylabel('Meal Samples')\nplt.show()","key":"JbxGlBFXR8"},{"type":"outputs","id":"ntH2ivSEALLCU1ZsdY-zd","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"8e605683861157585e3303ec82708e7f","path":"/build/8e605683861157585e3303ec82708e7f.png"},"text/plain":{"content":"<Figure size 1500x1000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"n4ihxN99he"}],"key":"PXM2xZIo5t"}],"key":"vf2lzZ6it4"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize Cleaned Imputed Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uZmVzqWM55"}],"identifier":"visualize-cleaned-imputed-meal-data-matrix-2","label":"Visualize Cleaned Imputed Meal Data Matrix 2","html_id":"visualize-cleaned-imputed-meal-data-matrix-2","implicit":true,"key":"OrAveHynQM"}],"key":"Wq1R4RJzyj"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Heatmap of Cleaned Imputed Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"m4bnTnAnQJ"}],"identifier":"heatmap-of-cleaned-imputed-meal-data-matrix-2","label":"Heatmap of Cleaned Imputed Meal Data Matrix 2","html_id":"heatmap-of-cleaned-imputed-meal-data-matrix-2","implicit":true,"key":"uYoJ99rJUq"}],"key":"DgpDi9HMQM"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:19.689949Z","iopub.status.busy":"2024-10-21T11:07:19.689752Z","iopub.status.idle":"2024-10-21T11:07:20.979051Z","shell.execute_reply":"2024-10-21T11:07:20.974200Z","shell.execute_reply.started":"2024-10-21T11:07:19.689933Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the heatmap\nsampled_meal_data_matrix_2 = cleaned_imputed_meal_matrix_1[np.random.choice(cleaned_imputed_meal_matrix_2.shape[0], 200, replace=False)]\nplt.figure(figsize=(30, 30))\nsns.heatmap(sampled_meal_data_matrix_2, cmap='YlGnBu', linewidths=0.5, annot=False, vmin=None, vmax=None)\nplt.title('Heatmap of Meal Data Matrix 1')\nplt.xlabel('Time Points')\nplt.ylabel('Meals (Samples)')\nplt.show()","key":"PUoLOZjdAd"},{"type":"outputs","id":"cC6lQcLpmwaidHH9lbnIw","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"1e0a4d3bdbd027698eb4faf198a9fae8","path":"/build/1e0a4d3bdbd027698eb4faf198a9fae8.png"},"text/plain":{"content":"<Figure size 3000x3000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"hxCuskcmvH"}],"key":"eiLn2gk0tN"}],"key":"F5ASQZmsNP"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Surface Plot of Cleaned Imputed Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qzrWZTehSb"}],"identifier":"surface-plot-of-cleaned-imputed-meal-data-matrix-2","label":"Surface Plot of Cleaned Imputed Meal Data Matrix 2","html_id":"surface-plot-of-cleaned-imputed-meal-data-matrix-2","implicit":true,"key":"O1EhlDUIWS"}],"key":"nlvIzTY7gx"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:20.980568Z","iopub.status.busy":"2024-10-21T11:07:20.980078Z","iopub.status.idle":"2024-10-21T11:07:21.140417Z","shell.execute_reply":"2024-10-21T11:07:21.104576Z","shell.execute_reply.started":"2024-10-21T11:07:20.980549Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create X, Y meshgrid\nX = np.arange(cleaned_imputed_meal_matrix_2.shape[1])\nY = np.arange(cleaned_imputed_meal_matrix_2.shape[0])\ntime_points = np.linspace(-30, 120, 30)  # X-axis: from -30 minutes to +120 minutes (30 time points)\nmeal_numbers = np.arange(1, len(meal_data_2) + 1)\nX, Y = np.meshgrid(time_points, Y)\n#X, Y = np.meshgrid(time_points, meal_numbers)","key":"pGuipDzoEG"},{"type":"outputs","id":"XUKWPtuYOD_iFX9tRV-fH","children":[],"key":"JU6VKk7DJy"}],"key":"Hh1A0GygJD"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:21.145141Z","iopub.status.busy":"2024-10-21T11:07:21.144950Z","iopub.status.idle":"2024-10-21T11:07:21.267925Z","shell.execute_reply":"2024-10-21T11:07:21.267432Z","shell.execute_reply.started":"2024-10-21T11:07:21.145126Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X","key":"WeIc138WIy"},{"type":"outputs","id":"bG0za26lxmj0Yfrkq1ztg","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":117,"metadata":{},"data":{"text/plain":{"content":"array([[-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       ...,\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ]])","content_type":"text/plain"}}},"children":[],"key":"j2A1n6z4vc"}],"key":"cXwgmE6xuJ"}],"key":"jmC49VoCgt"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:21.279291Z","iopub.status.busy":"2024-10-21T11:07:21.279041Z","iopub.status.idle":"2024-10-21T11:07:21.622286Z","shell.execute_reply":"2024-10-21T11:07:21.544801Z","shell.execute_reply.started":"2024-10-21T11:07:21.279275Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X.shape","key":"sGBJdnLEmQ"},{"type":"outputs","id":"7I_zPsH9UScqM1ooQV3ai","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":118,"metadata":{},"data":{"text/plain":{"content":"(325, 30)","content_type":"text/plain"}}},"children":[],"key":"uJqvAjyLdd"}],"key":"HCpEh03VqH"}],"key":"s3dpZlx9hC"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:21.623031Z","iopub.status.busy":"2024-10-21T11:07:21.622852Z","iopub.status.idle":"2024-10-21T11:07:21.789471Z","shell.execute_reply":"2024-10-21T11:07:21.783744Z","shell.execute_reply.started":"2024-10-21T11:07:21.623017Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y","key":"n7BeeFIerl"},{"type":"outputs","id":"vELayvphNetc-PKYHCuWa","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":119,"metadata":{},"data":{"text/plain":{"content":"array([[  0,   0,   0, ...,   0,   0,   0],\n       [  1,   1,   1, ...,   1,   1,   1],\n       [  2,   2,   2, ...,   2,   2,   2],\n       ...,\n       [322, 322, 322, ..., 322, 322, 322],\n       [323, 323, 323, ..., 323, 323, 323],\n       [324, 324, 324, ..., 324, 324, 324]])","content_type":"text/plain"}}},"children":[],"key":"kjTGSAp6Jd"}],"key":"JDKHWsNyCR"}],"key":"Ym5seEjO9A"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:21.791233Z","iopub.status.busy":"2024-10-21T11:07:21.790819Z","iopub.status.idle":"2024-10-21T11:07:22.000034Z","shell.execute_reply":"2024-10-21T11:07:21.963457Z","shell.execute_reply.started":"2024-10-21T11:07:21.791200Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Fill NaNs using forward fill, then backward fill\nmeal_data_matrix_2_df = pd.DataFrame(cleaned_imputed_meal_matrix_2)\nmeal_data_matrix_2_filled = meal_data_matrix_2_df.ffill().bfill().values","key":"ZYKGQfcjke"},{"type":"outputs","id":"knYnUnHY-JRzMRD8lPge4","children":[],"key":"iWfOUUibxv"}],"key":"yUtMTAhEsV"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:22.017348Z","iopub.status.busy":"2024-10-21T11:07:22.017126Z","iopub.status.idle":"2024-10-21T11:07:22.320139Z","shell.execute_reply":"2024-10-21T11:07:22.289257Z","shell.execute_reply.started":"2024-10-21T11:07:22.017332Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Apply a moving average smoothing to each row\nwindow_size = 3  # Choose a window size for smoothing\nsmoothed_meal_data_matrix_2 = np.array([uniform_filter1d(row, size=window_size) for row in meal_data_matrix_2_filled])","key":"xTneSnMF0H"},{"type":"outputs","id":"aaHO82HpK1HXx29IoXg_s","children":[],"key":"xB7u1jbdh9"}],"key":"o7BWK6JfQW"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:22.333909Z","iopub.status.busy":"2024-10-21T11:07:22.333693Z","iopub.status.idle":"2024-10-21T11:07:23.147497Z","shell.execute_reply":"2024-10-21T11:07:23.146243Z","shell.execute_reply.started":"2024-10-21T11:07:22.333893Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the plot\nfig = plt.figure(figsize=(10, 8))\nax = fig.add_subplot(111, projection='3d')\nstride = 100\n\n# Plot the surface\nsurface_plot = ax.plot_surface(X[::stride], Y[::stride], smoothed_meal_data_matrix_2[::stride], cmap='viridis', edgecolor='none')\nax.set_title('3D Surface Plot of Smoothed Averaged Meal Glucose Levels', y=0.985)\nax.set_xlabel('Time Relative to Start of Meal [minutes]', labelpad=10)\nax.set_ylabel('Meal Samples', labelpad=10)\n#ax.set_zlabel('Glucose Level (mg/dL)', labelpad=30)\n\n#ax.set_xticks(np.linspace(-30, 120, 7))\n\n# Adjust axis limits to create a zoom-out effect\n#ax.set_xlim(-30, 120)\n#ax.set_ylim(0, 800)\n#ax.set_zlim(0, 300)\n\nfig.colorbar(surface_plot, ax=ax, shrink=0.5, aspect=10, label='Glucose Level (mg/dL)')\n\n#plt.tight_layout()\nfig.subplots_adjust(left=0.01, right=1, top=0.9, bottom=0.1)\n\nax.view_init(elev=25, azim=-55)\n\nplt.show()","key":"UBG2v0gEa4"},{"type":"outputs","id":"-YgyLAeWOrsi65DHUfYG5","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"a2c22604216cad76cf0e2eeeb83f600c","path":"/build/a2c22604216cad76cf0e2eeeb83f600c.png"},"text/plain":{"content":"<Figure size 1000x800 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"tgFD4N6IAP"}],"key":"dE5X4OtN56"}],"key":"C9JhdcTMJJ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Contour Plot of Cleaned Imputed Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Ot5K9P5vLT"}],"identifier":"contour-plot-of-cleaned-imputed-meal-data-matrix-2","label":"Contour Plot of Cleaned Imputed Meal Data Matrix 2","html_id":"contour-plot-of-cleaned-imputed-meal-data-matrix-2","implicit":true,"key":"xbsFjcVfNu"}],"key":"ziBt3Im4b8"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:23.178295Z","iopub.status.busy":"2024-10-21T11:07:23.173300Z","iopub.status.idle":"2024-10-21T11:07:23.721337Z","shell.execute_reply":"2024-10-21T11:07:23.719801Z","shell.execute_reply.started":"2024-10-21T11:07:23.178263Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the contour plot\nplt.figure(figsize=(15, 10))\nplt.contourf(X, Y, meal_data_matrix_2_df, cmap='viridis', levels=30)\nplt.colorbar(label='Glucose Level (mg/dL)')\nplt.title('Contour Plot of Meal Glucose Levels')\nplt.xlabel('Time Points')\nplt.ylabel('Meal Samples')\nplt.show()","key":"LP4tJBRjdN"},{"type":"outputs","id":"4C_Ps1RrB6AVylzlJfxr8","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"819acd09172e4c3beb5adb998974033c","path":"/build/819acd09172e4c3beb5adb998974033c.png"},"text/plain":{"content":"<Figure size 1500x1000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"eqeHZLFhiW"}],"key":"ZwBHNmUfqV"}],"key":"y4ozBaWi58"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Combine Patient 1 and Patient 2 Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NKsN6Vq2TP"}],"identifier":"combine-patient-1-and-patient-2-data","label":"Combine Patient 1 and Patient 2 Data","html_id":"combine-patient-1-and-patient-2-data","implicit":true,"key":"FbAOEJYn6Y"}],"key":"VsynoV8gvk"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:23.722121Z","iopub.status.busy":"2024-10-21T11:07:23.721880Z","iopub.status.idle":"2024-10-21T11:07:23.751212Z","shell.execute_reply":"2024-10-21T11:07:23.727719Z","shell.execute_reply.started":"2024-10-21T11:07:23.722105Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_meal_matrix = \\\n    np.vstack((cleaned_imputed_meal_matrix_1, cleaned_imputed_meal_matrix_2))","key":"GUiwcPrWU7"},{"type":"outputs","id":"bjpXHHh4QPJzzMNNux5xP","children":[],"key":"AVr4NCGXAP"}],"key":"cEc7YOFN54"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:23.762760Z","iopub.status.busy":"2024-10-21T11:07:23.760466Z","iopub.status.idle":"2024-10-21T11:07:23.937758Z","shell.execute_reply":"2024-10-21T11:07:23.936653Z","shell.execute_reply.started":"2024-10-21T11:07:23.762737Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_no_meal_matrix = \\\n    np.vstack((cleaned_imputed_no_meal_matrix_1, cleaned_imputed_no_meal_matrix_2))","key":"H6aGK9ZAAf"},{"type":"outputs","id":"o2-AC_eKIrm1gXBoRRfb7","children":[],"key":"kIvB2syFKg"}],"key":"sjtTF6ZNRl"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Feature Extraction","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mgRDEj1MB1"}],"identifier":"feature-extraction","label":"Feature Extraction","html_id":"feature-extraction","implicit":true,"key":"IE93Uu3ssT"}],"key":"FFE8B0pIf4"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Define Feature Extractor Helper Functions","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yMhlDKyhFi"}],"identifier":"define-feature-extractor-helper-functions","label":"Define Feature Extractor Helper Functions","html_id":"define-feature-extractor-helper-functions","implicit":true,"key":"WoPsjkkwag"}],"key":"NPQ8SkEPUX"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:23.938893Z","iopub.status.busy":"2024-10-21T11:07:23.938540Z","iopub.status.idle":"2024-10-21T11:07:24.028517Z","shell.execute_reply":"2024-10-21T11:07:24.021972Z","shell.execute_reply.started":"2024-10-21T11:07:23.938875Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"def compute_first_derivative(glucose_data, delta_t=5):\n    return np.diff(glucose_data) / delta_t","key":"mRDevFfyip"},{"type":"outputs","id":"qImWRxPWOwDtW6aXnD-c2","children":[],"key":"qSTGZd4zKq"}],"key":"iXiHOCORMv"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:24.029327Z","iopub.status.busy":"2024-10-21T11:07:24.029137Z","iopub.status.idle":"2024-10-21T11:07:24.278091Z","shell.execute_reply":"2024-10-21T11:07:24.195146Z","shell.execute_reply.started":"2024-10-21T11:07:24.029311Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"def compute_second_derivative(glucose_values, delta_t=5):\n    second_derivative = np.zeros(len(glucose_values) - 2)\n    for i in range(1, len(glucose_values) - 1):\n        second_derivative[i - 1] = \\\n            (glucose_values[i + 1] - 2 * glucose_values[i] + glucose_values[i - 1]) / (delta_t ** 2)\n    return second_derivative","key":"GLfbw2rXYx"},{"type":"outputs","id":"khmmH7jOdpeUcVJT1DSGJ","children":[],"key":"fP43HfpgLp"}],"key":"OlY4qgUMxK"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:24.278862Z","iopub.status.busy":"2024-10-21T11:07:24.278683Z","iopub.status.idle":"2024-10-21T11:07:24.557657Z","shell.execute_reply":"2024-10-21T11:07:24.448938Z","shell.execute_reply.started":"2024-10-21T11:07:24.278847Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"compute_first_derivative(cleaned_imputed_meal_matrix[0])","key":"TFMU0JlrbX"},{"type":"outputs","id":"UlUzJ9lS_FquE1SbnUCsw","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":128,"metadata":{},"data":{"text/plain":{"content":"array([-0.2       , -1.        , -1.        , -0.8       , -0.6       ,\n        0.        , -0.4       , -0.25714286,  6.25714286, -4.4       ,\n       -5.4       , -1.6       , -1.6       ,  1.4       ,  1.8       ,\n        1.        ,  0.6       , -1.4       , -2.        , -4.8       ,\n        1.8       ,  2.2       ,  2.        , -0.62857143,  3.42857143,\n       -0.2       , -1.2       , -0.4       , -0.8       ])","content_type":"text/plain"}}},"children":[],"key":"OWW6d1RJbm"}],"key":"InSPolnQJB"}],"key":"IldJ64zfZL"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:24.567565Z","iopub.status.busy":"2024-10-21T11:07:24.560214Z","iopub.status.idle":"2024-10-21T11:07:24.670246Z","shell.execute_reply":"2024-10-21T11:07:24.638731Z","shell.execute_reply.started":"2024-10-21T11:07:24.567543Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"compute_second_derivative(cleaned_imputed_meal_matrix[0])","key":"BhTbnobnny"},{"type":"outputs","id":"qFqeXh6zRpbhrXh2q1thM","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":129,"metadata":{},"data":{"text/plain":{"content":"array([-0.16      ,  0.        ,  0.04      ,  0.04      ,  0.12      ,\n       -0.08      ,  0.02857143,  1.30285714, -2.13142857, -0.2       ,\n        0.76      ,  0.        ,  0.6       ,  0.08      , -0.16      ,\n       -0.08      , -0.4       , -0.12      , -0.56      ,  1.32      ,\n        0.08      , -0.04      , -0.52571429,  0.81142857, -0.72571429,\n       -0.2       ,  0.16      , -0.08      ])","content_type":"text/plain"}}},"children":[],"key":"w8pCHd58rf"}],"key":"DcP9T4Ynh2"}],"key":"L0HuzNqvq0"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:24.703556Z","iopub.status.busy":"2024-10-21T11:07:24.703298Z","iopub.status.idle":"2024-10-21T11:07:24.865155Z","shell.execute_reply":"2024-10-21T11:07:24.830233Z","shell.execute_reply.started":"2024-10-21T11:07:24.703540Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"def compute_AUC(glucose_values, delta_t=5):\n    return simpson(glucose_values, dx=delta_t)","key":"hxvPbUtIYI"},{"type":"outputs","id":"oMPJORt9_dBCZcynkmExi","children":[],"key":"gbtqeYO0BG"}],"key":"GDqeYcd0ld"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Define Feature Extractor Function","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CCDyqEWsMU"}],"identifier":"define-feature-extractor-function","label":"Define Feature Extractor Function","html_id":"define-feature-extractor-function","implicit":true,"key":"kQ2trXX3Eq"}],"key":"pwter4BEus"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:24.880898Z","iopub.status.busy":"2024-10-21T11:07:24.875008Z","iopub.status.idle":"2024-10-21T11:07:25.012600Z","shell.execute_reply":"2024-10-21T11:07:25.011439Z","shell.execute_reply.started":"2024-10-21T11:07:24.880870Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"def feature_extractor(data_matrix):\n\n    features = []\n\n    for row in data_matrix:\n        mean_glucose = np.mean(row)\n        std_glucose  = np.std(row)\n        max_glucose  = np.max(row)\n        min_glucose  = np.min(row)\n        \n        first_derivative = compute_first_derivative(row)\n        mean_first_derivate = np.mean(first_derivative)\n\n        if len(row) > 2:\n            second_derivative = compute_second_derivative(row)\n            mean_second_derivative = np.mean(second_derivative)\n        else:\n            mean_second_derivative = 0\n\n        AUC = compute_AUC(row)\n\n        time_to_peak = np.argmax(row)\n\n        features_vector = [\n            mean_glucose,\n            std_glucose,\n            max_glucose,\n            min_glucose,\n            mean_first_derivate,\n            mean_second_derivative,\n            AUC,\n            time_to_peak\n        ]\n\n        features.append(features_vector)\n    \n    return np.array(features)","identifier":"cse572_code_4-code","enumerator":"1","html_id":"cse572-code-4-code","key":"tntltbvPRJ"},{"type":"outputs","id":"3_jhnTIVgsqOsPCyiFEgH","children":[],"identifier":"cse572_code_4-outputs","html_id":"cse572-code-4-outputs","key":"tB3t0odVQd"}],"identifier":"cse572_code_4","label":"CSE572_Code_4","html_id":"cse572-code-4","key":"tbDmHEvQXA"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Get Feature Matrix for Cleaned Imputed Meal Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Qt53rNM8kU"}],"identifier":"get-feature-matrix-for-cleaned-imputed-meal-data","label":"Get Feature Matrix for Cleaned Imputed Meal Data","html_id":"get-feature-matrix-for-cleaned-imputed-meal-data","implicit":true,"key":"DHjhYzQcwm"}],"key":"z5G0QkUJIl"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:25.014362Z","iopub.status.busy":"2024-10-21T11:07:25.014040Z","iopub.status.idle":"2024-10-21T11:07:25.534940Z","shell.execute_reply":"2024-10-21T11:07:25.534480Z","shell.execute_reply.started":"2024-10-21T11:07:25.014338Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_features_matrix = feature_extractor(cleaned_imputed_meal_matrix)\nmeal_features_matrix[0]","key":"QszV77QfV5"},{"type":"outputs","id":"jAcUL-Iqhc2NJ6HGFM9D-","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":132,"metadata":{},"data":{"text/plain":{"content":"array([ 8.98190476e+01,  1.91175360e+01,  1.31000000e+02,  4.90000000e+01,\n       -2.82758621e-01, -4.28571429e-03,  1.30310714e+04,  9.00000000e+00])","content_type":"text/plain"}}},"children":[],"key":"LdrfrvVoAJ"}],"key":"r4bIuGOLmr"}],"key":"n11HwyT6PD"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Get Feature Matrix for Clean Imputed No Meal Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yM4CLIdWH2"}],"identifier":"get-feature-matrix-for-clean-imputed-no-meal-data","label":"Get Feature Matrix for Clean Imputed No Meal Data","html_id":"get-feature-matrix-for-clean-imputed-no-meal-data","implicit":true,"key":"E0ro8Awi4G"}],"key":"nlHGQopBfT"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:25.535608Z","iopub.status.busy":"2024-10-21T11:07:25.535459Z","iopub.status.idle":"2024-10-21T11:07:26.000786Z","shell.execute_reply":"2024-10-21T11:07:25.962398Z","shell.execute_reply.started":"2024-10-21T11:07:25.535594Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"no_meal_features_matrix = feature_extractor(cleaned_imputed_no_meal_matrix)\nno_meal_features_matrix[0]","key":"ihZvbAc2tj"},{"type":"outputs","id":"eNL-fjobBqmX1u167Pe1m","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":133,"metadata":{},"data":{"text/plain":{"content":"array([ 9.11607143e+01,  2.10808822e+01,  1.31000000e+02,  4.90000000e+01,\n       -3.65217391e-01,  2.00000000e-02,  1.04699405e+04,  9.00000000e+00])","content_type":"text/plain"}}},"children":[],"key":"YuLEvXvr2D"}],"key":"Al6NzvW5cT"}],"key":"WCVBDwptwj"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize The Meal Features Matrix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OnFXBkmK1y"}],"identifier":"visualize-the-meal-features-matrix","label":"Visualize The Meal Features Matrix","html_id":"visualize-the-meal-features-matrix","implicit":true,"key":"SSvH2ov7ps"}],"key":"MQI1MSBmHc"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Normalize The Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pUUc6wt9qn"}],"identifier":"normalize-the-data","label":"Normalize The Data","html_id":"normalize-the-data","implicit":true,"key":"a3aeNi1den"}],"key":"LzXewCtgCN"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:26.006136Z","iopub.status.busy":"2024-10-21T11:07:26.005940Z","iopub.status.idle":"2024-10-21T11:07:26.188159Z","shell.execute_reply":"2024-10-21T11:07:26.160464Z","shell.execute_reply.started":"2024-10-21T11:07:26.006120Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"scaler = StandardScaler()\nscaled_meal_features_matrix = scaler.fit_transform(meal_features_matrix)\nscaled_no_meal_features_matrix = scaler.fit_transform(no_meal_features_matrix)","key":"dakJhdr8be"},{"type":"outputs","id":"pnoLVxZ4GN7VltFVF2MZL","children":[],"key":"s3IJpqoqdT"}],"key":"beoEZUnuaa"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:26.194983Z","iopub.status.busy":"2024-10-21T11:07:26.194764Z","iopub.status.idle":"2024-10-21T11:07:26.498840Z","shell.execute_reply":"2024-10-21T11:07:26.476100Z","shell.execute_reply.started":"2024-10-21T11:07:26.194968Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"scaled_meal_features_matrix[0]","key":"Gae3rAkPeS"},{"type":"outputs","id":"6rUkXaaqHfiBGKhjSqu6d","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":135,"metadata":{},"data":{"text/plain":{"content":"array([-1.43931653, -0.6890434 , -1.43186426, -1.35409331, -0.73789252,\n       -0.2568468 , -1.42698567, -0.72547238])","content_type":"text/plain"}}},"children":[],"key":"CyoJHs92PA"}],"key":"MvG3ldymK8"}],"key":"UzTOiYiZRt"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:26.499530Z","iopub.status.busy":"2024-10-21T11:07:26.499361Z","iopub.status.idle":"2024-10-21T11:07:26.598127Z","shell.execute_reply":"2024-10-21T11:07:26.597705Z","shell.execute_reply.started":"2024-10-21T11:07:26.499515Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"scaled_no_meal_features_matrix[0]","key":"tF2NbjcLlX"},{"type":"outputs","id":"Tb5k8Pjo3C8pv1IRQFVSV","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":136,"metadata":{},"data":{"text/plain":{"content":"array([-1.24861858, -0.24758492, -1.16121642, -1.39218291, -0.66468096,\n        1.06439767, -1.24077771, -0.41467362])","content_type":"text/plain"}}},"children":[],"key":"KVGNnJ6Qei"}],"key":"NcJE1XDhsp"}],"key":"ukpDQKNetW"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot Features for all Rows","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pZ91mLnU94"}],"identifier":"plot-features-for-all-rows","label":"Plot Features for all Rows","html_id":"plot-features-for-all-rows","implicit":true,"key":"TomX56A3uj"}],"key":"a4aQBzO3gA"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:26.601009Z","iopub.status.busy":"2024-10-21T11:07:26.600861Z","iopub.status.idle":"2024-10-21T11:07:27.106164Z","shell.execute_reply":"2024-10-21T11:07:27.012549Z","shell.execute_reply.started":"2024-10-21T11:07:26.600996Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_features_matrix.shape[0]","key":"uT4HIoonil"},{"type":"outputs","id":"2HGT5zfL-fhc7Lk7DdwwX","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":137,"metadata":{},"data":{"text/plain":{"content":"944","content_type":"text/plain"}}},"children":[],"key":"U3UGsdaymg"}],"key":"XxvHHhKG17"}],"key":"PrsHf6D7ez"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:27.132665Z","iopub.status.busy":"2024-10-21T11:07:27.127453Z","iopub.status.idle":"2024-10-21T11:07:27.201055Z","shell.execute_reply":"2024-10-21T11:07:27.200521Z","shell.execute_reply.started":"2024-10-21T11:07:27.132629Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X = np.arange(\n        start=0,\n        stop=meal_features_matrix.shape[0]\n    )","key":"noiaMZv3mJ"},{"type":"outputs","id":"w5VFBfBfT6clC5HhgyZ01","children":[],"key":"bDY6Cw38VV"}],"key":"Kunvqph8W1"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot Max, Mean, Min, and Std Dev for All Rows","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"a6qrseKwgM"}],"identifier":"plot-max-mean-min-and-std-dev-for-all-rows","label":"Plot Max, Mean, Min, and Std Dev for All Rows","html_id":"plot-max-mean-min-and-std-dev-for-all-rows","implicit":true,"key":"TfsUamc29P"}],"key":"Vj4Waxs7lQ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:27.213410Z","iopub.status.busy":"2024-10-21T11:07:27.213196Z","iopub.status.idle":"2024-10-21T11:07:27.359899Z","shell.execute_reply":"2024-10-21T11:07:27.335317Z","shell.execute_reply.started":"2024-10-21T11:07:27.213394Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_mean = meal_features_matrix[:, 0] # First column\nY_mean_peaks, _ = find_peaks(Y_mean, height=20)\n\nY_mean_peaks_times = X[Y_mean_peaks]\nY_mean_peaks_values = Y_mean[Y_mean_peaks]\n\nwindow_size = 3\nY_mean_peaks_moving_avg = np.convolve(Y_mean_peaks_values, np.ones(window_size)/window_size, mode='valid')","key":"twXJRAADWR"},{"type":"outputs","id":"bGnzeRdw--ea9fGK90dwC","children":[],"key":"rDBjkx2phf"}],"key":"aU7DpPZE6H"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:27.364916Z","iopub.status.busy":"2024-10-21T11:07:27.364702Z","iopub.status.idle":"2024-10-21T11:07:27.623000Z","shell.execute_reply":"2024-10-21T11:07:27.585613Z","shell.execute_reply.started":"2024-10-21T11:07:27.364901Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_std = meal_features_matrix[:, 1] # Second column","key":"TTGnW6UK0I"},{"type":"outputs","id":"ANndbkgaECN44DnRuTjpE","children":[],"key":"z3fXbgvQHb"}],"key":"zaim9to02K"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:27.658991Z","iopub.status.busy":"2024-10-21T11:07:27.643421Z","iopub.status.idle":"2024-10-21T11:07:27.808356Z","shell.execute_reply":"2024-10-21T11:07:27.787802Z","shell.execute_reply.started":"2024-10-21T11:07:27.658957Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_max = meal_features_matrix[:, 2] # Third column\nY_max_peaks, _ = find_peaks(Y_max, height=20)\n\nY_max_peaks_times = X[Y_max_peaks]\nY_max_peaks_values = Y_max[Y_max_peaks]\n\nwindow_size = 3\nY_max_peaks_moving_avg = np.convolve(Y_max_peaks_values, np.ones(window_size)/window_size, mode='valid')","key":"AwAQAbwcYT"},{"type":"outputs","id":"1aRHocLF2wneU-9hngGC9","children":[],"key":"VT2eKAY71C"}],"key":"MDknoNHIAM"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:27.820517Z","iopub.status.busy":"2024-10-21T11:07:27.819923Z","iopub.status.idle":"2024-10-21T11:07:28.064749Z","shell.execute_reply":"2024-10-21T11:07:28.022628Z","shell.execute_reply.started":"2024-10-21T11:07:27.820493Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_max_peaks_times.shape","key":"I40pZbsPtl"},{"type":"outputs","id":"nB9TmOx87LZ3MfcuSzwJn","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":142,"metadata":{},"data":{"text/plain":{"content":"(289,)","content_type":"text/plain"}}},"children":[],"key":"zCqWrkQgzB"}],"key":"NVyOKtrvYx"}],"key":"OelKxIZHPJ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:28.065512Z","iopub.status.busy":"2024-10-21T11:07:28.065334Z","iopub.status.idle":"2024-10-21T11:07:28.415031Z","shell.execute_reply":"2024-10-21T11:07:28.397536Z","shell.execute_reply.started":"2024-10-21T11:07:28.065496Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_max_peaks_moving_avg.shape","key":"AdnyTN1woO"},{"type":"outputs","id":"vbeezj4Uwjdrvt53-GF64","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":143,"metadata":{},"data":{"text/plain":{"content":"(287,)","content_type":"text/plain"}}},"children":[],"key":"bg3MDq8nuo"}],"key":"acwDPZg7GK"}],"key":"fb5spJstaL"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:28.426768Z","iopub.status.busy":"2024-10-21T11:07:28.426568Z","iopub.status.idle":"2024-10-21T11:07:28.620765Z","shell.execute_reply":"2024-10-21T11:07:28.620045Z","shell.execute_reply.started":"2024-10-21T11:07:28.426754Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_min = meal_features_matrix[:, 3] # Fourth column\nY_min_peaks, _ = find_peaks(Y_min, height=20)\n\nY_min_peaks_times = X[Y_min_peaks]\nY_min_peaks_values = Y_min[Y_min_peaks]\n\nwindow_size = 3\nY_min_peaks_moving_avg = np.convolve(Y_min_peaks_values, np.ones(window_size)/window_size, mode='valid')","key":"eQtBKgVO2N"},{"type":"outputs","id":"S8rXjczmmjf5htaeIWYV6","children":[],"key":"zQTORGosqc"}],"key":"UEYowRxW6u"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:28.625833Z","iopub.status.busy":"2024-10-21T11:07:28.625590Z","iopub.status.idle":"2024-10-21T11:07:29.035972Z","shell.execute_reply":"2024-10-21T11:07:28.927111Z","shell.execute_reply.started":"2024-10-21T11:07:28.625817Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_min_peaks_moving_avg.shape","key":"yi3Q7LMKHb"},{"type":"outputs","id":"7jydduHvsJvdQ6sj-GJTN","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":145,"metadata":{},"data":{"text/plain":{"content":"(281,)","content_type":"text/plain"}}},"children":[],"key":"BrvxwBgTHS"}],"key":"JhTatcWgtZ"}],"key":"Ji9sQhHQeo"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:29.060419Z","iopub.status.busy":"2024-10-21T11:07:29.049347Z","iopub.status.idle":"2024-10-21T11:07:29.777425Z","shell.execute_reply":"2024-10-21T11:07:29.760766Z","shell.execute_reply.started":"2024-10-21T11:07:29.060387Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the plot\nfig = plt.figure(figsize=(18, 6))\nax = fig.add_subplot(111)\nstride = 5\n\n# Plot the features\n#ax.plot(X[::stride], Y_max[::stride], 'x', label='Max', color='red')\nax.plot(Y_max_peaks_times[:len(Y_max_peaks_moving_avg)], Y_max_peaks_moving_avg, color='red', label='Moving Average of Max', linewidth=2)\n\n#ax.plot(X[::stride], Y_mean[::stride], label='Mean', color='blue')\nax.plot(Y_mean_peaks_times[:len(Y_mean_peaks_moving_avg)], Y_mean_peaks_moving_avg, color='blue', label='Moving Average of Mean', linewidth=2)\n\n#ax.plot(X[::stride], Y_min[::stride], 'x', label='Min')\nax.plot(Y_min_peaks_times[:len(Y_min_peaks_moving_avg)], Y_min_peaks_moving_avg, color='green', label='Moving Average of Min', linewidth=2)\n\nax.plot(X[::stride], Y_std[::stride], label='Std Dev')\n\nax.set_title('Meal Glucose Level Features vs Data Row Number', fontsize=20)\nax.set_xlabel('Data Row Number [arbitrary] ', fontsize=16)\nax.set_ylabel('Glucose Level [mg/dL]', fontsize=16)\n\nax.set_xticks(np.linspace(0, 1000, 11))\nax.set_yticks(np.linspace(0, 400, 7))\nax.set_xlim(-50, 1000)\nax.set_ylim(0, 420)\n\n#ax.text(300, 380, f'Viewing every {stride} rows')\n\n# Adjust axis limits to create a zoom-out effect\n#ax.set_xlim(-30, 120)\n#ax.set_ylim(0, 800)\n\n#plt.tight_layout()\n\nplt.legend()\n\nplt.show()","key":"lU7vc6MXAP"},{"type":"outputs","id":"sqlvwOycz6RQFD8LK46pW","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"b266108f8706ef7f3388009464603aef","path":"/build/b266108f8706ef7f3388009464603aef.png"},"text/plain":{"content":"<Figure size 1800x600 with 1 Axes>","content_type":"text/plain"}}},"children":[],"key":"qmJBuYtsfB"}],"key":"Tkl8yxGGJk"}],"key":"PXDLGq4slW"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot First and Second Derivatives","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mEOP1h2YJw"}],"identifier":"plot-first-and-second-derivatives","label":"Plot First and Second Derivatives","html_id":"plot-first-and-second-derivatives","implicit":true,"key":"OPkLuZ8ZS0"}],"key":"QOHEyRxW6Q"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:29.788058Z","iopub.status.busy":"2024-10-21T11:07:29.782957Z","iopub.status.idle":"2024-10-21T11:07:29.922057Z","shell.execute_reply":"2024-10-21T11:07:29.843798Z","shell.execute_reply.started":"2024-10-21T11:07:29.788034Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_mean_first_derivative = meal_features_matrix[:, 4] # Fourth column\nY_mean_first_derivative_peaks, _ = find_peaks(Y_mean_first_derivative, height=None)\n\nY_mean_first_derivative_times = X[Y_mean_first_derivative_peaks]\nY_mean_first_derivative_values = Y_mean_first_derivative[Y_mean_first_derivative_peaks]\n\nwindow_size = 3\nY_mean_first_derivative_peaks_moving_avg = \\\n    np.convolve(\n        Y_mean_first_derivative_values,\n        np.ones(window_size)/window_size, mode='valid'\n    )","key":"ivBSblkKuG"},{"type":"outputs","id":"3rSbjz9nm5kO6ousVSwWp","children":[],"key":"zt0hgG33Te"}],"key":"sl1E5TEJAB"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:29.954651Z","iopub.status.busy":"2024-10-21T11:07:29.943014Z","iopub.status.idle":"2024-10-21T11:07:30.161133Z","shell.execute_reply":"2024-10-21T11:07:30.113032Z","shell.execute_reply.started":"2024-10-21T11:07:29.954615Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_mean_2nd_derivative = meal_features_matrix[:, 5] # Fourth column\nY_mean_2nd_derivative_peaks, _ = find_peaks(Y_mean_2nd_derivative, height=None)\n\nY_mean_2nd_derivative_times = X[Y_mean_2nd_derivative_peaks]\nY_mean_2nd_derivative_values = Y_mean_2nd_derivative[Y_mean_2nd_derivative_peaks]\n\nwindow_size = 3\nY_mean_2nd_derivative_peaks_moving_avg = \\\n    np.convolve(\n        Y_mean_2nd_derivative_values,\n        np.ones(window_size)/window_size, mode='valid'\n    )","key":"oNNSt2udzr"},{"type":"outputs","id":"M9Sd0cWfL-Y3jxNx6l1Vm","children":[],"key":"SPf5HN3QnX"}],"key":"ufAjpXSfuf"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:30.196942Z","iopub.status.busy":"2024-10-21T11:07:30.172025Z","iopub.status.idle":"2024-10-21T11:07:31.271520Z","shell.execute_reply":"2024-10-21T11:07:31.269964Z","shell.execute_reply.started":"2024-10-21T11:07:30.196901Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the plot\nfig = plt.figure(figsize=(18, 6))\nax = fig.add_subplot(111)\nstride = 5\n\n# Plot the features\n#ax.plot(X[::stride], Y_max[::stride], 'x', label='Max', color='red')\n#ax.plot(\n#    Y_max_peaks_times[:len(Y_max_peaks_moving_avg)], \n#    Y_max_peaks_moving_avg, \n#    color='red', \n#    label='Moving Average of Max', \n#    linewidth=2)\n\n#ax.plot(X[::stride], Y_mean[::stride], label='Mean', color='blue')\nax.plot(\n    Y_mean_peaks_times[:len(Y_mean_peaks_moving_avg)], \n    Y_mean_peaks_moving_avg, \n    color='blue', \n    label='Moving Average of Mean', \n    linewidth=2\n)\n\n#ax.plot(X[::stride], Y_min[::stride], 'x', label='Min')\n#ax.plot(Y_min_peaks_times[:len(Y_min_peaks_moving_avg)], Y_min_peaks_moving_avg, color='green', label='Moving Average of Min', linewidth=2)\n\n#ax.plot(X[::stride], Y_std[::stride], label='Std Dev')\n\nax.plot(\n    Y_mean_first_derivative_times[:len(Y_mean_first_derivative_peaks_moving_avg)],\n    Y_mean_first_derivative_peaks_moving_avg*100,\n    color='orange',\n    label=r'First Derivative $\\times 100$',\n    linewidth=2\n)\n\nax.plot(\n    Y_mean_2nd_derivative_times[:len(Y_mean_2nd_derivative_peaks_moving_avg)],\n    Y_mean_2nd_derivative_peaks_moving_avg*2500,\n    color='green',\n    label=r'Second Derivative $\\times 2500$',\n    linewidth=2\n)\n\nax.set_title('Glucose Level Features vs Data Row Number')\nax.set_xlabel('Data Row Number [arbitrary] ')\nax.set_ylabel('Glucose Level [mg/dL]')\n\n#ax.set_xticks(np.linspace(0, 1000, 11))\n#ax.set_yticks(np.linspace(0, 400, 7))\n#ax.set_xlim(-50, 1000)\n#ax.set_ylim(0, 420)\n\n#ax.text(300, 380, f'Viewing every {stride} rows')\n\n# Adjust axis limits to create a zoom-out effect\n#ax.set_xlim(-30, 120)\n#ax.set_ylim(0, 800)\n\n#plt.tight_layout()\n\nplt.legend()\n\nplt.show()","key":"fAfElSaOhY"},{"type":"outputs","id":"6cxxVLbwK7v91GTI2bUVt","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"d893bad643ecbad09dc4a751c436cb24","path":"/build/d893bad643ecbad09dc4a751c436cb24.png"},"text/plain":{"content":"<Figure size 1800x600 with 1 Axes>","content_type":"text/plain"}}},"children":[],"key":"XJ0uAhwdZ8"}],"key":"aFnlSj4Aa0"}],"key":"SD9yAVqnuy"},{"type":"block","kind":"notebook-content","data":{"execution":{"iopub.execute_input":"2024-10-20T00:40:40.206030Z","iopub.status.busy":"2024-10-20T00:40:40.205617Z","iopub.status.idle":"2024-10-20T00:40:40.221052Z","shell.execute_reply":"2024-10-20T00:40:40.214894Z","shell.execute_reply.started":"2024-10-20T00:40:40.205996Z"}},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Pairwise Plot of Meal Features Matrix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"US9z9HYWnb"}],"identifier":"pairwise-plot-of-meal-features-matrix","label":"Pairwise Plot of Meal Features Matrix","html_id":"pairwise-plot-of-meal-features-matrix","implicit":true,"key":"Kud9DX2Pt2"}],"key":"CNyhjdKjYf"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:31.276998Z","iopub.status.busy":"2024-10-21T11:07:31.276829Z","iopub.status.idle":"2024-10-21T11:07:46.449305Z","shell.execute_reply":"2024-10-21T11:07:46.446752Z","shell.execute_reply.started":"2024-10-21T11:07:31.276982Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Generate column labels for the features\nfeature_columns = [f'Feature_{i+1}' for i in range(meal_features_matrix.shape[1])]\n\n# Convert the feature matrix to a Pandas DataFrame\ndf = pd.DataFrame(meal_features_matrix, columns=feature_columns)\n\n# Create a pairwise plot using Seaborn\nplt.figure(figsize=(15, 15))  # Adjust figure size as needed\nsns.pairplot(df, diag_kind='hist', plot_kws={'alpha': 0.5, 's': 40})\n\nplt.suptitle('Pairwise Plot of Meal Features Matrix', y=1.02, fontsize=30)\n\n# Show the plot\nplt.show()","key":"rRL3MoLCTP"},{"type":"outputs","id":"J9vFJVhFwjZIy8NUYjlLi","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1500x1500 with 0 Axes>","content_type":"text/plain"}}},"children":[],"key":"byrOygHrZh"},{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"f62ec84e21461b12e74a7631bac6bc54","path":"/build/f62ec84e21461b12e74a7631bac6bc54.png"},"text/plain":{"content":"<Figure size 2000x2000 with 72 Axes>","content_type":"text/plain"}}},"children":[],"key":"XX0yoxIslm"}],"key":"B6YLFdLkGs"}],"key":"XnAqC58yaI"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize The No Meal Features Matrix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"eazXnPrn1V"}],"identifier":"visualize-the-no-meal-features-matrix","label":"Visualize The No Meal Features Matrix","html_id":"visualize-the-no-meal-features-matrix","implicit":true,"key":"pou6linriE"}],"key":"wsl19RRuJy"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Normalize The Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PbFCLgN4jF"}],"identifier":"normalize-the-data","label":"Normalize The Data","html_id":"normalize-the-data-1","implicit":true,"key":"R3PJlJBg5c"}],"key":"QMcUjlMcfH"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.450681Z","iopub.status.busy":"2024-10-21T11:07:46.450228Z","iopub.status.idle":"2024-10-21T11:07:46.461954Z","shell.execute_reply":"2024-10-21T11:07:46.460856Z","shell.execute_reply.started":"2024-10-21T11:07:46.450655Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"scaler = StandardScaler()\nscaled_meal_features_matrix = scaler.fit_transform(meal_features_matrix)\nscaled_no_meal_features_matrix = scaler.fit_transform(no_meal_features_matrix)","key":"Pq7TAiguSs"},{"type":"outputs","id":"_R8fvhaIoFj3Qy8dwlINg","children":[],"key":"F3jfOuDBy3"}],"key":"FO1r2NCiUy"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.462993Z","iopub.status.busy":"2024-10-21T11:07:46.462702Z","iopub.status.idle":"2024-10-21T11:07:46.484452Z","shell.execute_reply":"2024-10-21T11:07:46.483593Z","shell.execute_reply.started":"2024-10-21T11:07:46.462968Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"scaled_meal_features_matrix[0]","key":"uQyeP3WDIi"},{"type":"outputs","id":"D8811JVTsM-yrNgmj-OwX","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":152,"metadata":{},"data":{"text/plain":{"content":"array([-1.43931653, -0.6890434 , -1.43186426, -1.35409331, -0.73789252,\n       -0.2568468 , -1.42698567, -0.72547238])","content_type":"text/plain"}}},"children":[],"key":"tzAfzQNH6O"}],"key":"zkwITxprpt"}],"key":"G2nBh7qd6L"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.486104Z","iopub.status.busy":"2024-10-21T11:07:46.485009Z","iopub.status.idle":"2024-10-21T11:07:46.503861Z","shell.execute_reply":"2024-10-21T11:07:46.502820Z","shell.execute_reply.started":"2024-10-21T11:07:46.486074Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"scaled_no_meal_features_matrix[0]","key":"DrZLBRPBZy"},{"type":"outputs","id":"TB3v4SNvBvTMR_ZJBR6MU","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":153,"metadata":{},"data":{"text/plain":{"content":"array([-1.24861858, -0.24758492, -1.16121642, -1.39218291, -0.66468096,\n        1.06439767, -1.24077771, -0.41467362])","content_type":"text/plain"}}},"children":[],"key":"HzchAvoCe4"}],"key":"gP4XSeF1Sz"}],"key":"YHyrY4aC5C"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot Features for all Rows","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"q55SEZBNvQ"}],"identifier":"plot-features-for-all-rows","label":"Plot Features for all Rows","html_id":"plot-features-for-all-rows-1","implicit":true,"key":"MMc2hROXuH"}],"key":"gIlcS0foKq"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.508785Z","iopub.status.busy":"2024-10-21T11:07:46.504644Z","iopub.status.idle":"2024-10-21T11:07:46.521675Z","shell.execute_reply":"2024-10-21T11:07:46.520970Z","shell.execute_reply.started":"2024-10-21T11:07:46.508766Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"no_meal_features_matrix.shape[0]","key":"iJLAyfNvYV"},{"type":"outputs","id":"9zTIQoiFfuBCpfjnLo1Fi","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":154,"metadata":{},"data":{"text/plain":{"content":"752","content_type":"text/plain"}}},"children":[],"key":"MucvPUVWvf"}],"key":"XbXYpIhfRS"}],"key":"VQJW0Duk0b"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.522522Z","iopub.status.busy":"2024-10-21T11:07:46.522273Z","iopub.status.idle":"2024-10-21T11:07:46.533195Z","shell.execute_reply":"2024-10-21T11:07:46.532417Z","shell.execute_reply.started":"2024-10-21T11:07:46.522506Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X = np.arange(\n        start=0,\n        stop=no_meal_features_matrix.shape[0]\n    )","key":"V76vaVlxQS"},{"type":"outputs","id":"_zqqcVbv7kzNXtAMxjVEb","children":[],"key":"wMTUuvq9Ah"}],"key":"liCTqGRnaq"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot Max, Mean, Min, and Std Dev for All Rows","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uXrANrZAWL"}],"identifier":"plot-max-mean-min-and-std-dev-for-all-rows","label":"Plot Max, Mean, Min, and Std Dev for All Rows","html_id":"plot-max-mean-min-and-std-dev-for-all-rows-1","implicit":true,"key":"dQdPRC75NK"}],"key":"JeufActCa5"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.534324Z","iopub.status.busy":"2024-10-21T11:07:46.534069Z","iopub.status.idle":"2024-10-21T11:07:46.555802Z","shell.execute_reply":"2024-10-21T11:07:46.554776Z","shell.execute_reply.started":"2024-10-21T11:07:46.534307Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_mean = no_meal_features_matrix[:, 0] # First column\nY_mean_peaks, _ = find_peaks(Y_mean, height=20)\n\nY_mean_peaks_times = X[Y_mean_peaks]\nY_mean_peaks_values = Y_mean[Y_mean_peaks]\n\nwindow_size = 3\nY_mean_peaks_moving_avg = np.convolve(Y_mean_peaks_values, np.ones(window_size)/window_size, mode='valid')","key":"qLY86hgSIj"},{"type":"outputs","id":"Gk7bhjuUe1VQtKw9JxkI3","children":[],"key":"bCrwwoEW5J"}],"key":"EjdmTbWHwM"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.557412Z","iopub.status.busy":"2024-10-21T11:07:46.556533Z","iopub.status.idle":"2024-10-21T11:07:46.568479Z","shell.execute_reply":"2024-10-21T11:07:46.567678Z","shell.execute_reply.started":"2024-10-21T11:07:46.557394Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_std = no_meal_features_matrix[:, 1] # Second column","key":"okClGWTQxy"},{"type":"outputs","id":"oKzpbkq3JmdTkvxzi04nw","children":[],"key":"dWxR99Rmae"}],"key":"GRvkCtYNsD"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.569488Z","iopub.status.busy":"2024-10-21T11:07:46.569214Z","iopub.status.idle":"2024-10-21T11:07:46.633671Z","shell.execute_reply":"2024-10-21T11:07:46.631164Z","shell.execute_reply.started":"2024-10-21T11:07:46.569471Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_max = no_meal_features_matrix[:, 2] # Third column\nY_max_peaks, _ = find_peaks(Y_max, height=20)\n\nY_max_peaks_times = X[Y_max_peaks]\nY_max_peaks_values = Y_max[Y_max_peaks]\n\nwindow_size = 3\nY_max_peaks_moving_avg = np.convolve(Y_max_peaks_values, np.ones(window_size)/window_size, mode='valid')","key":"KqAOz1lGDR"},{"type":"outputs","id":"k0o3sFTdnsrhQcVIZt1Fl","children":[],"key":"YeLeHOMwkn"}],"key":"rt9VZiNcsN"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.634850Z","iopub.status.busy":"2024-10-21T11:07:46.634436Z","iopub.status.idle":"2024-10-21T11:07:46.650659Z","shell.execute_reply":"2024-10-21T11:07:46.646814Z","shell.execute_reply.started":"2024-10-21T11:07:46.634833Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_max_peaks_times.shape","key":"Ym5CfHxuKP"},{"type":"outputs","id":"KlaFAVceVY6g44-e_kLkQ","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":159,"metadata":{},"data":{"text/plain":{"content":"(238,)","content_type":"text/plain"}}},"children":[],"key":"H42rKS9mXC"}],"key":"zK9V2pOVhM"}],"key":"AotD9OqnV4"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.651906Z","iopub.status.busy":"2024-10-21T11:07:46.651742Z","iopub.status.idle":"2024-10-21T11:07:46.659550Z","shell.execute_reply":"2024-10-21T11:07:46.658800Z","shell.execute_reply.started":"2024-10-21T11:07:46.651891Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_max_peaks_moving_avg.shape","key":"yhHKaWBtlx"},{"type":"outputs","id":"P6C_v_RHmpbT3OAUmiIie","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":160,"metadata":{},"data":{"text/plain":{"content":"(236,)","content_type":"text/plain"}}},"children":[],"key":"UcnOuaMSDW"}],"key":"gBzarhpAuJ"}],"key":"f86vfkFKlK"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.665840Z","iopub.status.busy":"2024-10-21T11:07:46.665622Z","iopub.status.idle":"2024-10-21T11:07:46.681346Z","shell.execute_reply":"2024-10-21T11:07:46.680378Z","shell.execute_reply.started":"2024-10-21T11:07:46.665825Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_min = no_meal_features_matrix[:, 3] # Fourth column\nY_min_peaks, _ = find_peaks(Y_min, height=20)\n\nY_min_peaks_times = X[Y_min_peaks]\nY_min_peaks_values = Y_min[Y_min_peaks]\n\nwindow_size = 3\nY_min_peaks_moving_avg = np.convolve(Y_min_peaks_values, np.ones(window_size)/window_size, mode='valid')","key":"TFifu7PXMa"},{"type":"outputs","id":"--32OdEGwUJ82OxSc7tj-","children":[],"key":"pYpHlST5Dy"}],"key":"aNcAR4itoe"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.687162Z","iopub.status.busy":"2024-10-21T11:07:46.686623Z","iopub.status.idle":"2024-10-21T11:07:46.717999Z","shell.execute_reply":"2024-10-21T11:07:46.701672Z","shell.execute_reply.started":"2024-10-21T11:07:46.687050Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_min_peaks_moving_avg.shape","key":"GOjU6ZCUP0"},{"type":"outputs","id":"y5SJjphSWdyc2HlwvcgCt","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":162,"metadata":{},"data":{"text/plain":{"content":"(238,)","content_type":"text/plain"}}},"children":[],"key":"PEsuiqvAUJ"}],"key":"e5xUgONLub"}],"key":"c2AT7sLtMV"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.738753Z","iopub.status.busy":"2024-10-21T11:07:46.723697Z","iopub.status.idle":"2024-10-21T11:07:47.243088Z","shell.execute_reply":"2024-10-21T11:07:47.215932Z","shell.execute_reply.started":"2024-10-21T11:07:46.738723Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the plot\nfig = plt.figure(figsize=(18, 6))\nax = fig.add_subplot(111)\nstride = 5\n\n# Plot the features\n#ax.plot(X[::stride], Y_max[::stride], 'x', label='Max', color='red')\nax.plot(Y_max_peaks_times[:len(Y_max_peaks_moving_avg)], Y_max_peaks_moving_avg, color='red', label='Moving Average of Max', linewidth=2)\n\n#ax.plot(X[::stride], Y_mean[::stride], label='Mean', color='blue')\nax.plot(Y_mean_peaks_times[:len(Y_mean_peaks_moving_avg)], Y_mean_peaks_moving_avg, color='blue', label='Moving Average of Mean', linewidth=2)\n\n#ax.plot(X[::stride], Y_min[::stride], 'x', label='Min')\nax.plot(Y_min_peaks_times[:len(Y_min_peaks_moving_avg)], Y_min_peaks_moving_avg, color='green', label='Moving Average of Min', linewidth=2)\n\nax.plot(X[::stride], Y_std[::stride], label='Std Dev')\n\nax.set_title('No Meal Glucose Level Features vs Data Row Number', fontsize=20)\nax.set_xlabel('Data Row Number [arbitrary] ', fontsize=16)\nax.set_ylabel('Glucose Level [mg/dL]', fontsize=16)\n\nax.set_xticks(np.linspace(0, 800, 11))\nax.set_yticks(np.linspace(0, 400, 7))\nax.set_xlim(-50, 800)\nax.set_ylim(0, 420)\n\n#ax.text(300, 380, f'Viewing every {stride} rows')\n\n# Adjust axis limits to create a zoom-out effect\n#ax.set_xlim(-30, 120)\n#ax.set_ylim(0, 800)\n\n#plt.tight_layout()\n\nplt.legend()\n\nplt.show()","key":"zl2ByPZ4ty"},{"type":"outputs","id":"aKndpmIvHklRX-EtQHl6z","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"adf7d67e6568598c773363d6a6979d27","path":"/build/adf7d67e6568598c773363d6a6979d27.png"},"text/plain":{"content":"<Figure size 1800x600 with 1 Axes>","content_type":"text/plain"}}},"children":[],"key":"lXclO8RcDg"}],"key":"lvPKhV4deJ"}],"key":"GuHTIRcpnW"},{"type":"block","kind":"notebook-content","data":{"execution":{"iopub.execute_input":"2024-10-20T00:40:40.206030Z","iopub.status.busy":"2024-10-20T00:40:40.205617Z","iopub.status.idle":"2024-10-20T00:40:40.221052Z","shell.execute_reply":"2024-10-20T00:40:40.214894Z","shell.execute_reply.started":"2024-10-20T00:40:40.205996Z"}},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Pairwise Plot of No Meal Features Matrix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JXMmNerYyR"}],"identifier":"pairwise-plot-of-no-meal-features-matrix","label":"Pairwise Plot of No Meal Features Matrix","html_id":"pairwise-plot-of-no-meal-features-matrix","implicit":true,"key":"wVzxbFISPk"}],"key":"NdcgQMgOLa"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:47.251909Z","iopub.status.busy":"2024-10-21T11:07:47.251673Z","iopub.status.idle":"2024-10-21T11:07:59.582416Z","shell.execute_reply":"2024-10-21T11:07:59.581629Z","shell.execute_reply.started":"2024-10-21T11:07:47.251892Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Generate column labels for the features\nfeature_columns = [f'Feature_{i+1}' for i in range(meal_features_matrix.shape[1])]\n\n# Convert the feature matrix to a Pandas DataFrame\ndf = pd.DataFrame(no_meal_features_matrix, columns=feature_columns)\n\n# Create a pairwise plot using Seaborn\nplt.figure(figsize=(15, 15))  # Adjust figure size as needed\nsns.pairplot(df, diag_kind='hist', plot_kws={'alpha': 0.5, 's': 40})\n\nplt.suptitle('Pairwise Plot of No Meal Features Matrix', y=1.02, fontsize=30)\n\n# Show the plot\nplt.show()","key":"rOFYxHD7VM"},{"type":"outputs","id":"1YI8ys0BK4Gsxd8KNnESl","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1500x1500 with 0 Axes>","content_type":"text/plain"}}},"children":[],"key":"eWRs6gsKlo"},{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"fdede4157f769963ff3d36f16540e6ad","path":"/build/fdede4157f769963ff3d36f16540e6ad.png"},"text/plain":{"content":"<Figure size 2000x2000 with 72 Axes>","content_type":"text/plain"}}},"children":[],"key":"Rd2AXYkHAn"}],"key":"Dwq6RDV0Xc"}],"key":"VSjfePhtPu"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Concatenate Feature Matrices and Add Class Labels","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ADhuSMBJ46"}],"identifier":"concatenate-feature-matrices-and-add-class-labels","label":"Concatenate Feature Matrices and Add Class Labels","html_id":"concatenate-feature-matrices-and-add-class-labels","implicit":true,"key":"m5MawEKgfQ"}],"key":"GwHsAzud43"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:59.583823Z","iopub.status.busy":"2024-10-21T11:07:59.583398Z","iopub.status.idle":"2024-10-21T11:07:59.591045Z","shell.execute_reply":"2024-10-21T11:07:59.589668Z","shell.execute_reply.started":"2024-10-21T11:07:59.583805Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_labels = np.ones((meal_features_matrix.shape[0], 1))\nlen(meal_labels)","key":"mNI3HdSxS1"},{"type":"outputs","id":"bCqoYsarx98GACAc230Ed","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":165,"metadata":{},"data":{"text/plain":{"content":"944","content_type":"text/plain"}}},"children":[],"key":"ZMwMS2LiLq"}],"key":"aidWJ4GxEq"}],"key":"g9gvCmZQYX"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:59.592389Z","iopub.status.busy":"2024-10-21T11:07:59.592075Z","iopub.status.idle":"2024-10-21T11:07:59.615951Z","shell.execute_reply":"2024-10-21T11:07:59.614735Z","shell.execute_reply.started":"2024-10-21T11:07:59.592369Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_features_matrix_with_labels = \\\n    np.hstack((meal_features_matrix, meal_labels))\n#meal_features_matrix_with_labels[1]","key":"kygxnID4mB"},{"type":"outputs","id":"84UF6yBI75JWQysj5G6Ai","children":[],"key":"cDAojW9tww"}],"key":"AlRhQT3Rjr"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:59.617549Z","iopub.status.busy":"2024-10-21T11:07:59.616607Z","iopub.status.idle":"2024-10-21T11:07:59.743785Z","shell.execute_reply":"2024-10-21T11:07:59.676210Z","shell.execute_reply.started":"2024-10-21T11:07:59.617530Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"no_meal_labels = np.zeros((no_meal_features_matrix.shape[0], 1))\nlen(no_meal_labels)","key":"P3h0IRirxN"},{"type":"outputs","id":"fHo7W_wU6-b56X1Yty3S4","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":167,"metadata":{},"data":{"text/plain":{"content":"752","content_type":"text/plain"}}},"children":[],"key":"BN0IDoBo6L"}],"key":"QhxfPwY4UB"}],"key":"W5cVrciQ8K"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:59.755731Z","iopub.status.busy":"2024-10-21T11:07:59.755489Z","iopub.status.idle":"2024-10-21T11:07:59.800043Z","shell.execute_reply":"2024-10-21T11:07:59.797256Z","shell.execute_reply.started":"2024-10-21T11:07:59.755715Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"no_meal_features_matrix_with_labels = \\\n    np.hstack((no_meal_features_matrix, no_meal_labels))\n#no_meal_features_matrix_with_labels[1]","key":"DN2HZjc0Eu"},{"type":"outputs","id":"svuY7tCNsL9842v0ReADP","children":[],"key":"BTQGilKLry"}],"key":"w05iE7bwBo"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:59.801191Z","iopub.status.busy":"2024-10-21T11:07:59.800992Z","iopub.status.idle":"2024-10-21T11:08:00.169537Z","shell.execute_reply":"2024-10-21T11:08:00.119235Z","shell.execute_reply.started":"2024-10-21T11:07:59.801173Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"concat_features = \\\n    np.vstack((meal_features_matrix_with_labels, no_meal_features_matrix_with_labels))\nlen(concat_features)","key":"mZ05UYCw8C"},{"type":"outputs","id":"h8y9-slHk8yhtVc04aO9C","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":169,"metadata":{},"data":{"text/plain":{"content":"1696","content_type":"text/plain"}}},"children":[],"key":"gAf1KT8q3k"}],"key":"eM8WkWdnXU"}],"key":"eIRy3HnixY"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Train Support Vector Machine","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JtQoExflv5"}],"identifier":"train-support-vector-machine","label":"Train Support Vector Machine","html_id":"train-support-vector-machine","implicit":true,"key":"M9pAacYIWm"}],"key":"xmPQZqfKqN"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Use Standard Variable Names for Features and Class Label","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dvHRpEJdEq"}],"identifier":"use-standard-variable-names-for-features-and-class-label","label":"Use Standard Variable Names for Features and Class Label","html_id":"use-standard-variable-names-for-features-and-class-label","implicit":true,"key":"XJxT57v4B9"}],"key":"ZSXPD7dG7H"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:00.220378Z","iopub.status.busy":"2024-10-21T11:08:00.214585Z","iopub.status.idle":"2024-10-21T11:08:00.377273Z","shell.execute_reply":"2024-10-21T11:08:00.307775Z","shell.execute_reply.started":"2024-10-21T11:08:00.220347Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X = concat_features[:, :-1]\ny = concat_features[:, -1]","key":"a3kGx9KfAk"},{"type":"outputs","id":"fXPUxq-K4gu1mhJgQapL-","children":[],"key":"fojJLQgZAY"}],"key":"PtLve7yUwG"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:00.382898Z","iopub.status.busy":"2024-10-21T11:08:00.382692Z","iopub.status.idle":"2024-10-21T11:08:00.747665Z","shell.execute_reply":"2024-10-21T11:08:00.671442Z","shell.execute_reply.started":"2024-10-21T11:08:00.382882Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X[0]","key":"z43QYOqhCk"},{"type":"outputs","id":"zcFzXg0ChgSb3Owb0GxWk","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":171,"metadata":{},"data":{"text/plain":{"content":"array([ 8.98190476e+01,  1.91175360e+01,  1.31000000e+02,  4.90000000e+01,\n       -2.82758621e-01, -4.28571429e-03,  1.30310714e+04,  9.00000000e+00])","content_type":"text/plain"}}},"children":[],"key":"HDlcGDzpOv"}],"key":"XguMmihsXn"}],"key":"DNoV12VxuI"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:00.767068Z","iopub.status.busy":"2024-10-21T11:08:00.766840Z","iopub.status.idle":"2024-10-21T11:08:00.914799Z","shell.execute_reply":"2024-10-21T11:08:00.912693Z","shell.execute_reply.started":"2024-10-21T11:08:00.767051Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"y[0]","key":"FjgjlmhM8b"},{"type":"outputs","id":"drys6-QkvKWTne0KQ8v-N","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":172,"metadata":{},"data":{"text/plain":{"content":"np.float64(1.0)","content_type":"text/plain"}}},"children":[],"key":"JFh2CY1Ypw"}],"key":"Cy3zKooe5M"}],"key":"HX8ClKH7CC"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Train / Test Split","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rWyQrahMN7"}],"identifier":"train-test-split","label":"Train / Test Split","html_id":"train-test-split","implicit":true,"key":"MtTOP8ZvFx"}],"key":"V8zSgixDua"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:00.920115Z","iopub.status.busy":"2024-10-21T11:08:00.915948Z","iopub.status.idle":"2024-10-21T11:08:01.139500Z","shell.execute_reply":"2024-10-21T11:08:01.138868Z","shell.execute_reply.started":"2024-10-21T11:08:00.920090Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X_train, X_test, y_train, y_test = \\\n    train_test_split(X, y, test_size = 0.2, random_state=40)","key":"PBoyx28nzb"},{"type":"outputs","id":"LaY2YALsX3YVKGUBJaUTi","children":[],"key":"JdKkjYmP0a"}],"key":"ktEep6bkoC"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Normalize The Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FOtOVzKtNm"}],"identifier":"normalize-the-data","label":"Normalize The Data","html_id":"normalize-the-data-2","implicit":true,"key":"YC9OpcEZwY"}],"key":"qwkaJyEgxu"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:01.148153Z","iopub.status.busy":"2024-10-21T11:08:01.147852Z","iopub.status.idle":"2024-10-21T11:08:01.391824Z","shell.execute_reply":"2024-10-21T11:08:01.391116Z","shell.execute_reply.started":"2024-10-21T11:08:01.148136Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"scaler = StandardScaler()\nX_train_scaled = scaler.fit_transform(X_train)\nX_test_scaled = scaler.fit_transform(X_test)","key":"YEqtx5EzAe"},{"type":"outputs","id":"qGEkY30oVq5fxoUxr8ivx","children":[],"key":"tqrY8vOC3V"}],"key":"hfYbR2zfAD"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Train SVM Model","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Rpa6PzkQXb"}],"identifier":"train-svm-model","label":"Train SVM Model","html_id":"train-svm-model","implicit":true,"key":"zUFPxLw4yZ"}],"key":"IN4brFyt2k"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:01.405838Z","iopub.status.busy":"2024-10-21T11:08:01.405609Z","iopub.status.idle":"2024-10-21T11:08:01.726628Z","shell.execute_reply":"2024-10-21T11:08:01.726055Z","shell.execute_reply.started":"2024-10-21T11:08:01.405823Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"svm_model = SVC(kernel='linear', C=0.1)\nsvm_model.fit(X_train_scaled, y_train)","key":"m1ttITijVG"},{"type":"outputs","id":"_9Kk1Gt6GiHRXGgAqXDwg","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":175,"metadata":{},"data":{"text/html":{"content":"<style>#sk-container-id-1 {\n  /* Definition of color scheme common for light and dark mode */\n  --sklearn-color-text: black;\n  --sklearn-color-line: gray;\n  /* Definition of color scheme for unfitted estimators */\n  --sklearn-color-unfitted-level-0: #fff5e6;\n  --sklearn-color-unfitted-level-1: #f6e4d2;\n  --sklearn-color-unfitted-level-2: #ffe0b3;\n  --sklearn-color-unfitted-level-3: chocolate;\n  /* Definition of color scheme for fitted estimators */\n  --sklearn-color-fitted-level-0: #f0f8ff;\n  --sklearn-color-fitted-level-1: #d4ebff;\n  --sklearn-color-fitted-level-2: #b3dbfd;\n  --sklearn-color-fitted-level-3: cornflowerblue;\n\n  /* Specific color for light theme */\n  --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));\n  --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, white)));\n  --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));\n  --sklearn-color-icon: #696969;\n\n  @media (prefers-color-scheme: dark) {\n    /* Redefinition of color scheme for dark theme */\n    --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));\n    --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, #111)));\n    --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));\n    --sklearn-color-icon: #878787;\n  }\n}\n\n#sk-container-id-1 {\n  color: var(--sklearn-color-text);\n}\n\n#sk-container-id-1 pre {\n  padding: 0;\n}\n\n#sk-container-id-1 input.sk-hidden--visually {\n  border: 0;\n  clip: rect(1px 1px 1px 1px);\n  clip: rect(1px, 1px, 1px, 1px);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n#sk-container-id-1 div.sk-dashed-wrapped {\n  border: 1px dashed var(--sklearn-color-line);\n  margin: 0 0.4em 0.5em 0.4em;\n  box-sizing: border-box;\n  padding-bottom: 0.4em;\n  background-color: var(--sklearn-color-background);\n}\n\n#sk-container-id-1 div.sk-container {\n  /* jupyter's `normalize.less` sets `[hidden] { display: none; }`\n     but bootstrap.min.css set `[hidden] { display: none !important; }`\n     so we also need the `!important` here to be able to override the\n     default hidden behavior on the sphinx rendered scikit-learn.org.\n     See: https://github.com/scikit-learn/scikit-learn/issues/21755 */\n  display: inline-block !important;\n  position: relative;\n}\n\n#sk-container-id-1 div.sk-text-repr-fallback {\n  display: none;\n}\n\ndiv.sk-parallel-item,\ndiv.sk-serial,\ndiv.sk-item {\n  /* draw centered vertical line to link estimators */\n  background-image: linear-gradient(var(--sklearn-color-text-on-default-background), var(--sklearn-color-text-on-default-background));\n  background-size: 2px 100%;\n  background-repeat: no-repeat;\n  background-position: center center;\n}\n\n/* Parallel-specific style estimator block */\n\n#sk-container-id-1 div.sk-parallel-item::after {\n  content: \"\";\n  width: 100%;\n  border-bottom: 2px solid var(--sklearn-color-text-on-default-background);\n  flex-grow: 1;\n}\n\n#sk-container-id-1 div.sk-parallel {\n  display: flex;\n  align-items: stretch;\n  justify-content: center;\n  background-color: var(--sklearn-color-background);\n  position: relative;\n}\n\n#sk-container-id-1 div.sk-parallel-item {\n  display: flex;\n  flex-direction: column;\n}\n\n#sk-container-id-1 div.sk-parallel-item:first-child::after {\n  align-self: flex-end;\n  width: 50%;\n}\n\n#sk-container-id-1 div.sk-parallel-item:last-child::after {\n  align-self: flex-start;\n  width: 50%;\n}\n\n#sk-container-id-1 div.sk-parallel-item:only-child::after {\n  width: 0;\n}\n\n/* Serial-specific style estimator block */\n\n#sk-container-id-1 div.sk-serial {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background-color: var(--sklearn-color-background);\n  padding-right: 1em;\n  padding-left: 1em;\n}\n\n\n/* Toggleable style: style used for estimator/Pipeline/ColumnTransformer box that is\nclickable and can be expanded/collapsed.\n- Pipeline and ColumnTransformer use this feature and define the default style\n- Estimators will overwrite some part of the style using the `sk-estimator` class\n*/\n\n/* Pipeline and ColumnTransformer style (default) */\n\n#sk-container-id-1 div.sk-toggleable {\n  /* Default theme specific background. It is overwritten whether we have a\n  specific estimator or a Pipeline/ColumnTransformer */\n  background-color: var(--sklearn-color-background);\n}\n\n/* Toggleable label */\n#sk-container-id-1 label.sk-toggleable__label {\n  cursor: pointer;\n  display: block;\n  width: 100%;\n  margin-bottom: 0;\n  padding: 0.5em;\n  box-sizing: border-box;\n  text-align: center;\n}\n\n#sk-container-id-1 label.sk-toggleable__label-arrow:before {\n  /* Arrow on the left of the label */\n  content: \"▸\";\n  float: left;\n  margin-right: 0.25em;\n  color: var(--sklearn-color-icon);\n}\n\n#sk-container-id-1 label.sk-toggleable__label-arrow:hover:before {\n  color: var(--sklearn-color-text);\n}\n\n/* Toggleable content - dropdown */\n\n#sk-container-id-1 div.sk-toggleable__content {\n  max-height: 0;\n  max-width: 0;\n  overflow: hidden;\n  text-align: left;\n  /* unfitted */\n  background-color: var(--sklearn-color-unfitted-level-0);\n}\n\n#sk-container-id-1 div.sk-toggleable__content.fitted {\n  /* fitted */\n  background-color: var(--sklearn-color-fitted-level-0);\n}\n\n#sk-container-id-1 div.sk-toggleable__content pre {\n  margin: 0.2em;\n  border-radius: 0.25em;\n  color: var(--sklearn-color-text);\n  /* unfitted */\n  background-color: var(--sklearn-color-unfitted-level-0);\n}\n\n#sk-container-id-1 div.sk-toggleable__content.fitted pre {\n  /* unfitted */\n  background-color: var(--sklearn-color-fitted-level-0);\n}\n\n#sk-container-id-1 input.sk-toggleable__control:checked~div.sk-toggleable__content {\n  /* Expand drop-down */\n  max-height: 200px;\n  max-width: 100%;\n  overflow: auto;\n}\n\n#sk-container-id-1 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {\n  content: \"▾\";\n}\n\n/* Pipeline/ColumnTransformer-specific style */\n\n#sk-container-id-1 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {\n  color: var(--sklearn-color-text);\n  background-color: var(--sklearn-color-unfitted-level-2);\n}\n\n#sk-container-id-1 div.sk-label.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {\n  background-color: var(--sklearn-color-fitted-level-2);\n}\n\n/* Estimator-specific style */\n\n/* Colorize estimator box */\n#sk-container-id-1 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {\n  /* unfitted */\n  background-color: var(--sklearn-color-unfitted-level-2);\n}\n\n#sk-container-id-1 div.sk-estimator.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {\n  /* fitted */\n  background-color: var(--sklearn-color-fitted-level-2);\n}\n\n#sk-container-id-1 div.sk-label label.sk-toggleable__label,\n#sk-container-id-1 div.sk-label label {\n  /* The background is the default theme color */\n  color: var(--sklearn-color-text-on-default-background);\n}\n\n/* On hover, darken the color of the background */\n#sk-container-id-1 div.sk-label:hover label.sk-toggleable__label {\n  color: var(--sklearn-color-text);\n  background-color: var(--sklearn-color-unfitted-level-2);\n}\n\n/* Label box, darken color on hover, fitted */\n#sk-container-id-1 div.sk-label.fitted:hover label.sk-toggleable__label.fitted {\n  color: var(--sklearn-color-text);\n  background-color: var(--sklearn-color-fitted-level-2);\n}\n\n/* Estimator label */\n\n#sk-container-id-1 div.sk-label label {\n  font-family: monospace;\n  font-weight: bold;\n  display: inline-block;\n  line-height: 1.2em;\n}\n\n#sk-container-id-1 div.sk-label-container {\n  text-align: center;\n}\n\n/* Estimator-specific */\n#sk-container-id-1 div.sk-estimator {\n  font-family: monospace;\n  border: 1px dotted var(--sklearn-color-border-box);\n  border-radius: 0.25em;\n  box-sizing: border-box;\n  margin-bottom: 0.5em;\n  /* unfitted */\n  background-color: var(--sklearn-color-unfitted-level-0);\n}\n\n#sk-container-id-1 div.sk-estimator.fitted {\n  /* fitted */\n  background-color: var(--sklearn-color-fitted-level-0);\n}\n\n/* on hover */\n#sk-container-id-1 div.sk-estimator:hover {\n  /* unfitted */\n  background-color: var(--sklearn-color-unfitted-level-2);\n}\n\n#sk-container-id-1 div.sk-estimator.fitted:hover {\n  /* fitted */\n  background-color: var(--sklearn-color-fitted-level-2);\n}\n\n/* Specification for estimator info (e.g. \"i\" and \"?\") */\n\n/* Common style for \"i\" and \"?\" */\n\n.sk-estimator-doc-link,\na:link.sk-estimator-doc-link,\na:visited.sk-estimator-doc-link {\n  float: right;\n  font-size: smaller;\n  line-height: 1em;\n  font-family: monospace;\n  background-color: var(--sklearn-color-background);\n  border-radius: 1em;\n  height: 1em;\n  width: 1em;\n  text-decoration: none !important;\n  margin-left: 1ex;\n  /* unfitted */\n  border: var(--sklearn-color-unfitted-level-1) 1pt solid;\n  color: var(--sklearn-color-unfitted-level-1);\n}\n\n.sk-estimator-doc-link.fitted,\na:link.sk-estimator-doc-link.fitted,\na:visited.sk-estimator-doc-link.fitted {\n  /* fitted */\n  border: var(--sklearn-color-fitted-level-1) 1pt solid;\n  color: var(--sklearn-color-fitted-level-1);\n}\n\n/* On hover */\ndiv.sk-estimator:hover .sk-estimator-doc-link:hover,\n.sk-estimator-doc-link:hover,\ndiv.sk-label-container:hover .sk-estimator-doc-link:hover,\n.sk-estimator-doc-link:hover {\n  /* unfitted */\n  background-color: var(--sklearn-color-unfitted-level-3);\n  color: var(--sklearn-color-background);\n  text-decoration: none;\n}\n\ndiv.sk-estimator.fitted:hover .sk-estimator-doc-link.fitted:hover,\n.sk-estimator-doc-link.fitted:hover,\ndiv.sk-label-container:hover .sk-estimator-doc-link.fitted:hover,\n.sk-estimator-doc-link.fitted:hover {\n  /* fitted */\n  background-color: var(--sklearn-color-fitted-level-3);\n  color: var(--sklearn-color-background);\n  text-decoration: none;\n}\n\n/* Span, style for the box shown on hovering the info icon */\n.sk-estimator-doc-link span {\n  display: none;\n  z-index: 9999;\n  position: relative;\n  font-weight: normal;\n  right: .2ex;\n  padding: .5ex;\n  margin: .5ex;\n  width: min-content;\n  min-width: 20ex;\n  max-width: 50ex;\n  color: var(--sklearn-color-text);\n  box-shadow: 2pt 2pt 4pt #999;\n  /* unfitted */\n  background: var(--sklearn-color-unfitted-level-0);\n  border: .5pt solid var(--sklearn-color-unfitted-level-3);\n}\n\n.sk-estimator-doc-link.fitted span {\n  /* fitted */\n  background: var(--sklearn-color-fitted-level-0);\n  border: var(--sklearn-color-fitted-level-3);\n}\n\n.sk-estimator-doc-link:hover span {\n  display: block;\n}\n\n/* \"?\"-specific style due to the `<a>` HTML tag */\n\n#sk-container-id-1 a.estimator_doc_link {\n  float: right;\n  font-size: 1rem;\n  line-height: 1em;\n  font-family: monospace;\n  background-color: var(--sklearn-color-background);\n  border-radius: 1rem;\n  height: 1rem;\n  width: 1rem;\n  text-decoration: none;\n  /* unfitted */\n  color: var(--sklearn-color-unfitted-level-1);\n  border: var(--sklearn-color-unfitted-level-1) 1pt solid;\n}\n\n#sk-container-id-1 a.estimator_doc_link.fitted {\n  /* fitted */\n  border: var(--sklearn-color-fitted-level-1) 1pt solid;\n  color: var(--sklearn-color-fitted-level-1);\n}\n\n/* On hover */\n#sk-container-id-1 a.estimator_doc_link:hover {\n  /* unfitted */\n  background-color: var(--sklearn-color-unfitted-level-3);\n  color: var(--sklearn-color-background);\n  text-decoration: none;\n}\n\n#sk-container-id-1 a.estimator_doc_link.fitted:hover {\n  /* fitted */\n  background-color: var(--sklearn-color-fitted-level-3);\n}\n</style><div id=\"sk-container-id-1\" class=\"sk-top-container\"><div class=\"sk-text-repr-fallback\"><pre>SVC(C=0.1, kernel=&#x27;linear&#x27;)</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br />On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class=\"sk-container\" hidden><div class=\"sk-item\"><div class=\"sk-estimator fitted sk-toggleable\"><input class=\"sk-toggleable__control sk-hidden--visually\" id=\"sk-estimator-id-1\" type=\"checkbox\" checked><label for=\"sk-estimator-id-1\" class=\"sk-toggleable__label fitted sk-toggleable__label-arrow fitted\">&nbsp;&nbsp;SVC<a class=\"sk-estimator-doc-link fitted\" rel=\"noreferrer\" target=\"_blank\" href=\"https://scikit-learn.org/1.5/modules/generated/sklearn.svm.SVC.html\">?<span>Documentation for SVC</span></a><span class=\"sk-estimator-doc-link fitted\">i<span>Fitted</span></span></label><div class=\"sk-toggleable__content fitted\"><pre>SVC(C=0.1, kernel=&#x27;linear&#x27;)</pre></div> </div></div></div></div>","content_type":"text/html"},"text/plain":{"content":"SVC(C=0.1, kernel='linear')","content_type":"text/plain"}}},"children":[],"key":"stj6FB8M1V"}],"key":"PtZ3vAupiQ"}],"key":"kun82jH0nu"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Test SVM Model","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Aclcph9kTZ"}],"identifier":"test-svm-model","label":"Test SVM Model","html_id":"test-svm-model","implicit":true,"key":"gAkl0vGBGu"}],"key":"DeDrS3fE70"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:01.737957Z","iopub.status.busy":"2024-10-21T11:08:01.733646Z","iopub.status.idle":"2024-10-21T11:08:02.171188Z","shell.execute_reply":"2024-10-21T11:08:02.143222Z","shell.execute_reply.started":"2024-10-21T11:08:01.737929Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"y_pred = svm_model.predict(X_test_scaled)","key":"WBqenahr0W"},{"type":"outputs","id":"BUfwLrccBzUA0zvCcqTp4","children":[],"key":"oVdkuwSw1N"}],"key":"GsTt6BYnfr"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Obtain Accuracy of SVM Model","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OxQn0gjT6R"}],"identifier":"obtain-accuracy-of-svm-model","label":"Obtain Accuracy of SVM Model","html_id":"obtain-accuracy-of-svm-model","implicit":true,"key":"Oo3QivS2lt"}],"key":"ImPnmNZf1O"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:02.226855Z","iopub.status.busy":"2024-10-21T11:08:02.223031Z","iopub.status.idle":"2024-10-21T11:08:02.440834Z","shell.execute_reply":"2024-10-21T11:08:02.427035Z","shell.execute_reply.started":"2024-10-21T11:08:02.226799Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"accuracy = accuracy_score(y_test, y_pred)\nprint(f\"Accuracy: {accuracy * 100:.2f}%\")","key":"qDmd3i4PWH"},{"type":"outputs","id":"dMk4P8jy6yuEVoVd9T4K8","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Accuracy: 99.71%\n"},"children":[],"key":"qjbnfJYxg2"}],"key":"eFM0EcJcDV"}],"key":"WRyfgWAHkF"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Obtain Training and Test Accuracy of SVM Model","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"yNq75rqbEb"}],"identifier":"obtain-training-and-test-accuracy-of-svm-model","label":"Obtain Training and Test Accuracy of SVM Model","html_id":"obtain-training-and-test-accuracy-of-svm-model","implicit":true,"key":"qUwpwhsQWH"}],"key":"qMK7v1ciiL"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:02.504298Z","iopub.status.busy":"2024-10-21T11:08:02.470559Z","iopub.status.idle":"2024-10-21T11:08:02.661855Z","shell.execute_reply":"2024-10-21T11:08:02.652716Z","shell.execute_reply.started":"2024-10-21T11:08:02.504260Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"train_accuracy = svm_model.score(X_train_scaled, y_train)\ntest_accuracy = svm_model.score(X_test_scaled, y_test)\nprint(f\"Training Accuracy: {train_accuracy * 100:.2f}%\")\nprint(f\"Test Accuracy: {test_accuracy * 100:.2f}%\")","key":"XsJ35bwewO"},{"type":"outputs","id":"C7ErovwXrFOjsx39HMGSj","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Training Accuracy: 100.00%\nTest Accuracy: 99.71%\n"},"children":[],"key":"YFZ7ZRIz6B"}],"key":"ZCm022Troe"}],"key":"HMVHtBYbOe"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Obtain F1 Score of SVM Model","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZyxZAMhY79"}],"identifier":"obtain-f1-score-of-svm-model","label":"Obtain F1 Score of SVM Model","html_id":"obtain-f1-score-of-svm-model","implicit":true,"key":"UjzGrax6r0"}],"key":"sC1frm1W5y"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:02.662460Z","iopub.status.busy":"2024-10-21T11:08:02.662304Z","iopub.status.idle":"2024-10-21T11:08:02.844701Z","shell.execute_reply":"2024-10-21T11:08:02.820634Z","shell.execute_reply.started":"2024-10-21T11:08:02.662446Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"f1 = f1_score(y_test, y_pred)\nprint(f\"F1 Score: {f1:.2f}\")","key":"EkoNAO2GJs"},{"type":"outputs","id":"Q9MoR7QL15V0vTyPbQI9w","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"F1 Score: 1.00\n"},"children":[],"key":"Wq1vjVenHl"}],"key":"CtAtZcSHAT"}],"key":"LHQezmAgxB"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Cross Validate SVM Model","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"L0ZfUwQHdI"}],"identifier":"cross-validate-svm-model","label":"Cross Validate SVM Model","html_id":"cross-validate-svm-model","implicit":true,"key":"LYpZ9ktZpr"}],"key":"jw3W7TfzsY"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:02.857744Z","iopub.status.busy":"2024-10-21T11:08:02.857503Z","iopub.status.idle":"2024-10-21T11:08:03.325390Z","shell.execute_reply":"2024-10-21T11:08:03.324783Z","shell.execute_reply.started":"2024-10-21T11:08:02.857727Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"scores = cross_val_score(svm_model, X_train_scaled, y_train, cv=5, scoring='accuracy')\nprint(f\"Cross-Validation Accuracy: {scores.mean():.2f} (+/- {scores.std():.2f})\")","key":"lvNLfWf5LT"},{"type":"outputs","id":"nI7h-OumWTpizXZrQENkD","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Cross-Validation Accuracy: 1.00 (+/- 0.00)\n"},"children":[],"key":"G6xqjZdxhA"}],"key":"ymSMxrpzDq"}],"key":"tqWNkbcsQo"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize Results of SVM Model","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ds5okQ5jt0"}],"identifier":"visualize-results-of-svm-model","label":"Visualize Results of SVM Model","html_id":"visualize-results-of-svm-model","implicit":true,"key":"ojUvTCBcFX"}],"key":"oBRHzx6vGj"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Scatter Plot with PCA","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vccbn4Xmf7"}],"identifier":"scatter-plot-with-pca","label":"Scatter Plot with PCA","html_id":"scatter-plot-with-pca","implicit":true,"key":"oFXf9h561p"}],"key":"EIzW4W2an0"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:20:58.583214Z","iopub.status.busy":"2024-10-21T11:20:58.523066Z","iopub.status.idle":"2024-10-21T11:20:59.053719Z","shell.execute_reply":"2024-10-21T11:20:59.052629Z","shell.execute_reply.started":"2024-10-21T11:20:58.583176Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Reduce dimensions using PCA\npca = PCA(n_components=2)\n\nX_reduced = pca.fit_transform(X_test_scaled)\n\ncomponents = pca.components_\nprint(components)\n\n# Get the predicted labels\npredicted_labels = svm_model.predict(X_test_scaled)\n\n# Create boolean masks for correct and incorrect predictions\ncorrect_mask = (predicted_labels == y_test)\nincorrect_mask = ~correct_mask\n\n# Create a figure\nplt.figure(figsize=(10, 6))\n\n# Plot correct predictions in green\nplt.scatter(X_reduced[correct_mask, 0], X_reduced[correct_mask, 1], color='green',\n            marker='o', alpha=0.7, s=60, label='Correct Prediction')\n\n# Plot incorrect predictions in red\nplt.scatter(X_reduced[incorrect_mask, 0], X_reduced[incorrect_mask, 1], color='red',\n            marker='x', alpha=0.7, s=60, label='Incorrect Prediction')\n\n# Set labels and title\nplt.xlabel('PCA Component 1', fontsize=20)\nplt.ylabel('PCA Component 2', fontsize=20)\nplt.title('SVM Classification Results: Correct vs Incorrect Predictions on Test Data', fontsize=18)\n\n# Add a legend\nplt.legend()\n\n# Display the plot\nplt.tight_layout()\nplt.show()","key":"CyOwdXGniM"},{"type":"outputs","id":"tLcHZmu72t4fmWn_sDB0v","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"[[ 0.51111341  0.13118439  0.47327076  0.4251986   0.00643744 -0.257121\n   0.50031459  0.01753109]\n [-0.03692307  0.31993471  0.1095569  -0.19047139  0.66528982  0.06390289\n   0.01416038  0.63332595]]\n"},"children":[],"key":"V065fJXJyx"},{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"5c63e3d289033a639c6b7a782c09b34c","path":"/build/5c63e3d289033a639c6b7a782c09b34c.png"},"text/plain":{"content":"<Figure size 1000x600 with 1 Axes>","content_type":"text/plain"}}},"children":[],"key":"b4E42YYw5f"}],"key":"YQWzssLq4R"}],"key":"ByChk0nHBk"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Pairwise Plotting of Feature vs Feature","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Xk3rE5CV5V"}],"identifier":"pairwise-plotting-of-feature-vs-feature","label":"Pairwise Plotting of Feature vs Feature","html_id":"pairwise-plotting-of-feature-vs-feature","implicit":true,"key":"zxQamr1prD"}],"key":"JAocccZJZz"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:23:12.085695Z","iopub.status.busy":"2024-10-21T11:23:12.076217Z","iopub.status.idle":"2024-10-21T11:23:29.120236Z","shell.execute_reply":"2024-10-21T11:23:29.104449Z","shell.execute_reply.started":"2024-10-21T11:23:12.085640Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"df = pd.DataFrame(X_test_scaled, columns=[f'Feature {i+1}' for i in range(X_test_scaled.shape[1])])\ndf['Predicted Class'] = svm_model.predict(X_test_scaled)\n\n# Plot pairwise relationships\nsns.pairplot(df, hue='Predicted Class', palette='viridis')\nplt.suptitle('Pair Plot of SVM Classification Results', y=1.02, fontsize=30)\nplt.show()\n","key":"t0lxiyOQNW"},{"type":"outputs","id":"vfMVr4lIxix8D0eWGYfrO","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"8b4b5acb8b0d4a6b5b3f8937e7b09d1b","path":"/build/8b4b5acb8b0d4a6b5b3f8937e7b09d1b.png"},"text/plain":{"content":"<Figure size 2117.49x2000 with 72 Axes>","content_type":"text/plain"}}},"children":[],"key":"kbhCN9vxfv"}],"key":"pSykd3bbLp"}],"key":"VC9pWIcwtF"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Heatmaps of Confusion Matrix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KE868EyFPi"}],"identifier":"heatmaps-of-confusion-matrix","label":"Heatmaps of Confusion Matrix","html_id":"heatmaps-of-confusion-matrix","implicit":true,"key":"KxLFyNJPOY"}],"key":"BKSfy05kw5"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-22T01:38:29.385324Z","iopub.status.busy":"2024-10-22T01:38:29.384594Z","iopub.status.idle":"2024-10-22T01:38:29.615638Z","shell.execute_reply":"2024-10-22T01:38:29.605462Z","shell.execute_reply.started":"2024-10-22T01:38:29.385296Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Get the predicted classes\ny_pred = svm_model.predict(X_test_scaled)\n\n# Create the confusion matrix\ncm = confusion_matrix(y_test, y_pred)\n\n# Plot the heatmap of the confusion matrix\nsns.heatmap(cm, annot=True, cmap='Blues', fmt='d')\nplt.xlabel('Predicted')\nplt.ylabel('Actual')\nplt.title('Confusion Matrix Heatmap of Test Data')\nplt.show()\n\n\n# Print accuracy, recall, precision, and F1 score\naccuracy = accuracy_score(y_test, y_pred)\nrecall = recall_score(y_test, y_pred)\nprecision = precision_score(y_test, y_pred)\nf1 = f1_score(y_test, y_pred)\n\nprint(f'Accuracy: {accuracy:.4f}')\nprint(f'Recall: {recall:.4f}')\nprint(f'Precision: {precision:.4f}')\nprint(f'F1 Score: {f1:.4f}')","key":"zbD8XpWj0d"},{"type":"outputs","id":"cAetSX_ebOj2M4EvgPDOr","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"316fae2de0eebc02e06b1573c013a345","path":"/build/316fae2de0eebc02e06b1573c013a345.png"},"text/plain":{"content":"<Figure size 640x480 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"si6g11z3rV"},{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Accuracy: 0.9971\nRecall: 0.9950\nPrecision: 1.0000\nF1 Score: 0.9975\n"},"children":[],"key":"e5e4q6X1II"}],"key":"UsY1mNJEyI"}],"key":"XPUenJcLiw"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Dump Model to Pickle File","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aJlGhH06FJ"}],"identifier":"dump-model-to-pickle-file","label":"Dump Model to Pickle File","html_id":"dump-model-to-pickle-file","implicit":true,"key":"HV1lCNpDQj"}],"key":"XJxKf3E8R5"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:19.318791Z","iopub.status.busy":"2024-10-21T11:08:19.318477Z","iopub.status.idle":"2024-10-21T11:08:19.456746Z","shell.execute_reply":"2024-10-21T11:08:19.407527Z","shell.execute_reply.started":"2024-10-21T11:08:19.318772Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"with open('svm_model.pkl', 'wb') as f:\n    pickle.dump(svm_model, f)","key":"TpdQG8T2n3"},{"type":"outputs","id":"FFH6GjH4Jpxt-9o_YMSrt","children":[],"key":"h4LbhuwAZ0"}],"key":"KQLPpOSFMq"}],"key":"thqy8KigwZ"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"CSE572 Project 1","url":"/sections/mcs-projects/mcs-portfolio-project/cse572-project-1","group":"Master's in Computer Science (Cybersecurity) Projects"},"next":{"title":"CSE572 Project 3 - Cluster Validation Project","url":"/sections/mcs-projects/mcs-portfolio-project/cse572-project-3","group":"Master's in Computer Science (Cybersecurity) Projects"}}},"domain":"http://localhost:3025"}