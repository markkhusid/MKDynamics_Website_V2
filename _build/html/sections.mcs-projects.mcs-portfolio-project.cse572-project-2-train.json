{"version":3,"kind":"Notebook","sha256":"5c5002aaef6e15e3b54b1172a4727c12e4f42381be92e8469108925acc920bef","slug":"sections.mcs-projects.mcs-portfolio-project.cse572-project-2-train","location":"/Sections/MCS_Projects/MCS_Portfolio_Project/CSE572_Project_2_train.ipynb","dependencies":[],"frontmatter":{"title":"CSE572 Project 2 - Model Training","content_includes_title":false,"kernelspec":{"name":"py311_env","display_name":"Python 3.11","language":"python"},"authors":[{"nameParsed":{"literal":"Mark Khusid","given":"Mark","family":"Khusid"},"name":"Mark Khusid","id":"contributors-myst-generated-uid-0"}],"github":"https://github.com/markkhusid/MKDynamics_Website_V2","numbering":{"title":{"offset":3}},"source_url":"https://github.com/markkhusid/MKDynamics_Website_V2/blob/master/Sections/MCS_Projects/MCS_Portfolio_Project/CSE572_Project_2_train.ipynb","edit_url":"https://github.com/markkhusid/MKDynamics_Website_V2/edit/master/Sections/MCS_Projects/MCS_Portfolio_Project/CSE572_Project_2_train.ipynb","exports":[{"format":"ipynb","filename":"CSE572_Project_2_train.ipynb","url":"/build/CSE572_Project_2_tra-1fce57515f221134d3c95f3f90aba6a3.ipynb"}]},"widgets":{"application/vnd.jupyter.widget-state+json":{"state":{},"version_major":2,"version_minor":0}},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Mark Khusid","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GkuDVN5ZHS"}],"key":"IZbK6SPLqZ"}],"key":"Y1z9zZqUhW"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-22T01:37:44.962334Z","iopub.status.busy":"2024-10-22T01:37:44.954588Z","iopub.status.idle":"2024-10-22T01:37:45.077308Z","shell.execute_reply":"2024-10-22T01:37:45.047004Z","shell.execute_reply.started":"2024-10-22T01:37:44.962297Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"import pandas as pd\nimport numpy as np\n\nfrom mpl_toolkits.mplot3d import Axes3D\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nimport pickle\n\nfrom scipy.integrate import simpson\nfrom scipy.ndimage import uniform_filter1d\nfrom scipy.signal import find_peaks\n\nfrom sklearn.impute import KNNImputer\n\nfrom sklearn.svm import SVC\n\nfrom sklearn.decomposition import PCA\n\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.model_selection import cross_val_score\n\nfrom sklearn.preprocessing import StandardScaler\n\nfrom sklearn.metrics import confusion_matrix\nfrom sklearn.metrics import accuracy_score, recall_score, precision_score, f1_score","key":"wjz6FhEscO"},{"type":"outputs","id":"dv_T7gjXvpFquJOyjeZPU","children":[],"key":"UtHMfWKhhy"}],"key":"pwt7fMTWY8"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Load the datasets","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dSuoxzMrHG"}],"identifier":"load-the-datasets","label":"Load the datasets","html_id":"load-the-datasets","implicit":true,"key":"ZAnnDYGbLF"}],"key":"BBTATR9BdC"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:45.305803Z","iopub.status.busy":"2024-10-21T11:06:45.305404Z","iopub.status.idle":"2024-10-21T11:06:45.955969Z","shell.execute_reply":"2024-10-21T11:06:45.953391Z","shell.execute_reply.started":"2024-10-21T11:06:45.305786Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"insulin_data_1 = pd.read_csv('InsulinData.csv', low_memory=False)\ninsulin_data_2 = pd.read_csv('Insulin_patient2.csv', low_memory=False)\ncgm_data_1 = pd.read_csv('CGMData.csv', low_memory=False)\ncgm_data_2 = pd.read_csv('CGM_patient2.csv', low_memory=False)","key":"OZvAlaiJr4"},{"type":"outputs","id":"jpdPYQWahEE9rYOdtFrkw","children":[],"key":"klR1pyyFZB"}],"key":"YDdDlAqNe7"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"View Dataframes","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"i0pNsiDlUl"}],"identifier":"view-dataframes","label":"View Dataframes","html_id":"view-dataframes","implicit":true,"key":"ram64RjO6Z"}],"key":"JSVf5ALd2X"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:45.957258Z","iopub.status.busy":"2024-10-21T11:06:45.956785Z","iopub.status.idle":"2024-10-21T11:06:45.971331Z","shell.execute_reply":"2024-10-21T11:06:45.966661Z","shell.execute_reply.started":"2024-10-21T11:06:45.957232Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#insulin_data_1","key":"LKnrMyIIbl"},{"type":"outputs","id":"XayJZ0JDLmDCvgmc4_mva","children":[],"key":"z3So8X34ta"}],"key":"ftj7WpFGbY"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:45.973345Z","iopub.status.busy":"2024-10-21T11:06:45.973160Z","iopub.status.idle":"2024-10-21T11:06:45.989960Z","shell.execute_reply":"2024-10-21T11:06:45.988622Z","shell.execute_reply.started":"2024-10-21T11:06:45.973330Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#cgm_data_1","key":"SFCnyGO0gQ"},{"type":"outputs","id":"qj1uhWwOLbwFSSuY-Kp2Y","children":[],"key":"B3CVBxcA1Z"}],"key":"jt00WwEuv0"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:45.991505Z","iopub.status.busy":"2024-10-21T11:06:45.991265Z","iopub.status.idle":"2024-10-21T11:06:46.001274Z","shell.execute_reply":"2024-10-21T11:06:45.999957Z","shell.execute_reply.started":"2024-10-21T11:06:45.991485Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#insulin_data_2","key":"XRCLvw3q7f"},{"type":"outputs","id":"rR839U-NYjfRdwfdCWuJR","children":[],"key":"p6hRCPCk6I"}],"key":"dBYFeh9aDq"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:46.013957Z","iopub.status.busy":"2024-10-21T11:06:46.010415Z","iopub.status.idle":"2024-10-21T11:06:46.261790Z","shell.execute_reply":"2024-10-21T11:06:46.231129Z","shell.execute_reply.started":"2024-10-21T11:06:46.013913Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#cgm_data_2","key":"r482ZclF9J"},{"type":"outputs","id":"-ukBM0SH6w8NEBNBWF1aq","children":[],"key":"WnGw8VMpoQ"}],"key":"tEfVKD9bNO"},{"type":"block","kind":"notebook-content","data":{"execution":{"iopub.execute_input":"2024-09-17T02:57:26.794025Z","iopub.status.busy":"2024-09-17T02:57:26.793587Z","iopub.status.idle":"2024-09-17T02:57:26.837838Z","shell.execute_reply":"2024-09-17T02:57:26.801234Z","shell.execute_reply.started":"2024-09-17T02:57:26.793989Z"}},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"EDA on dataframes","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZVE0uJom3C"}],"identifier":"eda-on-dataframes","label":"EDA on dataframes","html_id":"eda-on-dataframes","implicit":true,"key":"c5rt1T5tXE"}],"key":"XUldN3KnHQ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:46.262465Z","iopub.status.busy":"2024-10-21T11:06:46.262293Z","iopub.status.idle":"2024-10-21T11:06:46.412542Z","shell.execute_reply":"2024-10-21T11:06:46.411743Z","shell.execute_reply.started":"2024-10-21T11:06:46.262451Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#insulin_data_1.info()","key":"r1jxSJ28yu"},{"type":"outputs","id":"cSb1o_j0-SMzWYQTTP9SE","children":[],"key":"m5Y8VliCNU"}],"key":"sPPpwhE96Z"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:46.413552Z","iopub.status.busy":"2024-10-21T11:06:46.413316Z","iopub.status.idle":"2024-10-21T11:06:46.507906Z","shell.execute_reply":"2024-10-21T11:06:46.507065Z","shell.execute_reply.started":"2024-10-21T11:06:46.413534Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#cgm_data_1.info()","key":"fevBaODbxm"},{"type":"outputs","id":"Yxv7ss1h7WQ02a7XDstaj","children":[],"key":"TMc8cHehZx"}],"key":"JaO2LxW4rL"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:46.508666Z","iopub.status.busy":"2024-10-21T11:06:46.508506Z","iopub.status.idle":"2024-10-21T11:06:46.625005Z","shell.execute_reply":"2024-10-21T11:06:46.603891Z","shell.execute_reply.started":"2024-10-21T11:06:46.508652Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#insulin_data_2.info()","key":"iHmgz2UQ1S"},{"type":"outputs","id":"mni-pJJ2XJp91k9yHqWkS","children":[],"key":"NsGxHzhuFz"}],"key":"xI7AJ639hn"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:46.652642Z","iopub.status.busy":"2024-10-21T11:06:46.647709Z","iopub.status.idle":"2024-10-21T11:06:47.016334Z","shell.execute_reply":"2024-10-21T11:06:46.936754Z","shell.execute_reply.started":"2024-10-21T11:06:46.652611Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#cgm_data_2.info()","key":"Nfr0abv8We"},{"type":"outputs","id":"qJdIhbKKmSeZ8vHqzRXn5","children":[],"key":"zpOTibRmSu"}],"key":"XTLCbxGkqM"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Convert ‘Date’ and ‘Time’ columns to datetime format in both datasets for easier manipulation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"csU9roKrxv"}],"identifier":"convert-date-and-time-columns-to-datetime-format-in-both-datasets-for-easier-manipulation","label":"Convert ‘Date’ and ‘Time’ columns to datetime format in both datasets for easier manipulation","html_id":"convert-date-and-time-columns-to-datetime-format-in-both-datasets-for-easier-manipulation","implicit":true,"key":"vAbYPrrePE"}],"key":"hBupmMITU6"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:47.021222Z","iopub.status.busy":"2024-10-21T11:06:47.021031Z","iopub.status.idle":"2024-10-21T11:06:47.323478Z","shell.execute_reply":"2024-10-21T11:06:47.234244Z","shell.execute_reply.started":"2024-10-21T11:06:47.021207Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"def preprocess_date(date_string):\n    date_string = date_string.strip()\n    if len(date_string.split()) == 1:\n        return date_string\n    elif len(date_string.split()) == 2:\n        return date_string.split()[0]","key":"RChHcb8Oxd"},{"type":"outputs","id":"Y7THJUXz1U1Z0GlJOA3sY","children":[],"key":"CFavqL9lyV"}],"key":"YlnzNiY9CH"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:47.338302Z","iopub.status.busy":"2024-10-21T11:06:47.338094Z","iopub.status.idle":"2024-10-21T11:06:47.559916Z","shell.execute_reply":"2024-10-21T11:06:47.535113Z","shell.execute_reply.started":"2024-10-21T11:06:47.338286Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"insulin_data_1['Date'] = insulin_data_1['Date'].apply(preprocess_date)\ninsulin_data_2['Date'] = insulin_data_2['Date'].apply(preprocess_date)","key":"fkkQyV7kMR"},{"type":"outputs","id":"fSIhRNDhdDxc-gXyJjuBX","children":[],"key":"oSrXKnI6ku"}],"key":"yFpUuKmhvl"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:47.563558Z","iopub.status.busy":"2024-10-21T11:06:47.563304Z","iopub.status.idle":"2024-10-21T11:06:48.440204Z","shell.execute_reply":"2024-10-21T11:06:48.418838Z","shell.execute_reply.started":"2024-10-21T11:06:47.563541Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"insulin_data_1['datetime'] = pd.to_datetime(insulin_data_1['Date'] + ' ' + insulin_data_1['Time'])\ninsulin_data_2['datetime'] = pd.to_datetime(insulin_data_2['Date'] + ' ' + insulin_data_2['Time'])\n\ncgm_data_1['datetime'] = pd.to_datetime(cgm_data_1['Date'] + ' ' + cgm_data_1['Time'])\ncgm_data_2['datetime'] = pd.to_datetime(cgm_data_2['Date'] + ' ' + cgm_data_2['Time'])","key":"Y7mUZHp7T1"},{"type":"outputs","id":"RUELL_ui3ecJPBdXJ27g6","children":[],"key":"sJKoBzjhui"}],"key":"cJTWbpXf2D"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:48.443489Z","iopub.status.busy":"2024-10-21T11:06:48.440683Z","iopub.status.idle":"2024-10-21T11:06:48.534614Z","shell.execute_reply":"2024-10-21T11:06:48.489351Z","shell.execute_reply.started":"2024-10-21T11:06:48.443466Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#insulin_data_1[['Date', 'Time', 'datetime']]","key":"W85m32a9xC"},{"type":"outputs","id":"hS_l65zGLzt3iLE02Lzic","children":[],"key":"gbfAdslvTG"}],"key":"lRsfsFacWW"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:48.552664Z","iopub.status.busy":"2024-10-21T11:06:48.552455Z","iopub.status.idle":"2024-10-21T11:06:48.689249Z","shell.execute_reply":"2024-10-21T11:06:48.684405Z","shell.execute_reply.started":"2024-10-21T11:06:48.552648Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#insulin_data_2[['Date', 'Time', 'datetime']]","key":"vTnn6CHLl7"},{"type":"outputs","id":"6MDBD1-3Ks_bZ99Q5k_8I","children":[],"key":"m2dHY1ncot"}],"key":"reZAzvA7EL"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:48.704048Z","iopub.status.busy":"2024-10-21T11:06:48.703878Z","iopub.status.idle":"2024-10-21T11:06:48.944844Z","shell.execute_reply":"2024-10-21T11:06:48.932951Z","shell.execute_reply.started":"2024-10-21T11:06:48.704033Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#cgm_data_1[['Date', 'Time', 'datetime']]","key":"w8sRK0uIGb"},{"type":"outputs","id":"xGG88VnGoRyjcWxTNtEgn","children":[],"key":"gmL67QeWOH"}],"key":"HwPMiVLwRb"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:48.946385Z","iopub.status.busy":"2024-10-21T11:06:48.945931Z","iopub.status.idle":"2024-10-21T11:06:49.047232Z","shell.execute_reply":"2024-10-21T11:06:49.046594Z","shell.execute_reply.started":"2024-10-21T11:06:48.946359Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#cgm_data_2[['Date', 'Time', 'datetime']]","key":"rNtOWB8y8H"},{"type":"outputs","id":"lWipcCcDmfN2GoXWgOSN_","children":[],"key":"rqn8FWOIVb"}],"key":"fe2w7RzhPl"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Search for non-zero BWZ Carb Input Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NgzRTYqfP4"}],"identifier":"search-for-non-zero-bwz-carb-input-data","label":"Search for non-zero BWZ Carb Input Data","html_id":"search-for-non-zero-bwz-carb-input-data","implicit":true,"key":"m4aHrT9CRL"}],"key":"N6wGaZ6dff"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:49.070586Z","iopub.status.busy":"2024-10-21T11:06:49.070368Z","iopub.status.idle":"2024-10-21T11:06:49.480357Z","shell.execute_reply":"2024-10-21T11:06:49.449443Z","shell.execute_reply.started":"2024-10-21T11:06:49.070571Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# This datetime series contains the start of all non NaN and  positive carb input\n# data from the column BWZ Carb Input (grams)\nmeal_times_1 = \\\n    insulin_data_1[~insulin_data_1['BWZ Carb Input (grams)'].isna() & \\\n    (insulin_data_1['BWZ Carb Input (grams)'] > 0)]['datetime']\nmeal_times_1","key":"nedVDtpLKy"},{"type":"outputs","id":"2opY2mPZywdhCQkK6j83M","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":18,"metadata":{},"data":{"text/plain":{"content":"48      2018-02-12 09:15:45\n129     2018-02-12 02:30:55\n188     2018-02-11 20:33:18\n207     2018-02-11 18:14:37\n222     2018-02-11 16:27:04\n                ...        \n41265   2017-07-26 11:24:52\n41274   2017-07-26 09:27:16\n41347   2017-07-25 18:31:40\n41393   2017-07-25 10:39:46\n41401   2017-07-25 10:21:19\nName: datetime, Length: 747, dtype: datetime64[ns]","content_type":"text/plain"}}},"children":[],"key":"dTnqtVjlWu"}],"key":"XTuFh8puPB"}],"key":"cHz4DkSTpk"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:49.523585Z","iopub.status.busy":"2024-10-21T11:06:49.507641Z","iopub.status.idle":"2024-10-21T11:06:49.786356Z","shell.execute_reply":"2024-10-21T11:06:49.735494Z","shell.execute_reply.started":"2024-10-21T11:06:49.523540Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# This datetime series contains the start of all non NaN and  positive carb input\n# data from the column BWZ Carb Input (grams)\nmeal_times_2 = \\\n    insulin_data_2[~insulin_data_2['BWZ Carb Input (grams)'].isna() & \\\n    (insulin_data_2['BWZ Carb Input (grams)'] > 0)]['datetime']\n#meal_times_2","key":"oBqsmHnEIF"},{"type":"outputs","id":"enZ-1o7ElWQ_Gan1hAjRh","children":[],"key":"QQ4TDWdQl8"}],"key":"AExMbaeslz"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Extract Meal Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Ug4LDEGF3s"}],"identifier":"extract-meal-data","label":"Extract Meal Data","html_id":"extract-meal-data","implicit":true,"key":"yk3P8UJ9X0"}],"key":"RHHYiJVuhk"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Obtain CGM Data based on Length of After-Meal Window","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DbjQXe4WT3"}],"identifier":"obtain-cgm-data-based-on-length-of-after-meal-window","label":"Obtain CGM Data based on Length of After-Meal Window","html_id":"obtain-cgm-data-based-on-length-of-after-meal-window","implicit":true,"key":"IesHjXGQbd"}],"key":"QLcaUNBCYH"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:49.788868Z","iopub.status.busy":"2024-10-21T11:06:49.788637Z","iopub.status.idle":"2024-10-21T11:06:51.067708Z","shell.execute_reply":"2024-10-21T11:06:51.067218Z","shell.execute_reply.started":"2024-10-21T11:06:49.788852Z"},"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"# Initialize meal data list\nmeal_data_1 = []\n\n# Loop through each meal start time\nfor meal_time in meal_times_1:\n    # A meal windows is 2 hours long\n    meal_window = insulin_data_1[(insulin_data_1['datetime'] > meal_time) & \n                               (insulin_data_1['datetime'] <= (meal_time + pd.Timedelta(hours=2)))]\n    #print(meal_window)\n\n    # If that meal window is empty, get corresponding CGM_\n    # data that starts at tm-30 and ends at tm+2hrs\n    if meal_window.empty:\n        # Step 4 condition (a): No meal between tm and tm+2hrs, use this stretch as meal data\n        meal_cgm_data_1 = cgm_data_1[(cgm_data_1['datetime'] >= (meal_time - pd.Timedelta(minutes=30))) & \n                                 (cgm_data_1['datetime'] <= (meal_time + pd.Timedelta(hours=2)))]\n    else:\n        # Step 4 check for condition (b) or (c)\n        next_meal_time = meal_window.iloc[0]['datetime']\n        if next_meal_time < (meal_time + pd.Timedelta(hours=2)):\n            # condition (b): There is a meal at tp between tm and tm+2hrs, use tp data\n            meal_time = next_meal_time\n            meal_cgm_data_1 = cgm_data_1[(cgm_data_1['datetime'] >= (meal_time - pd.Timedelta(minutes=30))) & \n                                     (cgm_data_1['datetime'] <= (meal_time + pd.Timedelta(hours=2)))]\n        # Condition (c): There is a meal exactly at tm+2hrs, use tm+1hr 30min to tm+4hrs\n        elif next_meal_time == (meal_time + pd.Timedelta(hours=2)):\n            meal_cgm_data_1 = cgm_data_1[(cgm_data_1['datetime'] >= (meal_time + pd.Timedelta(hours=1, minutes=30))) & \n                                     (cgm_data_1['datetime'] <= (meal_time + pd.Timedelta(hours=4)))]\n\n    # Check if the extracted data has the correct number of points (30 for meal data)\n    if len(meal_cgm_data_1) == 30:\n        #print(f\"Meal Time Data {meal_time} has {len(meal_cgm_data)} number of points.\")\n        meal_data_1.append(meal_cgm_data_1['Sensor Glucose (mg/dL)'].values)","key":"jQvNLmH8G1"},{"type":"outputs","id":"lw3Bh-IBrmkBESeIQqveo","children":[],"key":"Nh2P91HlNs"}],"key":"BDXXSJo9Kx"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:51.068483Z","iopub.status.busy":"2024-10-21T11:06:51.068280Z","iopub.status.idle":"2024-10-21T11:06:51.525565Z","shell.execute_reply":"2024-10-21T11:06:51.524806Z","shell.execute_reply.started":"2024-10-21T11:06:51.068467Z"},"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"# Initialize meal data list\nmeal_data_2 = []\n\n# Loop through each meal start time\nfor meal_time in meal_times_2:\n    # A meal windows is 2 hours long\n    meal_window = insulin_data_2[(insulin_data_2['datetime'] > meal_time) & \n                               (insulin_data_2['datetime'] <= (meal_time + pd.Timedelta(hours=2)))]\n    #print(meal_window)\n\n    # If that meal window is empty, get corresponding CGM_\n    # data that starts at tm-30 and ends at tm+2hrs\n    if meal_window.empty:\n        # Step 4 condition (a): No meal between tm and tm+2hrs, use this stretch as meal data\n        meal_cgm_data_2 = cgm_data_2[(cgm_data_2['datetime'] >= (meal_time - pd.Timedelta(minutes=30))) & \n                                 (cgm_data_2['datetime'] <= (meal_time + pd.Timedelta(hours=2)))]\n    else:\n        # Step 4 check for condition (b) or (c)\n        next_meal_time = meal_window.iloc[0]['datetime']\n        if next_meal_time < (meal_time + pd.Timedelta(hours=2)):\n            # condition (b): There is a meal at tp between tm and tm+2hrs, use tp data\n            meal_time = next_meal_time\n            meal_cgm_data_2 = cgm_data_2[(cgm_data_2['datetime'] >= (meal_time - pd.Timedelta(minutes=30))) & \n                                     (cgm_data_2['datetime'] <= (meal_time + pd.Timedelta(hours=2)))]\n        # Condition (c): There is a meal exactly at tm+2hrs, use tm+1hr 30min to tm+4hrs\n        elif next_meal_time == (meal_time + pd.Timedelta(hours=2)):\n            meal_cgm_data_2 = cgm_data_2[(cgm_data_2['datetime'] >= (meal_time + pd.Timedelta(hours=1, minutes=30))) & \n                                     (cgm_data_2['datetime'] <= (meal_time + pd.Timedelta(hours=4)))]\n\n    # Check if the extracted data has the correct number of points (30 for meal data)\n    if len(meal_cgm_data_2) == 30:\n        #print(f\"Meal Time Data {meal_time} has {len(meal_cgm_data)} number of points.\")\n        meal_data_2.append(meal_cgm_data_2['Sensor Glucose (mg/dL)'].values)","key":"EzziO8OzjK"},{"type":"outputs","id":"uSauN3qMGEJqk41P1Tyf6","children":[],"key":"pBdH1QA8BC"}],"key":"Ba4i1YZL1d"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Get Length of Meal Data CGM Values","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jM1gk9uNHF"}],"identifier":"get-length-of-meal-data-cgm-values","label":"Get Length of Meal Data CGM Values","html_id":"get-length-of-meal-data-cgm-values","implicit":true,"key":"BwR5hXgoCz"}],"key":"ZTm365WEJi"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:51.526539Z","iopub.status.busy":"2024-10-21T11:06:51.526274Z","iopub.status.idle":"2024-10-21T11:06:51.545317Z","shell.execute_reply":"2024-10-21T11:06:51.544525Z","shell.execute_reply.started":"2024-10-21T11:06:51.526523Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"len(meal_data_1)","key":"RhFZDtJTXp"},{"type":"outputs","id":"Fs4ngZT4Ck37qHuewqnDw","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":22,"metadata":{},"data":{"text/plain":{"content":"715","content_type":"text/plain"}}},"children":[],"key":"nkTqNSCcIE"}],"key":"rcCJ8Gsd9y"}],"key":"pLjYgL1h3l"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:51.546117Z","iopub.status.busy":"2024-10-21T11:06:51.545908Z","iopub.status.idle":"2024-10-21T11:06:51.626653Z","shell.execute_reply":"2024-10-21T11:06:51.609859Z","shell.execute_reply.started":"2024-10-21T11:06:51.546102Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"len(meal_data_2)","key":"e0wwxbtQRY"},{"type":"outputs","id":"eKR6fyLAU1pqPnQClBMfz","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":23,"metadata":{},"data":{"text/plain":{"content":"372","content_type":"text/plain"}}},"children":[],"key":"pvNRIgKrX9"}],"key":"yIuO0NbskG"}],"key":"QKmWT6nNhj"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:51.631611Z","iopub.status.busy":"2024-10-21T11:06:51.631383Z","iopub.status.idle":"2024-10-21T11:06:51.671928Z","shell.execute_reply":"2024-10-21T11:06:51.669961Z","shell.execute_reply.started":"2024-10-21T11:06:51.631595Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_data_1[0:5]","key":"O6RJUAmcqP"},{"type":"outputs","id":"bqAEjVXL0XuxmBm3VPKxl","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":24,"metadata":{},"data":{"text/plain":{"content":"[array([ nan,  nan, 124., 126., 127., 128., 130., 137., 140.,  nan, 150.,\n        140., 131., 130., 134., 148.,  nan, 159., 157., 140., 146., 148.,\n        151., 150., 162., 174., 180., 178., 184., 185.]),\n array([121., 120., 115., 110., 106., 103., 103., 101.,  nan, 131., 109.,\n         82.,  74.,  66.,  73.,  82.,  87.,  90.,  83.,  73.,  49.,  58.,\n         69.,  79.,  nan,  93.,  92.,  86.,  84.,  80.]),\n array([287., 288., 289., 279., 260., 262., 259., 250., 245., 250., 247.,\n        243., 227., 213., 205., 182., 175., 170., 166., 164., 165., 158.,\n        153., 161., 177., 194., 200., 201., 189., 162.]),\n array([189., 162., 166., 173., 176., 169., 167., 166., 168., 180., 182.,\n        178., 171., 160., 145., 138., 132., 120., 127., 129., 132., 123.,\n        104., 100., 107., 106., 123., 128., 137., 147.]),\n array([107., 106., 123., 128., 137., 147., 145., 142.,  nan,  nan,  nan,\n         nan,  nan,  nan,  nan,  nan,  nan,  nan,  nan,  nan,  nan,  nan,\n         nan,  nan,  nan,  nan,  nan,  nan,  nan,  nan])]","content_type":"text/plain"}}},"children":[],"key":"L097sxnOqo"}],"key":"O73rjCyumo"}],"key":"kNHh0VeZBQ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:51.687301Z","iopub.status.busy":"2024-10-21T11:06:51.685863Z","iopub.status.idle":"2024-10-21T11:06:51.702752Z","shell.execute_reply":"2024-10-21T11:06:51.701346Z","shell.execute_reply.started":"2024-10-21T11:06:51.687273Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#meal_data_2[0:5]","key":"hPHXkho6vW"},{"type":"outputs","id":"plU1qCePH43jfoElZw4ye","children":[],"key":"jsB1KrGOhK"}],"key":"HnQVroJNjD"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Create Meal Data Matrix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CaVkvygunR"}],"identifier":"create-meal-data-matrix","label":"Create Meal Data Matrix","html_id":"create-meal-data-matrix","implicit":true,"key":"ailiWnVqdN"}],"key":"JjbRQTjEyg"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:51.703804Z","iopub.status.busy":"2024-10-21T11:06:51.703287Z","iopub.status.idle":"2024-10-21T11:06:51.891231Z","shell.execute_reply":"2024-10-21T11:06:51.836646Z","shell.execute_reply.started":"2024-10-21T11:06:51.703786Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_data_matrix_1 = np.array(meal_data_1)\nmeal_data_matrix_1","key":"jLuBnSWbgD"},{"type":"outputs","id":"nzZSoQzX673lCzct1Qp56","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":26,"metadata":{},"data":{"text/plain":{"content":"array([[ nan,  nan, 124., ..., 178., 184., 185.],\n       [121., 120., 115., ...,  86.,  84.,  80.],\n       [287., 288., 289., ..., 201., 189., 162.],\n       ...,\n       [274., 278., 283., ..., 268., 281., 292.],\n       [223., 222., 222., ..., 324., 326., 328.],\n       [ 82.,  85.,  92., ..., 164., 163., 155.]])","content_type":"text/plain"}}},"children":[],"key":"BLTAxluFNX"}],"key":"jAmCzDv9FN"}],"key":"uWJyfq2OjJ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:51.891955Z","iopub.status.busy":"2024-10-21T11:06:51.891786Z","iopub.status.idle":"2024-10-21T11:06:52.129153Z","shell.execute_reply":"2024-10-21T11:06:52.128606Z","shell.execute_reply.started":"2024-10-21T11:06:51.891941Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_data_matrix_1.shape","key":"n8dWyIwwwy"},{"type":"outputs","id":"o3A5BF5J1vGOF24or8NaF","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":27,"metadata":{},"data":{"text/plain":{"content":"(715, 30)","content_type":"text/plain"}}},"children":[],"key":"OxFTxqOfgH"}],"key":"BojG3UPo1i"}],"key":"MDwlLkNhZR"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:52.139991Z","iopub.status.busy":"2024-10-21T11:06:52.139805Z","iopub.status.idle":"2024-10-21T11:06:52.470191Z","shell.execute_reply":"2024-10-21T11:06:52.443496Z","shell.execute_reply.started":"2024-10-21T11:06:52.139977Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_data_matrix_2 = np.array(meal_data_2)\nmeal_data_matrix_2","key":"DPBjVqOCUl"},{"type":"outputs","id":"AgQqkuk7ZOV40EAgTQr9d","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":28,"metadata":{},"data":{"text/plain":{"content":"array([[390., 391., 389., ..., 165., 139., 133.],\n       [116., 113., 110., ..., 248., 233., 222.],\n       [130., 129., 126., ..., 153., 147., 147.],\n       ...,\n       [174., 181., 191., ..., 126., 129., 128.],\n       [174., 181., 191., ..., 126., 129., 128.],\n       [102.,  94.,  92., ..., 169., 180., 186.]])","content_type":"text/plain"}}},"children":[],"key":"oloN9LIGcY"}],"key":"gkKdMeBsio"}],"key":"eLxWhpE1g1"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:52.496056Z","iopub.status.busy":"2024-10-21T11:06:52.486493Z","iopub.status.idle":"2024-10-21T11:06:52.796622Z","shell.execute_reply":"2024-10-21T11:06:52.777291Z","shell.execute_reply.started":"2024-10-21T11:06:52.496012Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_data_matrix_2.shape","key":"TqvLH4n2T2"},{"type":"outputs","id":"m6aOMO3Dhd0jdOqKVnHNB","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":29,"metadata":{},"data":{"text/plain":{"content":"(372, 30)","content_type":"text/plain"}}},"children":[],"key":"c3vZ1b2Qbu"}],"key":"WSFFGuyBzv"}],"key":"Qi6smJCQ0B"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nI8MIqjo1P"}],"identifier":"visualize-meal-data-matrix-1","label":"Visualize Meal Data Matrix 1","html_id":"visualize-meal-data-matrix-1","implicit":true,"key":"xnTqhnQyRH"}],"key":"wY7kMt8fLE"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Heatmap of Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kxEbdPhSsF"}],"identifier":"heatmap-of-meal-data-matrix-1","label":"Heatmap of Meal Data Matrix 1","html_id":"heatmap-of-meal-data-matrix-1","implicit":true,"key":"XDdqEGSgFe"}],"key":"v1wV8z71gj"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:52.821616Z","iopub.status.busy":"2024-10-21T11:06:52.817008Z","iopub.status.idle":"2024-10-21T11:06:54.250078Z","shell.execute_reply":"2024-10-21T11:06:54.248849Z","shell.execute_reply.started":"2024-10-21T11:06:52.821577Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the heatmap\nsampled_meal_data_matrix_1 = meal_data_matrix_1[np.random.choice(meal_data_matrix_1.shape[0], 200, replace=False)]\nplt.figure(figsize=(30, 30))\nsns.heatmap(sampled_meal_data_matrix_1, cmap='YlGnBu', linewidths=0.5, annot=False, vmin=None, vmax=None)\nplt.title('Heatmap of Meal Data Matrix 1')\nplt.xlabel('Time Points')\nplt.ylabel('Meals (Samples)')\nplt.show()","key":"TG8MWS2TRl"},{"type":"outputs","id":"xTDdQed3DVkhT9i7ENQSp","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"a1f685b6fd0b25da1985e1bc18c26ec1","path":"/build/a1f685b6fd0b25da1985e1bc18c26ec1.png"},"text/plain":{"content":"<Figure size 3000x3000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"dIxZWwIoqY"}],"key":"X4AIKo9isQ"}],"key":"NBHVVILfuZ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Surface Plot of Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dAJf54lXv9"}],"identifier":"surface-plot-of-meal-data-matrix-1","label":"Surface Plot of Meal Data Matrix 1","html_id":"surface-plot-of-meal-data-matrix-1","implicit":true,"key":"VvD9USoeUW"}],"key":"zSNJi96bAD"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:54.251236Z","iopub.status.busy":"2024-10-21T11:06:54.250929Z","iopub.status.idle":"2024-10-21T11:06:54.257296Z","shell.execute_reply":"2024-10-21T11:06:54.256325Z","shell.execute_reply.started":"2024-10-21T11:06:54.251218Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create X, Y meshgrid\nX = np.arange(meal_data_matrix_1.shape[1])\nY = np.arange(meal_data_matrix_1.shape[0])\ntime_points = np.linspace(-30, 120, 30)  # X-axis: from -30 minutes to +120 minutes (30 time points)\nmeal_numbers = np.arange(1, len(meal_data_1) + 1)\nX, Y = np.meshgrid(time_points, Y)\n#X, Y = np.meshgrid(time_points, meal_numbers)","key":"n2A5dobXIk"},{"type":"outputs","id":"-1Mz0ivxAE_qqa2arhxA-","children":[],"key":"Jlg1RzSr5b"}],"key":"OSi4d3D9jB"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:54.258422Z","iopub.status.busy":"2024-10-21T11:06:54.258200Z","iopub.status.idle":"2024-10-21T11:06:54.349852Z","shell.execute_reply":"2024-10-21T11:06:54.346121Z","shell.execute_reply.started":"2024-10-21T11:06:54.258398Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X","key":"nVenO9Dzu8"},{"type":"outputs","id":"p4dOjQvg-VQyocL4pNBfg","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":32,"metadata":{},"data":{"text/plain":{"content":"array([[-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       ...,\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ]])","content_type":"text/plain"}}},"children":[],"key":"wIzUKiZTE0"}],"key":"ampVRFBg6Z"}],"key":"YjYzIFVd3I"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:54.351018Z","iopub.status.busy":"2024-10-21T11:06:54.350759Z","iopub.status.idle":"2024-10-21T11:06:54.442287Z","shell.execute_reply":"2024-10-21T11:06:54.441885Z","shell.execute_reply.started":"2024-10-21T11:06:54.350997Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X.shape","key":"zj2emCchri"},{"type":"outputs","id":"oLVmb2trPH-93SEgWOAFr","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":33,"metadata":{},"data":{"text/plain":{"content":"(715, 30)","content_type":"text/plain"}}},"children":[],"key":"ma1w9IzbIZ"}],"key":"bpu1I4V4P3"}],"key":"jK8IjrGrfq"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:54.442959Z","iopub.status.busy":"2024-10-21T11:06:54.442759Z","iopub.status.idle":"2024-10-21T11:06:54.543278Z","shell.execute_reply":"2024-10-21T11:06:54.525032Z","shell.execute_reply.started":"2024-10-21T11:06:54.442944Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y","key":"jXMFM4XOoa"},{"type":"outputs","id":"ABAXvZchtx5WRFVARf5YL","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":34,"metadata":{},"data":{"text/plain":{"content":"array([[  0,   0,   0, ...,   0,   0,   0],\n       [  1,   1,   1, ...,   1,   1,   1],\n       [  2,   2,   2, ...,   2,   2,   2],\n       ...,\n       [712, 712, 712, ..., 712, 712, 712],\n       [713, 713, 713, ..., 713, 713, 713],\n       [714, 714, 714, ..., 714, 714, 714]])","content_type":"text/plain"}}},"children":[],"key":"da6qaXUjQ6"}],"key":"o9nPLJOnz7"}],"key":"fm7gjSiYjR"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:54.551508Z","iopub.status.busy":"2024-10-21T11:06:54.551322Z","iopub.status.idle":"2024-10-21T11:06:54.588165Z","shell.execute_reply":"2024-10-21T11:06:54.578904Z","shell.execute_reply.started":"2024-10-21T11:06:54.551493Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Fill NaNs using forward fill, then backward fill\nmeal_data_matrix_1_df = pd.DataFrame(meal_data_matrix_1)\nmeal_data_matrix_1_filled = meal_data_matrix_1_df.ffill().bfill().values","key":"qwqPTn1rpJ"},{"type":"outputs","id":"MvQA5Bi3b8fOXDqaiSn9x","children":[],"key":"VQ6IGlVMwd"}],"key":"DKFKcOWXVP"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:54.609143Z","iopub.status.busy":"2024-10-21T11:06:54.598895Z","iopub.status.idle":"2024-10-21T11:06:54.800289Z","shell.execute_reply":"2024-10-21T11:06:54.784350Z","shell.execute_reply.started":"2024-10-21T11:06:54.609121Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Apply a moving average smoothing to each row\nwindow_size = 5  # Choose a window size for smoothing\nsmoothed_meal_data_matrix_1 = np.array([uniform_filter1d(row, size=window_size) for row in meal_data_matrix_1_filled])","key":"IdX6M3TMRc"},{"type":"outputs","id":"SJbyMzTnqHSbTWeJ5-FCm","children":[],"key":"e7kcp62u4Y"}],"key":"CgQCqm9uTO"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:54.813055Z","iopub.status.busy":"2024-10-21T11:06:54.808854Z","iopub.status.idle":"2024-10-21T11:06:55.789632Z","shell.execute_reply":"2024-10-21T11:06:55.733617Z","shell.execute_reply.started":"2024-10-21T11:06:54.813028Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the plot\nfig = plt.figure(figsize=(10, 8))\nax = fig.add_subplot(111, projection='3d')\nstride = 100\n\n# Plot the surface\nsurface_plot = ax.plot_surface(X[::stride], Y[::stride], smoothed_meal_data_matrix_1[::stride], cmap='viridis', edgecolor='none')\nax.set_title('3D Surface Plot of Smoothed Averaged Meal Glucose Levels', y=0.985)\nax.set_xlabel('Time Relative to Start of Meal [minutes]', labelpad=10)\nax.set_ylabel('Meal Samples', labelpad=10)\n#ax.set_zlabel('Glucose Level (mg/dL)', labelpad=30)\n\n#ax.set_xticks(np.linspace(-30, 120, 7))\n\n# Adjust axis limits to create a zoom-out effect\n#ax.set_xlim(-30, 120)\nax.set_ylim(0, 800)\nax.set_zlim(0, 300)\n\nfig.colorbar(surface_plot, ax=ax, shrink=0.5, aspect=10, label='Glucose Level (mg/dL)')\n\n#plt.tight_layout()\nfig.subplots_adjust(left=0.01, right=1, top=0.9, bottom=0.1)\n\nax.view_init(elev=25, azim=-55)\n\nplt.show()","key":"a2V7jeHZav"},{"type":"outputs","id":"dTpUAWcHrTvaJf9LmFM48","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"a358ab8cc88548f7c8f091f310422644","path":"/build/a358ab8cc88548f7c8f091f310422644.png"},"text/plain":{"content":"<Figure size 1000x800 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"Ms1qH6Ecyc"}],"key":"hIqkOoC1Dk"}],"key":"IGyfgoza54"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Contour Plot of Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rA7CVmprSt"}],"identifier":"contour-plot-of-meal-data-matrix-1","label":"Contour Plot of Meal Data Matrix 1","html_id":"contour-plot-of-meal-data-matrix-1","implicit":true,"key":"Efq0yXUWFQ"}],"key":"Us9bAGPeoV"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:55.800430Z","iopub.status.busy":"2024-10-21T11:06:55.794685Z","iopub.status.idle":"2024-10-21T11:06:56.476424Z","shell.execute_reply":"2024-10-21T11:06:56.475366Z","shell.execute_reply.started":"2024-10-21T11:06:55.800382Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the contour plot\nplt.figure(figsize=(15, 10))\nplt.contourf(X, Y, meal_data_matrix_1_df, cmap='viridis', levels=30)\nplt.colorbar(label='Glucose Level (mg/dL)')\nplt.title('Contour Plot of Meal Glucose Levels')\nplt.xlabel('Time Points')\nplt.ylabel('Meal Samples')\nplt.show()","key":"UjBsal0jPm"},{"type":"outputs","id":"SQ9wgdKc10im5iy_Yn8m9","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"126ddca12ae9dc0fcc519551eb88c0b8","path":"/build/126ddca12ae9dc0fcc519551eb88c0b8.png"},"text/plain":{"content":"<Figure size 1500x1000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"KtKxcEgfDd"}],"key":"Ubt0c3tFn7"}],"key":"UXyKMS4VDU"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"doCZJu8mEG"}],"identifier":"visualize-meal-data-matrix-2","label":"Visualize Meal Data Matrix 2","html_id":"visualize-meal-data-matrix-2","implicit":true,"key":"A7dGXx3ndc"}],"key":"tt03KqieTL"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Heatmap of Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"roPwxPLPkP"}],"identifier":"heatmap-of-meal-data-matrix-2","label":"Heatmap of Meal Data Matrix 2","html_id":"heatmap-of-meal-data-matrix-2","implicit":true,"key":"WrxodaBth2"}],"key":"aGhiwk1iCX"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:56.477674Z","iopub.status.busy":"2024-10-21T11:06:56.477456Z","iopub.status.idle":"2024-10-21T11:06:57.429684Z","shell.execute_reply":"2024-10-21T11:06:57.428450Z","shell.execute_reply.started":"2024-10-21T11:06:56.477659Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the heatmap\nsampled_meal_data_matrix_2 = meal_data_matrix_2[np.random.choice(meal_data_matrix_2.shape[0], 200, replace=False)]\nplt.figure(figsize=(30, 30))\nsns.heatmap(sampled_meal_data_matrix_2, cmap='YlGnBu', linewidths=0.5, annot=False, vmin=None, vmax=None)\nplt.title('Heatmap of Meal Data Matrix 2')\nplt.xlabel('Time Points')\nplt.ylabel('Meals (Samples)')\nplt.show()","key":"Y0Sjej9xoA"},{"type":"outputs","id":"Xdu-WGFqF4R5JDVyGVQBO","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"82f82fc0c9bba17c87599c06cd8e4f27","path":"/build/82f82fc0c9bba17c87599c06cd8e4f27.png"},"text/plain":{"content":"<Figure size 3000x3000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"hnWPVHqFdW"}],"key":"t0HI0dj2SH"}],"key":"NjpYteuk6u"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Surface Plot of Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Xxu7ad6KXB"}],"identifier":"surface-plot-of-meal-data-matrix-2","label":"Surface Plot of Meal Data Matrix 2","html_id":"surface-plot-of-meal-data-matrix-2","implicit":true,"key":"vwpwnpAlWU"}],"key":"fLJcozNy2b"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:57.436058Z","iopub.status.busy":"2024-10-21T11:06:57.435849Z","iopub.status.idle":"2024-10-21T11:06:57.454491Z","shell.execute_reply":"2024-10-21T11:06:57.453341Z","shell.execute_reply.started":"2024-10-21T11:06:57.436042Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create X, Y meshgrid\nX = np.arange(meal_data_matrix_2.shape[1])\nY = np.arange(meal_data_matrix_2.shape[0])\ntime_points = np.linspace(-30, 120, 30)  # X-axis: from -30 minutes to +120 minutes (30 time points)\nmeal_numbers = np.arange(1, len(meal_data_2) + 1)\nX, Y = np.meshgrid(time_points, Y)\n#X, Y = np.meshgrid(time_points, meal_numbers)","key":"X7VumhSkhX"},{"type":"outputs","id":"CiLFU9ZDbd_kEdebYGiZ-","children":[],"key":"nqHbw0TKn6"}],"key":"zxi9058xw8"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:57.455531Z","iopub.status.busy":"2024-10-21T11:06:57.455271Z","iopub.status.idle":"2024-10-21T11:06:57.526317Z","shell.execute_reply":"2024-10-21T11:06:57.515783Z","shell.execute_reply.started":"2024-10-21T11:06:57.455512Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X","key":"mcu5UMwyi9"},{"type":"outputs","id":"EH-ytcOxNpv_P8ljFNETc","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":41,"metadata":{},"data":{"text/plain":{"content":"array([[-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       ...,\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ]])","content_type":"text/plain"}}},"children":[],"key":"LhbGctollK"}],"key":"fmEasdPDJA"}],"key":"k4iQCzMsBT"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:57.537374Z","iopub.status.busy":"2024-10-21T11:06:57.527167Z","iopub.status.idle":"2024-10-21T11:06:57.547896Z","shell.execute_reply":"2024-10-21T11:06:57.547018Z","shell.execute_reply.started":"2024-10-21T11:06:57.537338Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X.shape","key":"JLmmgy5DEt"},{"type":"outputs","id":"H5d2gA_BHWJ14zPmfP00b","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":42,"metadata":{},"data":{"text/plain":{"content":"(372, 30)","content_type":"text/plain"}}},"children":[],"key":"iyxBcf42qL"}],"key":"HvfRJFer2c"}],"key":"RWZeZdOpQI"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:57.549986Z","iopub.status.busy":"2024-10-21T11:06:57.549764Z","iopub.status.idle":"2024-10-21T11:06:57.560589Z","shell.execute_reply":"2024-10-21T11:06:57.559735Z","shell.execute_reply.started":"2024-10-21T11:06:57.549970Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y","key":"xK5kUe7zJ8"},{"type":"outputs","id":"cEmHgVjXDpmQ7eAGnmyLK","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":43,"metadata":{},"data":{"text/plain":{"content":"array([[  0,   0,   0, ...,   0,   0,   0],\n       [  1,   1,   1, ...,   1,   1,   1],\n       [  2,   2,   2, ...,   2,   2,   2],\n       ...,\n       [369, 369, 369, ..., 369, 369, 369],\n       [370, 370, 370, ..., 370, 370, 370],\n       [371, 371, 371, ..., 371, 371, 371]])","content_type":"text/plain"}}},"children":[],"key":"IsdglzMzrr"}],"key":"hvdBvZch6x"}],"key":"bYJfbeyRYZ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:57.564133Z","iopub.status.busy":"2024-10-21T11:06:57.563915Z","iopub.status.idle":"2024-10-21T11:06:57.586578Z","shell.execute_reply":"2024-10-21T11:06:57.585679Z","shell.execute_reply.started":"2024-10-21T11:06:57.564118Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Fill NaNs using forward fill, then backward fill\nmeal_data_matrix_2_df = pd.DataFrame(meal_data_matrix_2)\nmeal_data_matrix_2_filled = meal_data_matrix_2_df.ffill().bfill().values","key":"yVPKgEM9wD"},{"type":"outputs","id":"LH_N45JumGYPkwKmfXa7x","children":[],"key":"YbeGuDPS6A"}],"key":"GVYnaP0Nu6"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:57.587640Z","iopub.status.busy":"2024-10-21T11:06:57.587388Z","iopub.status.idle":"2024-10-21T11:06:57.623610Z","shell.execute_reply":"2024-10-21T11:06:57.620891Z","shell.execute_reply.started":"2024-10-21T11:06:57.587624Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Apply a moving average smoothing to each row\nwindow_size = 5  # Choose a window size for smoothing\nsmoothed_meal_data_matrix_2 = np.array([uniform_filter1d(row, size=window_size) for row in meal_data_matrix_2_filled])","key":"YliQLFvkim"},{"type":"outputs","id":"-MHi99IUgn3vevDVw4nUb","children":[],"key":"PGdCnuFXIt"}],"key":"lqlsMWYZkf"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:57.636602Z","iopub.status.busy":"2024-10-21T11:06:57.629841Z","iopub.status.idle":"2024-10-21T11:06:58.072001Z","shell.execute_reply":"2024-10-21T11:06:58.031354Z","shell.execute_reply.started":"2024-10-21T11:06:57.636518Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the plot\nfig = plt.figure(figsize=(10, 8))\nax = fig.add_subplot(111, projection='3d')\nstride = 100\n\n# Plot the surface\nsurface_plot = ax.plot_surface(X[::stride], Y[::stride], smoothed_meal_data_matrix_2[::stride], cmap='viridis', edgecolor='none')\nax.set_title('3D Surface Plot of Smoothed Averaged Meal Glucose Levels', y=0.985)\nax.set_xlabel('Time Relative to Start of Meal [minutes]', labelpad=10)\nax.set_ylabel('Meal Samples', labelpad=10)\n#ax.set_zlabel('Glucose Level (mg/dL)', labelpad=30)\n\n#ax.set_xticks(np.linspace(-30, 120, 7))\n\n# Adjust axis limits to create a zoom-out effect\n#ax.set_xlim(-30, 120)\n#ax.set_ylim(0, 800)\nax.set_zlim(0, 400)\n\nfig.colorbar(surface_plot, ax=ax, shrink=0.5, aspect=10, label='Glucose Level (mg/dL)')\n\n#plt.tight_layout()\nfig.subplots_adjust(left=0.01, right=1, top=0.9, bottom=0.1)\n\nax.view_init(elev=25, azim=-55)\n\nplt.show()","key":"GJzUth55oe"},{"type":"outputs","id":"DpVO9sW87ehhNwPrUI1-k","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"70c826f5eb335eac4570cc114495306f","path":"/build/70c826f5eb335eac4570cc114495306f.png"},"text/plain":{"content":"<Figure size 1000x800 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"zWJlsdna32"}],"key":"tQd55P6qUV"}],"key":"f6UZhXmIzR"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Contour Plot of Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tN6WWChWuW"}],"identifier":"contour-plot-of-meal-data-matrix-2","label":"Contour Plot of Meal Data Matrix 2","html_id":"contour-plot-of-meal-data-matrix-2","implicit":true,"key":"LNRdBDGD8M"}],"key":"QdxaJkAh6q"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:58.072973Z","iopub.status.busy":"2024-10-21T11:06:58.072781Z","iopub.status.idle":"2024-10-21T11:06:59.000914Z","shell.execute_reply":"2024-10-21T11:06:58.998362Z","shell.execute_reply.started":"2024-10-21T11:06:58.072958Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the contour plot\nplt.figure(figsize=(15, 10))\nplt.contourf(X, Y, meal_data_matrix_2_df, cmap='viridis', levels=30)\nplt.colorbar(label='Glucose Level (mg/dL)')\nplt.title('Contour Plot of Meal Glucose Levels')\nplt.xlabel('Time Points')\nplt.ylabel('Meal Samples')\nplt.show()","key":"ZRAWz7wPMX"},{"type":"outputs","id":"8F_l1pqxzZN6WNZVkFsGK","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"23f4cbe824596a683b003752d28acd7d","path":"/build/23f4cbe824596a683b003752d28acd7d.png"},"text/plain":{"content":"<Figure size 1500x1000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"b21cuNe1ah"}],"key":"fhVXycjRQM"}],"key":"V6MtQZ7q69"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Extract No - Meal Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NpHVNSRBBU"}],"identifier":"extract-no-meal-data","label":"Extract No - Meal Data","html_id":"extract-no-meal-data","implicit":true,"key":"CCrjPyeWo1"}],"key":"SJ7bnI0Adp"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:59.012803Z","iopub.status.busy":"2024-10-21T11:06:59.001886Z","iopub.status.idle":"2024-10-21T11:07:00.218713Z","shell.execute_reply":"2024-10-21T11:07:00.192075Z","shell.execute_reply.started":"2024-10-21T11:06:59.012766Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Initialize meal data list\nno_meal_data_1 = []\n    \n# Loop through each meal start time to find valid post - absorbtive windows\nfor meal_time in meal_times_1:\n    # Define the post-absorptive period: starts from tm+2 hours\n    # and lasts 2 hours (i.e to four hours)\n    post_absorptive_start = meal_time + pd.Timedelta(hours=2)\n    post_absorptive_end = meal_time + pd.Timedelta(hours=4)\n    \n    # Check for meals in the post-absorptive period\n    post_absorptive_meals = insulin_data_1[(insulin_data_1['datetime'] >= post_absorptive_start) &\n                                         (insulin_data_1['datetime'] <= post_absorptive_end)]\n    \n    # Step 2 Condition (a): If any non-zero, non-NaN meal is found in the\n    # post-absorptive period, skip this stretch\n    if not post_absorptive_meals.empty:\n        # Check if any of the meals have a non-zero carb input\n        if (post_absorptive_meals['BWZ Carb Input (grams)'] > 0).any():\n            # Skip this stretch, as there is a meal found in the post-absorptive period\n            continue\n    \n    # Step 2 condition (b): If meal values are 0 or NaN, ignore and consider the stretch\n    # Extract the corresponding 2-hour CGM data\n    no_meal_cgm_data_1 = cgm_data_1[(cgm_data_1['datetime'] >= post_absorptive_start) & \n                                (cgm_data_1['datetime'] <= post_absorptive_end)]\n    \n    # Check if the extracted data has the correct number of points (24 for no meal data)\n    if len(no_meal_cgm_data_1) == 24:\n        no_meal_data_1.append(no_meal_cgm_data_1['Sensor Glucose (mg/dL)'].values)","key":"CRVTWwuOtO"},{"type":"outputs","id":"1LOx1exvKvKtSXMtuH0L-","children":[],"key":"M8JWKBfjbh"}],"key":"gXPeV5N5uN"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:00.226448Z","iopub.status.busy":"2024-10-21T11:07:00.226256Z","iopub.status.idle":"2024-10-21T11:07:00.797814Z","shell.execute_reply":"2024-10-21T11:07:00.796869Z","shell.execute_reply.started":"2024-10-21T11:07:00.226432Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Initialize meal data list\nno_meal_data_2 = []\n    \n# Loop through each meal start time to find valid post - absorbtive windows\nfor meal_time in meal_times_2:\n    # Define the post-absorptive period: starts from tm+2 hours\n    # and lasts 2 hours (i.e to four hours)\n    post_absorptive_start = meal_time + pd.Timedelta(hours=2)\n    post_absorptive_end = meal_time + pd.Timedelta(hours=4)\n    \n    # Check for meals in the post-absorptive period\n    post_absorptive_meals = insulin_data_2[(insulin_data_2['datetime'] >= post_absorptive_start) &\n                                         (insulin_data_2['datetime'] <= post_absorptive_end)]\n    \n    # Step 2 Condition (a): If any non-zero, non-NaN meal is found in the\n    # post-absorptive period, skip this stretch\n    if not post_absorptive_meals.empty:\n        # Check if any of the meals have a non-zero carb input\n        if (post_absorptive_meals['BWZ Carb Input (grams)'] > 0).any():\n            # Skip this stretch, as there is a meal found in the post-absorptive period\n            continue\n    \n    # Step 2 condition (b): If meal values are 0 or NaN, ignore and consider the stretch\n    # Extract the corresponding 2-hour CGM data\n    no_meal_cgm_data_2 = cgm_data_2[(cgm_data_2['datetime'] >= post_absorptive_start) & \n                                (cgm_data_2['datetime'] <= post_absorptive_end)]\n    \n    # Check if the extracted data has the correct number of points (24 for no meal data)\n    if len(no_meal_cgm_data_2) == 24:\n        no_meal_data_2.append(no_meal_cgm_data_2['Sensor Glucose (mg/dL)'].values)","key":"C6RRD5IYmU"},{"type":"outputs","id":"xKi5rGFZ1OpvKI6TQMdjs","children":[],"key":"nXMoibB9tK"}],"key":"eg0bKuBvav"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:00.798515Z","iopub.status.busy":"2024-10-21T11:07:00.798298Z","iopub.status.idle":"2024-10-21T11:07:00.875166Z","shell.execute_reply":"2024-10-21T11:07:00.873447Z","shell.execute_reply.started":"2024-10-21T11:07:00.798499Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"len(no_meal_data_1)","key":"u1JUPijEtR"},{"type":"outputs","id":"iTWcGdGlluALu1mYVGBoP","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":50,"metadata":{},"data":{"text/plain":{"content":"510","content_type":"text/plain"}}},"children":[],"key":"sX7rU97RK9"}],"key":"p75WxS52Jr"}],"key":"nApoJ0rVY5"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:00.876103Z","iopub.status.busy":"2024-10-21T11:07:00.875856Z","iopub.status.idle":"2024-10-21T11:07:00.940095Z","shell.execute_reply":"2024-10-21T11:07:00.928972Z","shell.execute_reply.started":"2024-10-21T11:07:00.876087Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"len(no_meal_data_2)","key":"CA92YGuoX8"},{"type":"outputs","id":"x_zh1s-wQhNZ94axOqpyu","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":51,"metadata":{},"data":{"text/plain":{"content":"325","content_type":"text/plain"}}},"children":[],"key":"shb2rckFg1"}],"key":"wCJVFhs4JN"}],"key":"LIaCt0jrF3"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:00.942879Z","iopub.status.busy":"2024-10-21T11:07:00.942051Z","iopub.status.idle":"2024-10-21T11:07:00.951145Z","shell.execute_reply":"2024-10-21T11:07:00.948375Z","shell.execute_reply.started":"2024-10-21T11:07:00.942857Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#no_meal_data_1[0:5]","key":"HwBbKYBwt5"},{"type":"outputs","id":"ydazdujomLidUbz14F8FL","children":[],"key":"KGpfu9VUVo"}],"key":"ZGDNvAWtIr"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:00.958835Z","iopub.status.busy":"2024-10-21T11:07:00.952316Z","iopub.status.idle":"2024-10-21T11:07:01.119642Z","shell.execute_reply":"2024-10-21T11:07:01.094880Z","shell.execute_reply.started":"2024-10-21T11:07:00.958812Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#no_meal_data_2[0:5]","key":"ce8eRcHajv"},{"type":"outputs","id":"8ErHUt9ZKTQQpHfvnhBze","children":[],"key":"PeplU3aWBj"}],"key":"CVNKoI4Dqm"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Create No Meal Data Matrix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JoDfRXJ47Y"}],"identifier":"create-no-meal-data-matrix","label":"Create No Meal Data Matrix","html_id":"create-no-meal-data-matrix","implicit":true,"key":"bBw3eIN4uZ"}],"key":"pGnkbNKFCI"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:01.133371Z","iopub.status.busy":"2024-10-21T11:07:01.128104Z","iopub.status.idle":"2024-10-21T11:07:01.183398Z","shell.execute_reply":"2024-10-21T11:07:01.182874Z","shell.execute_reply.started":"2024-10-21T11:07:01.133345Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"no_meal_data_matrix_1 = np.array(no_meal_data_1)\n#no_meal_data_matrix_1","key":"LfzW42npG6"},{"type":"outputs","id":"UVHztXAMVUQ8tbZougOr2","children":[],"key":"Wnf3S1i1eo"}],"key":"gPFqzFQOqh"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:01.199336Z","iopub.status.busy":"2024-10-21T11:07:01.199133Z","iopub.status.idle":"2024-10-21T11:07:01.442974Z","shell.execute_reply":"2024-10-21T11:07:01.358041Z","shell.execute_reply.started":"2024-10-21T11:07:01.199322Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"no_meal_data_matrix_2 = np.array(no_meal_data_2)\n#no_meal_data_matrix_2","key":"QSU1HgmWwU"},{"type":"outputs","id":"oNCXCrwAgHbJ1vN3879ZX","children":[],"key":"qI14Q6CIir"}],"key":"jrRbRcICE1"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:01.449540Z","iopub.status.busy":"2024-10-21T11:07:01.449338Z","iopub.status.idle":"2024-10-21T11:07:01.851249Z","shell.execute_reply":"2024-10-21T11:07:01.816597Z","shell.execute_reply.started":"2024-10-21T11:07:01.449526Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"no_meal_data_matrix_1.shape","key":"a3WGW72zu1"},{"type":"outputs","id":"efCHnu8F1mKI-rFH4Kwgm","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":56,"metadata":{},"data":{"text/plain":{"content":"(510, 24)","content_type":"text/plain"}}},"children":[],"key":"sPeYftIF0N"}],"key":"H4O2QwCQn3"}],"key":"Yi4xzyhkJQ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:01.869668Z","iopub.status.busy":"2024-10-21T11:07:01.864443Z","iopub.status.idle":"2024-10-21T11:07:02.008543Z","shell.execute_reply":"2024-10-21T11:07:01.975723Z","shell.execute_reply.started":"2024-10-21T11:07:01.869639Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"no_meal_data_matrix_2.shape","key":"FAJozVECEw"},{"type":"outputs","id":"2SLUESaiPU_pOabxD_AYJ","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":57,"metadata":{},"data":{"text/plain":{"content":"(325, 24)","content_type":"text/plain"}}},"children":[],"key":"rVhEID0c9a"}],"key":"ROuukGZPyz"}],"key":"xtUsdYQGIa"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize No Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"p1owafnL2n"}],"identifier":"visualize-no-meal-data-matrix-1","label":"Visualize No Meal Data Matrix 1","html_id":"visualize-no-meal-data-matrix-1","implicit":true,"key":"WRUxIweCkN"}],"key":"OSELxX1RVJ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Heatmap of No Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cna8xlHtly"}],"identifier":"heatmap-of-no-meal-data-matrix-1","label":"Heatmap of No Meal Data Matrix 1","html_id":"heatmap-of-no-meal-data-matrix-1","implicit":true,"key":"KhZXHtahco"}],"key":"gKpICXszEi"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:02.038134Z","iopub.status.busy":"2024-10-21T11:07:02.033827Z","iopub.status.idle":"2024-10-21T11:07:03.425254Z","shell.execute_reply":"2024-10-21T11:07:03.424126Z","shell.execute_reply.started":"2024-10-21T11:07:02.038104Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the heatmap\nsampled_no_meal_data_matrix_1 = no_meal_data_matrix_1[np.random.choice(no_meal_data_matrix_1.shape[0], 200, replace=False)]\nplt.figure(figsize=(30, 30))\nsns.heatmap(sampled_no_meal_data_matrix_1, cmap='YlGnBu', linewidths=0.5, annot=False, vmin=None, vmax=None)\nplt.title('Heatmap of No Meal Data Matrix 1')\nplt.xlabel('Time Points')\nplt.ylabel('Meals (Samples)')\nplt.show()","key":"dpWerekEKf"},{"type":"outputs","id":"PNSOncANw7uQSqOBWBTqc","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"b0cde087ebdd9a43dde2e268f39de683","path":"/build/b0cde087ebdd9a43dde2e268f39de683.png"},"text/plain":{"content":"<Figure size 3000x3000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"qNtxaXvicH"}],"key":"CJZ2c0CY5G"}],"key":"DAkDQk9vdD"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Surface Plot of No Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"J19rQa9721"}],"identifier":"surface-plot-of-no-meal-data-matrix-1","label":"Surface Plot of No Meal Data Matrix 1","html_id":"surface-plot-of-no-meal-data-matrix-1","implicit":true,"key":"M2Zw1f3s3Z"}],"key":"npmGE9z6JY"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:03.426430Z","iopub.status.busy":"2024-10-21T11:07:03.426143Z","iopub.status.idle":"2024-10-21T11:07:03.441691Z","shell.execute_reply":"2024-10-21T11:07:03.440757Z","shell.execute_reply.started":"2024-10-21T11:07:03.426402Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"time_points = np.linspace(-30, 120, 24)\nprint(time_points)\nprint(time_points.shape)","key":"NwFaLDsT7i"},{"type":"outputs","id":"mCT452ho61mYfLDOHqB_J","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"[-30.         -23.47826087 -16.95652174 -10.43478261  -3.91304348\n   2.60869565   9.13043478  15.65217391  22.17391304  28.69565217\n  35.2173913   41.73913043  48.26086957  54.7826087   61.30434783\n  67.82608696  74.34782609  80.86956522  87.39130435  93.91304348\n 100.43478261 106.95652174 113.47826087 120.        ]\n(24,)\n"},"children":[],"key":"KeY0Vg9zBs"}],"key":"mYSbiDf4Oq"}],"key":"bwwfc45e4R"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:03.443126Z","iopub.status.busy":"2024-10-21T11:07:03.442534Z","iopub.status.idle":"2024-10-21T11:07:03.459704Z","shell.execute_reply":"2024-10-21T11:07:03.458555Z","shell.execute_reply.started":"2024-10-21T11:07:03.443105Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create X, Y meshgrid\nX = np.arange(no_meal_data_matrix_1.shape[1])\nY = np.arange(no_meal_data_matrix_1.shape[0])\ntime_points = np.linspace(-30, 120, 24)  # X-axis: from -30 minutes to +120 minutes (24 time points)\nmeal_numbers = np.arange(1, len(no_meal_data_1) + 1)\nX, Y = np.meshgrid(time_points, Y)\n#X, Y = np.meshgrid(time_points, meal_numbers)","key":"SWKO2MXgy3"},{"type":"outputs","id":"-oiiFYyLZzLIH9Qbh9Cxi","children":[],"key":"jgBZCh7g2z"}],"key":"rDlHpKOM2h"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:03.460932Z","iopub.status.busy":"2024-10-21T11:07:03.460631Z","iopub.status.idle":"2024-10-21T11:07:03.486124Z","shell.execute_reply":"2024-10-21T11:07:03.485260Z","shell.execute_reply.started":"2024-10-21T11:07:03.460906Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X","key":"lldCx7Rzja"},{"type":"outputs","id":"yux9KjHn_ko8k5VFqy1tj","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":61,"metadata":{},"data":{"text/plain":{"content":"array([[-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ],\n       [-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ],\n       [-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ],\n       ...,\n       [-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ],\n       [-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ],\n       [-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ]])","content_type":"text/plain"}}},"children":[],"key":"BBfRaE3MOl"}],"key":"kWQCJCzrYa"}],"key":"gUTW64IVUp"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:03.487241Z","iopub.status.busy":"2024-10-21T11:07:03.486813Z","iopub.status.idle":"2024-10-21T11:07:03.500183Z","shell.execute_reply":"2024-10-21T11:07:03.499409Z","shell.execute_reply.started":"2024-10-21T11:07:03.487224Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X.shape","key":"l7LxDpmjL3"},{"type":"outputs","id":"nVPlwqQtC0w1zfTCHKbX9","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":62,"metadata":{},"data":{"text/plain":{"content":"(510, 24)","content_type":"text/plain"}}},"children":[],"key":"IvG6SUaDNJ"}],"key":"VFFMl84OYY"}],"key":"AeMwTBnJns"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:03.501860Z","iopub.status.busy":"2024-10-21T11:07:03.501600Z","iopub.status.idle":"2024-10-21T11:07:03.547255Z","shell.execute_reply":"2024-10-21T11:07:03.546077Z","shell.execute_reply.started":"2024-10-21T11:07:03.501844Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y","key":"Q7XWkKthUD"},{"type":"outputs","id":"GWZiC-Vm9faLjuslfsD3U","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":63,"metadata":{},"data":{"text/plain":{"content":"array([[  0,   0,   0, ...,   0,   0,   0],\n       [  1,   1,   1, ...,   1,   1,   1],\n       [  2,   2,   2, ...,   2,   2,   2],\n       ...,\n       [507, 507, 507, ..., 507, 507, 507],\n       [508, 508, 508, ..., 508, 508, 508],\n       [509, 509, 509, ..., 509, 509, 509]])","content_type":"text/plain"}}},"children":[],"key":"UXLWy6K7cp"}],"key":"Ha0k6nxpnh"}],"key":"pVfQjLBOIL"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:03.550086Z","iopub.status.busy":"2024-10-21T11:07:03.549515Z","iopub.status.idle":"2024-10-21T11:07:03.603141Z","shell.execute_reply":"2024-10-21T11:07:03.566734Z","shell.execute_reply.started":"2024-10-21T11:07:03.550062Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y.shape","key":"Xzqhs9m3Mq"},{"type":"outputs","id":"MHJogtZrgxcqQDkxBkPJR","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":64,"metadata":{},"data":{"text/plain":{"content":"(510, 24)","content_type":"text/plain"}}},"children":[],"key":"dgnisvvvb2"}],"key":"Ts27kKxFD3"}],"key":"DH9LmdqZx4"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:03.618250Z","iopub.status.busy":"2024-10-21T11:07:03.613381Z","iopub.status.idle":"2024-10-21T11:07:03.624859Z","shell.execute_reply":"2024-10-21T11:07:03.623405Z","shell.execute_reply.started":"2024-10-21T11:07:03.618212Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Fill NaNs using forward fill, then backward fill\nno_meal_data_matrix_1_df = pd.DataFrame(no_meal_data_matrix_1)\nno_meal_data_matrix_1_filled = no_meal_data_matrix_1_df.ffill().bfill().values","key":"EN5DcBRk7g"},{"type":"outputs","id":"fHQGB80mOxM7CY8mMXxEk","children":[],"key":"UL58ofiIfN"}],"key":"tKyWHnBJYE"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:03.625995Z","iopub.status.busy":"2024-10-21T11:07:03.625764Z","iopub.status.idle":"2024-10-21T11:07:03.674045Z","shell.execute_reply":"2024-10-21T11:07:03.654483Z","shell.execute_reply.started":"2024-10-21T11:07:03.625979Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Apply a moving average smoothing to each row\nwindow_size = 5  # Choose a window size for smoothing\nsmoothed_no_meal_data_matrix_1 = np.array([uniform_filter1d(row, size=window_size) for row in no_meal_data_matrix_1_filled])","key":"z23DlN0x59"},{"type":"outputs","id":"LaooaZLYNEbcCjeek_OYV","children":[],"key":"lmqbiudp3l"}],"key":"goav4H4Xqv"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:03.679463Z","iopub.status.busy":"2024-10-21T11:07:03.679143Z","iopub.status.idle":"2024-10-21T11:07:04.576064Z","shell.execute_reply":"2024-10-21T11:07:04.562132Z","shell.execute_reply.started":"2024-10-21T11:07:03.679447Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the plot\nfig = plt.figure(figsize=(10, 8))\nax = fig.add_subplot(111, projection='3d')\nstride = 100\n\n# Plot the surface\nsurface_plot = ax.plot_surface(X[::stride], Y[::stride], smoothed_no_meal_data_matrix_1[::stride], cmap='viridis', edgecolor='none')\nax.set_title('3D Surface Plot of Smoothed Averaged No Meal Glucose Levels', y=0.985)\nax.set_xlabel('Time Relative to End of Meal [minutes]', labelpad=10)\nax.set_ylabel('Meal Samples', labelpad=10)\n#ax.set_zlabel('Glucose Level (mg/dL)', labelpad=30)\n\n#ax.set_xticks(np.linspace(-30, 120, 7))\n\n# Adjust axis limits to create a zoom-out effect\n#ax.set_xlim(-30, 120)\n#ax.set_ylim(0, 800)\n#ax.set_zlim(0, 300)\n\nfig.colorbar(surface_plot, ax=ax, shrink=0.5, aspect=10, label='Glucose Level (mg/dL)')\n\n#plt.tight_layout()\nfig.subplots_adjust(left=0.01, right=1, top=0.9, bottom=0.1)\n\nax.view_init(elev=25, azim=-55)\n\nplt.show()","key":"JlATmptVSH"},{"type":"outputs","id":"1FfFJvD5PjdRfMAuH4LR_","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"852e2b3b38614cf71d1db9b868b4224f","path":"/build/852e2b3b38614cf71d1db9b868b4224f.png"},"text/plain":{"content":"<Figure size 1000x800 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"b2K0vHb9T5"}],"key":"J72LYrdOwL"}],"key":"cQklVoRMqn"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Contour Plot of No Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UhLWenI8i6"}],"identifier":"contour-plot-of-no-meal-data-matrix-1","label":"Contour Plot of No Meal Data Matrix 1","html_id":"contour-plot-of-no-meal-data-matrix-1","implicit":true,"key":"JIdfj47ulW"}],"key":"eHXPLPTHZo"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:04.589769Z","iopub.status.busy":"2024-10-21T11:07:04.579959Z","iopub.status.idle":"2024-10-21T11:07:05.245658Z","shell.execute_reply":"2024-10-21T11:07:05.244445Z","shell.execute_reply.started":"2024-10-21T11:07:04.589743Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the contour plot\nplt.figure(figsize=(15, 10))\nplt.contourf(X, Y, no_meal_data_matrix_1_df, cmap='viridis', levels=30)\nplt.colorbar(label='Glucose Level (mg/dL)')\nplt.title('Contour Plot of No Meal Glucose Levels')\nplt.xlabel('Time Points')\nplt.ylabel('Meal Samples')\nplt.show()","key":"bFG5XNkSjY"},{"type":"outputs","id":"eczfuOgcBBRl4kj621Xas","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"fd34e6f01e7c7e3e118f37add522c9b2","path":"/build/fd34e6f01e7c7e3e118f37add522c9b2.png"},"text/plain":{"content":"<Figure size 1500x1000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"dLWcFXGzNV"}],"key":"V9zxGQGCZJ"}],"key":"gtC9cCOEcj"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize No Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"F3EA1A3xmI"}],"identifier":"visualize-no-meal-data-matrix-2","label":"Visualize No Meal Data Matrix 2","html_id":"visualize-no-meal-data-matrix-2","implicit":true,"key":"OirC9D8II6"}],"key":"AiLVj1IFgu"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Heatmap of No Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YKp5CWWVZS"}],"identifier":"heatmap-of-no-meal-data-matrix-2","label":"Heatmap of No Meal Data Matrix 2","html_id":"heatmap-of-no-meal-data-matrix-2","implicit":true,"key":"hsuDbTW85A"}],"key":"jJ306Av5SX"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:05.252411Z","iopub.status.busy":"2024-10-21T11:07:05.249774Z","iopub.status.idle":"2024-10-21T11:07:06.525790Z","shell.execute_reply":"2024-10-21T11:07:06.524877Z","shell.execute_reply.started":"2024-10-21T11:07:05.252386Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the heatmap\nsampled_no_meal_data_matrix_2 = no_meal_data_matrix_2[np.random.choice(no_meal_data_matrix_2.shape[0], 200, replace=False)]\nplt.figure(figsize=(30, 30))\nsns.heatmap(sampled_meal_data_matrix_2, cmap='YlGnBu', linewidths=0.5, annot=False, vmin=None, vmax=None)\nplt.title('Heatmap of No Meal Data Matrix 1')\nplt.xlabel('Time Points')\nplt.ylabel('Meals (Samples)')\nplt.show()","key":"sQHD7BAgCA"},{"type":"outputs","id":"xp47GdPUXKNoF9wr-Yxlr","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"38dbc59a10c3bb9ea4ce45782e7631d0","path":"/build/38dbc59a10c3bb9ea4ce45782e7631d0.png"},"text/plain":{"content":"<Figure size 3000x3000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"FWgjjJcYBn"}],"key":"nXpOSdx2Gm"}],"key":"VxcqUkWq1H"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Surface Plot of No Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FC2HzbdqiH"}],"identifier":"surface-plot-of-no-meal-data-matrix-2","label":"Surface Plot of No Meal Data Matrix 2","html_id":"surface-plot-of-no-meal-data-matrix-2","implicit":true,"key":"md1dupI1Az"}],"key":"gRNrl6MaHO"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:06.526634Z","iopub.status.busy":"2024-10-21T11:07:06.526391Z","iopub.status.idle":"2024-10-21T11:07:06.546387Z","shell.execute_reply":"2024-10-21T11:07:06.545483Z","shell.execute_reply.started":"2024-10-21T11:07:06.526618Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"time_points = np.linspace(-30, 120, 24)\nprint(time_points)\nprint(time_points.shape)","key":"JsvCQZXI7o"},{"type":"outputs","id":"Pl_fqeigOpfkzwrSJc7EN","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"[-30.         -23.47826087 -16.95652174 -10.43478261  -3.91304348\n   2.60869565   9.13043478  15.65217391  22.17391304  28.69565217\n  35.2173913   41.73913043  48.26086957  54.7826087   61.30434783\n  67.82608696  74.34782609  80.86956522  87.39130435  93.91304348\n 100.43478261 106.95652174 113.47826087 120.        ]\n(24,)\n"},"children":[],"key":"qTG5HVScEX"}],"key":"pNQyELiRX8"}],"key":"DoCzIYoJII"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:06.548131Z","iopub.status.busy":"2024-10-21T11:07:06.547905Z","iopub.status.idle":"2024-10-21T11:07:06.607281Z","shell.execute_reply":"2024-10-21T11:07:06.590343Z","shell.execute_reply.started":"2024-10-21T11:07:06.548116Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create X, Y meshgrid\nX = np.arange(no_meal_data_matrix_2.shape[1])\nY = np.arange(no_meal_data_matrix_2.shape[0])\ntime_points = np.linspace(-30, 120, 24)  # X-axis: from -30 minutes to +120 minutes (24 time points)\nmeal_numbers = np.arange(1, len(no_meal_data_2) + 1)\nX, Y = np.meshgrid(time_points, Y)\n#X, Y = np.meshgrid(time_points, meal_numbers)","key":"gE6TbhpOxm"},{"type":"outputs","id":"F946Sx_gRErGoOcbs8l2A","children":[],"key":"ck8PNm7IxJ"}],"key":"cNnC3B7shJ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:06.633173Z","iopub.status.busy":"2024-10-21T11:07:06.609795Z","iopub.status.idle":"2024-10-21T11:07:06.732116Z","shell.execute_reply":"2024-10-21T11:07:06.731013Z","shell.execute_reply.started":"2024-10-21T11:07:06.633147Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X","key":"wptAhdlxed"},{"type":"outputs","id":"KaZxKJ4YZlYslncpNMq4L","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":72,"metadata":{},"data":{"text/plain":{"content":"array([[-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ],\n       [-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ],\n       [-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ],\n       ...,\n       [-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ],\n       [-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ],\n       [-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ]])","content_type":"text/plain"}}},"children":[],"key":"CN063MY5H8"}],"key":"LlioUCNTqY"}],"key":"HsgvkavUSj"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:06.733023Z","iopub.status.busy":"2024-10-21T11:07:06.732828Z","iopub.status.idle":"2024-10-21T11:07:06.749450Z","shell.execute_reply":"2024-10-21T11:07:06.748702Z","shell.execute_reply.started":"2024-10-21T11:07:06.733005Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X.shape","key":"iLVJ5T5Hzz"},{"type":"outputs","id":"iXilnUB-BfyPQZ7vF_30w","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":73,"metadata":{},"data":{"text/plain":{"content":"(325, 24)","content_type":"text/plain"}}},"children":[],"key":"qvnItvOISr"}],"key":"qT2VuVshO1"}],"key":"lGDUU8dcVH"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:06.750494Z","iopub.status.busy":"2024-10-21T11:07:06.750027Z","iopub.status.idle":"2024-10-21T11:07:07.012762Z","shell.execute_reply":"2024-10-21T11:07:06.993735Z","shell.execute_reply.started":"2024-10-21T11:07:06.750478Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y","key":"vu4NfxrOKK"},{"type":"outputs","id":"EcctI1oroid47iFoNpMeI","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":74,"metadata":{},"data":{"text/plain":{"content":"array([[  0,   0,   0, ...,   0,   0,   0],\n       [  1,   1,   1, ...,   1,   1,   1],\n       [  2,   2,   2, ...,   2,   2,   2],\n       ...,\n       [322, 322, 322, ..., 322, 322, 322],\n       [323, 323, 323, ..., 323, 323, 323],\n       [324, 324, 324, ..., 324, 324, 324]])","content_type":"text/plain"}}},"children":[],"key":"psKWG59nKw"}],"key":"DlYeMotJmJ"}],"key":"oP0d2ngy9q"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:07.037017Z","iopub.status.busy":"2024-10-21T11:07:07.023280Z","iopub.status.idle":"2024-10-21T11:07:07.275682Z","shell.execute_reply":"2024-10-21T11:07:07.232825Z","shell.execute_reply.started":"2024-10-21T11:07:07.036987Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y.shape","key":"oaz443hhfh"},{"type":"outputs","id":"VxiIeAELnH-7yQX4-xTy-","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":75,"metadata":{},"data":{"text/plain":{"content":"(325, 24)","content_type":"text/plain"}}},"children":[],"key":"o5AyM87ZUN"}],"key":"kWoCRdI6Ir"}],"key":"o53wm5rBk0"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:07.292033Z","iopub.status.busy":"2024-10-21T11:07:07.276196Z","iopub.status.idle":"2024-10-21T11:07:07.437586Z","shell.execute_reply":"2024-10-21T11:07:07.422987Z","shell.execute_reply.started":"2024-10-21T11:07:07.291975Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Fill NaNs using forward fill, then backward fill\nno_meal_data_matrix_2_df = pd.DataFrame(no_meal_data_matrix_2)\nno_meal_data_matrix_2_filled = no_meal_data_matrix_2_df.ffill().bfill().values","key":"ztQynT6Kp6"},{"type":"outputs","id":"shM6bqCMdX2lFRvymcjf1","children":[],"key":"qnfgvRlr0E"}],"key":"wX7sUWpmXB"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:07.461209Z","iopub.status.busy":"2024-10-21T11:07:07.449834Z","iopub.status.idle":"2024-10-21T11:07:07.785792Z","shell.execute_reply":"2024-10-21T11:07:07.780485Z","shell.execute_reply.started":"2024-10-21T11:07:07.461162Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Apply a moving average smoothing to each row\nwindow_size = 5  # Choose a window size for smoothing\nsmoothed_no_meal_data_matrix_2 = np.array([uniform_filter1d(row, size=window_size) for row in no_meal_data_matrix_2_filled])","key":"qQBwKsKikq"},{"type":"outputs","id":"QzrE-NpQBDAf69gWZN2Qk","children":[],"key":"f18MUReRxq"}],"key":"hzNovNaCch"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:07.827137Z","iopub.status.busy":"2024-10-21T11:07:07.808332Z","iopub.status.idle":"2024-10-21T11:07:08.585468Z","shell.execute_reply":"2024-10-21T11:07:08.561271Z","shell.execute_reply.started":"2024-10-21T11:07:07.827103Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the plot\nfig = plt.figure(figsize=(10, 8))\nax = fig.add_subplot(111, projection='3d')\nstride = 100\n\n# Plot the surface\nsurface_plot = ax.plot_surface(X[::stride], Y[::stride], smoothed_no_meal_data_matrix_2[::stride], cmap='viridis', edgecolor='none')\nax.set_title('3D Surface Plot of Smoothed Averaged No Meal Glucose Levels', y=0.985)\nax.set_xlabel('Time Relative to End of Meal [minutes]', labelpad=10)\nax.set_ylabel('Meal Samples', labelpad=10)\n#ax.set_zlabel('Glucose Level (mg/dL)', labelpad=30)\n\n#ax.set_xticks(np.linspace(-30, 120, 7))\n\n# Adjust axis limits to create a zoom-out effect\n#ax.set_xlim(-30, 120)\n#ax.set_ylim(0, 800)\n#ax.set_zlim(0, 300)\n\nfig.colorbar(surface_plot, ax=ax, shrink=0.5, aspect=10, label='Glucose Level (mg/dL)')\n\n#plt.tight_layout()\nfig.subplots_adjust(left=0.01, right=1, top=0.9, bottom=0.1)\n\nax.view_init(elev=25, azim=-55)\n\nplt.show()","key":"CC8l75gr9i"},{"type":"outputs","id":"HaRuNrdPeWhfUValO2BIN","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"53f8e67ddb84bce4df19d06f417ac1e8","path":"/build/53f8e67ddb84bce4df19d06f417ac1e8.png"},"text/plain":{"content":"<Figure size 1000x800 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"Irn3eXjtmd"}],"key":"aBCQRmDXp3"}],"key":"eesCynHpIe"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Contour Plot of No Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WgYwNeLdhz"}],"identifier":"contour-plot-of-no-meal-data-matrix-2","label":"Contour Plot of No Meal Data Matrix 2","html_id":"contour-plot-of-no-meal-data-matrix-2","implicit":true,"key":"SWE3VY6ekA"}],"key":"A2Jc3Ij40d"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:08.586534Z","iopub.status.busy":"2024-10-21T11:07:08.586284Z","iopub.status.idle":"2024-10-21T11:07:09.209790Z","shell.execute_reply":"2024-10-21T11:07:09.208448Z","shell.execute_reply.started":"2024-10-21T11:07:08.586515Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the contour plot\nplt.figure(figsize=(15, 10))\nplt.contourf(X, Y, no_meal_data_matrix_2_df, cmap='viridis', levels=30)\nplt.colorbar(label='Glucose Level (mg/dL)')\nplt.title('Contour Plot of No Meal Glucose Levels')\nplt.xlabel('Time Points')\nplt.ylabel('Meal Samples')\nplt.show()","key":"OufK5bnvFc"},{"type":"outputs","id":"L8uKe8XzVYWP1EdGXZvfg","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"51695a6d9698fcaf8b0a3f4f05b11c79","path":"/build/51695a6d9698fcaf8b0a3f4f05b11c79.png"},"text/plain":{"content":"<Figure size 1500x1000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"ugKQjIRp4R"}],"key":"PXLNgSDLEF"}],"key":"EbxVJCVmQX"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"","key":"MfNc0vfXS3"},{"type":"outputs","id":"24Nvb7ilhIP_QNw5ZjPM4","children":[],"key":"Ihw5qNg9wJ"}],"key":"h8ak27D2Ho"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Handle Missing Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"qSHzfvy1V1"}],"identifier":"handle-missing-data","label":"Handle Missing Data","html_id":"handle-missing-data","implicit":true,"key":"qzoi4kIkCn"}],"key":"fHmWgjwTJL"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We will use a strategy of deleting rows of data that have more than 10% of bad data.  If less than 10%, we will use KNN with a nearest neighbor hyperparameter (K=7).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"I9E1ahtNGj"}],"key":"MUYBObzNVv"}],"key":"jM6QCyaeEm"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Define Threshold for Dumping Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vhRm0EQqWK"}],"identifier":"define-threshold-for-dumping-data","label":"Define Threshold for Dumping Data","html_id":"define-threshold-for-dumping-data","implicit":true,"key":"Gx797mTLFR"}],"key":"D5FsqJb1Rf"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:09.211210Z","iopub.status.busy":"2024-10-21T11:07:09.210917Z","iopub.status.idle":"2024-10-21T11:07:09.281513Z","shell.execute_reply":"2024-10-21T11:07:09.245711Z","shell.execute_reply.started":"2024-10-21T11:07:09.211183Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# 10%\ndump_thresold = 0.1","key":"M5uEC1iKks"},{"type":"outputs","id":"hs3vG-WXICvdK9Nd7W_ti","children":[],"key":"MKzXT4lPVp"}],"key":"gbvxwhcvOT"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Create KNN Imputer","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MXs2925CKL"}],"identifier":"create-knn-imputer","label":"Create KNN Imputer","html_id":"create-knn-imputer","implicit":true,"key":"j0QpO7ZYM6"}],"key":"TG8RoCet5L"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:09.290697Z","iopub.status.busy":"2024-10-21T11:07:09.290445Z","iopub.status.idle":"2024-10-21T11:07:09.451749Z","shell.execute_reply":"2024-10-21T11:07:09.450751Z","shell.execute_reply.started":"2024-10-21T11:07:09.290680Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"knn_imputer = KNNImputer(n_neighbors=7)","key":"dIg8sqbejC"},{"type":"outputs","id":"KiFs-axLxGFsuFYhioZqq","children":[],"key":"W4G2V5rsCX"}],"key":"XXRAvcb7jX"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Parse Meal Data and Handle Missing Values","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"biiFAj1ahO"}],"identifier":"parse-meal-data-and-handle-missing-values","label":"Parse Meal Data and Handle Missing Values","html_id":"parse-meal-data-and-handle-missing-values","implicit":true,"key":"yns0rP736r"}],"key":"L6XI7OyJzA"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:09.468673Z","iopub.status.busy":"2024-10-21T11:07:09.463761Z","iopub.status.idle":"2024-10-21T11:07:09.582230Z","shell.execute_reply":"2024-10-21T11:07:09.581269Z","shell.execute_reply.started":"2024-10-21T11:07:09.468640Z"},"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_meal_data_1 = []\nfor row in meal_data_matrix_1:\n\n    proportion_missing_data = np.isnan(row).mean()\n\n    if proportion_missing_data > dump_thresold:\n\n        # Ignore this row\n        print(f\"Ignoring row with {proportion_missing_data*100:.2f}% missing data\")\n        continue\n\n    else:\n        # The data is good, use it\n        cleaned_meal_data_1.append(row)","key":"Q5MrpPyQhj"},{"type":"outputs","id":"O9SljGbP8aezPa6FWnkzR","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Ignoring row with 13.33% missing data\nIgnoring row with 73.33% missing data\nIgnoring row with 66.67% missing data\nIgnoring row with 13.33% missing data\nIgnoring row with 30.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 23.33% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 26.67% missing data\nIgnoring row with 30.00% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 73.33% missing data\nIgnoring row with 63.33% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 33.33% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 60.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 36.67% missing data\nIgnoring row with 43.33% missing data\nIgnoring row with 13.33% missing data\nIgnoring row with 13.33% missing data\nIgnoring row with 60.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 53.33% missing data\nIgnoring row with 33.33% missing data\nIgnoring row with 13.33% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 83.33% missing data\nIgnoring row with 86.67% missing data\nIgnoring row with 70.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 43.33% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 63.33% missing data\nIgnoring row with 63.33% missing data\nIgnoring row with 26.67% missing data\nIgnoring row with 60.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 33.33% missing data\nIgnoring row with 96.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 80.00% missing data\nIgnoring row with 43.33% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 70.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 83.33% missing data\nIgnoring row with 83.33% missing data\nIgnoring row with 30.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 30.00% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 76.67% missing data\nIgnoring row with 73.33% missing data\nIgnoring row with 70.00% missing data\nIgnoring row with 36.67% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 36.67% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 63.33% missing data\nIgnoring row with 13.33% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 26.67% missing data\nIgnoring row with 90.00% missing data\nIgnoring row with 23.33% missing data\nIgnoring row with 33.33% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 80.00% missing data\nIgnoring row with 33.33% missing data\nIgnoring row with 30.00% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 33.33% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 13.33% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 16.67% missing data\n"},"children":[],"key":"BW68f90AKx"}],"key":"T36gCeufSP"}],"key":"OGvzt7xp9a"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:09.583143Z","iopub.status.busy":"2024-10-21T11:07:09.582811Z","iopub.status.idle":"2024-10-21T11:07:09.670381Z","shell.execute_reply":"2024-10-21T11:07:09.667037Z","shell.execute_reply.started":"2024-10-21T11:07:09.583127Z"},"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_meal_data_2 = []\nfor row in meal_data_matrix_2:\n\n    proportion_missing_data = np.isnan(row).mean()\n\n    if proportion_missing_data > dump_thresold:\n\n        # Ignore this row\n        print(f\"Ignoring row with {proportion_missing_data*100:.2f}% missing data\")\n        continue\n\n    else:\n        # The data is good, use it\n        cleaned_meal_data_2.append(row)","key":"LLzWSF73J1"},{"type":"outputs","id":"eaMqnHu2yIXPk6cPLyZZ4","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Ignoring row with 43.33% missing data\nIgnoring row with 43.33% missing data\nIgnoring row with 30.00% missing data\nIgnoring row with 63.33% missing data\nIgnoring row with 36.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 66.67% missing data\nIgnoring row with 26.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 56.67% missing data\nIgnoring row with 53.33% missing data\nIgnoring row with 70.00% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 13.33% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 60.00% missing data\nIgnoring row with 80.00% missing data\nIgnoring row with 36.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 56.67% missing data\nIgnoring row with 63.33% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 26.67% missing data\nIgnoring row with 13.33% missing data\nIgnoring row with 73.33% missing data\nIgnoring row with 36.67% missing data\nIgnoring row with 23.33% missing data\nIgnoring row with 13.33% missing data\nIgnoring row with 13.33% missing data\nIgnoring row with 13.33% missing data\nIgnoring row with 36.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 26.67% missing data\nIgnoring row with 26.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 20.00% missing data\n"},"children":[],"key":"ztmWQwLkpu"}],"key":"p9bQyv25OQ"}],"key":"gRdBYhJUcJ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:09.682496Z","iopub.status.busy":"2024-10-21T11:07:09.682185Z","iopub.status.idle":"2024-10-21T11:07:09.735377Z","shell.execute_reply":"2024-10-21T11:07:09.734493Z","shell.execute_reply.started":"2024-10-21T11:07:09.682479Z"},"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_meal_data_1[0]","key":"VDRhw3oiZC"},{"type":"outputs","id":"ljrAMF18S4DhXSnYZa7tN","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":84,"metadata":{},"data":{"text/plain":{"content":"array([121., 120., 115., 110., 106., 103., 103., 101.,  nan, 131., 109.,\n        82.,  74.,  66.,  73.,  82.,  87.,  90.,  83.,  73.,  49.,  58.,\n        69.,  79.,  nan,  93.,  92.,  86.,  84.,  80.])","content_type":"text/plain"}}},"children":[],"key":"Zg1DDtqt2M"}],"key":"sCuJCpRM9c"}],"key":"qe3o67KvdK"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:09.738166Z","iopub.status.busy":"2024-10-21T11:07:09.737977Z","iopub.status.idle":"2024-10-21T11:07:09.944610Z","shell.execute_reply":"2024-10-21T11:07:09.943697Z","shell.execute_reply.started":"2024-10-21T11:07:09.738151Z"},"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_meal_data_2[0]","key":"jKiYJfM6q8"},{"type":"outputs","id":"FvJhllkEiC4VmblTUKF95","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":85,"metadata":{},"data":{"text/plain":{"content":"array([390., 391., 389., 383., 375., 368., 357., 349., 336., 326., 315.,\n       305., 295., 286., 279., 273., 268., 259., 252., 246., 238., 229.,\n       218., 206., 195., 192., 181., 165., 139., 133.])","content_type":"text/plain"}}},"children":[],"key":"rvhjm6nYki"}],"key":"YY9t8zg85u"}],"key":"KsDa0tt4Tj"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Convert Cleaned Meal Data List into a Matrix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AhCEiBIouX"}],"identifier":"convert-cleaned-meal-data-list-into-a-matrix","label":"Convert Cleaned Meal Data List into a Matrix","html_id":"convert-cleaned-meal-data-list-into-a-matrix","implicit":true,"key":"p5wgnR56kD"}],"key":"QS38gH4WMC"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:09.945870Z","iopub.status.busy":"2024-10-21T11:07:09.945567Z","iopub.status.idle":"2024-10-21T11:07:10.024160Z","shell.execute_reply":"2024-10-21T11:07:10.017134Z","shell.execute_reply.started":"2024-10-21T11:07:09.945851Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_meal_data_matrix_1 = \\\n    np.array(cleaned_meal_data_1)","key":"uLeOQzk5xb"},{"type":"outputs","id":"4stMncVYzPZNigaF4Fwx8","children":[],"key":"wkAKwgEeHv"}],"key":"HfC4YRljzx"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:10.025075Z","iopub.status.busy":"2024-10-21T11:07:10.024831Z","iopub.status.idle":"2024-10-21T11:07:10.155121Z","shell.execute_reply":"2024-10-21T11:07:10.115892Z","shell.execute_reply.started":"2024-10-21T11:07:10.025057Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_meal_data_matrix_2 = \\\n    np.array(cleaned_meal_data_2)","key":"wV0zJf1w6P"},{"type":"outputs","id":"jgO3eh-2YXNYnNrFYC4JZ","children":[],"key":"L9aLL1yrz7"}],"key":"sS47r6lO0J"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Use KNN to Impute NaNs in Cleaned Meal Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"s6J6AmB18B"}],"identifier":"use-knn-to-impute-nans-in-cleaned-meal-data","label":"Use KNN to Impute NaNs in Cleaned Meal Data","html_id":"use-knn-to-impute-nans-in-cleaned-meal-data","implicit":true,"key":"uX3zfNje6e"}],"key":"dsmwUVGSWR"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:10.160459Z","iopub.status.busy":"2024-10-21T11:07:10.160218Z","iopub.status.idle":"2024-10-21T11:07:10.438649Z","shell.execute_reply":"2024-10-21T11:07:10.411096Z","shell.execute_reply.started":"2024-10-21T11:07:10.160441Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_meal_matrix_1 = knn_imputer.fit_transform(cleaned_meal_data_matrix_1)","key":"ew2oSXRP3S"},{"type":"outputs","id":"9ZBHOMr0OcwH1hErjRNKH","children":[],"key":"wE8OXeB7ZM"}],"key":"YKwb7PzBvr"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:10.472565Z","iopub.status.busy":"2024-10-21T11:07:10.455666Z","iopub.status.idle":"2024-10-21T11:07:10.592694Z","shell.execute_reply":"2024-10-21T11:07:10.560999Z","shell.execute_reply.started":"2024-10-21T11:07:10.472528Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_meal_matrix_2 = knn_imputer.fit_transform(cleaned_meal_data_matrix_2)","key":"nyuhcFC7qC"},{"type":"outputs","id":"xJec1IewQxogeJNg0yr0k","children":[],"key":"QumNGjzjik"}],"key":"kI9NS7q8Pp"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:10.646843Z","iopub.status.busy":"2024-10-21T11:07:10.636911Z","iopub.status.idle":"2024-10-21T11:07:10.828102Z","shell.execute_reply":"2024-10-21T11:07:10.827390Z","shell.execute_reply.started":"2024-10-21T11:07:10.646805Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_meal_matrix_1[0]","key":"ViM8u6XNjK"},{"type":"outputs","id":"XKBocXGcINHTYK7X2z2os","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":90,"metadata":{},"data":{"text/plain":{"content":"array([121.        , 120.        , 115.        , 110.        ,\n       106.        , 103.        , 103.        , 101.        ,\n        99.71428571, 131.        , 109.        ,  82.        ,\n        74.        ,  66.        ,  73.        ,  82.        ,\n        87.        ,  90.        ,  83.        ,  73.        ,\n        49.        ,  58.        ,  69.        ,  79.        ,\n        75.85714286,  93.        ,  92.        ,  86.        ,\n        84.        ,  80.        ])","content_type":"text/plain"}}},"children":[],"key":"I0Gg7atS2N"}],"key":"qq78md9Mp1"}],"key":"vJtlL0a0jQ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:10.849184Z","iopub.status.busy":"2024-10-21T11:07:10.843613Z","iopub.status.idle":"2024-10-21T11:07:11.070925Z","shell.execute_reply":"2024-10-21T11:07:11.070441Z","shell.execute_reply.started":"2024-10-21T11:07:10.849152Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_meal_matrix_1.shape","key":"T7iWlhMk5a"},{"type":"outputs","id":"X6g_0pAn699VI_lfkxaIZ","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":91,"metadata":{},"data":{"text/plain":{"content":"(619, 30)","content_type":"text/plain"}}},"children":[],"key":"NvY2wI7vvm"}],"key":"UglW5KHniT"}],"key":"cv36YL4wOq"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:11.071604Z","iopub.status.busy":"2024-10-21T11:07:11.071357Z","iopub.status.idle":"2024-10-21T11:07:11.126669Z","shell.execute_reply":"2024-10-21T11:07:11.122625Z","shell.execute_reply.started":"2024-10-21T11:07:11.071582Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_meal_matrix_2[0]","key":"L060c7Egxc"},{"type":"outputs","id":"C4hVRQCL6Z9rsVT76W-4L","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":92,"metadata":{},"data":{"text/plain":{"content":"array([390., 391., 389., 383., 375., 368., 357., 349., 336., 326., 315.,\n       305., 295., 286., 279., 273., 268., 259., 252., 246., 238., 229.,\n       218., 206., 195., 192., 181., 165., 139., 133.])","content_type":"text/plain"}}},"children":[],"key":"tUISkEBaZg"}],"key":"VRoJqIyYDN"}],"key":"qu8bwODnKc"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:11.136212Z","iopub.status.busy":"2024-10-21T11:07:11.135861Z","iopub.status.idle":"2024-10-21T11:07:11.366609Z","shell.execute_reply":"2024-10-21T11:07:11.349997Z","shell.execute_reply.started":"2024-10-21T11:07:11.136192Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_meal_matrix_2.shape","key":"wR35p5AyPp"},{"type":"outputs","id":"TcRmqZQ83wA1EqmIR_HZ0","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":93,"metadata":{},"data":{"text/plain":{"content":"(325, 30)","content_type":"text/plain"}}},"children":[],"key":"yuiWE6VuAU"}],"key":"TMKjA4prBA"}],"key":"lSxRw3WGeu"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Parse No Meal Data and Handle Missing Values","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RWo1PyYF26"}],"identifier":"parse-no-meal-data-and-handle-missing-values","label":"Parse No Meal Data and Handle Missing Values","html_id":"parse-no-meal-data-and-handle-missing-values","implicit":true,"key":"DZfNKMiBPQ"}],"key":"tF2SBqn2Wb"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:11.380451Z","iopub.status.busy":"2024-10-21T11:07:11.380094Z","iopub.status.idle":"2024-10-21T11:07:11.579719Z","shell.execute_reply":"2024-10-21T11:07:11.579069Z","shell.execute_reply.started":"2024-10-21T11:07:11.380432Z"},"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_no_meal_data_1 = []\nfor row in no_meal_data_matrix_1:\n\n    proportion_missing_data = np.isnan(row).mean()\n\n    if proportion_missing_data > dump_thresold:\n\n        # Ignore this row\n        print(f\"Ignoring row with {proportion_missing_data*100:.2f}% missing data\")\n        continue\n\n    else:\n        # The data is good, use it\n        cleaned_no_meal_data_1.append(row)","key":"BViDNLno7M"},{"type":"outputs","id":"s5weVhZ4qXVVJkKs-2kBh","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Ignoring row with 20.83% missing data\nIgnoring row with 58.33% missing data\nIgnoring row with 12.50% missing data\nIgnoring row with 33.33% missing data\nIgnoring row with 12.50% missing data\nIgnoring row with 41.67% missing data\nIgnoring row with 79.17% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 66.67% missing data\nIgnoring row with 50.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 29.17% missing data\nIgnoring row with 12.50% missing data\nIgnoring row with 66.67% missing data\nIgnoring row with 83.33% missing data\nIgnoring row with 12.50% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 20.83% missing data\nIgnoring row with 54.17% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 91.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 12.50% missing data\nIgnoring row with 12.50% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 12.50% missing data\nIgnoring row with 12.50% missing data\nIgnoring row with 79.17% missing data\nIgnoring row with 62.50% missing data\nIgnoring row with 54.17% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 12.50% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 50.00% missing data\nIgnoring row with 12.50% missing data\nIgnoring row with 37.50% missing data\nIgnoring row with 91.67% missing data\nIgnoring row with 87.50% missing data\nIgnoring row with 66.67% missing data\nIgnoring row with 41.67% missing data\nIgnoring row with 87.50% missing data\nIgnoring row with 41.67% missing data\nIgnoring row with 87.50% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 12.50% missing data\nIgnoring row with 41.67% missing data\nIgnoring row with 29.17% missing data\nIgnoring row with 100.00% missing data\n"},"children":[],"key":"jpKoRQol6I"}],"key":"mO9PnNr7L7"}],"key":"IAbw5M1gGk"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:11.592373Z","iopub.status.busy":"2024-10-21T11:07:11.584622Z","iopub.status.idle":"2024-10-21T11:07:11.814637Z","shell.execute_reply":"2024-10-21T11:07:11.810072Z","shell.execute_reply.started":"2024-10-21T11:07:11.592341Z"},"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_no_meal_data_2 = []\nfor row in no_meal_data_matrix_2:\n\n    proportion_missing_data = np.isnan(row).mean()\n\n    if proportion_missing_data > dump_thresold:\n\n        # Ignore this row\n        print(f\"Ignoring row with {proportion_missing_data*100:.2f}% missing data\")\n        continue\n\n    else:\n        # The data is good, use it\n        cleaned_no_meal_data_2.append(row)","key":"YsKb8sqOm4"},{"type":"outputs","id":"aKAmRc07jpKLv7o9gF3JN","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Ignoring row with 54.17% missing data\nIgnoring row with 54.17% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 83.33% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 58.33% missing data\nIgnoring row with 37.50% missing data\nIgnoring row with 50.00% missing data\nIgnoring row with 37.50% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 70.83% missing data\nIgnoring row with 29.17% missing data\nIgnoring row with 45.83% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 79.17% missing data\nIgnoring row with 75.00% missing data\nIgnoring row with 62.50% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 91.67% missing data\nIgnoring row with 20.83% missing data\nIgnoring row with 29.17% missing data\nIgnoring row with 20.83% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 33.33% missing data\nIgnoring row with 37.50% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 45.83% missing data\nIgnoring row with 16.67% missing data\n"},"children":[],"key":"PiHQAfEQfb"}],"key":"cK9VmrBfLU"}],"key":"AdSzd0thy9"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:11.826774Z","iopub.status.busy":"2024-10-21T11:07:11.824273Z","iopub.status.idle":"2024-10-21T11:07:12.156206Z","shell.execute_reply":"2024-10-21T11:07:12.155619Z","shell.execute_reply.started":"2024-10-21T11:07:11.826746Z"},"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_no_meal_data_1[0]","key":"u9OnEA8Lfl"},{"type":"outputs","id":"qNaorJXJ-jF4tpQlFDRJv","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":96,"metadata":{},"data":{"text/plain":{"content":"array([121., 120., 115., 110., 106., 103., 103., 101.,  nan, 131., 109.,\n        82.,  74.,  66.,  73.,  82.,  87.,  90.,  83.,  73.,  49.,  58.,\n        69.,  79.])","content_type":"text/plain"}}},"children":[],"key":"N7eieh5Vbo"}],"key":"cHVPBzX2wo"}],"key":"OZeOqHQxOa"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:12.179393Z","iopub.status.busy":"2024-10-21T11:07:12.173540Z","iopub.status.idle":"2024-10-21T11:07:12.376963Z","shell.execute_reply":"2024-10-21T11:07:12.359823Z","shell.execute_reply.started":"2024-10-21T11:07:12.179361Z"},"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_no_meal_data_2[0]","key":"CFjUW3iLNt"},{"type":"outputs","id":"NkP37oUCSdyohdrbnliWq","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":97,"metadata":{},"data":{"text/plain":{"content":"array([390., 391., 389., 383., 375., 368., 357., 349., 336., 326., 315.,\n       305., 295., 286., 279., 273., 268., 259., 252., 246., 238., 229.,\n       218., 206.])","content_type":"text/plain"}}},"children":[],"key":"aSwJf721HF"}],"key":"Nin3QkM0Fp"}],"key":"SqTUfyqzZE"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:12.386673Z","iopub.status.busy":"2024-10-21T11:07:12.386355Z","iopub.status.idle":"2024-10-21T11:07:12.574130Z","shell.execute_reply":"2024-10-21T11:07:12.570258Z","shell.execute_reply.started":"2024-10-21T11:07:12.386655Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_no_meal_data_1[0].shape","key":"BqGq0Ek5tv"},{"type":"outputs","id":"lLL6XumgEo7Uf6DV0Jd0L","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":98,"metadata":{},"data":{"text/plain":{"content":"(24,)","content_type":"text/plain"}}},"children":[],"key":"Vix4FCuaWj"}],"key":"Ta5I2okyLZ"}],"key":"UA3BK7vLZ3"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:12.594698Z","iopub.status.busy":"2024-10-21T11:07:12.594369Z","iopub.status.idle":"2024-10-21T11:07:12.984825Z","shell.execute_reply":"2024-10-21T11:07:12.926401Z","shell.execute_reply.started":"2024-10-21T11:07:12.594679Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_no_meal_data_2[0].shape","key":"MFZM1tQ9vO"},{"type":"outputs","id":"FOoOgQtrhGpz0R-s-0WYO","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":99,"metadata":{},"data":{"text/plain":{"content":"(24,)","content_type":"text/plain"}}},"children":[],"key":"XYDu5vSuK0"}],"key":"juUgAHsZvR"}],"key":"YOqzurwiFB"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Convert Cleaned No Meal Data List into a Matrix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"D9AA9oiUPG"}],"identifier":"convert-cleaned-no-meal-data-list-into-a-matrix","label":"Convert Cleaned No Meal Data List into a Matrix","html_id":"convert-cleaned-no-meal-data-list-into-a-matrix","implicit":true,"key":"Wc68Y1VttJ"}],"key":"IoehWZkrv8"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:12.986614Z","iopub.status.busy":"2024-10-21T11:07:12.986284Z","iopub.status.idle":"2024-10-21T11:07:13.048927Z","shell.execute_reply":"2024-10-21T11:07:13.048484Z","shell.execute_reply.started":"2024-10-21T11:07:12.986591Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_no_meal_data_matrix_1 = \\\n    np.array(cleaned_no_meal_data_1)","key":"pKBtxcNd5P"},{"type":"outputs","id":"JUzE7tRYxsilNllLLdGMP","children":[],"key":"BWWmhcBcIQ"}],"key":"IxcFrQYXis"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:13.049441Z","iopub.status.busy":"2024-10-21T11:07:13.049305Z","iopub.status.idle":"2024-10-21T11:07:13.160145Z","shell.execute_reply":"2024-10-21T11:07:13.156969Z","shell.execute_reply.started":"2024-10-21T11:07:13.049427Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_no_meal_data_matrix_2 = \\\n    np.array(cleaned_no_meal_data_2)","key":"ujFrOe0xmq"},{"type":"outputs","id":"13owRQ4ttoWO1bIkRi-16","children":[],"key":"vYtA8OFpYE"}],"key":"QJ6qvEJFNU"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Use KNN to Impute NaNs in Cleaned No Meal Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"YU31kEi9eC"}],"identifier":"use-knn-to-impute-nans-in-cleaned-no-meal-data","label":"Use KNN to Impute NaNs in Cleaned No Meal Data","html_id":"use-knn-to-impute-nans-in-cleaned-no-meal-data","implicit":true,"key":"jCN0mlaSWf"}],"key":"HoIsi6oTRm"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:13.166264Z","iopub.status.busy":"2024-10-21T11:07:13.160586Z","iopub.status.idle":"2024-10-21T11:07:13.404472Z","shell.execute_reply":"2024-10-21T11:07:13.400854Z","shell.execute_reply.started":"2024-10-21T11:07:13.166227Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_no_meal_matrix_1 = knn_imputer.fit_transform(cleaned_no_meal_data_matrix_1)","key":"ZLBlpNB2L7"},{"type":"outputs","id":"t-R63v4PMDHkaehXCaIDA","children":[],"key":"qwd4XPFcRH"}],"key":"aKsaOkOvFC"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:13.416435Z","iopub.status.busy":"2024-10-21T11:07:13.416191Z","iopub.status.idle":"2024-10-21T11:07:13.814093Z","shell.execute_reply":"2024-10-21T11:07:13.812235Z","shell.execute_reply.started":"2024-10-21T11:07:13.416418Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_no_meal_matrix_2 = knn_imputer.fit_transform(cleaned_no_meal_data_matrix_2)","key":"cWEwKJlMBk"},{"type":"outputs","id":"gO7r-p9-rxl2WiIuhjrzk","children":[],"key":"sDj1y2OcL0"}],"key":"pVUF3Doxn7"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:13.816091Z","iopub.status.busy":"2024-10-21T11:07:13.815844Z","iopub.status.idle":"2024-10-21T11:07:13.976786Z","shell.execute_reply":"2024-10-21T11:07:13.973756Z","shell.execute_reply.started":"2024-10-21T11:07:13.816074Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_no_meal_matrix_1[0]","key":"uxd93yh1bf"},{"type":"outputs","id":"0Wndq0Sgo2kgt30SHnmad","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":104,"metadata":{},"data":{"text/plain":{"content":"array([121.        , 120.        , 115.        , 110.        ,\n       106.        , 103.        , 103.        , 101.        ,\n       103.85714286, 131.        , 109.        ,  82.        ,\n        74.        ,  66.        ,  73.        ,  82.        ,\n        87.        ,  90.        ,  83.        ,  73.        ,\n        49.        ,  58.        ,  69.        ,  79.        ])","content_type":"text/plain"}}},"children":[],"key":"uiJvLOUi5M"}],"key":"WBrjGbV2Ws"}],"key":"v7aFuSvFMV"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:14.005079Z","iopub.status.busy":"2024-10-21T11:07:13.996352Z","iopub.status.idle":"2024-10-21T11:07:14.380468Z","shell.execute_reply":"2024-10-21T11:07:14.319703Z","shell.execute_reply.started":"2024-10-21T11:07:14.005045Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_no_meal_matrix_2[0]","key":"B9ggrzVrFx"},{"type":"outputs","id":"3fJbycBlsZvzJbQMgUlFn","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":105,"metadata":{},"data":{"text/plain":{"content":"array([390., 391., 389., 383., 375., 368., 357., 349., 336., 326., 315.,\n       305., 295., 286., 279., 273., 268., 259., 252., 246., 238., 229.,\n       218., 206.])","content_type":"text/plain"}}},"children":[],"key":"ZOjCrEJAmp"}],"key":"z2ekbm1FoL"}],"key":"qwJ4Gv3kll"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize Cleaned Imputed Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"k8DSb3Nds5"}],"identifier":"visualize-cleaned-imputed-data","label":"Visualize Cleaned Imputed Data","html_id":"visualize-cleaned-imputed-data","implicit":true,"key":"sGnoookDQG"}],"key":"k6UVjg29Ln"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize Cleaned Imputed Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"keqaVKKc5E"}],"identifier":"visualize-cleaned-imputed-meal-data-matrix-1","label":"Visualize Cleaned Imputed Meal Data Matrix 1","html_id":"visualize-cleaned-imputed-meal-data-matrix-1","implicit":true,"key":"yDyAbj1ap3"}],"key":"t181YYleks"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Heatmap of Cleaned Imputed Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Y0BbasQGid"}],"identifier":"heatmap-of-cleaned-imputed-meal-data-matrix-1","label":"Heatmap of Cleaned Imputed Meal Data Matrix 1","html_id":"heatmap-of-cleaned-imputed-meal-data-matrix-1","implicit":true,"key":"P44FRrMh0e"}],"key":"J8sCl8oSJn"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:14.390191Z","iopub.status.busy":"2024-10-21T11:07:14.387313Z","iopub.status.idle":"2024-10-21T11:07:16.521261Z","shell.execute_reply":"2024-10-21T11:07:16.506412Z","shell.execute_reply.started":"2024-10-21T11:07:14.390167Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the heatmap\nsampled_meal_data_matrix_1 = cleaned_imputed_meal_matrix_1[np.random.choice(cleaned_imputed_meal_matrix_1.shape[0], 200, replace=False)]\nplt.figure(figsize=(30, 30))\nsns.heatmap(sampled_meal_data_matrix_1, cmap='YlGnBu', linewidths=0.5, annot=False, vmin=None, vmax=None)\nplt.title('Heatmap of Meal Data Matrix 1', fontsize=30)\nplt.xlabel('Time Points', fontsize=26)\nplt.ylabel('Meals (Samples)', fontsize=26)\n\n# Change font properties for the x and y tick labels\nplt.xticks(fontsize=16)\nplt.yticks(fontsize=16)\n\nplt.show()","key":"zMEHN0aAsN"},{"type":"outputs","id":"hfMBFkcoqmw9_hL5bSVdS","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"afc0f68d7cc75c3160f17cbdfd91b534","path":"/build/afc0f68d7cc75c3160f17cbdfd91b534.png"},"text/plain":{"content":"<Figure size 3000x3000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"aRxJkqx2I3"}],"key":"pRIvekjerm"}],"key":"FixIcndBKU"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Surface Plot of Cleaned Imputed Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"LdsgnACyqJ"}],"identifier":"surface-plot-of-cleaned-imputed-meal-data-matrix-1","label":"Surface Plot of Cleaned Imputed Meal Data Matrix 1","html_id":"surface-plot-of-cleaned-imputed-meal-data-matrix-1","implicit":true,"key":"NjWq2yBWAj"}],"key":"HeGlEjBzvL"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:16.521958Z","iopub.status.busy":"2024-10-21T11:07:16.521770Z","iopub.status.idle":"2024-10-21T11:07:16.560167Z","shell.execute_reply":"2024-10-21T11:07:16.559631Z","shell.execute_reply.started":"2024-10-21T11:07:16.521941Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create X, Y meshgrid\nX = np.arange(cleaned_imputed_meal_matrix_1.shape[1])\nY = np.arange(cleaned_imputed_meal_matrix_1.shape[0])\ntime_points = np.linspace(-30, 120, 30)  # X-axis: from -30 minutes to +120 minutes (30 time points)\nmeal_numbers = np.arange(1, len(meal_data_1) + 1)\nX, Y = np.meshgrid(time_points, Y)\n#X, Y = np.meshgrid(time_points, meal_numbers)","key":"C2R1gi0QmS"},{"type":"outputs","id":"Y6gJeXL3IlOvR3-05aRI9","children":[],"key":"yFWRkW1Ter"}],"key":"T6MVm80Xbd"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:16.590091Z","iopub.status.busy":"2024-10-21T11:07:16.584539Z","iopub.status.idle":"2024-10-21T11:07:17.000422Z","shell.execute_reply":"2024-10-21T11:07:16.950769Z","shell.execute_reply.started":"2024-10-21T11:07:16.590062Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X","key":"FqsVjaxTbI"},{"type":"outputs","id":"I8Asgf9cClxN_M6Q1MOyl","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":108,"metadata":{},"data":{"text/plain":{"content":"array([[-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       ...,\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ]])","content_type":"text/plain"}}},"children":[],"key":"pF8F8T4jqW"}],"key":"j9LE6v2Nob"}],"key":"yH1sOcDtQE"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:17.006160Z","iopub.status.busy":"2024-10-21T11:07:17.005961Z","iopub.status.idle":"2024-10-21T11:07:17.236860Z","shell.execute_reply":"2024-10-21T11:07:17.196229Z","shell.execute_reply.started":"2024-10-21T11:07:17.006145Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X.shape","key":"yX9FH6hjuK"},{"type":"outputs","id":"8faeoCLh_eSmDArVxnpa2","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":109,"metadata":{},"data":{"text/plain":{"content":"(619, 30)","content_type":"text/plain"}}},"children":[],"key":"XxXRSziDHv"}],"key":"F10L8HdF0x"}],"key":"WqlQCG3cAO"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:17.266998Z","iopub.status.busy":"2024-10-21T11:07:17.266772Z","iopub.status.idle":"2024-10-21T11:07:17.676789Z","shell.execute_reply":"2024-10-21T11:07:17.637874Z","shell.execute_reply.started":"2024-10-21T11:07:17.266983Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y","key":"DM7o0x9bbU"},{"type":"outputs","id":"CIb7ClnXrv0VdC0gPCJzk","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":110,"metadata":{},"data":{"text/plain":{"content":"array([[  0,   0,   0, ...,   0,   0,   0],\n       [  1,   1,   1, ...,   1,   1,   1],\n       [  2,   2,   2, ...,   2,   2,   2],\n       ...,\n       [616, 616, 616, ..., 616, 616, 616],\n       [617, 617, 617, ..., 617, 617, 617],\n       [618, 618, 618, ..., 618, 618, 618]])","content_type":"text/plain"}}},"children":[],"key":"XhvvbnsV2x"}],"key":"OZqjXoHUpD"}],"key":"ziQiYs4Kyt"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:17.691647Z","iopub.status.busy":"2024-10-21T11:07:17.687149Z","iopub.status.idle":"2024-10-21T11:07:17.980177Z","shell.execute_reply":"2024-10-21T11:07:17.945367Z","shell.execute_reply.started":"2024-10-21T11:07:17.691612Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Fill NaNs using forward fill, then backward fill\nmeal_data_matrix_1_df = pd.DataFrame(cleaned_imputed_meal_matrix_1)\nmeal_data_matrix_1_filled = meal_data_matrix_1_df.ffill().bfill().values","key":"JyBkyKdxne"},{"type":"outputs","id":"21h8by0Wr2bWa67OMFEeM","children":[],"key":"QMwHRanHPi"}],"key":"VMjDPNQ3RR"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:17.981069Z","iopub.status.busy":"2024-10-21T11:07:17.980888Z","iopub.status.idle":"2024-10-21T11:07:18.164150Z","shell.execute_reply":"2024-10-21T11:07:18.159501Z","shell.execute_reply.started":"2024-10-21T11:07:17.981054Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Apply a moving average smoothing to each row\nwindow_size = 3  # Choose a window size for smoothing\nsmoothed_meal_data_matrix_1 = np.array([uniform_filter1d(row, size=window_size) for row in meal_data_matrix_1_filled])","key":"VMXmNK1EcA"},{"type":"outputs","id":"2Y5Zm1acKbyJX_pKbdvqm","children":[],"key":"mhXPyJsCuJ"}],"key":"q081wxd03Q"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:18.175454Z","iopub.status.busy":"2024-10-21T11:07:18.175211Z","iopub.status.idle":"2024-10-21T11:07:18.863375Z","shell.execute_reply":"2024-10-21T11:07:18.862774Z","shell.execute_reply.started":"2024-10-21T11:07:18.175438Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the plot\nfig = plt.figure(figsize=(10, 8))\nax = fig.add_subplot(111, projection='3d')\nstride = 100\n\n# Plot the surface\nsurface_plot = ax.plot_surface(X[::stride], Y[::stride], smoothed_meal_data_matrix_1[::stride], cmap='viridis', edgecolor='none')\nax.set_title('3D Surface Plot of Smoothed Averaged Meal Glucose Levels', y=0.985)\nax.set_xlabel('Time Relative to Start of Meal [minutes]', labelpad=10)\nax.set_ylabel('Meal Samples', labelpad=10)\n#ax.set_zlabel('Glucose Level (mg/dL)', labelpad=30)\n\n#ax.set_xticks(np.linspace(-30, 120, 7))\n\n# Adjust axis limits to create a zoom-out effect\n#ax.set_xlim(-30, 120)\nax.set_ylim(0, 800)\nax.set_zlim(0, 300)\n\nfig.colorbar(surface_plot, ax=ax, shrink=0.5, aspect=10, label='Glucose Level (mg/dL)')\n\n#plt.tight_layout()\nfig.subplots_adjust(left=0.01, right=1, top=0.9, bottom=0.1)\n\nax.view_init(elev=25, azim=-55)\n\nplt.show()","key":"JQUS97xb14"},{"type":"outputs","id":"mP4YHvJvf5PXps_vvOc1Z","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"8610e5d8597ff50c90111088edaf6301","path":"/build/8610e5d8597ff50c90111088edaf6301.png"},"text/plain":{"content":"<Figure size 1000x800 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"AX7rUxoHjE"}],"key":"g9gzKdHNnv"}],"key":"rWnkju6FKh"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Contour Plot of Cleaned Imputed Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nCtS99ddSX"}],"identifier":"contour-plot-of-cleaned-imputed-meal-data-matrix-1","label":"Contour Plot of Cleaned Imputed Meal Data Matrix 1","html_id":"contour-plot-of-cleaned-imputed-meal-data-matrix-1","implicit":true,"key":"UTD5l84w2z"}],"key":"CcLJTiQnw9"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:18.864585Z","iopub.status.busy":"2024-10-21T11:07:18.864309Z","iopub.status.idle":"2024-10-21T11:07:19.688716Z","shell.execute_reply":"2024-10-21T11:07:19.634419Z","shell.execute_reply.started":"2024-10-21T11:07:18.864567Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the contour plot\nplt.figure(figsize=(15, 10))\nplt.contourf(X, Y, meal_data_matrix_1_df, cmap='viridis', levels=30)\nplt.colorbar(label='Glucose Level (mg/dL)')\nplt.title('Contour Plot of Meal Glucose Levels')\nplt.xlabel('Time Points')\nplt.ylabel('Meal Samples')\nplt.show()","key":"z9RkRfUS3P"},{"type":"outputs","id":"FE2GZTTkaKyP4MZWilw83","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"8e605683861157585e3303ec82708e7f","path":"/build/8e605683861157585e3303ec82708e7f.png"},"text/plain":{"content":"<Figure size 1500x1000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"ERquJRqgxm"}],"key":"b9cvlk0K9i"}],"key":"Hu7fkW4FGv"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize Cleaned Imputed Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZJ8esx3iRb"}],"identifier":"visualize-cleaned-imputed-meal-data-matrix-2","label":"Visualize Cleaned Imputed Meal Data Matrix 2","html_id":"visualize-cleaned-imputed-meal-data-matrix-2","implicit":true,"key":"VR9suCLSkA"}],"key":"d2HfB10SVR"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Heatmap of Cleaned Imputed Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mfj4kYsxdT"}],"identifier":"heatmap-of-cleaned-imputed-meal-data-matrix-2","label":"Heatmap of Cleaned Imputed Meal Data Matrix 2","html_id":"heatmap-of-cleaned-imputed-meal-data-matrix-2","implicit":true,"key":"rwuRnhzyyW"}],"key":"z0BG8qUdce"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:19.689949Z","iopub.status.busy":"2024-10-21T11:07:19.689752Z","iopub.status.idle":"2024-10-21T11:07:20.979051Z","shell.execute_reply":"2024-10-21T11:07:20.974200Z","shell.execute_reply.started":"2024-10-21T11:07:19.689933Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the heatmap\nsampled_meal_data_matrix_2 = cleaned_imputed_meal_matrix_1[np.random.choice(cleaned_imputed_meal_matrix_2.shape[0], 200, replace=False)]\nplt.figure(figsize=(30, 30))\nsns.heatmap(sampled_meal_data_matrix_2, cmap='YlGnBu', linewidths=0.5, annot=False, vmin=None, vmax=None)\nplt.title('Heatmap of Meal Data Matrix 1')\nplt.xlabel('Time Points')\nplt.ylabel('Meals (Samples)')\nplt.show()","key":"TBLSdlE39j"},{"type":"outputs","id":"B-EELAte4XwtXtCHqqSsv","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"1e0a4d3bdbd027698eb4faf198a9fae8","path":"/build/1e0a4d3bdbd027698eb4faf198a9fae8.png"},"text/plain":{"content":"<Figure size 3000x3000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"hkLwbFdjp8"}],"key":"oEsWp8IQsj"}],"key":"dQUlWVCeXM"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Surface Plot of Cleaned Imputed Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ebLLWD4wSx"}],"identifier":"surface-plot-of-cleaned-imputed-meal-data-matrix-2","label":"Surface Plot of Cleaned Imputed Meal Data Matrix 2","html_id":"surface-plot-of-cleaned-imputed-meal-data-matrix-2","implicit":true,"key":"Bxh756NjMJ"}],"key":"XbSxJ6FLE9"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:20.980568Z","iopub.status.busy":"2024-10-21T11:07:20.980078Z","iopub.status.idle":"2024-10-21T11:07:21.140417Z","shell.execute_reply":"2024-10-21T11:07:21.104576Z","shell.execute_reply.started":"2024-10-21T11:07:20.980549Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create X, Y meshgrid\nX = np.arange(cleaned_imputed_meal_matrix_2.shape[1])\nY = np.arange(cleaned_imputed_meal_matrix_2.shape[0])\ntime_points = np.linspace(-30, 120, 30)  # X-axis: from -30 minutes to +120 minutes (30 time points)\nmeal_numbers = np.arange(1, len(meal_data_2) + 1)\nX, Y = np.meshgrid(time_points, Y)\n#X, Y = np.meshgrid(time_points, meal_numbers)","key":"ULGzKv1z84"},{"type":"outputs","id":"DEPRnhrVvFtMunJmaF1EA","children":[],"key":"KhMMJ4oXDY"}],"key":"eZ8CsIFXha"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:21.145141Z","iopub.status.busy":"2024-10-21T11:07:21.144950Z","iopub.status.idle":"2024-10-21T11:07:21.267925Z","shell.execute_reply":"2024-10-21T11:07:21.267432Z","shell.execute_reply.started":"2024-10-21T11:07:21.145126Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X","key":"fBPjza5GKA"},{"type":"outputs","id":"A3H_ID-pQt_x8HZFLZEdu","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":117,"metadata":{},"data":{"text/plain":{"content":"array([[-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       ...,\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ]])","content_type":"text/plain"}}},"children":[],"key":"EtQO515Yqu"}],"key":"a73D9JZi3N"}],"key":"IUrRFZkFww"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:21.279291Z","iopub.status.busy":"2024-10-21T11:07:21.279041Z","iopub.status.idle":"2024-10-21T11:07:21.622286Z","shell.execute_reply":"2024-10-21T11:07:21.544801Z","shell.execute_reply.started":"2024-10-21T11:07:21.279275Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X.shape","key":"f0NmVjQm7c"},{"type":"outputs","id":"GlUEBUr5sYWLNTUe_W2P6","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":118,"metadata":{},"data":{"text/plain":{"content":"(325, 30)","content_type":"text/plain"}}},"children":[],"key":"mHg6F6oImc"}],"key":"HUKiSshcZl"}],"key":"skREX7M3pv"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:21.623031Z","iopub.status.busy":"2024-10-21T11:07:21.622852Z","iopub.status.idle":"2024-10-21T11:07:21.789471Z","shell.execute_reply":"2024-10-21T11:07:21.783744Z","shell.execute_reply.started":"2024-10-21T11:07:21.623017Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y","key":"MD9UafUGdz"},{"type":"outputs","id":"kyW4O-L_m6htEWFkvrcJp","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":119,"metadata":{},"data":{"text/plain":{"content":"array([[  0,   0,   0, ...,   0,   0,   0],\n       [  1,   1,   1, ...,   1,   1,   1],\n       [  2,   2,   2, ...,   2,   2,   2],\n       ...,\n       [322, 322, 322, ..., 322, 322, 322],\n       [323, 323, 323, ..., 323, 323, 323],\n       [324, 324, 324, ..., 324, 324, 324]])","content_type":"text/plain"}}},"children":[],"key":"dZ11L1HNcQ"}],"key":"aWagzfvvXY"}],"key":"wsDQTYcfrZ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:21.791233Z","iopub.status.busy":"2024-10-21T11:07:21.790819Z","iopub.status.idle":"2024-10-21T11:07:22.000034Z","shell.execute_reply":"2024-10-21T11:07:21.963457Z","shell.execute_reply.started":"2024-10-21T11:07:21.791200Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Fill NaNs using forward fill, then backward fill\nmeal_data_matrix_2_df = pd.DataFrame(cleaned_imputed_meal_matrix_2)\nmeal_data_matrix_2_filled = meal_data_matrix_2_df.ffill().bfill().values","key":"jsAitfKx1U"},{"type":"outputs","id":"7IIvA7o14rZSGD3yTBcTh","children":[],"key":"DafZ1pZ3Z9"}],"key":"zjJvEwpV7J"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:22.017348Z","iopub.status.busy":"2024-10-21T11:07:22.017126Z","iopub.status.idle":"2024-10-21T11:07:22.320139Z","shell.execute_reply":"2024-10-21T11:07:22.289257Z","shell.execute_reply.started":"2024-10-21T11:07:22.017332Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Apply a moving average smoothing to each row\nwindow_size = 3  # Choose a window size for smoothing\nsmoothed_meal_data_matrix_2 = np.array([uniform_filter1d(row, size=window_size) for row in meal_data_matrix_2_filled])","key":"R9TrJrosky"},{"type":"outputs","id":"ub2ikBDLyAi4zKPgWDucV","children":[],"key":"zP3oIW3ZSN"}],"key":"Upuo23J30t"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:22.333909Z","iopub.status.busy":"2024-10-21T11:07:22.333693Z","iopub.status.idle":"2024-10-21T11:07:23.147497Z","shell.execute_reply":"2024-10-21T11:07:23.146243Z","shell.execute_reply.started":"2024-10-21T11:07:22.333893Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the plot\nfig = plt.figure(figsize=(10, 8))\nax = fig.add_subplot(111, projection='3d')\nstride = 100\n\n# Plot the surface\nsurface_plot = ax.plot_surface(X[::stride], Y[::stride], smoothed_meal_data_matrix_2[::stride], cmap='viridis', edgecolor='none')\nax.set_title('3D Surface Plot of Smoothed Averaged Meal Glucose Levels', y=0.985)\nax.set_xlabel('Time Relative to Start of Meal [minutes]', labelpad=10)\nax.set_ylabel('Meal Samples', labelpad=10)\n#ax.set_zlabel('Glucose Level (mg/dL)', labelpad=30)\n\n#ax.set_xticks(np.linspace(-30, 120, 7))\n\n# Adjust axis limits to create a zoom-out effect\n#ax.set_xlim(-30, 120)\n#ax.set_ylim(0, 800)\n#ax.set_zlim(0, 300)\n\nfig.colorbar(surface_plot, ax=ax, shrink=0.5, aspect=10, label='Glucose Level (mg/dL)')\n\n#plt.tight_layout()\nfig.subplots_adjust(left=0.01, right=1, top=0.9, bottom=0.1)\n\nax.view_init(elev=25, azim=-55)\n\nplt.show()","key":"K2MAHfRUtR"},{"type":"outputs","id":"LTxbLE71yrTlvwrXltIRn","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"a2c22604216cad76cf0e2eeeb83f600c","path":"/build/a2c22604216cad76cf0e2eeeb83f600c.png"},"text/plain":{"content":"<Figure size 1000x800 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"uZKcBlvza8"}],"key":"Hiz06wmNdN"}],"key":"mTsTp3u7Z4"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Contour Plot of Cleaned Imputed Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VpZT9I09SY"}],"identifier":"contour-plot-of-cleaned-imputed-meal-data-matrix-2","label":"Contour Plot of Cleaned Imputed Meal Data Matrix 2","html_id":"contour-plot-of-cleaned-imputed-meal-data-matrix-2","implicit":true,"key":"UDA9GHyK75"}],"key":"ozDgukyTuV"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:23.178295Z","iopub.status.busy":"2024-10-21T11:07:23.173300Z","iopub.status.idle":"2024-10-21T11:07:23.721337Z","shell.execute_reply":"2024-10-21T11:07:23.719801Z","shell.execute_reply.started":"2024-10-21T11:07:23.178263Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the contour plot\nplt.figure(figsize=(15, 10))\nplt.contourf(X, Y, meal_data_matrix_2_df, cmap='viridis', levels=30)\nplt.colorbar(label='Glucose Level (mg/dL)')\nplt.title('Contour Plot of Meal Glucose Levels')\nplt.xlabel('Time Points')\nplt.ylabel('Meal Samples')\nplt.show()","key":"LZOyVvccGg"},{"type":"outputs","id":"KHhZ4wL642KID52BZwci2","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"819acd09172e4c3beb5adb998974033c","path":"/build/819acd09172e4c3beb5adb998974033c.png"},"text/plain":{"content":"<Figure size 1500x1000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"uq7Ho0xcfm"}],"key":"fKhAI9HAHy"}],"key":"KMN0Sb0wnF"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Combine Patient 1 and Patient 2 Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lEHyafOAqB"}],"identifier":"combine-patient-1-and-patient-2-data","label":"Combine Patient 1 and Patient 2 Data","html_id":"combine-patient-1-and-patient-2-data","implicit":true,"key":"v39ypXPL6H"}],"key":"KCpG7ze9nL"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:23.722121Z","iopub.status.busy":"2024-10-21T11:07:23.721880Z","iopub.status.idle":"2024-10-21T11:07:23.751212Z","shell.execute_reply":"2024-10-21T11:07:23.727719Z","shell.execute_reply.started":"2024-10-21T11:07:23.722105Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_meal_matrix = \\\n    np.vstack((cleaned_imputed_meal_matrix_1, cleaned_imputed_meal_matrix_2))","key":"E2r4iwDpAi"},{"type":"outputs","id":"RyQjzyFJOPS8go5_7cl6D","children":[],"key":"i2Qz4sQN4q"}],"key":"WT5iy2JiTx"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:23.762760Z","iopub.status.busy":"2024-10-21T11:07:23.760466Z","iopub.status.idle":"2024-10-21T11:07:23.937758Z","shell.execute_reply":"2024-10-21T11:07:23.936653Z","shell.execute_reply.started":"2024-10-21T11:07:23.762737Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_no_meal_matrix = \\\n    np.vstack((cleaned_imputed_no_meal_matrix_1, cleaned_imputed_no_meal_matrix_2))","key":"KpMjdbQTBv"},{"type":"outputs","id":"cyAM71TE8W3ENZ6tUzNpr","children":[],"key":"EpewkcIGti"}],"key":"QtM3LtqvnO"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Feature Extraction","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AfNr8pGnPg"}],"identifier":"feature-extraction","label":"Feature Extraction","html_id":"feature-extraction","implicit":true,"key":"DdrwcIQVKs"}],"key":"T5nuphqarl"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Define Feature Extractor Helper Functions","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IJH1OZNpcq"}],"identifier":"define-feature-extractor-helper-functions","label":"Define Feature Extractor Helper Functions","html_id":"define-feature-extractor-helper-functions","implicit":true,"key":"sww3iwT723"}],"key":"HXe7QNLyXG"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:23.938893Z","iopub.status.busy":"2024-10-21T11:07:23.938540Z","iopub.status.idle":"2024-10-21T11:07:24.028517Z","shell.execute_reply":"2024-10-21T11:07:24.021972Z","shell.execute_reply.started":"2024-10-21T11:07:23.938875Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"def compute_first_derivative(glucose_data, delta_t=5):\n    return np.diff(glucose_data) / delta_t","key":"ptKCqS5II3"},{"type":"outputs","id":"PwUnN_7CKkVNbcLLlSsZG","children":[],"key":"ByFUj2DVrG"}],"key":"d8z2bZLhvi"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:24.029327Z","iopub.status.busy":"2024-10-21T11:07:24.029137Z","iopub.status.idle":"2024-10-21T11:07:24.278091Z","shell.execute_reply":"2024-10-21T11:07:24.195146Z","shell.execute_reply.started":"2024-10-21T11:07:24.029311Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"def compute_second_derivative(glucose_values, delta_t=5):\n    second_derivative = np.zeros(len(glucose_values) - 2)\n    for i in range(1, len(glucose_values) - 1):\n        second_derivative[i - 1] = \\\n            (glucose_values[i + 1] - 2 * glucose_values[i] + glucose_values[i - 1]) / (delta_t ** 2)\n    return second_derivative","key":"C0gJc2NWk4"},{"type":"outputs","id":"_zy4sqvIBx0aC8CKtvDq_","children":[],"key":"FXkuPLgbBp"}],"key":"Xk50Xw2hd7"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:24.278862Z","iopub.status.busy":"2024-10-21T11:07:24.278683Z","iopub.status.idle":"2024-10-21T11:07:24.557657Z","shell.execute_reply":"2024-10-21T11:07:24.448938Z","shell.execute_reply.started":"2024-10-21T11:07:24.278847Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"compute_first_derivative(cleaned_imputed_meal_matrix[0])","key":"ctURPBodL4"},{"type":"outputs","id":"PhliFuIFh2Gc0b4RTfaMA","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":128,"metadata":{},"data":{"text/plain":{"content":"array([-0.2       , -1.        , -1.        , -0.8       , -0.6       ,\n        0.        , -0.4       , -0.25714286,  6.25714286, -4.4       ,\n       -5.4       , -1.6       , -1.6       ,  1.4       ,  1.8       ,\n        1.        ,  0.6       , -1.4       , -2.        , -4.8       ,\n        1.8       ,  2.2       ,  2.        , -0.62857143,  3.42857143,\n       -0.2       , -1.2       , -0.4       , -0.8       ])","content_type":"text/plain"}}},"children":[],"key":"tesmU07RIK"}],"key":"RwN7PtMEev"}],"key":"CnvqnX1NRR"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:24.567565Z","iopub.status.busy":"2024-10-21T11:07:24.560214Z","iopub.status.idle":"2024-10-21T11:07:24.670246Z","shell.execute_reply":"2024-10-21T11:07:24.638731Z","shell.execute_reply.started":"2024-10-21T11:07:24.567543Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"compute_second_derivative(cleaned_imputed_meal_matrix[0])","key":"vgfc7RPBF3"},{"type":"outputs","id":"byIjm6zY-ih8gIlj7_h8P","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":129,"metadata":{},"data":{"text/plain":{"content":"array([-0.16      ,  0.        ,  0.04      ,  0.04      ,  0.12      ,\n       -0.08      ,  0.02857143,  1.30285714, -2.13142857, -0.2       ,\n        0.76      ,  0.        ,  0.6       ,  0.08      , -0.16      ,\n       -0.08      , -0.4       , -0.12      , -0.56      ,  1.32      ,\n        0.08      , -0.04      , -0.52571429,  0.81142857, -0.72571429,\n       -0.2       ,  0.16      , -0.08      ])","content_type":"text/plain"}}},"children":[],"key":"vyV7tYhgAP"}],"key":"b0x5TiRfm9"}],"key":"aouuC5Km0g"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:24.703556Z","iopub.status.busy":"2024-10-21T11:07:24.703298Z","iopub.status.idle":"2024-10-21T11:07:24.865155Z","shell.execute_reply":"2024-10-21T11:07:24.830233Z","shell.execute_reply.started":"2024-10-21T11:07:24.703540Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"def compute_AUC(glucose_values, delta_t=5):\n    return simpson(glucose_values, dx=delta_t)","key":"WW0wBkF8Vy"},{"type":"outputs","id":"loug0p1YCgpwN8EQsq4XO","children":[],"key":"VdgQvhY1t9"}],"key":"ssraVUHoi6"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Define Feature Extractor Function","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HJeNhyWeP3"}],"identifier":"define-feature-extractor-function","label":"Define Feature Extractor Function","html_id":"define-feature-extractor-function","implicit":true,"key":"MwfNuMO1O8"}],"key":"lcEflnI5WT"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:24.880898Z","iopub.status.busy":"2024-10-21T11:07:24.875008Z","iopub.status.idle":"2024-10-21T11:07:25.012600Z","shell.execute_reply":"2024-10-21T11:07:25.011439Z","shell.execute_reply.started":"2024-10-21T11:07:24.880870Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"def feature_extractor(data_matrix):\n\n    features = []\n\n    for row in data_matrix:\n        mean_glucose = np.mean(row)\n        std_glucose  = np.std(row)\n        max_glucose  = np.max(row)\n        min_glucose  = np.min(row)\n        \n        first_derivative = compute_first_derivative(row)\n        mean_first_derivate = np.mean(first_derivative)\n\n        if len(row) > 2:\n            second_derivative = compute_second_derivative(row)\n            mean_second_derivative = np.mean(second_derivative)\n        else:\n            mean_second_derivative = 0\n\n        AUC = compute_AUC(row)\n\n        time_to_peak = np.argmax(row)\n\n        features_vector = [\n            mean_glucose,\n            std_glucose,\n            max_glucose,\n            min_glucose,\n            mean_first_derivate,\n            mean_second_derivative,\n            AUC,\n            time_to_peak\n        ]\n\n        features.append(features_vector)\n    \n    return np.array(features)","identifier":"cse572_code_4-code","enumerator":"1","html_id":"cse572-code-4-code","key":"qA0LOUaW4h"},{"type":"outputs","id":"F_66pv7mEyGujBw7HVJvr","children":[],"identifier":"cse572_code_4-outputs","html_id":"cse572-code-4-outputs","key":"Ao8gHPa8sQ"}],"identifier":"cse572_code_4","label":"CSE572_Code_4","html_id":"cse572-code-4","key":"jJ4Tx2ihoV"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Get Feature Matrix for Cleaned Imputed Meal Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"otPvvKwUZM"}],"identifier":"get-feature-matrix-for-cleaned-imputed-meal-data","label":"Get Feature Matrix for Cleaned Imputed Meal Data","html_id":"get-feature-matrix-for-cleaned-imputed-meal-data","implicit":true,"key":"KTtChTu5zH"}],"key":"hw9D2XnYac"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:25.014362Z","iopub.status.busy":"2024-10-21T11:07:25.014040Z","iopub.status.idle":"2024-10-21T11:07:25.534940Z","shell.execute_reply":"2024-10-21T11:07:25.534480Z","shell.execute_reply.started":"2024-10-21T11:07:25.014338Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_features_matrix = feature_extractor(cleaned_imputed_meal_matrix)\nmeal_features_matrix[0]","key":"PRn4QyKhNc"},{"type":"outputs","id":"9f6OVzPbDWPskHB87v1Mg","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":132,"metadata":{},"data":{"text/plain":{"content":"array([ 8.98190476e+01,  1.91175360e+01,  1.31000000e+02,  4.90000000e+01,\n       -2.82758621e-01, -4.28571429e-03,  1.30310714e+04,  9.00000000e+00])","content_type":"text/plain"}}},"children":[],"key":"XufXsNuPS6"}],"key":"ClJAEcXYVT"}],"key":"tKGh0G8VAv"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Get Feature Matrix for Clean Imputed No Meal Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sVWuNWnQ3q"}],"identifier":"get-feature-matrix-for-clean-imputed-no-meal-data","label":"Get Feature Matrix for Clean Imputed No Meal Data","html_id":"get-feature-matrix-for-clean-imputed-no-meal-data","implicit":true,"key":"HCa9upnHtL"}],"key":"TtmFyEL4QP"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:25.535608Z","iopub.status.busy":"2024-10-21T11:07:25.535459Z","iopub.status.idle":"2024-10-21T11:07:26.000786Z","shell.execute_reply":"2024-10-21T11:07:25.962398Z","shell.execute_reply.started":"2024-10-21T11:07:25.535594Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"no_meal_features_matrix = feature_extractor(cleaned_imputed_no_meal_matrix)\nno_meal_features_matrix[0]","key":"ENcqg9kGbe"},{"type":"outputs","id":"vss1qT1SRWNQ-e90R3XD4","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":133,"metadata":{},"data":{"text/plain":{"content":"array([ 9.11607143e+01,  2.10808822e+01,  1.31000000e+02,  4.90000000e+01,\n       -3.65217391e-01,  2.00000000e-02,  1.04699405e+04,  9.00000000e+00])","content_type":"text/plain"}}},"children":[],"key":"QaTVYkbNvr"}],"key":"DgtU9wFm3M"}],"key":"jGo7RL92ek"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize The Meal Features Matrix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UhNUy6o6vN"}],"identifier":"visualize-the-meal-features-matrix","label":"Visualize The Meal Features Matrix","html_id":"visualize-the-meal-features-matrix","implicit":true,"key":"uzgMVJ3AnY"}],"key":"L3xSKSrtmB"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Normalize The Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HEzFhI8HAy"}],"identifier":"normalize-the-data","label":"Normalize The Data","html_id":"normalize-the-data","implicit":true,"key":"GOhp7QapaW"}],"key":"leduYCnlq2"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:26.006136Z","iopub.status.busy":"2024-10-21T11:07:26.005940Z","iopub.status.idle":"2024-10-21T11:07:26.188159Z","shell.execute_reply":"2024-10-21T11:07:26.160464Z","shell.execute_reply.started":"2024-10-21T11:07:26.006120Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"scaler = StandardScaler()\nscaled_meal_features_matrix = scaler.fit_transform(meal_features_matrix)\nscaled_no_meal_features_matrix = scaler.fit_transform(no_meal_features_matrix)","key":"nFCxarucCg"},{"type":"outputs","id":"WAMnCeHOS3Pzi3yB1JAVG","children":[],"key":"rxmgOoEhxJ"}],"key":"t3YKbRQa6T"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:26.194983Z","iopub.status.busy":"2024-10-21T11:07:26.194764Z","iopub.status.idle":"2024-10-21T11:07:26.498840Z","shell.execute_reply":"2024-10-21T11:07:26.476100Z","shell.execute_reply.started":"2024-10-21T11:07:26.194968Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"scaled_meal_features_matrix[0]","key":"t1ZI8gQg5f"},{"type":"outputs","id":"qDS4fahRobvSQfscQrg7i","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":135,"metadata":{},"data":{"text/plain":{"content":"array([-1.43931653, -0.6890434 , -1.43186426, -1.35409331, -0.73789252,\n       -0.2568468 , -1.42698567, -0.72547238])","content_type":"text/plain"}}},"children":[],"key":"XPfmgBUYh0"}],"key":"XbTGIadVWw"}],"key":"liF97pwwwW"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:26.499530Z","iopub.status.busy":"2024-10-21T11:07:26.499361Z","iopub.status.idle":"2024-10-21T11:07:26.598127Z","shell.execute_reply":"2024-10-21T11:07:26.597705Z","shell.execute_reply.started":"2024-10-21T11:07:26.499515Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"scaled_no_meal_features_matrix[0]","key":"BCHiPcDv2O"},{"type":"outputs","id":"Sp0hwd7QY2H0Yw1tKHvEy","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":136,"metadata":{},"data":{"text/plain":{"content":"array([-1.24861858, -0.24758492, -1.16121642, -1.39218291, -0.66468096,\n        1.06439767, -1.24077771, -0.41467362])","content_type":"text/plain"}}},"children":[],"key":"KOIiqNNGO9"}],"key":"Yx0vORZBgP"}],"key":"iR7ZTAuGqx"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot Features for all Rows","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OyhTHXTYOo"}],"identifier":"plot-features-for-all-rows","label":"Plot Features for all Rows","html_id":"plot-features-for-all-rows","implicit":true,"key":"ApXuhBPAok"}],"key":"DKlHRreWpc"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:26.601009Z","iopub.status.busy":"2024-10-21T11:07:26.600861Z","iopub.status.idle":"2024-10-21T11:07:27.106164Z","shell.execute_reply":"2024-10-21T11:07:27.012549Z","shell.execute_reply.started":"2024-10-21T11:07:26.600996Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_features_matrix.shape[0]","key":"kRHFDeWTuk"},{"type":"outputs","id":"0qAsOkO8PvhswG9a3vuqt","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":137,"metadata":{},"data":{"text/plain":{"content":"944","content_type":"text/plain"}}},"children":[],"key":"MzyLiklJ9A"}],"key":"q2VfQW3Amh"}],"key":"fNeiRXQCBG"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:27.132665Z","iopub.status.busy":"2024-10-21T11:07:27.127453Z","iopub.status.idle":"2024-10-21T11:07:27.201055Z","shell.execute_reply":"2024-10-21T11:07:27.200521Z","shell.execute_reply.started":"2024-10-21T11:07:27.132629Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X = np.arange(\n        start=0,\n        stop=meal_features_matrix.shape[0]\n    )","key":"MQQx31dpJM"},{"type":"outputs","id":"IftnaiQiX1BruQDTeSQv3","children":[],"key":"jxFJspAXTD"}],"key":"dx359atWpo"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot Max, Mean, Min, and Std Dev for All Rows","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vK8PBn7zre"}],"identifier":"plot-max-mean-min-and-std-dev-for-all-rows","label":"Plot Max, Mean, Min, and Std Dev for All Rows","html_id":"plot-max-mean-min-and-std-dev-for-all-rows","implicit":true,"key":"nbJRgSC9w6"}],"key":"IuNBnHEI1c"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:27.213410Z","iopub.status.busy":"2024-10-21T11:07:27.213196Z","iopub.status.idle":"2024-10-21T11:07:27.359899Z","shell.execute_reply":"2024-10-21T11:07:27.335317Z","shell.execute_reply.started":"2024-10-21T11:07:27.213394Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_mean = meal_features_matrix[:, 0] # First column\nY_mean_peaks, _ = find_peaks(Y_mean, height=20)\n\nY_mean_peaks_times = X[Y_mean_peaks]\nY_mean_peaks_values = Y_mean[Y_mean_peaks]\n\nwindow_size = 3\nY_mean_peaks_moving_avg = np.convolve(Y_mean_peaks_values, np.ones(window_size)/window_size, mode='valid')","key":"B4khdJdw1B"},{"type":"outputs","id":"DN15Dwm9Z0SUU8p2hN-XN","children":[],"key":"NpxdaCps8h"}],"key":"VDWl9M2oa7"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:27.364916Z","iopub.status.busy":"2024-10-21T11:07:27.364702Z","iopub.status.idle":"2024-10-21T11:07:27.623000Z","shell.execute_reply":"2024-10-21T11:07:27.585613Z","shell.execute_reply.started":"2024-10-21T11:07:27.364901Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_std = meal_features_matrix[:, 1] # Second column","key":"LGTZSgEhDQ"},{"type":"outputs","id":"pZPesMhLV45Z3yH77Qzsh","children":[],"key":"PT5dgEW8H6"}],"key":"vgnDXSUka3"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:27.658991Z","iopub.status.busy":"2024-10-21T11:07:27.643421Z","iopub.status.idle":"2024-10-21T11:07:27.808356Z","shell.execute_reply":"2024-10-21T11:07:27.787802Z","shell.execute_reply.started":"2024-10-21T11:07:27.658957Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_max = meal_features_matrix[:, 2] # Third column\nY_max_peaks, _ = find_peaks(Y_max, height=20)\n\nY_max_peaks_times = X[Y_max_peaks]\nY_max_peaks_values = Y_max[Y_max_peaks]\n\nwindow_size = 3\nY_max_peaks_moving_avg = np.convolve(Y_max_peaks_values, np.ones(window_size)/window_size, mode='valid')","key":"iiiUl8WZEU"},{"type":"outputs","id":"O1KmIBx40H5Xon19MKHWk","children":[],"key":"xKN5vC5Qxe"}],"key":"ZczIWnBPPw"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:27.820517Z","iopub.status.busy":"2024-10-21T11:07:27.819923Z","iopub.status.idle":"2024-10-21T11:07:28.064749Z","shell.execute_reply":"2024-10-21T11:07:28.022628Z","shell.execute_reply.started":"2024-10-21T11:07:27.820493Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_max_peaks_times.shape","key":"NPTgcwy0kM"},{"type":"outputs","id":"dLg9Zu9KAV4y42KBB43_y","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":142,"metadata":{},"data":{"text/plain":{"content":"(289,)","content_type":"text/plain"}}},"children":[],"key":"xUZLwRlWdJ"}],"key":"WUEznOt4Xm"}],"key":"LQY9epHlvM"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:28.065512Z","iopub.status.busy":"2024-10-21T11:07:28.065334Z","iopub.status.idle":"2024-10-21T11:07:28.415031Z","shell.execute_reply":"2024-10-21T11:07:28.397536Z","shell.execute_reply.started":"2024-10-21T11:07:28.065496Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_max_peaks_moving_avg.shape","key":"YKXcgSE3eG"},{"type":"outputs","id":"HoWU2exHM1Llh2M1jVXpH","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":143,"metadata":{},"data":{"text/plain":{"content":"(287,)","content_type":"text/plain"}}},"children":[],"key":"umVqz07dqa"}],"key":"WNrS3FCNc3"}],"key":"WorCDTEPbJ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:28.426768Z","iopub.status.busy":"2024-10-21T11:07:28.426568Z","iopub.status.idle":"2024-10-21T11:07:28.620765Z","shell.execute_reply":"2024-10-21T11:07:28.620045Z","shell.execute_reply.started":"2024-10-21T11:07:28.426754Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_min = meal_features_matrix[:, 3] # Fourth column\nY_min_peaks, _ = find_peaks(Y_min, height=20)\n\nY_min_peaks_times = X[Y_min_peaks]\nY_min_peaks_values = Y_min[Y_min_peaks]\n\nwindow_size = 3\nY_min_peaks_moving_avg = np.convolve(Y_min_peaks_values, np.ones(window_size)/window_size, mode='valid')","key":"gFk7XCYOrA"},{"type":"outputs","id":"bGyQ7Frfj6w14X2FfltLK","children":[],"key":"Ujkl9I6KXX"}],"key":"iSC0ujlyTo"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:28.625833Z","iopub.status.busy":"2024-10-21T11:07:28.625590Z","iopub.status.idle":"2024-10-21T11:07:29.035972Z","shell.execute_reply":"2024-10-21T11:07:28.927111Z","shell.execute_reply.started":"2024-10-21T11:07:28.625817Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_min_peaks_moving_avg.shape","key":"eUkNZwA9OV"},{"type":"outputs","id":"qAq5tOi-1e9zR1GE1nGDL","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":145,"metadata":{},"data":{"text/plain":{"content":"(281,)","content_type":"text/plain"}}},"children":[],"key":"ZBn6FkCPGD"}],"key":"idfyF4oQsB"}],"key":"oIzqa0a6m0"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:29.060419Z","iopub.status.busy":"2024-10-21T11:07:29.049347Z","iopub.status.idle":"2024-10-21T11:07:29.777425Z","shell.execute_reply":"2024-10-21T11:07:29.760766Z","shell.execute_reply.started":"2024-10-21T11:07:29.060387Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the plot\nfig = plt.figure(figsize=(18, 6))\nax = fig.add_subplot(111)\nstride = 5\n\n# Plot the features\n#ax.plot(X[::stride], Y_max[::stride], 'x', label='Max', color='red')\nax.plot(Y_max_peaks_times[:len(Y_max_peaks_moving_avg)], Y_max_peaks_moving_avg, color='red', label='Moving Average of Max', linewidth=2)\n\n#ax.plot(X[::stride], Y_mean[::stride], label='Mean', color='blue')\nax.plot(Y_mean_peaks_times[:len(Y_mean_peaks_moving_avg)], Y_mean_peaks_moving_avg, color='blue', label='Moving Average of Mean', linewidth=2)\n\n#ax.plot(X[::stride], Y_min[::stride], 'x', label='Min')\nax.plot(Y_min_peaks_times[:len(Y_min_peaks_moving_avg)], Y_min_peaks_moving_avg, color='green', label='Moving Average of Min', linewidth=2)\n\nax.plot(X[::stride], Y_std[::stride], label='Std Dev')\n\nax.set_title('Meal Glucose Level Features vs Data Row Number', fontsize=20)\nax.set_xlabel('Data Row Number [arbitrary] ', fontsize=16)\nax.set_ylabel('Glucose Level [mg/dL]', fontsize=16)\n\nax.set_xticks(np.linspace(0, 1000, 11))\nax.set_yticks(np.linspace(0, 400, 7))\nax.set_xlim(-50, 1000)\nax.set_ylim(0, 420)\n\n#ax.text(300, 380, f'Viewing every {stride} rows')\n\n# Adjust axis limits to create a zoom-out effect\n#ax.set_xlim(-30, 120)\n#ax.set_ylim(0, 800)\n\n#plt.tight_layout()\n\nplt.legend()\n\nplt.show()","key":"pVWzV4cY0M"},{"type":"outputs","id":"2RgTx0MM7qh_VoROB5WWm","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"b266108f8706ef7f3388009464603aef","path":"/build/b266108f8706ef7f3388009464603aef.png"},"text/plain":{"content":"<Figure size 1800x600 with 1 Axes>","content_type":"text/plain"}}},"children":[],"key":"cmAwM1my5r"}],"key":"jQ07mT3W1F"}],"key":"KeAd0W7Zfj"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot First and Second Derivatives","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AuCZDu8aY7"}],"identifier":"plot-first-and-second-derivatives","label":"Plot First and Second Derivatives","html_id":"plot-first-and-second-derivatives","implicit":true,"key":"pCGA4AZ9qs"}],"key":"TZ9rftZRxi"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:29.788058Z","iopub.status.busy":"2024-10-21T11:07:29.782957Z","iopub.status.idle":"2024-10-21T11:07:29.922057Z","shell.execute_reply":"2024-10-21T11:07:29.843798Z","shell.execute_reply.started":"2024-10-21T11:07:29.788034Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_mean_first_derivative = meal_features_matrix[:, 4] # Fourth column\nY_mean_first_derivative_peaks, _ = find_peaks(Y_mean_first_derivative, height=None)\n\nY_mean_first_derivative_times = X[Y_mean_first_derivative_peaks]\nY_mean_first_derivative_values = Y_mean_first_derivative[Y_mean_first_derivative_peaks]\n\nwindow_size = 3\nY_mean_first_derivative_peaks_moving_avg = \\\n    np.convolve(\n        Y_mean_first_derivative_values,\n        np.ones(window_size)/window_size, mode='valid'\n    )","key":"hzp3K5iKfB"},{"type":"outputs","id":"p_OGOCwzpqn4W_OkbHNdr","children":[],"key":"gl0BP71yjj"}],"key":"Z1XkO0czqG"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:29.954651Z","iopub.status.busy":"2024-10-21T11:07:29.943014Z","iopub.status.idle":"2024-10-21T11:07:30.161133Z","shell.execute_reply":"2024-10-21T11:07:30.113032Z","shell.execute_reply.started":"2024-10-21T11:07:29.954615Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_mean_2nd_derivative = meal_features_matrix[:, 5] # Fourth column\nY_mean_2nd_derivative_peaks, _ = find_peaks(Y_mean_2nd_derivative, height=None)\n\nY_mean_2nd_derivative_times = X[Y_mean_2nd_derivative_peaks]\nY_mean_2nd_derivative_values = Y_mean_2nd_derivative[Y_mean_2nd_derivative_peaks]\n\nwindow_size = 3\nY_mean_2nd_derivative_peaks_moving_avg = \\\n    np.convolve(\n        Y_mean_2nd_derivative_values,\n        np.ones(window_size)/window_size, mode='valid'\n    )","key":"SQyATLU2ME"},{"type":"outputs","id":"8FOpTVRarGuyVLFo88Q3q","children":[],"key":"TNtjywJqOw"}],"key":"EHTf2Y3450"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:30.196942Z","iopub.status.busy":"2024-10-21T11:07:30.172025Z","iopub.status.idle":"2024-10-21T11:07:31.271520Z","shell.execute_reply":"2024-10-21T11:07:31.269964Z","shell.execute_reply.started":"2024-10-21T11:07:30.196901Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the plot\nfig = plt.figure(figsize=(18, 6))\nax = fig.add_subplot(111)\nstride = 5\n\n# Plot the features\n#ax.plot(X[::stride], Y_max[::stride], 'x', label='Max', color='red')\n#ax.plot(\n#    Y_max_peaks_times[:len(Y_max_peaks_moving_avg)], \n#    Y_max_peaks_moving_avg, \n#    color='red', \n#    label='Moving Average of Max', \n#    linewidth=2)\n\n#ax.plot(X[::stride], Y_mean[::stride], label='Mean', color='blue')\nax.plot(\n    Y_mean_peaks_times[:len(Y_mean_peaks_moving_avg)], \n    Y_mean_peaks_moving_avg, \n    color='blue', \n    label='Moving Average of Mean', \n    linewidth=2\n)\n\n#ax.plot(X[::stride], Y_min[::stride], 'x', label='Min')\n#ax.plot(Y_min_peaks_times[:len(Y_min_peaks_moving_avg)], Y_min_peaks_moving_avg, color='green', label='Moving Average of Min', linewidth=2)\n\n#ax.plot(X[::stride], Y_std[::stride], label='Std Dev')\n\nax.plot(\n    Y_mean_first_derivative_times[:len(Y_mean_first_derivative_peaks_moving_avg)],\n    Y_mean_first_derivative_peaks_moving_avg*100,\n    color='orange',\n    label=r'First Derivative $\\times 100$',\n    linewidth=2\n)\n\nax.plot(\n    Y_mean_2nd_derivative_times[:len(Y_mean_2nd_derivative_peaks_moving_avg)],\n    Y_mean_2nd_derivative_peaks_moving_avg*2500,\n    color='green',\n    label=r'Second Derivative $\\times 2500$',\n    linewidth=2\n)\n\nax.set_title('Glucose Level Features vs Data Row Number')\nax.set_xlabel('Data Row Number [arbitrary] ')\nax.set_ylabel('Glucose Level [mg/dL]')\n\n#ax.set_xticks(np.linspace(0, 1000, 11))\n#ax.set_yticks(np.linspace(0, 400, 7))\n#ax.set_xlim(-50, 1000)\n#ax.set_ylim(0, 420)\n\n#ax.text(300, 380, f'Viewing every {stride} rows')\n\n# Adjust axis limits to create a zoom-out effect\n#ax.set_xlim(-30, 120)\n#ax.set_ylim(0, 800)\n\n#plt.tight_layout()\n\nplt.legend()\n\nplt.show()","key":"iq3mgxN4Oa"},{"type":"outputs","id":"ckkXFMJT72re7QJBX5KJd","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"d893bad643ecbad09dc4a751c436cb24","path":"/build/d893bad643ecbad09dc4a751c436cb24.png"},"text/plain":{"content":"<Figure size 1800x600 with 1 Axes>","content_type":"text/plain"}}},"children":[],"key":"zOug04UPJd"}],"key":"XDchFFgBAG"}],"key":"nlwhWlt54o"},{"type":"block","kind":"notebook-content","data":{"execution":{"iopub.execute_input":"2024-10-20T00:40:40.206030Z","iopub.status.busy":"2024-10-20T00:40:40.205617Z","iopub.status.idle":"2024-10-20T00:40:40.221052Z","shell.execute_reply":"2024-10-20T00:40:40.214894Z","shell.execute_reply.started":"2024-10-20T00:40:40.205996Z"}},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Pairwise Plot of Meal Features Matrix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CHfLVI3NBy"}],"identifier":"pairwise-plot-of-meal-features-matrix","label":"Pairwise Plot of Meal Features Matrix","html_id":"pairwise-plot-of-meal-features-matrix","implicit":true,"key":"I4tJKVSroN"}],"key":"HcYP8elxpj"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:31.276998Z","iopub.status.busy":"2024-10-21T11:07:31.276829Z","iopub.status.idle":"2024-10-21T11:07:46.449305Z","shell.execute_reply":"2024-10-21T11:07:46.446752Z","shell.execute_reply.started":"2024-10-21T11:07:31.276982Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Generate column labels for the features\nfeature_columns = [f'Feature_{i+1}' for i in range(meal_features_matrix.shape[1])]\n\n# Convert the feature matrix to a Pandas DataFrame\ndf = pd.DataFrame(meal_features_matrix, columns=feature_columns)\n\n# Create a pairwise plot using Seaborn\nplt.figure(figsize=(15, 15))  # Adjust figure size as needed\nsns.pairplot(df, diag_kind='hist', plot_kws={'alpha': 0.5, 's': 40})\n\nplt.suptitle('Pairwise Plot of Meal Features Matrix', y=1.02, fontsize=30)\n\n# Show the plot\nplt.show()","key":"IaDxqoZOYs"},{"type":"outputs","id":"wDmL5j5ait1w0-TlzXyPs","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1500x1500 with 0 Axes>","content_type":"text/plain"}}},"children":[],"key":"xMIRwUVHcD"},{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"f62ec84e21461b12e74a7631bac6bc54","path":"/build/f62ec84e21461b12e74a7631bac6bc54.png"},"text/plain":{"content":"<Figure size 2000x2000 with 72 Axes>","content_type":"text/plain"}}},"children":[],"key":"zUdYHlTCwk"}],"key":"QRtdDNBkWE"}],"key":"PMPJVCqC2t"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize The No Meal Features Matrix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Du5kbiIVqE"}],"identifier":"visualize-the-no-meal-features-matrix","label":"Visualize The No Meal Features Matrix","html_id":"visualize-the-no-meal-features-matrix","implicit":true,"key":"f42O8evhKw"}],"key":"z2OSyBYl9c"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Normalize The Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VsBjWIjJcp"}],"identifier":"normalize-the-data","label":"Normalize The Data","html_id":"normalize-the-data-1","implicit":true,"key":"rbBofkc51E"}],"key":"EGIbOEKjRa"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.450681Z","iopub.status.busy":"2024-10-21T11:07:46.450228Z","iopub.status.idle":"2024-10-21T11:07:46.461954Z","shell.execute_reply":"2024-10-21T11:07:46.460856Z","shell.execute_reply.started":"2024-10-21T11:07:46.450655Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"scaler = StandardScaler()\nscaled_meal_features_matrix = scaler.fit_transform(meal_features_matrix)\nscaled_no_meal_features_matrix = scaler.fit_transform(no_meal_features_matrix)","key":"UzfL4y1yQJ"},{"type":"outputs","id":"48lS56ZK-dKcpbGTiaO-N","children":[],"key":"vEGZjLthGv"}],"key":"OPj4vpNZCD"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.462993Z","iopub.status.busy":"2024-10-21T11:07:46.462702Z","iopub.status.idle":"2024-10-21T11:07:46.484452Z","shell.execute_reply":"2024-10-21T11:07:46.483593Z","shell.execute_reply.started":"2024-10-21T11:07:46.462968Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"scaled_meal_features_matrix[0]","key":"sY41JsiMEY"},{"type":"outputs","id":"yFpEGAXoxu-GB_kiLDexG","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":152,"metadata":{},"data":{"text/plain":{"content":"array([-1.43931653, -0.6890434 , -1.43186426, -1.35409331, -0.73789252,\n       -0.2568468 , -1.42698567, -0.72547238])","content_type":"text/plain"}}},"children":[],"key":"rdswepsxcC"}],"key":"m9dldGcNIT"}],"key":"REYtreuUNR"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.486104Z","iopub.status.busy":"2024-10-21T11:07:46.485009Z","iopub.status.idle":"2024-10-21T11:07:46.503861Z","shell.execute_reply":"2024-10-21T11:07:46.502820Z","shell.execute_reply.started":"2024-10-21T11:07:46.486074Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"scaled_no_meal_features_matrix[0]","key":"meQC6Hlb4D"},{"type":"outputs","id":"oaNeQvYWUvZ5lzMvj0S28","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":153,"metadata":{},"data":{"text/plain":{"content":"array([-1.24861858, -0.24758492, -1.16121642, -1.39218291, -0.66468096,\n        1.06439767, -1.24077771, -0.41467362])","content_type":"text/plain"}}},"children":[],"key":"y1qpVxOCkY"}],"key":"nQdGQFausB"}],"key":"drLTmQgcjZ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot Features for all Rows","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BO49jJwutg"}],"identifier":"plot-features-for-all-rows","label":"Plot Features for all Rows","html_id":"plot-features-for-all-rows-1","implicit":true,"key":"AC9pNwxbrV"}],"key":"lpmpWsuN0l"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.508785Z","iopub.status.busy":"2024-10-21T11:07:46.504644Z","iopub.status.idle":"2024-10-21T11:07:46.521675Z","shell.execute_reply":"2024-10-21T11:07:46.520970Z","shell.execute_reply.started":"2024-10-21T11:07:46.508766Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"no_meal_features_matrix.shape[0]","key":"mZ7fYVsqlD"},{"type":"outputs","id":"7f5gJDigGcb5nS-unSM8E","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":154,"metadata":{},"data":{"text/plain":{"content":"752","content_type":"text/plain"}}},"children":[],"key":"VMVR2cKrnn"}],"key":"GVPe2Plop0"}],"key":"ysX3R7GdnY"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.522522Z","iopub.status.busy":"2024-10-21T11:07:46.522273Z","iopub.status.idle":"2024-10-21T11:07:46.533195Z","shell.execute_reply":"2024-10-21T11:07:46.532417Z","shell.execute_reply.started":"2024-10-21T11:07:46.522506Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X = np.arange(\n        start=0,\n        stop=no_meal_features_matrix.shape[0]\n    )","key":"hl4IJuindC"},{"type":"outputs","id":"0E-fqZD2cHTkBUf5RJKWM","children":[],"key":"UYGrVuzKu2"}],"key":"tjpRHKlqCP"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot Max, Mean, Min, and Std Dev for All Rows","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"De566rIQzt"}],"identifier":"plot-max-mean-min-and-std-dev-for-all-rows","label":"Plot Max, Mean, Min, and Std Dev for All Rows","html_id":"plot-max-mean-min-and-std-dev-for-all-rows-1","implicit":true,"key":"eAsQHzp2XG"}],"key":"NFMqmEvpNz"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.534324Z","iopub.status.busy":"2024-10-21T11:07:46.534069Z","iopub.status.idle":"2024-10-21T11:07:46.555802Z","shell.execute_reply":"2024-10-21T11:07:46.554776Z","shell.execute_reply.started":"2024-10-21T11:07:46.534307Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_mean = no_meal_features_matrix[:, 0] # First column\nY_mean_peaks, _ = find_peaks(Y_mean, height=20)\n\nY_mean_peaks_times = X[Y_mean_peaks]\nY_mean_peaks_values = Y_mean[Y_mean_peaks]\n\nwindow_size = 3\nY_mean_peaks_moving_avg = np.convolve(Y_mean_peaks_values, np.ones(window_size)/window_size, mode='valid')","key":"TGYh2O0oBD"},{"type":"outputs","id":"k7eAueIFFMu4xMa68EnCN","children":[],"key":"nGtET7XSAL"}],"key":"lGGRnwpboR"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.557412Z","iopub.status.busy":"2024-10-21T11:07:46.556533Z","iopub.status.idle":"2024-10-21T11:07:46.568479Z","shell.execute_reply":"2024-10-21T11:07:46.567678Z","shell.execute_reply.started":"2024-10-21T11:07:46.557394Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_std = no_meal_features_matrix[:, 1] # Second column","key":"XFEiWy2xE6"},{"type":"outputs","id":"0skvnjCa0T8mZMHAKwZCr","children":[],"key":"F7bMMK1rVv"}],"key":"M55CeLpJUT"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.569488Z","iopub.status.busy":"2024-10-21T11:07:46.569214Z","iopub.status.idle":"2024-10-21T11:07:46.633671Z","shell.execute_reply":"2024-10-21T11:07:46.631164Z","shell.execute_reply.started":"2024-10-21T11:07:46.569471Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_max = no_meal_features_matrix[:, 2] # Third column\nY_max_peaks, _ = find_peaks(Y_max, height=20)\n\nY_max_peaks_times = X[Y_max_peaks]\nY_max_peaks_values = Y_max[Y_max_peaks]\n\nwindow_size = 3\nY_max_peaks_moving_avg = np.convolve(Y_max_peaks_values, np.ones(window_size)/window_size, mode='valid')","key":"FPcazItV3O"},{"type":"outputs","id":"N12rD0IlTLSc0GP3rCspi","children":[],"key":"x4WL6RjIS0"}],"key":"ACiUEvLiGg"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.634850Z","iopub.status.busy":"2024-10-21T11:07:46.634436Z","iopub.status.idle":"2024-10-21T11:07:46.650659Z","shell.execute_reply":"2024-10-21T11:07:46.646814Z","shell.execute_reply.started":"2024-10-21T11:07:46.634833Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_max_peaks_times.shape","key":"BVzRQpblwT"},{"type":"outputs","id":"Z7rwzu9yYglZhFamplowJ","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":159,"metadata":{},"data":{"text/plain":{"content":"(238,)","content_type":"text/plain"}}},"children":[],"key":"bIs046Zjm9"}],"key":"ehXqeNDHp6"}],"key":"s4FQ5xE7A7"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.651906Z","iopub.status.busy":"2024-10-21T11:07:46.651742Z","iopub.status.idle":"2024-10-21T11:07:46.659550Z","shell.execute_reply":"2024-10-21T11:07:46.658800Z","shell.execute_reply.started":"2024-10-21T11:07:46.651891Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_max_peaks_moving_avg.shape","key":"fYpegVcxdq"},{"type":"outputs","id":"_G1ECDzkK7H2INKMUTAbA","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":160,"metadata":{},"data":{"text/plain":{"content":"(236,)","content_type":"text/plain"}}},"children":[],"key":"jfEyPXAvrU"}],"key":"dYAb5AwIZf"}],"key":"nqOydDJ0E6"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.665840Z","iopub.status.busy":"2024-10-21T11:07:46.665622Z","iopub.status.idle":"2024-10-21T11:07:46.681346Z","shell.execute_reply":"2024-10-21T11:07:46.680378Z","shell.execute_reply.started":"2024-10-21T11:07:46.665825Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_min = no_meal_features_matrix[:, 3] # Fourth column\nY_min_peaks, _ = find_peaks(Y_min, height=20)\n\nY_min_peaks_times = X[Y_min_peaks]\nY_min_peaks_values = Y_min[Y_min_peaks]\n\nwindow_size = 3\nY_min_peaks_moving_avg = np.convolve(Y_min_peaks_values, np.ones(window_size)/window_size, mode='valid')","key":"H8QyRe5YCc"},{"type":"outputs","id":"aOXNfzMwG4104Ndi5en7W","children":[],"key":"vGlXHMamAM"}],"key":"N6UnXeAJXd"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.687162Z","iopub.status.busy":"2024-10-21T11:07:46.686623Z","iopub.status.idle":"2024-10-21T11:07:46.717999Z","shell.execute_reply":"2024-10-21T11:07:46.701672Z","shell.execute_reply.started":"2024-10-21T11:07:46.687050Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_min_peaks_moving_avg.shape","key":"I6nJS0DUs7"},{"type":"outputs","id":"vJqdVEPhhJ0G5-T_yOmhV","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":162,"metadata":{},"data":{"text/plain":{"content":"(238,)","content_type":"text/plain"}}},"children":[],"key":"sl8GlDe3dU"}],"key":"PhaMtlXVcA"}],"key":"qD1xd5EpYt"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.738753Z","iopub.status.busy":"2024-10-21T11:07:46.723697Z","iopub.status.idle":"2024-10-21T11:07:47.243088Z","shell.execute_reply":"2024-10-21T11:07:47.215932Z","shell.execute_reply.started":"2024-10-21T11:07:46.738723Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the plot\nfig = plt.figure(figsize=(18, 6))\nax = fig.add_subplot(111)\nstride = 5\n\n# Plot the features\n#ax.plot(X[::stride], Y_max[::stride], 'x', label='Max', color='red')\nax.plot(Y_max_peaks_times[:len(Y_max_peaks_moving_avg)], Y_max_peaks_moving_avg, color='red', label='Moving Average of Max', linewidth=2)\n\n#ax.plot(X[::stride], Y_mean[::stride], label='Mean', color='blue')\nax.plot(Y_mean_peaks_times[:len(Y_mean_peaks_moving_avg)], Y_mean_peaks_moving_avg, color='blue', label='Moving Average of Mean', linewidth=2)\n\n#ax.plot(X[::stride], Y_min[::stride], 'x', label='Min')\nax.plot(Y_min_peaks_times[:len(Y_min_peaks_moving_avg)], Y_min_peaks_moving_avg, color='green', label='Moving Average of Min', linewidth=2)\n\nax.plot(X[::stride], Y_std[::stride], label='Std Dev')\n\nax.set_title('No Meal Glucose Level Features vs Data Row Number', fontsize=20)\nax.set_xlabel('Data Row Number [arbitrary] ', fontsize=16)\nax.set_ylabel('Glucose Level [mg/dL]', fontsize=16)\n\nax.set_xticks(np.linspace(0, 800, 11))\nax.set_yticks(np.linspace(0, 400, 7))\nax.set_xlim(-50, 800)\nax.set_ylim(0, 420)\n\n#ax.text(300, 380, f'Viewing every {stride} rows')\n\n# Adjust axis limits to create a zoom-out effect\n#ax.set_xlim(-30, 120)\n#ax.set_ylim(0, 800)\n\n#plt.tight_layout()\n\nplt.legend()\n\nplt.show()","key":"mCg9sFdKZj"},{"type":"outputs","id":"QspA0LpMgcb_g-O0sVWSS","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"adf7d67e6568598c773363d6a6979d27","path":"/build/adf7d67e6568598c773363d6a6979d27.png"},"text/plain":{"content":"<Figure size 1800x600 with 1 Axes>","content_type":"text/plain"}}},"children":[],"key":"taQlvnuBTO"}],"key":"je3uJfFmuW"}],"key":"EtyUFpDLIM"},{"type":"block","kind":"notebook-content","data":{"execution":{"iopub.execute_input":"2024-10-20T00:40:40.206030Z","iopub.status.busy":"2024-10-20T00:40:40.205617Z","iopub.status.idle":"2024-10-20T00:40:40.221052Z","shell.execute_reply":"2024-10-20T00:40:40.214894Z","shell.execute_reply.started":"2024-10-20T00:40:40.205996Z"}},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Pairwise Plot of No Meal Features Matrix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PHjXNqpWks"}],"identifier":"pairwise-plot-of-no-meal-features-matrix","label":"Pairwise Plot of No Meal Features Matrix","html_id":"pairwise-plot-of-no-meal-features-matrix","implicit":true,"key":"SUACmB3epm"}],"key":"l5YF6jAcGl"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:47.251909Z","iopub.status.busy":"2024-10-21T11:07:47.251673Z","iopub.status.idle":"2024-10-21T11:07:59.582416Z","shell.execute_reply":"2024-10-21T11:07:59.581629Z","shell.execute_reply.started":"2024-10-21T11:07:47.251892Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Generate column labels for the features\nfeature_columns = [f'Feature_{i+1}' for i in range(meal_features_matrix.shape[1])]\n\n# Convert the feature matrix to a Pandas DataFrame\ndf = pd.DataFrame(no_meal_features_matrix, columns=feature_columns)\n\n# Create a pairwise plot using Seaborn\nplt.figure(figsize=(15, 15))  # Adjust figure size as needed\nsns.pairplot(df, diag_kind='hist', plot_kws={'alpha': 0.5, 's': 40})\n\nplt.suptitle('Pairwise Plot of No Meal Features Matrix', y=1.02, fontsize=30)\n\n# Show the plot\nplt.show()","key":"W1HTJxIHJm"},{"type":"outputs","id":"oB4W2YjX2E3AT03mRCysc","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1500x1500 with 0 Axes>","content_type":"text/plain"}}},"children":[],"key":"glBsMfY4VP"},{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"fdede4157f769963ff3d36f16540e6ad","path":"/build/fdede4157f769963ff3d36f16540e6ad.png"},"text/plain":{"content":"<Figure size 2000x2000 with 72 Axes>","content_type":"text/plain"}}},"children":[],"key":"V5kji67Toz"}],"key":"vT3AEqXQzy"}],"key":"SzIkPGmByh"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Concatenate Feature Matrices and Add Class Labels","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BHCXSYKBbD"}],"identifier":"concatenate-feature-matrices-and-add-class-labels","label":"Concatenate Feature Matrices and Add Class Labels","html_id":"concatenate-feature-matrices-and-add-class-labels","implicit":true,"key":"hfcMA1b1Xz"}],"key":"tkythYOFtC"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:59.583823Z","iopub.status.busy":"2024-10-21T11:07:59.583398Z","iopub.status.idle":"2024-10-21T11:07:59.591045Z","shell.execute_reply":"2024-10-21T11:07:59.589668Z","shell.execute_reply.started":"2024-10-21T11:07:59.583805Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_labels = np.ones((meal_features_matrix.shape[0], 1))\nlen(meal_labels)","key":"ZjzAl2iLU1"},{"type":"outputs","id":"YXZq0KYXsJejY0xe3xTcs","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":165,"metadata":{},"data":{"text/plain":{"content":"944","content_type":"text/plain"}}},"children":[],"key":"gdbs1rTGUQ"}],"key":"upqzmTRWaO"}],"key":"tnqKU5baLR"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:59.592389Z","iopub.status.busy":"2024-10-21T11:07:59.592075Z","iopub.status.idle":"2024-10-21T11:07:59.615951Z","shell.execute_reply":"2024-10-21T11:07:59.614735Z","shell.execute_reply.started":"2024-10-21T11:07:59.592369Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_features_matrix_with_labels = \\\n    np.hstack((meal_features_matrix, meal_labels))\n#meal_features_matrix_with_labels[1]","key":"W0g2qDuwBG"},{"type":"outputs","id":"Hdswtt8JX55DLxzaTJNLf","children":[],"key":"x65Cc3ZUai"}],"key":"n1iRKXldNp"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:59.617549Z","iopub.status.busy":"2024-10-21T11:07:59.616607Z","iopub.status.idle":"2024-10-21T11:07:59.743785Z","shell.execute_reply":"2024-10-21T11:07:59.676210Z","shell.execute_reply.started":"2024-10-21T11:07:59.617530Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"no_meal_labels = np.zeros((no_meal_features_matrix.shape[0], 1))\nlen(no_meal_labels)","key":"AOqB43ZXt8"},{"type":"outputs","id":"J34TQfY8wYzV3mFW9uNCY","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":167,"metadata":{},"data":{"text/plain":{"content":"752","content_type":"text/plain"}}},"children":[],"key":"TpN7Uw5PPe"}],"key":"rhu5he2K3O"}],"key":"GTkekNIHuW"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:59.755731Z","iopub.status.busy":"2024-10-21T11:07:59.755489Z","iopub.status.idle":"2024-10-21T11:07:59.800043Z","shell.execute_reply":"2024-10-21T11:07:59.797256Z","shell.execute_reply.started":"2024-10-21T11:07:59.755715Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"no_meal_features_matrix_with_labels = \\\n    np.hstack((no_meal_features_matrix, no_meal_labels))\n#no_meal_features_matrix_with_labels[1]","key":"JrrZQ8H6em"},{"type":"outputs","id":"LsO6KYQf_4cH9pnHTQhHr","children":[],"key":"YXLhrnhwDJ"}],"key":"ryIEFxy2Gn"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:59.801191Z","iopub.status.busy":"2024-10-21T11:07:59.800992Z","iopub.status.idle":"2024-10-21T11:08:00.169537Z","shell.execute_reply":"2024-10-21T11:08:00.119235Z","shell.execute_reply.started":"2024-10-21T11:07:59.801173Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"concat_features = \\\n    np.vstack((meal_features_matrix_with_labels, no_meal_features_matrix_with_labels))\nlen(concat_features)","key":"XlQqSVwLyq"},{"type":"outputs","id":"8HsKVKgvspHxPeL-LOn7J","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":169,"metadata":{},"data":{"text/plain":{"content":"1696","content_type":"text/plain"}}},"children":[],"key":"FHhiiRENUH"}],"key":"l8S7IveDr5"}],"key":"mYCv20nyVs"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Train Support Vector Machine","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Yk1yVlwnpn"}],"identifier":"train-support-vector-machine","label":"Train Support Vector Machine","html_id":"train-support-vector-machine","implicit":true,"key":"QvYSis6vHi"}],"key":"iuctiS01Do"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Use Standard Variable Names for Features and Class Label","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RqHDdIg8qP"}],"identifier":"use-standard-variable-names-for-features-and-class-label","label":"Use Standard Variable Names for Features and Class Label","html_id":"use-standard-variable-names-for-features-and-class-label","implicit":true,"key":"jM0GTnciSE"}],"key":"UbcogZ31wW"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:00.220378Z","iopub.status.busy":"2024-10-21T11:08:00.214585Z","iopub.status.idle":"2024-10-21T11:08:00.377273Z","shell.execute_reply":"2024-10-21T11:08:00.307775Z","shell.execute_reply.started":"2024-10-21T11:08:00.220347Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X = concat_features[:, :-1]\ny = concat_features[:, -1]","key":"zzmM1GWayV"},{"type":"outputs","id":"7O5YTDNodjwHPaY9UlA3O","children":[],"key":"imlus1pqgf"}],"key":"qTup4QWbwE"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:00.382898Z","iopub.status.busy":"2024-10-21T11:08:00.382692Z","iopub.status.idle":"2024-10-21T11:08:00.747665Z","shell.execute_reply":"2024-10-21T11:08:00.671442Z","shell.execute_reply.started":"2024-10-21T11:08:00.382882Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X[0]","key":"a9NWIHqc78"},{"type":"outputs","id":"IjwOFdXfiF8E8m3EqFV0N","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":171,"metadata":{},"data":{"text/plain":{"content":"array([ 8.98190476e+01,  1.91175360e+01,  1.31000000e+02,  4.90000000e+01,\n       -2.82758621e-01, -4.28571429e-03,  1.30310714e+04,  9.00000000e+00])","content_type":"text/plain"}}},"children":[],"key":"gbPaCGYX51"}],"key":"f4RN6oFUu9"}],"key":"Ostikcj7CK"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:00.767068Z","iopub.status.busy":"2024-10-21T11:08:00.766840Z","iopub.status.idle":"2024-10-21T11:08:00.914799Z","shell.execute_reply":"2024-10-21T11:08:00.912693Z","shell.execute_reply.started":"2024-10-21T11:08:00.767051Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"y[0]","key":"opeQrQFjbI"},{"type":"outputs","id":"HNESMF_-30cAHzodo9FpL","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":172,"metadata":{},"data":{"text/plain":{"content":"np.float64(1.0)","content_type":"text/plain"}}},"children":[],"key":"m8BWs4UB1B"}],"key":"Hb2GzKbEmj"}],"key":"mkkQfTuXQh"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Train / Test Split","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nObknC6zDU"}],"identifier":"train-test-split","label":"Train / Test Split","html_id":"train-test-split","implicit":true,"key":"gocIJ0ZD3u"}],"key":"mlopFeNTj5"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:00.920115Z","iopub.status.busy":"2024-10-21T11:08:00.915948Z","iopub.status.idle":"2024-10-21T11:08:01.139500Z","shell.execute_reply":"2024-10-21T11:08:01.138868Z","shell.execute_reply.started":"2024-10-21T11:08:00.920090Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X_train, X_test, y_train, y_test = \\\n    train_test_split(X, y, test_size = 0.2, random_state=40)","key":"VujGcAH2ju"},{"type":"outputs","id":"lzbtwjKgVmmcRVgorn8vy","children":[],"key":"kEzReGMavq"}],"key":"VfA7Q7SK6N"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Normalize The Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WoaKIiW6ga"}],"identifier":"normalize-the-data","label":"Normalize The Data","html_id":"normalize-the-data-2","implicit":true,"key":"NnvD1QxIqm"}],"key":"kLh86jVYZV"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:01.148153Z","iopub.status.busy":"2024-10-21T11:08:01.147852Z","iopub.status.idle":"2024-10-21T11:08:01.391824Z","shell.execute_reply":"2024-10-21T11:08:01.391116Z","shell.execute_reply.started":"2024-10-21T11:08:01.148136Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"scaler = StandardScaler()\nX_train_scaled = scaler.fit_transform(X_train)\nX_test_scaled = scaler.fit_transform(X_test)","key":"O6eVBEA1tr"},{"type":"outputs","id":"RyZ_0vqKxSrq9I-6bsSH4","children":[],"key":"ayIyxme5r7"}],"key":"Esj1QapHdw"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Train SVM Model","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xTbaKr5yTn"}],"identifier":"train-svm-model","label":"Train SVM Model","html_id":"train-svm-model","implicit":true,"key":"BGk0ED7b7S"}],"key":"F5QHaSLBqV"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:01.405838Z","iopub.status.busy":"2024-10-21T11:08:01.405609Z","iopub.status.idle":"2024-10-21T11:08:01.726628Z","shell.execute_reply":"2024-10-21T11:08:01.726055Z","shell.execute_reply.started":"2024-10-21T11:08:01.405823Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"svm_model = SVC(kernel='linear', C=0.1)\nsvm_model.fit(X_train_scaled, y_train)","key":"v1YpW2fHXC"},{"type":"outputs","id":"-vrsay1ChgVzQgRmsd3QF","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":175,"metadata":{},"data":{"text/html":{"content":"<style>#sk-container-id-1 {\n  /* Definition of color scheme common for light and dark mode */\n  --sklearn-color-text: black;\n  --sklearn-color-line: gray;\n  /* Definition of color scheme for unfitted estimators */\n  --sklearn-color-unfitted-level-0: #fff5e6;\n  --sklearn-color-unfitted-level-1: #f6e4d2;\n  --sklearn-color-unfitted-level-2: #ffe0b3;\n  --sklearn-color-unfitted-level-3: chocolate;\n  /* Definition of color scheme for fitted estimators */\n  --sklearn-color-fitted-level-0: #f0f8ff;\n  --sklearn-color-fitted-level-1: #d4ebff;\n  --sklearn-color-fitted-level-2: #b3dbfd;\n  --sklearn-color-fitted-level-3: cornflowerblue;\n\n  /* Specific color for light theme */\n  --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));\n  --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, white)));\n  --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));\n  --sklearn-color-icon: #696969;\n\n  @media (prefers-color-scheme: dark) {\n    /* Redefinition of color scheme for dark theme */\n    --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));\n    --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, #111)));\n    --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));\n    --sklearn-color-icon: #878787;\n  }\n}\n\n#sk-container-id-1 {\n  color: var(--sklearn-color-text);\n}\n\n#sk-container-id-1 pre {\n  padding: 0;\n}\n\n#sk-container-id-1 input.sk-hidden--visually {\n  border: 0;\n  clip: rect(1px 1px 1px 1px);\n  clip: rect(1px, 1px, 1px, 1px);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n#sk-container-id-1 div.sk-dashed-wrapped {\n  border: 1px dashed var(--sklearn-color-line);\n  margin: 0 0.4em 0.5em 0.4em;\n  box-sizing: border-box;\n  padding-bottom: 0.4em;\n  background-color: var(--sklearn-color-background);\n}\n\n#sk-container-id-1 div.sk-container {\n  /* jupyter's `normalize.less` sets `[hidden] { display: none; }`\n     but bootstrap.min.css set `[hidden] { display: none !important; }`\n     so we also need the `!important` here to be able to override the\n     default hidden behavior on the sphinx rendered scikit-learn.org.\n     See: https://github.com/scikit-learn/scikit-learn/issues/21755 */\n  display: inline-block !important;\n  position: relative;\n}\n\n#sk-container-id-1 div.sk-text-repr-fallback {\n  display: none;\n}\n\ndiv.sk-parallel-item,\ndiv.sk-serial,\ndiv.sk-item {\n  /* draw centered vertical line to link estimators */\n  background-image: linear-gradient(var(--sklearn-color-text-on-default-background), var(--sklearn-color-text-on-default-background));\n  background-size: 2px 100%;\n  background-repeat: no-repeat;\n  background-position: center center;\n}\n\n/* Parallel-specific style estimator block */\n\n#sk-container-id-1 div.sk-parallel-item::after {\n  content: \"\";\n  width: 100%;\n  border-bottom: 2px solid var(--sklearn-color-text-on-default-background);\n  flex-grow: 1;\n}\n\n#sk-container-id-1 div.sk-parallel {\n  display: flex;\n  align-items: stretch;\n  justify-content: center;\n  background-color: var(--sklearn-color-background);\n  position: relative;\n}\n\n#sk-container-id-1 div.sk-parallel-item {\n  display: flex;\n  flex-direction: column;\n}\n\n#sk-container-id-1 div.sk-parallel-item:first-child::after {\n  align-self: flex-end;\n  width: 50%;\n}\n\n#sk-container-id-1 div.sk-parallel-item:last-child::after {\n  align-self: flex-start;\n  width: 50%;\n}\n\n#sk-container-id-1 div.sk-parallel-item:only-child::after {\n  width: 0;\n}\n\n/* Serial-specific style estimator block */\n\n#sk-container-id-1 div.sk-serial {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background-color: var(--sklearn-color-background);\n  padding-right: 1em;\n  padding-left: 1em;\n}\n\n\n/* Toggleable style: style used for estimator/Pipeline/ColumnTransformer box that is\nclickable and can be expanded/collapsed.\n- Pipeline and ColumnTransformer use this feature and define the default style\n- Estimators will overwrite some part of the style using the `sk-estimator` class\n*/\n\n/* Pipeline and ColumnTransformer style (default) */\n\n#sk-container-id-1 div.sk-toggleable {\n  /* Default theme specific background. It is overwritten whether we have a\n  specific estimator or a Pipeline/ColumnTransformer */\n  background-color: var(--sklearn-color-background);\n}\n\n/* Toggleable label */\n#sk-container-id-1 label.sk-toggleable__label {\n  cursor: pointer;\n  display: block;\n  width: 100%;\n  margin-bottom: 0;\n  padding: 0.5em;\n  box-sizing: border-box;\n  text-align: center;\n}\n\n#sk-container-id-1 label.sk-toggleable__label-arrow:before {\n  /* Arrow on the left of the label */\n  content: \"▸\";\n  float: left;\n  margin-right: 0.25em;\n  color: var(--sklearn-color-icon);\n}\n\n#sk-container-id-1 label.sk-toggleable__label-arrow:hover:before {\n  color: var(--sklearn-color-text);\n}\n\n/* Toggleable content - dropdown */\n\n#sk-container-id-1 div.sk-toggleable__content {\n  max-height: 0;\n  max-width: 0;\n  overflow: hidden;\n  text-align: left;\n  /* unfitted */\n  background-color: var(--sklearn-color-unfitted-level-0);\n}\n\n#sk-container-id-1 div.sk-toggleable__content.fitted {\n  /* fitted */\n  background-color: var(--sklearn-color-fitted-level-0);\n}\n\n#sk-container-id-1 div.sk-toggleable__content pre {\n  margin: 0.2em;\n  border-radius: 0.25em;\n  color: var(--sklearn-color-text);\n  /* unfitted */\n  background-color: var(--sklearn-color-unfitted-level-0);\n}\n\n#sk-container-id-1 div.sk-toggleable__content.fitted pre {\n  /* unfitted */\n  background-color: var(--sklearn-color-fitted-level-0);\n}\n\n#sk-container-id-1 input.sk-toggleable__control:checked~div.sk-toggleable__content {\n  /* Expand drop-down */\n  max-height: 200px;\n  max-width: 100%;\n  overflow: auto;\n}\n\n#sk-container-id-1 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {\n  content: \"▾\";\n}\n\n/* Pipeline/ColumnTransformer-specific style */\n\n#sk-container-id-1 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {\n  color: var(--sklearn-color-text);\n  background-color: var(--sklearn-color-unfitted-level-2);\n}\n\n#sk-container-id-1 div.sk-label.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {\n  background-color: var(--sklearn-color-fitted-level-2);\n}\n\n/* Estimator-specific style */\n\n/* Colorize estimator box */\n#sk-container-id-1 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {\n  /* unfitted */\n  background-color: var(--sklearn-color-unfitted-level-2);\n}\n\n#sk-container-id-1 div.sk-estimator.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {\n  /* fitted */\n  background-color: var(--sklearn-color-fitted-level-2);\n}\n\n#sk-container-id-1 div.sk-label label.sk-toggleable__label,\n#sk-container-id-1 div.sk-label label {\n  /* The background is the default theme color */\n  color: var(--sklearn-color-text-on-default-background);\n}\n\n/* On hover, darken the color of the background */\n#sk-container-id-1 div.sk-label:hover label.sk-toggleable__label {\n  color: var(--sklearn-color-text);\n  background-color: var(--sklearn-color-unfitted-level-2);\n}\n\n/* Label box, darken color on hover, fitted */\n#sk-container-id-1 div.sk-label.fitted:hover label.sk-toggleable__label.fitted {\n  color: var(--sklearn-color-text);\n  background-color: var(--sklearn-color-fitted-level-2);\n}\n\n/* Estimator label */\n\n#sk-container-id-1 div.sk-label label {\n  font-family: monospace;\n  font-weight: bold;\n  display: inline-block;\n  line-height: 1.2em;\n}\n\n#sk-container-id-1 div.sk-label-container {\n  text-align: center;\n}\n\n/* Estimator-specific */\n#sk-container-id-1 div.sk-estimator {\n  font-family: monospace;\n  border: 1px dotted var(--sklearn-color-border-box);\n  border-radius: 0.25em;\n  box-sizing: border-box;\n  margin-bottom: 0.5em;\n  /* unfitted */\n  background-color: var(--sklearn-color-unfitted-level-0);\n}\n\n#sk-container-id-1 div.sk-estimator.fitted {\n  /* fitted */\n  background-color: var(--sklearn-color-fitted-level-0);\n}\n\n/* on hover */\n#sk-container-id-1 div.sk-estimator:hover {\n  /* unfitted */\n  background-color: var(--sklearn-color-unfitted-level-2);\n}\n\n#sk-container-id-1 div.sk-estimator.fitted:hover {\n  /* fitted */\n  background-color: var(--sklearn-color-fitted-level-2);\n}\n\n/* Specification for estimator info (e.g. \"i\" and \"?\") */\n\n/* Common style for \"i\" and \"?\" */\n\n.sk-estimator-doc-link,\na:link.sk-estimator-doc-link,\na:visited.sk-estimator-doc-link {\n  float: right;\n  font-size: smaller;\n  line-height: 1em;\n  font-family: monospace;\n  background-color: var(--sklearn-color-background);\n  border-radius: 1em;\n  height: 1em;\n  width: 1em;\n  text-decoration: none !important;\n  margin-left: 1ex;\n  /* unfitted */\n  border: var(--sklearn-color-unfitted-level-1) 1pt solid;\n  color: var(--sklearn-color-unfitted-level-1);\n}\n\n.sk-estimator-doc-link.fitted,\na:link.sk-estimator-doc-link.fitted,\na:visited.sk-estimator-doc-link.fitted {\n  /* fitted */\n  border: var(--sklearn-color-fitted-level-1) 1pt solid;\n  color: var(--sklearn-color-fitted-level-1);\n}\n\n/* On hover */\ndiv.sk-estimator:hover .sk-estimator-doc-link:hover,\n.sk-estimator-doc-link:hover,\ndiv.sk-label-container:hover .sk-estimator-doc-link:hover,\n.sk-estimator-doc-link:hover {\n  /* unfitted */\n  background-color: var(--sklearn-color-unfitted-level-3);\n  color: var(--sklearn-color-background);\n  text-decoration: none;\n}\n\ndiv.sk-estimator.fitted:hover .sk-estimator-doc-link.fitted:hover,\n.sk-estimator-doc-link.fitted:hover,\ndiv.sk-label-container:hover .sk-estimator-doc-link.fitted:hover,\n.sk-estimator-doc-link.fitted:hover {\n  /* fitted */\n  background-color: var(--sklearn-color-fitted-level-3);\n  color: var(--sklearn-color-background);\n  text-decoration: none;\n}\n\n/* Span, style for the box shown on hovering the info icon */\n.sk-estimator-doc-link span {\n  display: none;\n  z-index: 9999;\n  position: relative;\n  font-weight: normal;\n  right: .2ex;\n  padding: .5ex;\n  margin: .5ex;\n  width: min-content;\n  min-width: 20ex;\n  max-width: 50ex;\n  color: var(--sklearn-color-text);\n  box-shadow: 2pt 2pt 4pt #999;\n  /* unfitted */\n  background: var(--sklearn-color-unfitted-level-0);\n  border: .5pt solid var(--sklearn-color-unfitted-level-3);\n}\n\n.sk-estimator-doc-link.fitted span {\n  /* fitted */\n  background: var(--sklearn-color-fitted-level-0);\n  border: var(--sklearn-color-fitted-level-3);\n}\n\n.sk-estimator-doc-link:hover span {\n  display: block;\n}\n\n/* \"?\"-specific style due to the `<a>` HTML tag */\n\n#sk-container-id-1 a.estimator_doc_link {\n  float: right;\n  font-size: 1rem;\n  line-height: 1em;\n  font-family: monospace;\n  background-color: var(--sklearn-color-background);\n  border-radius: 1rem;\n  height: 1rem;\n  width: 1rem;\n  text-decoration: none;\n  /* unfitted */\n  color: var(--sklearn-color-unfitted-level-1);\n  border: var(--sklearn-color-unfitted-level-1) 1pt solid;\n}\n\n#sk-container-id-1 a.estimator_doc_link.fitted {\n  /* fitted */\n  border: var(--sklearn-color-fitted-level-1) 1pt solid;\n  color: var(--sklearn-color-fitted-level-1);\n}\n\n/* On hover */\n#sk-container-id-1 a.estimator_doc_link:hover {\n  /* unfitted */\n  background-color: var(--sklearn-color-unfitted-level-3);\n  color: var(--sklearn-color-background);\n  text-decoration: none;\n}\n\n#sk-container-id-1 a.estimator_doc_link.fitted:hover {\n  /* fitted */\n  background-color: var(--sklearn-color-fitted-level-3);\n}\n</style><div id=\"sk-container-id-1\" class=\"sk-top-container\"><div class=\"sk-text-repr-fallback\"><pre>SVC(C=0.1, kernel=&#x27;linear&#x27;)</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br />On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class=\"sk-container\" hidden><div class=\"sk-item\"><div class=\"sk-estimator fitted sk-toggleable\"><input class=\"sk-toggleable__control sk-hidden--visually\" id=\"sk-estimator-id-1\" type=\"checkbox\" checked><label for=\"sk-estimator-id-1\" class=\"sk-toggleable__label fitted sk-toggleable__label-arrow fitted\">&nbsp;&nbsp;SVC<a class=\"sk-estimator-doc-link fitted\" rel=\"noreferrer\" target=\"_blank\" href=\"https://scikit-learn.org/1.5/modules/generated/sklearn.svm.SVC.html\">?<span>Documentation for SVC</span></a><span class=\"sk-estimator-doc-link fitted\">i<span>Fitted</span></span></label><div class=\"sk-toggleable__content fitted\"><pre>SVC(C=0.1, kernel=&#x27;linear&#x27;)</pre></div> </div></div></div></div>","content_type":"text/html"},"text/plain":{"content":"SVC(C=0.1, kernel='linear')","content_type":"text/plain"}}},"children":[],"key":"X6qvFfWpeS"}],"key":"q61jNjPuZs"}],"key":"cJo4onfaXh"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Test SVM Model","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aQAmnhVBm5"}],"identifier":"test-svm-model","label":"Test SVM Model","html_id":"test-svm-model","implicit":true,"key":"t9URfXrufl"}],"key":"BmYPv9JLud"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:01.737957Z","iopub.status.busy":"2024-10-21T11:08:01.733646Z","iopub.status.idle":"2024-10-21T11:08:02.171188Z","shell.execute_reply":"2024-10-21T11:08:02.143222Z","shell.execute_reply.started":"2024-10-21T11:08:01.737929Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"y_pred = svm_model.predict(X_test_scaled)","key":"T4WtfrwFrM"},{"type":"outputs","id":"qOYIS-vwMoyJAZvl5vIxM","children":[],"key":"m8xesHN8uK"}],"key":"Jrqn3JJ9dM"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Obtain Accuracy of SVM Model","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OmwpgX7Y1n"}],"identifier":"obtain-accuracy-of-svm-model","label":"Obtain Accuracy of SVM Model","html_id":"obtain-accuracy-of-svm-model","implicit":true,"key":"cQ5lxK9zZl"}],"key":"jOEWoutkar"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:02.226855Z","iopub.status.busy":"2024-10-21T11:08:02.223031Z","iopub.status.idle":"2024-10-21T11:08:02.440834Z","shell.execute_reply":"2024-10-21T11:08:02.427035Z","shell.execute_reply.started":"2024-10-21T11:08:02.226799Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"accuracy = accuracy_score(y_test, y_pred)\nprint(f\"Accuracy: {accuracy * 100:.2f}%\")","key":"doJgosS9RK"},{"type":"outputs","id":"fTmDrhfd9iW2YrI6ThoNk","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Accuracy: 99.71%\n"},"children":[],"key":"JvVF6Yijfm"}],"key":"rgh7n7XIUq"}],"key":"okPUKsQEzr"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Obtain Training and Test Accuracy of SVM Model","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PVoJ3BOeU6"}],"identifier":"obtain-training-and-test-accuracy-of-svm-model","label":"Obtain Training and Test Accuracy of SVM Model","html_id":"obtain-training-and-test-accuracy-of-svm-model","implicit":true,"key":"NPUzjY5IvY"}],"key":"rwPOdDpA1F"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:02.504298Z","iopub.status.busy":"2024-10-21T11:08:02.470559Z","iopub.status.idle":"2024-10-21T11:08:02.661855Z","shell.execute_reply":"2024-10-21T11:08:02.652716Z","shell.execute_reply.started":"2024-10-21T11:08:02.504260Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"train_accuracy = svm_model.score(X_train_scaled, y_train)\ntest_accuracy = svm_model.score(X_test_scaled, y_test)\nprint(f\"Training Accuracy: {train_accuracy * 100:.2f}%\")\nprint(f\"Test Accuracy: {test_accuracy * 100:.2f}%\")","key":"lfXL2z70JP"},{"type":"outputs","id":"qjt3mJS19ViNyPe7fQcSQ","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Training Accuracy: 100.00%\nTest Accuracy: 99.71%\n"},"children":[],"key":"BQZYVd74uw"}],"key":"AIFVewqVJq"}],"key":"BXz2NsuqJD"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Obtain F1 Score of SVM Model","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NMmj4X0R7r"}],"identifier":"obtain-f1-score-of-svm-model","label":"Obtain F1 Score of SVM Model","html_id":"obtain-f1-score-of-svm-model","implicit":true,"key":"L0yY2Roas2"}],"key":"zBMkUroZ2C"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:02.662460Z","iopub.status.busy":"2024-10-21T11:08:02.662304Z","iopub.status.idle":"2024-10-21T11:08:02.844701Z","shell.execute_reply":"2024-10-21T11:08:02.820634Z","shell.execute_reply.started":"2024-10-21T11:08:02.662446Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"f1 = f1_score(y_test, y_pred)\nprint(f\"F1 Score: {f1:.2f}\")","key":"ydftFpZU2x"},{"type":"outputs","id":"s5c9jYm_-GYkR3HA8oOPp","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"F1 Score: 1.00\n"},"children":[],"key":"Fn711JodfM"}],"key":"HkVmopWRti"}],"key":"xzR6OfIWyG"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Cross Validate SVM Model","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lxULqf6ttL"}],"identifier":"cross-validate-svm-model","label":"Cross Validate SVM Model","html_id":"cross-validate-svm-model","implicit":true,"key":"pypZovKTl4"}],"key":"mSlgKAXudr"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:02.857744Z","iopub.status.busy":"2024-10-21T11:08:02.857503Z","iopub.status.idle":"2024-10-21T11:08:03.325390Z","shell.execute_reply":"2024-10-21T11:08:03.324783Z","shell.execute_reply.started":"2024-10-21T11:08:02.857727Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"scores = cross_val_score(svm_model, X_train_scaled, y_train, cv=5, scoring='accuracy')\nprint(f\"Cross-Validation Accuracy: {scores.mean():.2f} (+/- {scores.std():.2f})\")","key":"xqC6N23fpT"},{"type":"outputs","id":"jz9snWnit5X_BGJEReUEY","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Cross-Validation Accuracy: 1.00 (+/- 0.00)\n"},"children":[],"key":"xUglR6UBq5"}],"key":"p3p4sBUzC2"}],"key":"qpAIxSF2m9"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize Results of SVM Model","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ehAv3ziq5j"}],"identifier":"visualize-results-of-svm-model","label":"Visualize Results of SVM Model","html_id":"visualize-results-of-svm-model","implicit":true,"key":"pwqos5HIpl"}],"key":"cIv9yfO3c6"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Scatter Plot with PCA","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WCritMWOwL"}],"identifier":"scatter-plot-with-pca","label":"Scatter Plot with PCA","html_id":"scatter-plot-with-pca","implicit":true,"key":"pfLbMKfefu"}],"key":"qyMIcXaocw"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:20:58.583214Z","iopub.status.busy":"2024-10-21T11:20:58.523066Z","iopub.status.idle":"2024-10-21T11:20:59.053719Z","shell.execute_reply":"2024-10-21T11:20:59.052629Z","shell.execute_reply.started":"2024-10-21T11:20:58.583176Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Reduce dimensions using PCA\npca = PCA(n_components=2)\n\nX_reduced = pca.fit_transform(X_test_scaled)\n\ncomponents = pca.components_\nprint(components)\n\n# Get the predicted labels\npredicted_labels = svm_model.predict(X_test_scaled)\n\n# Create boolean masks for correct and incorrect predictions\ncorrect_mask = (predicted_labels == y_test)\nincorrect_mask = ~correct_mask\n\n# Create a figure\nplt.figure(figsize=(10, 6))\n\n# Plot correct predictions in green\nplt.scatter(X_reduced[correct_mask, 0], X_reduced[correct_mask, 1], color='green',\n            marker='o', alpha=0.7, s=60, label='Correct Prediction')\n\n# Plot incorrect predictions in red\nplt.scatter(X_reduced[incorrect_mask, 0], X_reduced[incorrect_mask, 1], color='red',\n            marker='x', alpha=0.7, s=60, label='Incorrect Prediction')\n\n# Set labels and title\nplt.xlabel('PCA Component 1', fontsize=20)\nplt.ylabel('PCA Component 2', fontsize=20)\nplt.title('SVM Classification Results: Correct vs Incorrect Predictions on Test Data', fontsize=18)\n\n# Add a legend\nplt.legend()\n\n# Display the plot\nplt.tight_layout()\nplt.show()","key":"QMnbSTQboQ"},{"type":"outputs","id":"IM23rYBfhOlk1LkNQHVB-","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"[[ 0.51111341  0.13118439  0.47327076  0.4251986   0.00643744 -0.257121\n   0.50031459  0.01753109]\n [-0.03692307  0.31993471  0.1095569  -0.19047139  0.66528982  0.06390289\n   0.01416038  0.63332595]]\n"},"children":[],"key":"KQpQKSWOcR"},{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"5c63e3d289033a639c6b7a782c09b34c","path":"/build/5c63e3d289033a639c6b7a782c09b34c.png"},"text/plain":{"content":"<Figure size 1000x600 with 1 Axes>","content_type":"text/plain"}}},"children":[],"key":"GdpQuiHUf2"}],"key":"cDaTYWYJxy"}],"key":"NddRVNrEKp"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Pairwise Plotting of Feature vs Feature","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ujtbRwINGM"}],"identifier":"pairwise-plotting-of-feature-vs-feature","label":"Pairwise Plotting of Feature vs Feature","html_id":"pairwise-plotting-of-feature-vs-feature","implicit":true,"key":"cDxoqhjGP9"}],"key":"b5zy9pCVCA"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:23:12.085695Z","iopub.status.busy":"2024-10-21T11:23:12.076217Z","iopub.status.idle":"2024-10-21T11:23:29.120236Z","shell.execute_reply":"2024-10-21T11:23:29.104449Z","shell.execute_reply.started":"2024-10-21T11:23:12.085640Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"df = pd.DataFrame(X_test_scaled, columns=[f'Feature {i+1}' for i in range(X_test_scaled.shape[1])])\ndf['Predicted Class'] = svm_model.predict(X_test_scaled)\n\n# Plot pairwise relationships\nsns.pairplot(df, hue='Predicted Class', palette='viridis')\nplt.suptitle('Pair Plot of SVM Classification Results', y=1.02, fontsize=30)\nplt.show()\n","key":"PqpOlSqDMJ"},{"type":"outputs","id":"15puecInnVrqHekvwHyv2","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"8b4b5acb8b0d4a6b5b3f8937e7b09d1b","path":"/build/8b4b5acb8b0d4a6b5b3f8937e7b09d1b.png"},"text/plain":{"content":"<Figure size 2117.49x2000 with 72 Axes>","content_type":"text/plain"}}},"children":[],"key":"APCUSGI0RO"}],"key":"qSOxzxCUFD"}],"key":"pfA70kUWpW"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Heatmaps of Confusion Matrix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"tHBFf1ZzgJ"}],"identifier":"heatmaps-of-confusion-matrix","label":"Heatmaps of Confusion Matrix","html_id":"heatmaps-of-confusion-matrix","implicit":true,"key":"tS6UvRYcuS"}],"key":"zZWy97jE1p"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-22T01:38:29.385324Z","iopub.status.busy":"2024-10-22T01:38:29.384594Z","iopub.status.idle":"2024-10-22T01:38:29.615638Z","shell.execute_reply":"2024-10-22T01:38:29.605462Z","shell.execute_reply.started":"2024-10-22T01:38:29.385296Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Get the predicted classes\ny_pred = svm_model.predict(X_test_scaled)\n\n# Create the confusion matrix\ncm = confusion_matrix(y_test, y_pred)\n\n# Plot the heatmap of the confusion matrix\nsns.heatmap(cm, annot=True, cmap='Blues', fmt='d')\nplt.xlabel('Predicted')\nplt.ylabel('Actual')\nplt.title('Confusion Matrix Heatmap of Test Data')\nplt.show()\n\n\n# Print accuracy, recall, precision, and F1 score\naccuracy = accuracy_score(y_test, y_pred)\nrecall = recall_score(y_test, y_pred)\nprecision = precision_score(y_test, y_pred)\nf1 = f1_score(y_test, y_pred)\n\nprint(f'Accuracy: {accuracy:.4f}')\nprint(f'Recall: {recall:.4f}')\nprint(f'Precision: {precision:.4f}')\nprint(f'F1 Score: {f1:.4f}')","key":"kf7hSowhqw"},{"type":"outputs","id":"aHlsif-IRiP3ASUc0APE9","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"316fae2de0eebc02e06b1573c013a345","path":"/build/316fae2de0eebc02e06b1573c013a345.png"},"text/plain":{"content":"<Figure size 640x480 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"fUJBeTg7Rv"},{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Accuracy: 0.9971\nRecall: 0.9950\nPrecision: 1.0000\nF1 Score: 0.9975\n"},"children":[],"key":"BKMTYTjX9l"}],"key":"PR6xyxRtOf"}],"key":"saYlnbTasg"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Dump Model to Pickle File","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sUmt8MDE1U"}],"identifier":"dump-model-to-pickle-file","label":"Dump Model to Pickle File","html_id":"dump-model-to-pickle-file","implicit":true,"key":"hASSGDvuEs"}],"key":"IGLKAtPriw"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:19.318791Z","iopub.status.busy":"2024-10-21T11:08:19.318477Z","iopub.status.idle":"2024-10-21T11:08:19.456746Z","shell.execute_reply":"2024-10-21T11:08:19.407527Z","shell.execute_reply.started":"2024-10-21T11:08:19.318772Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"with open('svm_model.pkl', 'wb') as f:\n    pickle.dump(svm_model, f)","key":"PEqGPnRqHi"},{"type":"outputs","id":"OujtvvCkWVphs_YEGDH45","children":[],"key":"SgT21Lv8l0"}],"key":"x4QC1Bq8uY"}],"key":"BnmmB2ImqR"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"CSE572 Project 1","url":"/sections/mcs-projects/mcs-portfolio-project/cse572-project-1","group":"Master's in Computer Science (Cybersecurity) Projects"},"next":{"title":"CSE572 Project 3 - Cluster Validation Project","url":"/sections/mcs-projects/mcs-portfolio-project/cse572-project-3","group":"Master's in Computer Science (Cybersecurity) Projects"}}},"domain":"http://localhost:3024"}