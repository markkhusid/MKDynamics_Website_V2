{"version":3,"kind":"Notebook","sha256":"3f97153abc9436a733b4baa0058be9341a1f5125945d8953ac707219a578b2fd","slug":"sections.computer-programming.fortran.guide-to-fortran-2008-programming.section-8-1-submodules","location":"/Sections/Computer_Programming/Fortran/Guide_to_Fortran_2008_Programming/Section_8_1_Submodules.ipynb","dependencies":[],"frontmatter":{"title":"Section 8.1: Submodules","content_includes_title":true,"kernelspec":{"name":"python3","display_name":"Python 3.9.2 64-bit","language":"python"},"authors":[{"nameParsed":{"literal":"Mark Khusid","given":"Mark","family":"Khusid"},"name":"Mark Khusid","id":"contributors-myst-generated-uid-0"}],"github":"https://github.com/markkhusid/MKDynamics_Website_V2","numbering":{"title":{"offset":4}},"source_url":"https://github.com/markkhusid/MKDynamics_Website_V2/blob/master/Sections/Computer_Programming/Fortran/Guide_to_Fortran_2008_Programming/Section_8_1_Submodules.ipynb","edit_url":"https://github.com/markkhusid/MKDynamics_Website_V2/edit/master/Sections/Computer_Programming/Fortran/Guide_to_Fortran_2008_Programming/Section_8_1_Submodules.ipynb","exports":[{"format":"ipynb","filename":"Section_8_1_Submodules.ipynb","url":"/build/Section_8_1_Submodul-1def6519055ffbb8a59389dfec11dead.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"code","lang":"","value":"---\njupytext:\n  formats: md:myst\n  text_representation:\n    extension: .md\n    format_name: myst\nkernelspec:\n  display_name: Python 3\n  language: python\n  name: python3\n---","key":"CfOP7iN3nP"}],"key":"uRarXNkmib"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Section 8.1: Submodules","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vik70UkTnR"}],"identifier":"section-8-1-submodules","label":"Section 8.1: Submodules","html_id":"section-8-1-submodules","implicit":true,"key":"qDQiQdcns0"}],"visibility":"show","key":"bdiJeIQX0A"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Adapted from: “Guide to Fortran 2008 Programming” by Walter S. Brainerd (Springer 2015)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"AbWLHbMz8H"}],"key":"Lvd2j4w7yR"}],"key":"Szi8rHNt4j"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Program to demonstrate use of submodules.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xn3e6aNAC1"}],"identifier":"program-to-demonstrate-use-of-submodules","label":"Program to demonstrate use of submodules.","html_id":"program-to-demonstrate-use-of-submodules","implicit":true,"key":"W875tj1zHW"}],"key":"enETQKWMFv"},{"type":"block","kind":"notebook-content","children":[{"type":"code","lang":"fortran","value":"module line_mod\n\n      implicit none\n      private\n\n      type, public :: line\n          real :: x1, y1, x2, y2\n\n          contains\n              procedure :: length\n      end type line\n\n      interface\n          module function length (l)\n              class(line), intent(in)  :: l\n              real :: length\n          end function length\n      end interface\n\nend module line_mod\n\nsubmodule (line_mod) line_length_mod\n\n      contains\n          module procedure length\n\n              length = sqrt((l%x2 - l%x1)**2 + (l%y2 - l%y1)**2)\n          end procedure length\n\nend submodule line_length_mod\n\nprogram submod\n\n          use line_mod\n          implicit none\n          type (line)   :: line_1\n          line_1 = line(0, 0, 1, 1)\n          write (*, '(a)') \"**** Line Length Calculation Program ****\"\n\n          print *\n          write (*, '(a)') \"Coordinates.....\"\n          write (*, '(a, f15.1)') \"Y2: \", line_1%y2\n          write (*, '(a, f15.1)') \"Y1: \", line_1%y1\n          write (*, '(a, f15.1)') \"X2: \", line_1%x2\n          write (*, '(a, f15.1)') \"X1: \", line_1%x1\n\n          print *\n          write (*, '(a, f10.4)') \"The line length is -> \", line_1%length()\n\nend program submod","position":{"start":{"line":1,"column":1},"end":{"line":52,"column":1}},"key":"IlulNWpvtg"}],"key":"r5R8dTd4lx"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The above program is compiled and run using Fortran Package Manager (fpm):","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WpQqwAjWtO"}],"key":"CfQtp9FzrP"}],"key":"NWvbH60ZRJ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import os\nroot_dir = os.getcwd()","key":"VvHtdTKXHh"},{"type":"outputs","id":"YCatKBeqol1AHJi3y9wcj","children":[],"key":"kbk9u2Robh"}],"key":"pLVUTFLram"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"code_dir = root_dir + \"/\" + \"Fortran_Code/Section_8_1_Submodules\"","key":"eGc6VWhbNN"},{"type":"outputs","id":"XLKztcCkKwXUMtjV39qf-","children":[],"key":"FUb6THplfC"}],"key":"aYmQqZQbCR"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"os.chdir(code_dir)","key":"Szl5j9qEEl"},{"type":"outputs","id":"6Wrs4p1CP7xEA1xFifAIK","children":[],"key":"oqgv0EPhVf"}],"key":"MSVaqe5RBS"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"build_status = os.system(\"fpm build 2>/dev/null\")","key":"N57GKm7WXj"},{"type":"outputs","id":"jQTINCzwqg17jYaiQ16gh","children":[],"key":"AhtL2Izznu"}],"key":"TkUh0567Qo"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"exec_status = os.system(\"fpm run 2>/dev/null\")","key":"hiRfKd9CEa"},{"type":"outputs","id":"-jfHlRZBNi7FUi4XNSN91","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"**** Line Length Calculation Program ****\n\nCoordinates.....\nY2:             1.0\nY1:             0.0\nX2:             1.0\nX1:             0.0\n\nThe line length is ->     1.4142\n"},"children":[],"key":"uDNYzVXqZk"}],"key":"tcWVwlY0LY"}],"key":"fhiSkWn9XL"}],"key":"FHLW8XhxlC"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Section 4.1: Elsewhere Example","url":"/sections/computer-programming/fortran/guide-to-fortran-2008-programming/section-4-1-elsewhere-example","group":"Computer Programming"},"next":{"title":"Section 8.2: Time Matrix Multiply","url":"/sections/computer-programming/fortran/guide-to-fortran-2008-programming/section-8-2-time-matrix-multiply","group":"Computer Programming"}}},"domain":"http://localhost:3003"}