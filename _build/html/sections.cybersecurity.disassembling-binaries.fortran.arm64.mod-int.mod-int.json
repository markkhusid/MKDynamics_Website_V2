{"version":3,"kind":"Article","sha256":"03cb6047f3637e6252a89c6509011de6b4b327989f9dcdc691c9c1c6ef22900d","slug":"sections.cybersecurity.disassembling-binaries.fortran.arm64.mod-int.mod-int","location":"/Sections/Cybersecurity/Disassembling_Binaries/Fortran/ARM64/MOD_INT/mod_int.md","dependencies":[],"frontmatter":{"title":"Fortran - ARM 64-Bit Platform - Modulo Two Integers","content_includes_title":false,"authors":[{"nameParsed":{"literal":"Mark Khusid","given":"Mark","family":"Khusid"},"name":"Mark Khusid","id":"contributors-myst-generated-uid-0"}],"github":"https://github.com/markkhusid/MKDynamics_Website_V2","numbering":{"title":{"offset":5}},"source_url":"https://github.com/markkhusid/MKDynamics_Website_V2/blob/master/Sections/Cybersecurity/Disassembling_Binaries/Fortran/ARM64/MOD_INT/mod_int.md","edit_url":"https://github.com/markkhusid/MKDynamics_Website_V2/edit/master/Sections/Cybersecurity/Disassembling_Binaries/Fortran/ARM64/MOD_INT/mod_int.md","thumbnail":"/build/mod_int_Fortran_ARM6-0205747aefc22cc51e86a818a418c733.png","thumbnailOptimized":"/build/mod_int_Fortran_ARM6-0205747aefc22cc51e86a818a418c733.webp","exports":[{"format":"md","filename":"mod_int.md","url":"/build/mod_int-e83d46e86fd2ff13bc42483bc83650b6.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"image","url":"/build/mod_int_Fortran_ARM6-0205747aefc22cc51e86a818a418c733.png","height":"600","width":"800","align":"center","key":"RVU9EQnxXR","urlSource":"images/mod_int_Fortran_ARM64_splash.png","urlOptimized":"/build/mod_int_Fortran_ARM6-0205747aefc22cc51e86a818a418c733.webp"},{"type":"heading","depth":2,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Introduction","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"CNwRaIiUQd"}],"identifier":"introduction","label":"Introduction","html_id":"introduction","implicit":true,"key":"Wx2AodyKnd"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"In this section we will be disassembling simple binaries generated by the Fortran high-level language compiled for the 64-bit ARM platform.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"ZnlSHSY3Z3"}],"key":"agEgLJjHk4"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Project code for this section is contained in my ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"JOQ5YKbWoa"},{"type":"link","url":"https://github.com/markkhusid/Disassembling-Binaries/tree/master/Fortran/ARM_architecture/ARM64","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"https://​github​.com​/markkhusid​/Disassembling​-Binaries​/tree​/master​/Fortran​/ARM​_architecture​/ARM64","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"pbj7wln0c2"}],"urlSource":"https://github.com/markkhusid/Disassembling-Binaries/tree/master/Fortran/ARM_architecture/ARM64","error":true,"key":"fqh7HCKfyr"},{"type":"text","value":".","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"N2iQ9wJAwb"}],"key":"kboEisclRf"},{"type":"thematicBreak","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"MK9VssHekZ"},{"type":"heading","depth":2,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"The program ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"qsyXUPtvuX"},{"type":"emphasis","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"mod_int.f08","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"RMZ7tobcfW"}],"key":"HMwl47Jfgt"}],"identifier":"the-program-mod-int-f08","label":"The program mod_int.f08","html_id":"the-program-mod-int-f08","implicit":true,"key":"L26ATOMWxb"},{"type":"include","file":"code/mod_int.f08","literal":true,"children":[{"type":"code","value":"program mod_int\n\n        implicit none\n\n        integer         :: a, b, c\n\n        a = 10\n        b = 4\n\n        c = MOD(a, b)\n\nend program mod_int\n\n","lang":"fortran","filename":"mod_int.f08","key":"r1X5tI19J9"}],"key":"iJZ2yVBtxN"},{"type":"paragraph","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"The program displays the contents of the program ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"QRizUUBAZj"},{"type":"emphasis","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"mod_int.f08","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"U23ZH7Bm7q"}],"key":"fCba2D1Zh1"},{"type":"text","value":". The program creates three integers: a, b, and c. ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"Esnq61viAm"},{"type":"inlineCode","value":"a","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"GJC4qRavOz"},{"type":"text","value":" is assigned the value of 10, ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"xEUdYjSwn2"},{"type":"inlineCode","value":"b","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"RybhgMME9s"},{"type":"text","value":" is assigned the value of 4, and ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"d67nyGcGUf"},{"type":"inlineCode","value":"c","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"VzByiBhzKa"},{"type":"text","value":" is assigned the result of the operation ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"gTK35g54a0"},{"type":"inlineCode","value":"MOD(a, b)","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"MlI4UeTD1o"},{"type":"text","value":".  MOD() is a Fortran intrinsic function that returns the remainder of the division of ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"OIObnrvrKC"},{"type":"inlineCode","value":"a","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"MawigsAYC4"},{"type":"text","value":" by ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"EPexOcNifQ"},{"type":"inlineCode","value":"b","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"h3YKzCJV9y"},{"type":"text","value":".","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"Ui865Wavit"}],"key":"pSzvNvH1bN"},{"type":"paragraph","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"The program is obviously very simple, with no inputs and outputs. The idea is to generate the binary and look at the disassembly to learn about the workings of the 64-bit ARM processor platform.","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"b6Abq1xtie"}],"key":"rB5I2KJzMU"},{"type":"paragraph","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"The chosen test system is my trusty Samsung Chromebook Plus V2, which has a 64-bit ARMv8 processor. This is a very convenient platform for this exercise due to its availability and ease of access from multiple remote systems via SSH.","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"p55DU8zC8g"}],"key":"BiGcoJVZIL"},{"type":"paragraph","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"The program is compiled with the GNU Fortran compiler, ","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"yYY1eY4HCG"},{"type":"inlineCode","value":"gfortran","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"v7Dnuu8m4O"},{"type":"text","value":", which is available on the ARM platform. The program is compiled with debugging information using the ","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"InYYKIQkJD"},{"type":"inlineCode","value":"-ggdb3","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"cg4u271oqT"},{"type":"text","value":" option, which allows us to debug the program in GDB and see the source code interspersed with the assembly instructions.","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"tf3oIKjGhf"}],"key":"GlZ9HGu9LB"},{"type":"paragraph","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"The program is compiled with:","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"kcQ2PKkmdP"}],"key":"j62EVEU5Pq"},{"type":"code","lang":"bash","value":"$ gfortran -ggdb3 mod_int.f08 -o mod_int_Fortran_aarch64_ggdb3","position":{"start":{"line":32,"column":1},"end":{"line":34,"column":1}},"key":"yKtb4mtigs"},{"type":"paragraph","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"For general edification, we also have ","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"O7Nh7YjjX0"},{"type":"inlineCode","value":"gfortran","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"G7Eqogk1Cf"},{"type":"text","value":" produce generic assembly with the ","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"SFfBjXxdwI"},{"type":"inlineCode","value":"-S","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"N45q4zLxYl"},{"type":"text","value":" option, an object file with the ","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"l0kOTcINZu"},{"type":"inlineCode","value":"-o","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"T1ueOA98MI"},{"type":"text","value":" option, and object dumps of the object and executable files.","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"uxFEct30qp"}],"key":"CD6RUodTAe"},{"type":"paragraph","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"The generic assembly is generated by using the ","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"h5uIw61EIH"},{"type":"inlineCode","value":"-S","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"n69DUDNNsz"},{"type":"text","value":" (assembly) option:","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"FDLPDHIpFi"}],"key":"pIXx9zapLW"},{"type":"code","lang":"bash","value":"$ gfortran -S -ggdb3 mod_int.f08 -o mod_int.s","position":{"start":{"line":40,"column":1},"end":{"line":42,"column":1}},"key":"QmuR0SwD48"},{"type":"paragraph","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"text","value":"The object file is generated by using the ","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"EXNA7vX8Dc"},{"type":"inlineCode","value":"-c","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"HSxBYuitwZ"},{"type":"text","value":" (compile) option:","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"mY1go72T91"}],"key":"h8ihQU0nVU"},{"type":"code","lang":"bash","value":"$ gfortran -c -ggdb3 mod_int.s -o mod_int.o","position":{"start":{"line":46,"column":1},"end":{"line":48,"column":1}},"key":"C3IpqoQt5G"},{"type":"paragraph","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"children":[{"type":"text","value":"The objdump files are generated by using the following command and options:","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"hxVYR0QCPn"}],"key":"NmKwC55LSk"},{"type":"code","lang":"bash","value":"$ objdump -x -D -S -s -g -t mod_int.o > objdump_of_dot_o.txt\n$ objdump -x -D -S -s -g -t mod_int_Fortran_aarch64_ggdb3 > objdump_of_dot_exe.txt","position":{"start":{"line":52,"column":1},"end":{"line":55,"column":1}},"key":"Y6iJ3PqkVk"},{"type":"paragraph","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"text","value":"A rundown of the objdump options is shown here:","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"CR8DdsKmND"}],"key":"UorRViMQ3Q"},{"type":"code","lang":"bash","value":"$objdump \nUsage: objdump <option(s)> <file(s)>\n Display information from object <file(s)>.\n At least one of the following switches must be given:\n  -a, --archive-headers    Display archive header information\n  -f, --file-headers       Display the contents of the overall file header\n  -p, --private-headers    Display object format specific file header contents\n  -P, --private=OPT,OPT... Display object format specific contents\n  -h, --[section-]headers  Display the contents of the section headers\n  -x, --all-headers        Display the contents of all headers\n  -d, --disassemble        Display assembler contents of executable sections\n  -D, --disassemble-all    Display assembler contents of all sections\n      --disassemble=<sym>  Display assembler contents from <sym>\n  -S, --source             Intermix source code with disassembly\n      --source-comment[=<txt>] Prefix lines of source code with <txt>\n  -s, --full-contents      Display the full contents of all sections requested\n  -g, --debugging          Display debug information in object file\n  -e, --debugging-tags     Display debug information using ctags style\n  -G, --stabs              Display (in raw form) any STABS info in the file\n  -W, --dwarf[a/=abbrev, A/=addr, r/=aranges, c/=cu_index, L/=decodedline,\n              f/=frames, F/=frames-interp, g/=gdb_index, i/=info, o/=loc,\n              m/=macro, p/=pubnames, t/=pubtypes, R/=Ranges, l/=rawline,\n              s/=str, O/=str-offsets, u/=trace_abbrev, T/=trace_aranges,\n              U/=trace_info]\n                           Display the contents of DWARF debug sections\n  -Wk,--dwarf=links        Display the contents of sections that link to\n                            separate debuginfo files\n  -WK,--dwarf=follow-links\n                           Follow links to separate debug info files (default)\n  -WN,--dwarf=no-follow-links\n                           Do not follow links to separate debug info files\n  -L, --process-links      Display the contents of non-debug sections in\n                            separate debuginfo files.  (Implies -WK)\n      --ctf[=SECTION]      Display CTF info from SECTION, (default `.ctf')\n      --sframe[=SECTION]   Display SFrame info from SECTION, (default '.sframe')\n  -t, --syms               Display the contents of the symbol table(s)\n  -T, --dynamic-syms       Display the contents of the dynamic symbol table\n  -r, --reloc              Display the relocation entries in the file\n  -R, --dynamic-reloc      Display the dynamic relocation entries in the file\n  @<file>                  Read options from <file>\n  -v, --version            Display this program's version number\n  -i, --info               List object formats and architectures supported\n  -H, --help               Display this information","position":{"start":{"line":59,"column":1},"end":{"line":103,"column":1}},"key":"uFgUP3Oziu"},{"type":"paragraph","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"children":[{"type":"text","value":"In our case, we want ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"BkCiQZVVS7"},{"type":"inlineCode","value":"-x","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"qWxhyI8mTf"},{"type":"text","value":" (all headers), ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"ge0Mrz5xF1"},{"type":"inlineCode","value":"-D","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"i7e0mGQ9Pr"},{"type":"text","value":" (disassemble all), ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"pmgz4EyqP3"},{"type":"inlineCode","value":"-S","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"jk0xI2QZoC"},{"type":"text","value":" (display source code with assembly), ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"F5kuXqeR2e"},{"type":"inlineCode","value":"-s","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"UoHNGmz6FH"},{"type":"text","value":" (full contents of all sections), ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"RcwvYVUxSz"},{"type":"inlineCode","value":"-g","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"iwhBPTdHMv"},{"type":"text","value":" (debug info), and finally, ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"GRRk3jVjC3"},{"type":"inlineCode","value":"-t","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"ffFEbRSfHd"},{"type":"text","value":" (display contents of the symbol tables).","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"EBoYPL6P8a"}],"key":"KgQLz1UQyB"},{"type":"paragraph","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"We will now disassemble this program on the 64-bit ARM platform and step through the assembly instructions.","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"OaFsUwcpgj"}],"key":"Bt0tJsLOcw"},{"type":"thematicBreak","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"DAQ9y98uz4"},{"type":"heading","depth":2,"position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"children":[{"type":"text","value":"Disassembling ","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"tfpwhjlEuR"},{"type":"emphasis","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"children":[{"type":"text","value":"mod_int_Fortran_aarch64_ggdb3","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"mDND0gjlOA"}],"key":"RlR0BD4VpX"}],"identifier":"disassembling-mod-int-fortran-aarch64-ggdb3","label":"Disassembling mod_int_Fortran_aarch64_ggdb3","html_id":"disassembling-mod-int-fortran-aarch64-ggdb3","implicit":true,"key":"rBFLBMmHKe"},{"type":"paragraph","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"children":[{"type":"text","value":"When we look at the executable’s objdump, we notice that there are two functions of interest, one is ","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"V65mBpZkGz"},{"type":"inlineCode","value":"main","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"yPgBxUU8s7"},{"type":"text","value":", and the other is ","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"MyiU8Guj4C"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"DqAJoHwk2Q"},{"type":"text","value":". The Fortran compiler sets up the program arguments and options in ","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"rkap8cLaXk"},{"type":"inlineCode","value":"main","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"Jv7KwfCgCb"},{"type":"text","value":", while the actual program is contained within ","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"qrHHz5Tubi"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"pnMpKfwaJD"},{"type":"text","value":" (that is capital MAIN followed by two underscores).","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"i4RPFZfOio"}],"key":"nr2ry504Gi"},{"type":"paragraph","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"children":[{"type":"text","value":"The following text from the executable’s objdump illustrates this:","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"key":"weGbKqm53X"}],"key":"GItItwn8lu"},{"type":"code","lang":"objdump","value":"Disassembly of section .text:\n\n0000000000000814 <MAIN__>:\nprogram mod_int\n 814:\td10043ff \tsub\tsp, sp, #0x10\n\n        implicit none\n\n        integer         :: a, b, c\n\n        a = 10\n 818:\t52800140 \tmov\tw0, #0xa                   \t// #10\n 81c:\tb9000fe0 \tstr\tw0, [sp, #12]\n        b = 4\n 820:\t52800080 \tmov\tw0, #0x4                   \t// #4\n 824:\tb9000be0 \tstr\tw0, [sp, #8]\n\n        c = MOD(a, b)\n 828:\tb9400fe0 \tldr\tw0, [sp, #12]\n 82c:\tb9400be1 \tldr\tw1, [sp, #8]\n 830:\t1ac10c02 \tsdiv\tw2, w0, w1\n 834:\tb9400be1 \tldr\tw1, [sp, #8]\n 838:\t1b017c41 \tmul\tw1, w2, w1\n 83c:\t4b010000 \tsub\tw0, w0, w1\n 840:\tb90007e0 \tstr\tw0, [sp, #4]\n\nend program mod_int\n 844:\td503201f \tnop\n 848:\t910043ff \tadd\tsp, sp, #0x10\n 84c:\td65f03c0 \tret\n\n0000000000000850 <main>:\n 850:\ta9be7bfd \tstp\tx29, x30, [sp, #-32]!\n 854:\t910003fd \tmov\tx29, sp\n 858:\tb9001fe0 \tstr\tw0, [sp, #28]\n 85c:\tf9000be1 \tstr\tx1, [sp, #16]\n 860:\tf9400be1 \tldr\tx1, [sp, #16]\n 864:\tb9401fe0 \tldr\tw0, [sp, #28]\n 868:\t97ffffa2 \tbl\t6f0 <_gfortran_set_args@plt>\n 86c:\t90000000 \tadrp\tx0, 0 <_init-0x660>\n 870:\t9124c001 \tadd\tx1, x0, #0x930\n 874:\t528000e0 \tmov\tw0, #0x7                   \t// #7\n 878:\t97ffff9a \tbl\t6e0 <_gfortran_set_options@plt>\n 87c:\t97ffffe6 \tbl\t814 <MAIN__>\n 880:\t52800000 \tmov\tw0, #0x0                   \t// #0\n 884:\ta8c27bfd \tldp\tx29, x30, [sp], #32\n 888:\td65f03c0 \tret\n 88c:\td503201f \tnop","position":{"start":{"line":117,"column":1},"end":{"line":166,"column":1}},"key":"byUMYrQ3XP"},{"type":"heading","depth":2,"position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"children":[{"type":"text","value":"Explaining the Dissassembly by ChatGPT 4o","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"key":"AN78tMGy7M"}],"identifier":"explaining-the-dissassembly-by-chatgpt-4o","label":"Explaining the Dissassembly by ChatGPT 4o","html_id":"explaining-the-dissassembly-by-chatgpt-4o","implicit":true,"key":"tSKDVDRGqL"},{"type":"paragraph","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"children":[{"type":"text","value":"This disassembly represents the ARM AArch64 machine code for a ","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"tMeX5imtFQ"},{"type":"strong","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"children":[{"type":"text","value":"Fortran program that performs an integer modulus operation using ","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"v0tH0MnYRi"},{"type":"inlineCode","value":"MOD(a, b)","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"ypLblV2SAg"}],"key":"SjYwpZ0E1g"},{"type":"text","value":". In AArch64, there is ","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"QbGcykZZEX"},{"type":"strong","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"children":[{"type":"text","value":"no single instruction for modulo","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"p4hJ3UesTV"}],"key":"RMvVg1sM8i"},{"type":"text","value":", so the operation must be implemented using multiple primitive instructions.","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"ob4O8TbLAl"}],"key":"SMWR1BfvDb"},{"type":"paragraph","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"text","value":"Let’s examine in great detail ","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"Q8JkOlvbaA"},{"type":"strong","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"text","value":"why","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"ptHlbWGCKB"}],"key":"qKPSg8S1kZ"},{"type":"text","value":" and ","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"gwxHr7OuxF"},{"type":"strong","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"text","value":"how","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"xgw7Or5SGk"}],"key":"BpzLdlfQks"},{"type":"text","value":" the compiler synthesizes ","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"rX9SFJNNGe"},{"type":"inlineCode","value":"MOD(a, b)","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"lPshZcPl5W"},{"type":"text","value":" using multiple instructions.","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"YeC7eOyo9f"}],"key":"SYT05ItIPn"},{"type":"thematicBreak","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"key":"PgsZCCSbhQ"},{"type":"heading","depth":2,"position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"children":[{"type":"text","value":"High-Level Fortran Code","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"dNDz7G86U1"}],"identifier":"high-level-fortran-code","label":"High-Level Fortran Code","html_id":"high-level-fortran-code","implicit":true,"key":"sonpw6hYfp"},{"type":"code","lang":"fortran","value":"program mod_int\n  implicit none\n  integer :: a, b, c\n\n  a = 10\n  b = 4\n  c = MOD(a, b)\nend program mod_int","position":{"start":{"line":178,"column":1},"end":{"line":187,"column":1}},"key":"ppZRoSyHXX"},{"type":"thematicBreak","position":{"start":{"line":189,"column":1},"end":{"line":189,"column":1}},"key":"FEbt1utLOb"},{"type":"heading","depth":2,"position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"children":[{"type":"text","value":"Disassembly Overview","position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"key":"ovlbdkLNom"}],"identifier":"disassembly-overview","label":"Disassembly Overview","html_id":"disassembly-overview","implicit":true,"key":"AOrzJwfVZj"},{"type":"code","lang":"","value":"0000000000000814 <MAIN__>:","position":{"start":{"line":193,"column":1},"end":{"line":195,"column":1}},"key":"RRnN629bUU"},{"type":"paragraph","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"children":[{"type":"text","value":"This is the Fortran-compiled ","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"LCt1rfMktQ"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"h5ZfpLRB2S"},{"type":"text","value":" subroutine. Let’s go through it line by line, especially focusing on the ","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"UaaYnOOHyU"},{"type":"inlineCode","value":"MOD","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"Nd2kY2dBwL"},{"type":"text","value":" operation.","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"sJuPumaxqK"}],"key":"dbRwfWAnwM"},{"type":"thematicBreak","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"MxF430Drbc"},{"type":"heading","depth":3,"position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"children":[{"type":"text","value":"1. Stack Frame Setup","position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"key":"yXbhm2CTmu"}],"identifier":"id-1-stack-frame-setup","label":"1. Stack Frame Setup","html_id":"id-1-stack-frame-setup","implicit":true,"key":"vEN6BBEGP3"},{"type":"code","lang":"asm","value":"814:\td10043ff \tsub\tsp, sp, #0x10","position":{"start":{"line":203,"column":1},"end":{"line":205,"column":1}},"key":"oJjW8aEB32"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":207,"column":1},"end":{"line":208,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":207,"column":1},"end":{"line":208,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Allocate 16 bytes on the stack for local variables ","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"ZIBwxxtQTH"},{"type":"inlineCode","value":"a","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"nRBQ5auwKC"},{"type":"text","value":", ","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"Ju0SNAXf9t"},{"type":"inlineCode","value":"b","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"pRx8qqzzl3"},{"type":"text","value":", and ","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"txX0cXClB7"},{"type":"inlineCode","value":"c","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"BWBRfSvVZO"},{"type":"text","value":".","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"doG8QODSe8"}],"key":"tSANcheSI8"}],"key":"QBZC6sCuyG"}],"key":"vwBtBOCMvL"},{"type":"thematicBreak","position":{"start":{"line":209,"column":1},"end":{"line":209,"column":1}},"key":"sl5jXOig6i"},{"type":"heading","depth":3,"position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"children":[{"type":"text","value":"2. Initialize ","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"SrSaZa1wHG"},{"type":"inlineCode","value":"a = 10","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"Dl5TMi0tAl"}],"identifier":"id-2-initialize-a-10","label":"2. Initialize a = 10","html_id":"id-2-initialize-a-10","implicit":true,"key":"CXLQgCE9xN"},{"type":"code","lang":"asm","value":"818:\t52800140 \tmov\tw0, #0xa           // w0 = 10\n81c:\tb9000fe0 \tstr\tw0, [sp, #12]      // store a at sp+12","position":{"start":{"line":213,"column":1},"end":{"line":216,"column":1}},"key":"LPqEodlGSH"},{"type":"thematicBreak","position":{"start":{"line":218,"column":1},"end":{"line":218,"column":1}},"key":"gSEhkWWgQP"},{"type":"heading","depth":3,"position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"children":[{"type":"text","value":"3. Initialize ","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"h6TwLTCKX9"},{"type":"inlineCode","value":"b = 4","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"Cn9yTIkJo9"}],"identifier":"id-3-initialize-b-4","label":"3. Initialize b = 4","html_id":"id-3-initialize-b-4","implicit":true,"key":"VH32scWoTa"},{"type":"code","lang":"asm","value":"820:\t52800080 \tmov\tw0, #0x4           // w0 = 4\n824:\tb9000be0 \tstr\tw0, [sp, #8]       // store b at sp+8","position":{"start":{"line":222,"column":1},"end":{"line":225,"column":1}},"key":"O2tpWBqDni"},{"type":"thematicBreak","position":{"start":{"line":227,"column":1},"end":{"line":227,"column":1}},"key":"UTpAsrwEHA"},{"type":"heading","depth":2,"position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"children":[{"type":"text","value":"4. Perform ","position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"key":"nWLGEkn6o4"},{"type":"inlineCode","value":"c = MOD(a, b)","position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"key":"er7ahWFgl3"}],"identifier":"id-4-perform-c-mod-a-b","label":"4. Perform c = MOD(a, b)","html_id":"id-4-perform-c-mod-a-b","implicit":true,"key":"oh6w0Hbjji"},{"type":"paragraph","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"children":[{"type":"text","value":"Here is the key section of interest:","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"PM5swMBZfe"}],"key":"yNJ2jWusSv"},{"type":"code","lang":"asm","value":"828:\tb9400fe0 \tldr\tw0, [sp, #12]      // load a into w0\n82c:\tb9400be1 \tldr\tw1, [sp, #8]       // load b into w1\n830:\t1ac10c02 \tsdiv\tw2, w0, w1         // w2 = a / b (integer division)\n834:\tb9400be1 \tldr\tw1, [sp, #8]       // reload b into w1\n838:\t1b017c41 \tmul\tw1, w2, w1         // w1 = (a / b) * b\n83c:\t4b010000 \tsub\tw0, w0, w1         // w0 = a - (a / b) * b = MOD(a, b)\n840:\tb90007e0 \tstr\tw0, [sp, #4]       // store result in c","position":{"start":{"line":233,"column":1},"end":{"line":241,"column":1}},"key":"QDmnI0vlH1"},{"type":"heading","depth":3,"position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"children":[{"type":"text","value":"Step-by-step Breakdown of ","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"key":"ITt9cL1chw"},{"type":"inlineCode","value":"MOD(a, b)","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"key":"yFBGng8WU4"},{"type":"text","value":":","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"key":"gTOB5BZ8Jt"}],"identifier":"step-by-step-breakdown-of-mod-a-b","label":"Step-by-step Breakdown of MOD(a, b):","html_id":"step-by-step-breakdown-of-mod-a-b","implicit":true,"key":"mVuhlIfl2s"},{"type":"paragraph","position":{"start":{"line":245,"column":1},"end":{"line":245,"column":1}},"children":[{"type":"strong","position":{"start":{"line":245,"column":1},"end":{"line":245,"column":1}},"children":[{"type":"text","value":"The formula implemented is:","position":{"start":{"line":245,"column":1},"end":{"line":245,"column":1}},"key":"wgtJDMUoxF"}],"key":"n8mYYKUWYQ"}],"key":"gMcMuUEoQc"},{"type":"math","value":"\\text{MOD}(a, b) = a - \\left(\\left\\lfloor \\frac{a}{b} \\right\\rfloor \\times b\\right)","position":{"start":{"line":247,"column":1},"end":{"line":249,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mtext>MOD</mtext><mo stretchy=\"false\">(</mo><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>a</mi><mo>−</mo><mrow><mo fence=\"true\">(</mo><mrow><mo fence=\"true\">⌊</mo><mfrac><mi>a</mi><mi>b</mi></mfrac><mo fence=\"true\">⌋</mo></mrow><mo>×</mo><mi>b</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">\\text{MOD}(a, b) = a - \\left(\\left\\lfloor \\frac{a}{b} \\right\\rfloor \\times b\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord text\"><span class=\"mord\">MOD</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.836em;vertical-align:-0.686em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">(</span></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">⌊</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1076em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">⌋</span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">)</span></span></span></span></span></span></span>","enumerator":"1","key":"h5zLNjqsn0"},{"type":"paragraph","position":{"start":{"line":251,"column":1},"end":{"line":251,"column":1}},"children":[{"type":"text","value":"In ARM64:","position":{"start":{"line":251,"column":1},"end":{"line":251,"column":1}},"key":"mPjBMFSPLg"}],"key":"UMdWJx1lFR"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":253,"column":1},"end":{"line":259,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"children":[{"type":"text","value":"No ","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"Nj3VQxxTb6"},{"type":"inlineCode","value":"mod","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"hAmU4IsGxo"},{"type":"text","value":" or ","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"b9zTrT3Ig0"},{"type":"inlineCode","value":"remainder","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"skYxCweUho"},{"type":"text","value":" instruction exists.","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"rcuCNLUHfG"}],"key":"e28bl1GX62"}],"key":"BH1LvY3jva"},{"type":"listItem","spread":true,"position":{"start":{"line":254,"column":1},"end":{"line":259,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"children":[{"type":"text","value":"We must ","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"key":"XpYA04EsMS"},{"type":"strong","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"children":[{"type":"text","value":"simulate","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"key":"dqukaNbj20"}],"key":"shkCXMYs7J"},{"type":"text","value":" the modulus using:","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"key":"xbReSxx81Q"}],"key":"fwYvz7IKF7"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":256,"column":1},"end":{"line":259,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"children":[{"type":"text","value":"Signed integer division","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"key":"taBccX9Rp6"}],"key":"pqD0FU2MU1"},{"type":"text","value":": ","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"key":"zoXZgN4eyD"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"key":"ilMEGM48b1"}],"key":"gcqdzJom2K"}],"key":"vKnkJo2nHZ"},{"type":"listItem","spread":true,"position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"children":[{"type":"text","value":"Multiplication","position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"key":"Rrz42Mu2GN"}],"key":"abM87Sk620"},{"type":"text","value":": ","position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"key":"aFIsaRZ2zj"},{"type":"inlineCode","value":"mul","position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"key":"VCMqsWKft1"}],"key":"FsXaht68I2"}],"key":"CWIxhBcSXv"},{"type":"listItem","spread":true,"position":{"start":{"line":258,"column":1},"end":{"line":259,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"children":[{"type":"text","value":"Subtraction","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"key":"D55E9o0IdR"}],"key":"Emoqtdynxf"},{"type":"text","value":": ","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"key":"D9heYDT8B2"},{"type":"inlineCode","value":"sub","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"key":"vnHCjNKFX3"}],"key":"n0KUb4OQ0p"}],"key":"XuBs7YHU3L"}],"key":"uxhHFfKdfu"}],"key":"lrAWr4awFh"}],"key":"rZCfi6Fq8J"},{"type":"thematicBreak","position":{"start":{"line":260,"column":1},"end":{"line":260,"column":1}},"key":"yxZKCrS799"},{"type":"heading","depth":3,"position":{"start":{"line":262,"column":1},"end":{"line":262,"column":1}},"children":[{"type":"text","value":"Why multiple operations?","position":{"start":{"line":262,"column":1},"end":{"line":262,"column":1}},"key":"FqnEWUGTtc"}],"identifier":"why-multiple-operations","label":"Why multiple operations?","html_id":"why-multiple-operations","implicit":true,"key":"LbNOSFFyvn"},{"type":"heading","depth":4,"position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"children":[{"type":"text","value":"There’s no native ","position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"key":"fvsZwcJ9HQ"},{"type":"inlineCode","value":"mod","position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"key":"oh0ELGxIFL"},{"type":"text","value":" instruction","position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"key":"ILjpUsTzr3"}],"identifier":"theres-no-native-mod-instruction","label":"There’s no native mod instruction","html_id":"theres-no-native-mod-instruction","implicit":true,"key":"AxVaS5tjFq"},{"type":"paragraph","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"children":[{"type":"text","value":"Unlike some architectures (e.g., x86 with ","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"ssQzh6hvJ0"},{"type":"inlineCode","value":"idiv","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"Q6ftXMROCN"},{"type":"text","value":" producing remainder), ","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"ZvcaCANtwi"},{"type":"strong","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"children":[{"type":"text","value":"ARM AArch64 has only ","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"FN7VgeLuQm"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"QNBErXM5X7"}],"key":"HXsA2OdEOK"},{"type":"text","value":", which gives you:","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"d6gzAEToft"}],"key":"ICw2DPj0gA"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":268,"column":1},"end":{"line":269,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":268,"column":1},"end":{"line":269,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"HhEnEQIJpK"},{"type":"strong","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"children":[{"type":"text","value":"quotient","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"b221idMlqc"}],"key":"pMaScwlHQF"},{"type":"text","value":", but not the ","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"nwiuY0yq2V"},{"type":"strong","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"children":[{"type":"text","value":"remainder","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"NOA0o1g1AW"}],"key":"WES0Y435pD"},{"type":"text","value":".","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"lL1Z2ZUb03"}],"key":"gEoAb5aSXk"}],"key":"bgn6nhztzF"}],"key":"b2qfifDR0x"},{"type":"paragraph","position":{"start":{"line":270,"column":1},"end":{"line":270,"column":1}},"children":[{"type":"text","value":"To compute the modulus, we must do:","position":{"start":{"line":270,"column":1},"end":{"line":270,"column":1}},"key":"rhe6OY9OHX"}],"key":"VerqTx0ebF"},{"type":"math","value":"\\text{MOD}(a, b) = a - \\left(\\left( \\text{a div b} \\right) \\cdot b\\right)","position":{"start":{"line":272,"column":1},"end":{"line":274,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mtext>MOD</mtext><mo stretchy=\"false\">(</mo><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>a</mi><mo>−</mo><mrow><mo fence=\"true\">(</mo><mrow><mo fence=\"true\">(</mo><mtext>a div b</mtext><mo fence=\"true\">)</mo></mrow><mo>⋅</mo><mi>b</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">\\text{MOD}(a, b) = a - \\left(\\left( \\text{a div b} \\right) \\cdot b\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord text\"><span class=\"mord\">MOD</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord text\"><span class=\"mord\">a div b</span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span></span>","enumerator":"2","key":"MK1CF2LNvS"},{"type":"paragraph","position":{"start":{"line":276,"column":1},"end":{"line":276,"column":1}},"children":[{"type":"text","value":"This is mathematically sound because:","position":{"start":{"line":276,"column":1},"end":{"line":276,"column":1}},"key":"eKQJgFMJ8u"}],"key":"g3Ra0OfH60"},{"type":"math","value":"a = (a \\div b) \\cdot b + (a \\mod b)\n\\Rightarrow\na \\mod b = a - (a \\div b) \\cdot b","position":{"start":{"line":278,"column":1},"end":{"line":282,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>a</mi><mo>=</mo><mo stretchy=\"false\">(</mo><mi>a</mi><mo>÷</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>⋅</mo><mi>b</mi><mo>+</mo><mo stretchy=\"false\">(</mo><mi>a</mi><mspace></mspace><mspace width=\"1em\"/><mrow><mi mathvariant=\"normal\">m</mi><mi mathvariant=\"normal\">o</mi><mi mathvariant=\"normal\">d</mi></mrow><mtext> </mtext><mtext> </mtext><mi>b</mi><mo stretchy=\"false\">)</mo><mo>⇒</mo><mi>a</mi><mspace></mspace><mspace width=\"1em\"/><mrow><mi mathvariant=\"normal\">m</mi><mi mathvariant=\"normal\">o</mi><mi mathvariant=\"normal\">d</mi></mrow><mtext> </mtext><mtext> </mtext><mi>b</mi><mo>=</mo><mi>a</mi><mo>−</mo><mo stretchy=\"false\">(</mo><mi>a</mi><mo>÷</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>⋅</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">a = (a \\div b) \\cdot b + (a \\mod b)\n\\Rightarrow\na \\mod b = a - (a \\div b) \\cdot b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">÷</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7778em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mspace allowbreak\"></span><span class=\"mspace\" style=\"margin-right:1em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">mod</span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">⇒</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace allowbreak\"></span><span class=\"mspace\" style=\"margin-right:1em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">mod</span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">÷</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span></span>","enumerator":"3","key":"cakE7j0tox"},{"type":"thematicBreak","position":{"start":{"line":284,"column":1},"end":{"line":284,"column":1}},"key":"kPw35qVXhU"},{"type":"heading","depth":3,"position":{"start":{"line":286,"column":1},"end":{"line":286,"column":1}},"children":[{"type":"text","value":"Instruction-by-instruction: ","position":{"start":{"line":286,"column":1},"end":{"line":286,"column":1}},"key":"vuPlN7I30Q"},{"type":"inlineCode","value":"MOD(a, b)","position":{"start":{"line":286,"column":1},"end":{"line":286,"column":1}},"key":"eh7CXUptBa"}],"identifier":"instruction-by-instruction-mod-a-b","label":"Instruction-by-instruction: MOD(a, b)","html_id":"instruction-by-instruction-mod-a-b","implicit":true,"key":"bP6YTimv9Q"},{"type":"heading","depth":4,"position":{"start":{"line":288,"column":1},"end":{"line":288,"column":1}},"children":[{"type":"text","value":"Load values:","position":{"start":{"line":288,"column":1},"end":{"line":288,"column":1}},"key":"tXL6iA0rje"}],"identifier":"load-values","label":"Load values:","html_id":"load-values","implicit":true,"key":"VoK4BjBikQ"},{"type":"code","lang":"asm","value":"828:\tb9400fe0 \tldr\tw0, [sp, #12]      // w0 = a = 10\n82c:\tb9400be1 \tldr\tw1, [sp, #8]       // w1 = b = 4","position":{"start":{"line":290,"column":1},"end":{"line":293,"column":1}},"key":"Oio4QAEp2m"},{"type":"heading","depth":4,"position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"children":[{"type":"text","value":"Integer Division:","position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"key":"ZgNrkWqyA8"}],"identifier":"integer-division","label":"Integer Division:","html_id":"integer-division","implicit":true,"key":"mQmVm4bIum"},{"type":"code","lang":"asm","value":"830:\t1ac10c02 \tsdiv\tw2, w0, w1         // w2 = w0 / w1 = 10 / 4 = 2","position":{"start":{"line":297,"column":1},"end":{"line":299,"column":1}},"key":"H5ApT35PZa"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":301,"column":1},"end":{"line":302,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":301,"column":1},"end":{"line":302,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Signed division: result in ","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"FW4aznAm9Q"},{"type":"inlineCode","value":"w2 = 2","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"UrcaMRKI07"}],"key":"g2gwfbAKrl"}],"key":"oyUTFa4HOi"}],"key":"l5WvmMuNcY"},{"type":"heading","depth":4,"position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"children":[{"type":"text","value":"Reload ","position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"key":"roE9GtX7bB"},{"type":"inlineCode","value":"b","position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"key":"C6XklTZ95n"},{"type":"text","value":":","position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"key":"V7ZP9YbxYL"}],"identifier":"reload-b","label":"Reload b:","html_id":"reload-b","implicit":true,"key":"QGPw1EGLOH"},{"type":"code","lang":"asm","value":"834:\tb9400be1 \tldr\tw1, [sp, #8]       // w1 = b = 4","position":{"start":{"line":305,"column":1},"end":{"line":307,"column":1}},"key":"lCax3gRZu0"},{"type":"heading","depth":4,"position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"children":[{"type":"text","value":"Multiply quotient × b:","position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"key":"Dv8vE1bALW"}],"identifier":"multiply-quotient-b","label":"Multiply quotient × b:","html_id":"multiply-quotient-b","implicit":true,"key":"X3UeSoinrl"},{"type":"code","lang":"asm","value":"838:\t1b017c41 \tmul\tw1, w2, w1         // w1 = 2 * 4 = 8","position":{"start":{"line":311,"column":1},"end":{"line":313,"column":1}},"key":"KKEuVryKPQ"},{"type":"heading","depth":4,"position":{"start":{"line":315,"column":1},"end":{"line":315,"column":1}},"children":[{"type":"text","value":"Subtract to get modulus:","position":{"start":{"line":315,"column":1},"end":{"line":315,"column":1}},"key":"fAp34AV11z"}],"identifier":"subtract-to-get-modulus","label":"Subtract to get modulus:","html_id":"subtract-to-get-modulus","implicit":true,"key":"JxxaaTNdON"},{"type":"code","lang":"asm","value":"83c:\t4b010000 \tsub\tw0, w0, w1         // w0 = 10 - 8 = 2","position":{"start":{"line":317,"column":1},"end":{"line":319,"column":1}},"key":"SjyQRo19sg"},{"type":"heading","depth":4,"position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"children":[{"type":"text","value":"Store result:","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"key":"vextIWODq2"}],"identifier":"store-result","label":"Store result:","html_id":"store-result","implicit":true,"key":"UXihgHhtpt"},{"type":"code","lang":"asm","value":"840:\tb90007e0 \tstr\tw0, [sp, #4]       // store c = 2","position":{"start":{"line":323,"column":1},"end":{"line":325,"column":1}},"key":"KXL5GlagcW"},{"type":"thematicBreak","position":{"start":{"line":327,"column":1},"end":{"line":327,"column":1}},"key":"erVENrxEss"},{"type":"heading","depth":2,"position":{"start":{"line":329,"column":1},"end":{"line":329,"column":1}},"children":[{"type":"text","value":"Function Epilogue","position":{"start":{"line":329,"column":1},"end":{"line":329,"column":1}},"key":"NcZRyzKxPO"}],"identifier":"function-epilogue","label":"Function Epilogue","html_id":"function-epilogue","implicit":true,"key":"x1DFyNcc7H"},{"type":"code","lang":"asm","value":"844:\td503201f \tnop\n848:\t910043ff \tadd\tsp, sp, #0x10      // restore original stack pointer\n84c:\td65f03c0 \tret                   // return","position":{"start":{"line":331,"column":1},"end":{"line":335,"column":1}},"key":"f4CP2uNnXg"},{"type":"thematicBreak","position":{"start":{"line":337,"column":1},"end":{"line":337,"column":1}},"key":"uuGclGzqME"},{"type":"heading","depth":2,"position":{"start":{"line":339,"column":1},"end":{"line":339,"column":1}},"children":[{"type":"text","value":"Final Stack Layout","position":{"start":{"line":339,"column":1},"end":{"line":339,"column":1}},"key":"zrxCQD0268"}],"identifier":"final-stack-layout","label":"Final Stack Layout","html_id":"final-stack-layout","implicit":true,"key":"xNxlIx5ufJ"},{"type":"table","position":{"start":{"line":341,"column":1},"end":{"line":345,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"children":[{"type":"text","value":"Offset","position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"key":"vyWKXAGVBn"}],"key":"Q7sa2xpYRn"},{"type":"tableCell","header":true,"position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"children":[{"type":"text","value":"Variable","position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"key":"m7VDmTibd8"}],"key":"xNErr0dSW6"},{"type":"tableCell","header":true,"position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"children":[{"type":"text","value":"Value","position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"key":"GsNPS48SPy"}],"key":"mEkAEuwMhJ"}],"key":"eBntpfC6en"},{"type":"tableRow","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"children":[{"type":"text","value":"+12","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"key":"PvRLo6cJlk"}],"key":"PfW5SGOy2I"},{"type":"tableCell","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"children":[{"type":"inlineCode","value":"a","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"key":"Ram3EV7bp0"}],"key":"w0j2QsZURM"},{"type":"tableCell","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"children":[{"type":"text","value":"10","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"key":"KaHtKjubAV"}],"key":"Lqxac1mCnB"}],"key":"CpbUVHrL20"},{"type":"tableRow","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"children":[{"type":"text","value":"+8","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"key":"NPLDRzVmJA"}],"key":"JvRQNMHVRH"},{"type":"tableCell","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"children":[{"type":"inlineCode","value":"b","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"key":"xxeRaPlp44"}],"key":"QlnxxqSBlK"},{"type":"tableCell","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"children":[{"type":"text","value":"4","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"key":"fFzxWpZ592"}],"key":"wbkMxoJQE9"}],"key":"aL9qiyu7WU"},{"type":"tableRow","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"children":[{"type":"text","value":"+4","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"key":"vdpWZzCAPe"}],"key":"TXvql3r9uu"},{"type":"tableCell","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"children":[{"type":"inlineCode","value":"c","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"key":"QtId7eL5Av"}],"key":"UqHlf41YZM"},{"type":"tableCell","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"children":[{"type":"text","value":"2","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"key":"HV0Euca8Ex"}],"key":"oH6wE6p7J4"}],"key":"O2Ebwc4lCd"}],"key":"L8Vah4x1e6"},{"type":"thematicBreak","position":{"start":{"line":347,"column":1},"end":{"line":347,"column":1}},"key":"sJwOiYJ0CZ"},{"type":"heading","depth":2,"position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"children":[{"type":"text","value":"Summary: Why Multiple Instructions Are Needed for ","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"key":"aXPTYwKpBg"},{"type":"inlineCode","value":"MOD","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"key":"GF6F70rHL4"}],"identifier":"summary-why-multiple-instructions-are-needed-for-mod","label":"Summary: Why Multiple Instructions Are Needed for MOD","html_id":"summary-why-multiple-instructions-are-needed-for-mod","implicit":true,"key":"uVqgyPR9HP"},{"type":"table","position":{"start":{"line":351,"column":1},"end":{"line":355,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"children":[{"type":"text","value":"Operation","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"t36qfNxCSC"}],"key":"CSreZCle2x"},{"type":"tableCell","header":true,"position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"children":[{"type":"text","value":"ARM64 Instruction","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"RwbVG4coc8"}],"key":"rjl7bIyEgu"},{"type":"tableCell","header":true,"position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"children":[{"type":"text","value":"Purpose","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"Yy1s09aTAT"}],"key":"FQ5R20Uj7p"}],"key":"juSyqcsFaD"},{"type":"tableRow","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"children":[{"type":"text","value":"Integer Division","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"key":"zpU56gTWZL"}],"key":"jz8yyYqeSi"},{"type":"tableCell","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"children":[{"type":"inlineCode","value":"sdiv","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"key":"fhrr6fQMTQ"}],"key":"VfRWK3OBC0"},{"type":"tableCell","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"children":[{"type":"text","value":"Compute quotient","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"key":"amOjbCCMtE"}],"key":"WVzvSndIEY"}],"key":"V5uGW28kP3"},{"type":"tableRow","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"children":[{"type":"text","value":"Multiply","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"key":"TaPr6kkaw7"}],"key":"OhyYtDP8Qx"},{"type":"tableCell","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"children":[{"type":"inlineCode","value":"mul","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"key":"HlqdKVKEWr"}],"key":"pJ4H5Ic7cI"},{"type":"tableCell","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"children":[{"type":"text","value":"Compute ","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"key":"mHfdl7ZJM4"},{"type":"inlineCode","value":"(a / b) * b","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"key":"VSCh1PCekw"}],"key":"FPRNiyYsfs"}],"key":"hE4uppEP5f"},{"type":"tableRow","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"children":[{"type":"text","value":"Subtract","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"key":"JvE7kaUO1H"}],"key":"yIBtBSS9nu"},{"type":"tableCell","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"children":[{"type":"inlineCode","value":"sub","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"key":"bjddjougk8"}],"key":"YuzfDA0H89"},{"type":"tableCell","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"children":[{"type":"text","value":"Get remainder: ","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"key":"QInfqlUY9H"},{"type":"inlineCode","value":"a - (a / b) * b","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"key":"ECrzgesKgD"}],"key":"yl07BEZfaS"}],"key":"gqNkfjHKxD"}],"key":"BKCKXZK5N7"},{"type":"heading","depth":3,"position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"children":[{"type":"text","value":"Because ARM64 lacks a direct ","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"w65g93bBAe"},{"type":"inlineCode","value":"mod","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"Uk8f9NOiGi"},{"type":"text","value":" instruction, the compiler ","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"jrKwFxMei2"},{"type":"strong","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"children":[{"type":"text","value":"emulates","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"zvIXNyTcjH"}],"key":"j37sHvIlo5"},{"type":"text","value":" it via:","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"BshD3bUpjz"}],"identifier":"because-arm64-lacks-a-direct-mod-instruction-the-compiler-emulates-it-via","label":"Because ARM64 lacks a direct mod instruction, the compiler emulates it via:","html_id":"because-arm64-lacks-a-direct-mod-instruction-the-compiler-emulates-it-via","implicit":true,"key":"tJNZgEj3JT"},{"type":"math","value":"\\text{MOD}(a, b) = a - \\left(\\left\\lfloor \\frac{a}{b} \\right\\rfloor \\times b\\right)","position":{"start":{"line":359,"column":1},"end":{"line":361,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mtext>MOD</mtext><mo stretchy=\"false\">(</mo><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>a</mi><mo>−</mo><mrow><mo fence=\"true\">(</mo><mrow><mo fence=\"true\">⌊</mo><mfrac><mi>a</mi><mi>b</mi></mfrac><mo fence=\"true\">⌋</mo></mrow><mo>×</mo><mi>b</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">\\text{MOD}(a, b) = a - \\left(\\left\\lfloor \\frac{a}{b} \\right\\rfloor \\times b\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord text\"><span class=\"mord\">MOD</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.836em;vertical-align:-0.686em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">(</span></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">⌊</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1076em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">⌋</span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">)</span></span></span></span></span></span></span>","enumerator":"4","key":"QrCul6rX9N"},{"type":"thematicBreak","position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"key":"U4b66viqLg"},{"type":"paragraph","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"children":[{"type":"text","value":"Let me know if you’d like a version that works with ","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"RZ57xbGJg9"},{"type":"strong","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"children":[{"type":"text","value":"negative numbers","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"JrEzeCbFBQ"}],"key":"UPbfGpplzs"},{"type":"text","value":" or Fortran’s ","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"EwfXfqEUiM"},{"type":"inlineCode","value":"MODULO()","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"eAemDDb2Gi"},{"type":"text","value":" semantics (which differ subtly from ","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"qk37e3bxfQ"},{"type":"inlineCode","value":"MOD","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"JHQdfXycZY"},{"type":"text","value":").","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"qQiezhOGzu"}],"key":"ejqrRavEWo"},{"type":"heading","depth":2,"position":{"start":{"line":368,"column":1},"end":{"line":368,"column":1}},"children":[{"type":"text","value":"Explaining the Disassembly by Grok 4","position":{"start":{"line":368,"column":1},"end":{"line":368,"column":1}},"key":"ZjcBiLNg3Y"}],"identifier":"explaining-the-disassembly-by-grok-4","label":"Explaining the Disassembly by Grok 4","html_id":"explaining-the-disassembly-by-grok-4","implicit":true,"key":"MaUwEgNs7v"},{"type":"heading","depth":3,"position":{"start":{"line":370,"column":1},"end":{"line":370,"column":1}},"children":[{"type":"text","value":"Overview of the Disassembly","position":{"start":{"line":370,"column":1},"end":{"line":370,"column":1}},"key":"nP3UlT82bo"}],"identifier":"overview-of-the-disassembly","label":"Overview of the Disassembly","html_id":"overview-of-the-disassembly","implicit":true,"key":"yXyjjB9Pxh"},{"type":"paragraph","position":{"start":{"line":371,"column":1},"end":{"line":371,"column":1}},"children":[{"type":"text","value":"This disassembly is in ARM64 (AArch64) assembly language, representing the machine code generated from a simple Fortran program named ","position":{"start":{"line":371,"column":1},"end":{"line":371,"column":1}},"key":"BoulKPfk3p"},{"type":"inlineCode","value":"mod_int","position":{"start":{"line":371,"column":1},"end":{"line":371,"column":1}},"key":"JBxhYbO1EM"},{"type":"text","value":". The Fortran source is provided inline for context:","position":{"start":{"line":371,"column":1},"end":{"line":371,"column":1}},"key":"K5GCjqVBuH"}],"key":"FvTisrEHPm"},{"type":"code","lang":"fortran","value":"program mod_int\n    implicit none\n    integer :: a, b, c\n    a = 10\n    b = 4\n    c = MOD(a, b)\nend program mod_int","position":{"start":{"line":372,"column":1},"end":{"line":380,"column":1}},"key":"yv8kz9NxS1"},{"type":"paragraph","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"children":[{"type":"text","value":"This program declares three 32-bit integers (","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"UyzHw4QSX0"},{"type":"inlineCode","value":"a","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"WHM6ndkjgz"},{"type":"text","value":", ","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"p5RwfgXXzr"},{"type":"inlineCode","value":"b","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"f5RWj0m5bC"},{"type":"text","value":", ","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"kq3Vu9S4nx"},{"type":"inlineCode","value":"c","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"PBbjKsRwrA"},{"type":"text","value":"), assigns ","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"MLjaMYIOFO"},{"type":"inlineCode","value":"a = 10","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"bXeaQ6fGy6"},{"type":"text","value":" and ","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"TwjofKywFK"},{"type":"inlineCode","value":"b = 4","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"v2H0rLUK5W"},{"type":"text","value":", and computes ","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"zr2Afvj6nE"},{"type":"inlineCode","value":"c = MOD(10, 4)","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"V0UyMVsajl"},{"type":"text","value":", which should yield ","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"VwTWHTVzuq"},{"type":"inlineCode","value":"2","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"dtzX6y5Ksc"},{"type":"text","value":" (the remainder of 10 divided by 4). The result is stored but not used further (e.g., no printing or return value), so the program has no visible side effects when run—it simply computes and exits.","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"PVuPa9Djf3"}],"key":"AzN4nc3gTU"},{"type":"paragraph","position":{"start":{"line":383,"column":1},"end":{"line":383,"column":1}},"children":[{"type":"text","value":"The disassembly consists of two main functions:","position":{"start":{"line":383,"column":1},"end":{"line":383,"column":1}},"key":"ljxr3FRdQA"}],"key":"Mxc7Jur2nL"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":384,"column":1},"end":{"line":386,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":384,"column":1},"end":{"line":384,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":384,"column":1},"end":{"line":384,"column":1}},"children":[{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":384,"column":1},"end":{"line":384,"column":1}},"key":"zU5uoTTrfi"},{"type":"text","value":" at address ","position":{"start":{"line":384,"column":1},"end":{"line":384,"column":1}},"key":"ojgFBt1sRF"},{"type":"inlineCode","value":"0x814","position":{"start":{"line":384,"column":1},"end":{"line":384,"column":1}},"key":"ZrhVa66wpm"}],"key":"OguUyBC9gy"},{"type":"text","value":": This is the compiler-generated name for the Fortran program’s body (common in gfortran). It allocates stack space for the three integers, performs the assignments and modulo operation, and returns.","position":{"start":{"line":384,"column":1},"end":{"line":384,"column":1}},"key":"KDiRscfHYL"}],"key":"FqdkFvVz6x"}],"key":"ZaHaq9USIf"},{"type":"listItem","spread":true,"position":{"start":{"line":385,"column":1},"end":{"line":386,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"children":[{"type":"inlineCode","value":"main","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"NcupGMhWjc"},{"type":"text","value":" at address ","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"a7nJZ7m1rC"},{"type":"inlineCode","value":"0x850","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"y5VjQUVSCL"}],"key":"yUAUDArPVu"},{"type":"text","value":": The C-style entry point for the executable, which handles command-line arguments, initializes the GNU Fortran (gfortran) runtime library, calls ","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"z3D7KyIgQK"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"r0ouZM4nVK"},{"type":"text","value":", and exits with status 0.","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"Vyhx9zUozd"}],"key":"VBjuytpHUb"}],"key":"vSMtZL9Wx2"}],"key":"Ufn5pG9oGV"},{"type":"paragraph","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"children":[{"type":"text","value":"This code was likely compiled with gfortran (evident from calls to ","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"XTnLBkyowl"},{"type":"inlineCode","value":"_gfortran_set_args","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"XpRBtWzb44"},{"type":"text","value":" and ","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"Q0xqntIyaX"},{"type":"inlineCode","value":"_gfortran_set_options","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"crtEJ1Ixoy"},{"type":"text","value":"). It’s unoptimized, as seen in redundant loads (e.g., reloading ","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"jBTGrs54A5"},{"type":"inlineCode","value":"b","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"u9ntpv5p2k"},{"type":"text","value":" after division). The program uses 32-bit operations (","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"mX2dHv9Xcw"},{"type":"inlineCode","value":"w","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"Xjophbfa5J"},{"type":"text","value":" registers) for integers, matching Fortran’s default ","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"m7ukZRMWEd"},{"type":"inlineCode","value":"INTEGER","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"IVFviqxRjx"},{"type":"text","value":" type.","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"er7n33ZCHv"}],"key":"Nat7mn3yy5"},{"type":"paragraph","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"children":[{"type":"text","value":"A key focus is the ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"NpNgKKmEcM"},{"type":"inlineCode","value":"MOD(a, b)","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"xCUfsjKdnj"},{"type":"text","value":" operation, which requires multiple instructions because ARM64 lacks a direct signed modulo instruction. Instead, the compiler implements it using signed division (","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"jKf2yINJas"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"mKv7hfUXC8"},{"type":"text","value":"), multiplication (","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"zUUbArRDTi"},{"type":"inlineCode","value":"mul","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"LWlSou6OIE"},{"type":"text","value":"), and subtraction (","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"srCm5ZK6w2"},{"type":"inlineCode","value":"sub","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"yd1FMtVsZ9"},{"type":"text","value":"). This is a standard software emulation of modulo: ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"SliTpxJWt1"},{"type":"inlineCode","value":"a % b = a - ((a / b) * b)","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"kXhMU2b688"},{"type":"text","value":", where ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"AKpCHt0iAm"},{"type":"inlineCode","value":"/","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"fRL8pTk4Ou"},{"type":"text","value":" is integer division. This approach ensures correct handling of signed integers (e.g., negative values, though not used here), but it’s less efficient than a hypothetical hardware modulo. ARM64 does have unsigned divide-with-remainder (","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"nyR1UWIDp4"},{"type":"inlineCode","value":"udiv","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"GdUm0rRHQ2"},{"type":"text","value":" + ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"nQWRpC6Em4"},{"type":"inlineCode","value":"msub","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"cAD3hBDa7K"},{"type":"text","value":" for multiply-subtract), but for signed operations like Fortran’s ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"iDF6W0QRHV"},{"type":"inlineCode","value":"MOD","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"d4UPonXuIE"},{"type":"text","value":", the compiler opts for this sequence to handle signs properly (using ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"Q62s08H5tJ"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"qca3FGnx5p"},{"type":"text","value":" for signed division). If optimization were enabled (e.g., ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"d4aOn4aShO"},{"type":"inlineCode","value":"-O2","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"QXNqz2BHcD"},{"type":"text","value":"), the compiler might inline constants or reduce redundancies, but here it’s straightforward.","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"WxbkA26m1q"}],"key":"hwlafG4g8q"},{"type":"paragraph","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"children":[{"type":"text","value":"I’ll explain each instruction in detail, including opcode, semantics, context, and binary encoding. ARM64 conventions: Registers ","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"KzJp290OxA"},{"type":"inlineCode","value":"x0","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"zmDwJMKBKy"},{"type":"text","value":"-","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"NIplElagYj"},{"type":"inlineCode","value":"x30","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"T13gnzvWlh"},{"type":"text","value":" (64-bit), ","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"hhWBp8rHi4"},{"type":"inlineCode","value":"w0","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"qj2kqIU2dW"},{"type":"text","value":"-","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"Wkl0IIIVcV"},{"type":"inlineCode","value":"w30","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"iguIy7pVws"},{"type":"text","value":" (lower 32 bits); stack grows downward; ABI uses ","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"MrxVABcnqq"},{"type":"inlineCode","value":"x0-x7","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"ZkLmduZxcb"},{"type":"text","value":" for params, ","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"u91ARbN3Tc"},{"type":"inlineCode","value":"x0","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"bosMXsKZxg"},{"type":"text","value":" for returns, ","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"SOd7UuVAtx"},{"type":"inlineCode","value":"x29","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"Ua1piaZpsg"},{"type":"text","value":" for frame pointer, ","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"tpA9NfJoNG"},{"type":"inlineCode","value":"x30","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"TAQ6W2BHqA"},{"type":"text","value":" for link register.","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"UaYkuUJZHf"}],"key":"l3rg31qerw"},{"type":"heading","depth":3,"position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"children":[{"type":"text","value":"Detailed Explanation of ","position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"key":"qDmIMvY4pI"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"key":"CHXWujF5oe"},{"type":"text","value":" (Fortran Program Logic)","position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"key":"M7PoFQGlIi"}],"identifier":"detailed-explanation-of-main-fortran-program-logic","label":"Detailed Explanation of MAIN__ (Fortran Program Logic)","html_id":"detailed-explanation-of-main-fortran-program-logic","implicit":true,"key":"bgaHHdxGi1"},{"type":"paragraph","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"children":[{"type":"text","value":"This function allocates 16 bytes on the stack (for three 4-byte integers, padded for 16-byte alignment), assigns values to ","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"h4R9D5oXhV"},{"type":"inlineCode","value":"a","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"DnFl7zd2r1"},{"type":"text","value":" and ","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"KlFebdpebZ"},{"type":"inlineCode","value":"b","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"F6qmQ4PgVj"},{"type":"text","value":", computes ","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"Rmg0W8C1uh"},{"type":"inlineCode","value":"c = MOD(a, b)","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"UMUv9N0ZWB"},{"type":"text","value":" via the multi-step sequence, and cleans up. The ","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"M6KlRTS3nU"},{"type":"inlineCode","value":"nop","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"lABpXdX4ue"},{"type":"text","value":" is likely for alignment.","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"CcjGoLBz8P"}],"key":"DxGIWT1o2P"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":396,"column":1},"end":{"line":475,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":396,"column":1},"end":{"line":400,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":396,"column":1},"end":{"line":399,"column":1}},"children":[{"type":"strong","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"children":[{"type":"inlineCode","value":"814: d10043ff sub sp, sp, #0x10","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"ZKIMprn6To"}],"key":"yIgTX8GWCY"},{"type":"break","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"EXFvsHTc6s"},{"type":"strong","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"rQhwceZq3q"}],"key":"ULRTLgOAKX"},{"type":"text","value":": ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"BsGJMhuHqy"},{"type":"inlineCode","value":"d1 00 43 ff","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"Hh6Rd1D3yM"},{"type":"break","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"evDYCIV1FV"},{"type":"strong","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"Au0RO9u7wu"}],"key":"vgWLbai7uc"},{"type":"text","value":": Subtracts ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"nMTaPGbo7H"},{"type":"inlineCode","value":"0x10","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"D91nYOHUwK"},{"type":"text","value":" (16 decimal) from the stack pointer ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"dCypoTqDXU"},{"type":"inlineCode","value":"sp","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"e4s3y5PKcS"},{"type":"text","value":", allocating 16 bytes of local stack space. Result written back to ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"nyFaQu9DQS"},{"type":"inlineCode","value":"sp","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"eZHR8fFDsD"},{"type":"text","value":". ARM64 requires manual stack management; allocations must be 16-byte aligned.","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"q6B9EXZAe1"},{"type":"break","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"VXBJGwxI68"},{"type":"strong","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"xA7X1SHIzm"}],"key":"cmoc6ldBt4"},{"type":"text","value":": Function prologue. Reserves space for ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"xNFTCdAvWj"},{"type":"inlineCode","value":"a","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"NaFHnJVSKn"},{"type":"text","value":" at ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"yDwLSiTKwq"},{"type":"inlineCode","value":"sp+12","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"HExVFkYQQ0"},{"type":"text","value":" (4 bytes), ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"Xe3F4LVj25"},{"type":"inlineCode","value":"b","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"JZanlz2YH5"},{"type":"text","value":" at ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"eZQQGhJJ8s"},{"type":"inlineCode","value":"sp+8","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"r731IVfkSb"},{"type":"text","value":", ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"wBOj1sqIMg"},{"type":"inlineCode","value":"c","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"kG1OQFvqLS"},{"type":"text","value":" at ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"rfaNk6ZY9m"},{"type":"inlineCode","value":"sp+4","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"wCd6Fbhzqx"},{"type":"text","value":", with padding at ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"fCZdye2pff"},{"type":"inlineCode","value":"sp+0","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"b93CT63ffz"},{"type":"text","value":" for alignment. After this, ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"QQgGJvPAwL"},{"type":"inlineCode","value":"sp","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"STAlOw3VJ0"},{"type":"text","value":" points to the frame base.","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"Icyu3zXBPU"}],"key":"GMeOWM3cL5"}],"key":"bMsCwBfhuE"},{"type":"listItem","spread":true,"position":{"start":{"line":401,"column":1},"end":{"line":405,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":401,"column":1},"end":{"line":404,"column":1}},"children":[{"type":"strong","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"children":[{"type":"inlineCode","value":"818: 52800140 mov w0, #0xa","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"zIaCEtxmnL"}],"key":"YB6eLSANoP"},{"type":"break","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"uRG4VF718W"},{"type":"strong","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"vRfanfmAep"}],"key":"lHOj2SjWv7"},{"type":"text","value":": ","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"mUB0simDJM"},{"type":"inlineCode","value":"52 80 01 40","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"FmxFWiA4It"},{"type":"break","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"yH2i8MORJ8"},{"type":"strong","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"NXOxZhjpem"}],"key":"tjUs40Mqhg"},{"type":"text","value":": Moves immediate ","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"Ua8yNTmQK4"},{"type":"inlineCode","value":"0xa","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"HlagY81Sw6"},{"type":"text","value":" (10 decimal) into ","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"AI1lOt9NBH"},{"type":"inlineCode","value":"w0","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"PcmJHbAZaE"},{"type":"text","value":" (lower 32 bits of ","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"g08uEb610K"},{"type":"inlineCode","value":"x0","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"MrSdWivRUH"},{"type":"text","value":"; upper bits zeroed). This is a 32-bit move immediate.","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"LHmr6CpLyP"},{"type":"break","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"URqTX85MFu"},{"type":"strong","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"gwiIG34bey"}],"key":"UoZAMsCJik"},{"type":"text","value":": Initializes a temporary for ","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"xYzaBj8yCp"},{"type":"inlineCode","value":"a = 10","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"r0nX7MzvmF"},{"type":"text","value":". Constants are loaded into registers before storing to memory.","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"F5tTwl1I5Y"}],"key":"pP4iCssunC"}],"key":"zwd9cxvPt8"},{"type":"listItem","spread":true,"position":{"start":{"line":406,"column":1},"end":{"line":410,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":406,"column":1},"end":{"line":409,"column":1}},"children":[{"type":"strong","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"children":[{"type":"inlineCode","value":"81c: b9000fe0 str w0, [sp, #12]","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"zc1Nrrgt1I"}],"key":"nGWWuSQBRX"},{"type":"break","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"ymRfaTWmlW"},{"type":"strong","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"K7nE26GCwv"}],"key":"hHUbmwPrJ1"},{"type":"text","value":": ","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"XNzD6RSYPB"},{"type":"inlineCode","value":"b9 00 0f e0","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"WtUFNRK1HK"},{"type":"break","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"fRIbQeAU6X"},{"type":"strong","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"sjntO0Bx8G"}],"key":"fl6FTU1aoe"},{"type":"text","value":": Stores 32-bit ","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"SIT6O6vTJW"},{"type":"inlineCode","value":"w0","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"IgFwPlJENj"},{"type":"text","value":" (10) to memory at ","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"WwRXSnlOk4"},{"type":"inlineCode","value":"sp + 12","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"dnjktjbTV7"},{"type":"text","value":". ","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"cEXdZIiuW9"},{"type":"inlineCode","value":"str","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"T61ICi8NbT"},{"type":"text","value":" is “store register”.","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"LC2sp5nJek"},{"type":"break","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"Y6YHP6r3rr"},{"type":"strong","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"dFvo3beVf2"}],"key":"Cv7cE91f2M"},{"type":"text","value":": Assigns to ","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"LdYTVBQs0g"},{"type":"inlineCode","value":"a","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"uxosjk5BDJ"},{"type":"text","value":" on the stack. Stack offsets are positive from current ","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"KEcRJYu6YY"},{"type":"inlineCode","value":"sp","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"sKU8HpePLM"},{"type":"text","value":".","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"xwear4aQNQ"}],"key":"ctTf8yDAK0"}],"key":"bxCdhwBn2Q"},{"type":"listItem","spread":true,"position":{"start":{"line":411,"column":1},"end":{"line":415,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":411,"column":1},"end":{"line":414,"column":1}},"children":[{"type":"strong","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"children":[{"type":"inlineCode","value":"820: 52800080 mov w0, #0x4","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"puOmKtbBm9"}],"key":"iyqm0si6iQ"},{"type":"break","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"WtxBKNbyvY"},{"type":"strong","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"VckLV48YIh"}],"key":"iK6gklbq1Y"},{"type":"text","value":": ","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"lXQb0DkBd2"},{"type":"inlineCode","value":"52 80 00 80","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"PcowkLUYhE"},{"type":"break","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"ySQh0LZ9f9"},{"type":"strong","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"xGvKvKNBSj"}],"key":"DGfX0hSEwA"},{"type":"text","value":": Moves ","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"dc9CNso4uc"},{"type":"inlineCode","value":"0x4","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"SErhtJGpi0"},{"type":"text","value":" (4) into ","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"F9ZAFLfTpP"},{"type":"inlineCode","value":"w0","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"D2iqRULuXd"},{"type":"text","value":", overwriting previous value.","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"DBjteLfhsF"},{"type":"break","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"FIDuLTM8ja"},{"type":"strong","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"mECgdIDPHS"}],"key":"iP35zrip0k"},{"type":"text","value":": Initializes temporary for ","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"gHFcjRGszu"},{"type":"inlineCode","value":"b = 4","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"cFo6Tz6rXJ"},{"type":"text","value":".","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"bC3ALxSizE"}],"key":"ez7hptyU0q"}],"key":"s0Tq60Vy7G"},{"type":"listItem","spread":true,"position":{"start":{"line":416,"column":1},"end":{"line":420,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":416,"column":1},"end":{"line":419,"column":1}},"children":[{"type":"strong","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"children":[{"type":"inlineCode","value":"824: b9000be0 str w0, [sp, #8]","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"s7IAsgfyb4"}],"key":"f1ck28GRD7"},{"type":"break","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"XmEKQoZTX9"},{"type":"strong","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"aDVWTgYL8k"}],"key":"cNK17SnfIQ"},{"type":"text","value":": ","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"Jaww8FB5BP"},{"type":"inlineCode","value":"b9 00 0b e0","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"AhwyPrdDbw"},{"type":"break","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"S9EmiHvSWF"},{"type":"strong","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"swCY8plIgL"}],"key":"EDQU6edtPc"},{"type":"text","value":": Stores ","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"LxHRmMTXc9"},{"type":"inlineCode","value":"w0","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"yG3klJVZ7f"},{"type":"text","value":" (4) at ","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"ddiTiDuMsH"},{"type":"inlineCode","value":"sp + 8","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"mbNpTazHdT"},{"type":"text","value":".","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"fSPD4Tk2tp"},{"type":"break","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"eZtCALEvjN"},{"type":"strong","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"ySyiR15EWY"}],"key":"frSQt6HumP"},{"type":"text","value":": Assigns to ","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"n0xjeTX4Ih"},{"type":"inlineCode","value":"b","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"D4nHAOVWxp"},{"type":"text","value":".","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"xmzTCq5wvz"}],"key":"naxOQ1sQzT"}],"key":"aV1shspiyO"},{"type":"listItem","spread":true,"position":{"start":{"line":421,"column":1},"end":{"line":425,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":421,"column":1},"end":{"line":424,"column":1}},"children":[{"type":"strong","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"children":[{"type":"inlineCode","value":"828: b9400fe0 ldr w0, [sp, #12]","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"NHXxo8ZlYM"}],"key":"DeS2crcxjQ"},{"type":"break","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"phu7SFW8A8"},{"type":"strong","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"Mz9fUxsKID"}],"key":"yRtk3yD4YF"},{"type":"text","value":": ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"yMLQtVxIpH"},{"type":"inlineCode","value":"b9 40 0f e0","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"aqZRK1yIBV"},{"type":"break","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"J6GhIFsLWC"},{"type":"strong","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"GluqyZka5M"}],"key":"Dxtiw3C4Sm"},{"type":"text","value":": Loads 32-bit value from ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"Bh1EtiXwTb"},{"type":"inlineCode","value":"sp + 12","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"vC7TGv4uxP"},{"type":"text","value":" (10, value of ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"OTd48gF4yi"},{"type":"inlineCode","value":"a","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"Ba4gXTusPT"},{"type":"text","value":") into ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"E4eyUZk0uN"},{"type":"inlineCode","value":"w0","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"iowsckWJHc"},{"type":"text","value":". ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"cxkZgimv4M"},{"type":"inlineCode","value":"ldr","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"SwU1VWtLUP"},{"type":"text","value":" is “load register”.","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"kxjEfkIeCO"},{"type":"break","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"hcXGlOaMM5"},{"type":"strong","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"U1h3JKv084"}],"key":"g46j3efUgq"},{"type":"text","value":": Loads ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"Z1jgtrIU5R"},{"type":"inlineCode","value":"a","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"eHanVe8P7Q"},{"type":"text","value":" into ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"IM7hkqKLJ4"},{"type":"inlineCode","value":"w0","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"zi7JEZTLbL"},{"type":"text","value":" as the dividend for the modulo operation.","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"nO2f5JV1jn"}],"key":"zFyOeuBDDY"}],"key":"CJY9KDtoz5"},{"type":"listItem","spread":true,"position":{"start":{"line":426,"column":1},"end":{"line":430,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":426,"column":1},"end":{"line":429,"column":1}},"children":[{"type":"strong","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"children":[{"type":"inlineCode","value":"82c: b9400be1 ldr w1, [sp, #8]","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"zAiDXkeshA"}],"key":"u1faBetVCh"},{"type":"break","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"c3ClY5d489"},{"type":"strong","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"d57EDaZ8q7"}],"key":"GUWmK4IYcm"},{"type":"text","value":": ","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"Vf07aSIdsN"},{"type":"inlineCode","value":"b9 40 0b e1","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"STukGMhdOi"},{"type":"break","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"CRxTZgYUm3"},{"type":"strong","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"DPIIpwz1dD"}],"key":"fcu4ekg2RQ"},{"type":"text","value":": Loads from ","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"G0J6ZuKCbO"},{"type":"inlineCode","value":"sp + 8","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"B04yM99JQE"},{"type":"text","value":" (4, value of ","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"efWqfVKQvh"},{"type":"inlineCode","value":"b","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"sAxH90MWF6"},{"type":"text","value":") into ","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"zXrVZx1Cva"},{"type":"inlineCode","value":"w1","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"qZ4h42sth5"},{"type":"text","value":".","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"gDwB6pWkPr"},{"type":"break","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"LQ9spdaiuF"},{"type":"strong","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"IcazbI89WF"}],"key":"LvVJK1zZVa"},{"type":"text","value":": Loads ","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"Y628mnsMwS"},{"type":"inlineCode","value":"b","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"anNNfPoZMk"},{"type":"text","value":" into ","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"xYLxcbpcpy"},{"type":"inlineCode","value":"w1","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"oj7T0RcK8l"},{"type":"text","value":" as the divisor.","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"glCwZg2y2V"}],"key":"GNSAAzbeo0"}],"key":"K8eRo15wUl"},{"type":"listItem","spread":true,"position":{"start":{"line":431,"column":1},"end":{"line":435,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":431,"column":1},"end":{"line":434,"column":1}},"children":[{"type":"strong","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"children":[{"type":"inlineCode","value":"830: 1ac10c02 sdiv w2, w0, w1","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"alhl1ljxNQ"}],"key":"cNuRJygaO3"},{"type":"break","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"Zt018ewL1o"},{"type":"strong","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"dqi4LD6Gsk"}],"key":"fA3dyw3RwM"},{"type":"text","value":": ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"yNXpm5fbMr"},{"type":"inlineCode","value":"1a c1 0c 02","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"hAxd0N4OLe"},{"type":"break","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"Xmn8b47V4s"},{"type":"strong","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"SI9Q5FOPZn"}],"key":"dnrO85UvMr"},{"type":"text","value":": Performs signed integer division: ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"C7lC1kLQcu"},{"type":"inlineCode","value":"w2 = w0 / w1","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"r52frpdYIb"},{"type":"text","value":" (10 / 4 = 2). ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"Pi1K6Mf6LK"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"lAhegX9VK7"},{"type":"text","value":" handles negative numbers by rounding toward zero (Fortran ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"QS5uBHR4vA"},{"type":"inlineCode","value":"MOD","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"rQOrOLtPwS"},{"type":"text","value":" semantics require this for consistency with positive/negative remainders). No remainder is produced directly.","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"xYU2SO3Mgn"},{"type":"break","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"IvOZzdhKLf"},{"type":"strong","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"EF17biDnfG"}],"key":"kSWjshWmQu"},{"type":"text","value":": First step of modulo: Compute quotient ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"OXwY7jvD4o"},{"type":"inlineCode","value":"q = a / b","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"NuMwNTIBtm"},{"type":"text","value":" (stored in ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"LCTDdMGdgq"},{"type":"inlineCode","value":"w2","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"ssjHNx1xKT"},{"type":"text","value":"). This is necessary because ARM64 has no single-instruction signed modulo. ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"thnzoL9Wy3"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"CfDF57o8Ou"},{"type":"text","value":" is used over ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"F5gfsPk6pp"},{"type":"inlineCode","value":"udiv","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"ye9tVGtRdV"},{"type":"text","value":" (unsigned) to match Fortran’s signed integer behavior.","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"YVlBc55WuT"}],"key":"MpAFv9hEoq"}],"key":"mMK8zsq7As"},{"type":"listItem","spread":true,"position":{"start":{"line":436,"column":1},"end":{"line":440,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":436,"column":1},"end":{"line":439,"column":1}},"children":[{"type":"strong","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"children":[{"type":"inlineCode","value":"834: b9400be1 ldr w1, [sp, #8]","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"JLxUreRH19"}],"key":"eaWWi1cQrb"},{"type":"break","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"LudlwChne2"},{"type":"strong","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"KI7pl41kE5"}],"key":"uDfqczXlAw"},{"type":"text","value":": ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"pm2ihGsdun"},{"type":"inlineCode","value":"b9 40 0b e1","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"fO5Reu8Xdk"},{"type":"break","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"F58LXFkWCg"},{"type":"strong","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"tOcweA2iCl"}],"key":"QEhF77lFKF"},{"type":"text","value":": Reloads ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"u1jTl5gSaq"},{"type":"inlineCode","value":"b","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"IG3qLr43DS"},{"type":"text","value":" (4) from ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"MFmNuC4o8o"},{"type":"inlineCode","value":"sp + 8","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"G1458VxAfk"},{"type":"text","value":" into ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"PshHroSmkJ"},{"type":"inlineCode","value":"w1","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"AsPyTuUpTE"},{"type":"text","value":".","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"BY56tMvWu2"},{"type":"break","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"I4NJat792o"},{"type":"strong","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"S3A1dAykGw"}],"key":"mK44HB66Pk"},{"type":"text","value":": Prepares ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"Ex8cvG77Dj"},{"type":"inlineCode","value":"b","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"tXYPVgFGtQ"},{"type":"text","value":" for multiplication. This reload is redundant (","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"fkhMdSoqsH"},{"type":"inlineCode","value":"w1","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"c8du7Ez1H9"},{"type":"text","value":" already held ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"hcMcKFrKNn"},{"type":"inlineCode","value":"b","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"ZKLBIZ8pjT"},{"type":"text","value":" before ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"pg1JsbX50U"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"B221ewoovp"},{"type":"text","value":"), likely due to no optimization; an optimized build might eliminate it.","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"SL4Nf1G8Sv"}],"key":"Ppf0b4Q6sZ"}],"key":"Buwu26eNGq"},{"type":"listItem","spread":true,"position":{"start":{"line":441,"column":1},"end":{"line":445,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":441,"column":1},"end":{"line":444,"column":1}},"children":[{"type":"strong","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"children":[{"type":"inlineCode","value":"838: 1b017c41 mul w1, w2, w1","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"WfICzWA4fS"}],"key":"mSdc6G45Mm"},{"type":"break","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"X9vynQ9ETr"},{"type":"strong","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"oMUgT2dmN7"}],"key":"UMhmPc3yHT"},{"type":"text","value":": ","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"viEP4Vk4XL"},{"type":"inlineCode","value":"1b 01 7c 41","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"gOkx0ZbWAg"},{"type":"break","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"ivltdN8gWN"},{"type":"strong","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"kKtckl6e7t"}],"key":"ujqnc8GqEM"},{"type":"text","value":": Multiplies ","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"ry6UZyxmCx"},{"type":"inlineCode","value":"w1 = w2 * w1","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"ccuuMSX0qU"},{"type":"text","value":" (2 * 4 = 8). ","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"EqRVd2mGOP"},{"type":"inlineCode","value":"mul","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"v7cMBDuOcv"},{"type":"text","value":" is integer multiplication, with overflow wrapping (but no issue here).","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"FKrMdbviaq"},{"type":"break","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"oViLw0BIl9"},{"type":"strong","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"ioc7R61QU6"}],"key":"ey3VEHRQRo"},{"type":"text","value":": Second step of modulo: Compute ","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"rQmIk0ggEb"},{"type":"inlineCode","value":"q * b","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"lkAbHHk7Lp"},{"type":"text","value":" (quotient times divisor). This reconstructs the largest multiple of ","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"cXCFGq7vCj"},{"type":"inlineCode","value":"b","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"B3M4oZTN2y"},{"type":"text","value":" less than or equal to ","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"vFwxOSARPu"},{"type":"inlineCode","value":"a","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"ejPSQwAY3W"},{"type":"text","value":" (for positive values).","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"cgVbuLmBH7"}],"key":"vhQMP1NzH1"}],"key":"ri9rmoUg07"},{"type":"listItem","spread":true,"position":{"start":{"line":446,"column":1},"end":{"line":455,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":446,"column":1},"end":{"line":449,"column":1}},"children":[{"type":"strong","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"children":[{"type":"inlineCode","value":"83c: 4b010000 sub w0, w0, w1","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"PCP75GiNTP"}],"key":"WL6AFf7NgF"},{"type":"break","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"XMcsnVgY78"},{"type":"strong","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"l9wWKs1bzx"}],"key":"wHg9UAaNyg"},{"type":"text","value":": ","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"cj5rwyg2uU"},{"type":"inlineCode","value":"4b 01 00 00","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"NhAvYgcOMX"},{"type":"break","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"l27QZzgvB8"},{"type":"strong","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"JwM6kSDw4w"}],"key":"KuYtGzt6lq"},{"type":"text","value":": Subtracts ","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"Fjlld10Gqq"},{"type":"inlineCode","value":"w0 = w0 - w1","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"FRXl3UlJf6"},{"type":"text","value":" (10 - 8 = 2). Integer subtraction without borrow flags checked.","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"ISpbfapImY"},{"type":"break","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"VTcQExsKef"},{"type":"strong","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"EITQCiYntc"}],"key":"yfgiZV8NWI"},{"type":"text","value":": Final step of modulo: Remainder ","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"UefwBEKX2u"},{"type":"inlineCode","value":"r = a - (q * b)","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"M0anq2QuVd"},{"type":"text","value":". This yields the modulo result (2). The multi-step process is needed because:","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"m00N6uWlKy"}],"key":"G80zBynHPG"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":450,"column":1},"end":{"line":455,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"ARM64’s integer division instructions (","position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"key":"BLAwvraHOB"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"key":"kSSUVWRPSE"},{"type":"text","value":", ","position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"key":"DIAA3WvQTr"},{"type":"inlineCode","value":"udiv","position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"key":"N6tZOJiVny"},{"type":"text","value":") only produce the quotient, not the remainder.","position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"key":"QrB1bFxVux"}],"key":"yTWaUOvflC"}],"key":"kHE11kArFV"},{"type":"listItem","spread":true,"position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"For signed modulo, the compiler must ensure the remainder has the sign of the dividend (Fortran ","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"DGhJr5V0eE"},{"type":"inlineCode","value":"MOD","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"waubPTBVB3"},{"type":"text","value":" rule: remainder same sign as ","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"AB4SaNNqQv"},{"type":"inlineCode","value":"a","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"jZc3taO05s"},{"type":"text","value":"), which ","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"s1e880kNfj"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"x51ZLrzs5W"},{"type":"text","value":" + ","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"JXjE9Vzat7"},{"type":"inlineCode","value":"mul","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"AO0Wegi7fK"},{"type":"text","value":" + ","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"VYpcFO1vEb"},{"type":"inlineCode","value":"sub","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"eXf8a8eyYv"},{"type":"text","value":" achieves.","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"kLjt3Y9PiY"}],"key":"EnIe20rtTs"}],"key":"diB1Q3Cpz1"},{"type":"listItem","spread":true,"position":{"start":{"line":452,"column":1},"end":{"line":452,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Hardware support for remainder exists in some forms (e.g., ","position":{"start":{"line":452,"column":1},"end":{"line":452,"column":1}},"key":"lsJoWCOBRA"},{"type":"inlineCode","value":"msub","position":{"start":{"line":452,"column":1},"end":{"line":452,"column":1}},"key":"QU46y8G38x"},{"type":"text","value":" for multiply-subtract in unsigned contexts), but for signed ops, this sequence is portable and safe.","position":{"start":{"line":452,"column":1},"end":{"line":452,"column":1}},"key":"LxsaQnoK0R"}],"key":"OrMfsRvzIg"}],"key":"RcvdFzZAnt"},{"type":"listItem","spread":true,"position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Alternatives like bit manipulation or loops aren’t efficient for general cases. If ","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"lLc0EtaIEA"},{"type":"inlineCode","value":"b","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"WEHoxKRyWG"},{"type":"text","value":" were a power of 2, the compiler might optimize to AND (e.g., ","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"H0KxlgBf8n"},{"type":"inlineCode","value":"MOD(a, 4) = a & 3","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"zwVdqJU1EE"},{"type":"text","value":"), but here ","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"bCsaV2wzxq"},{"type":"inlineCode","value":"b=4","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"Th8LGw5Xgp"},{"type":"text","value":" is constant—unoptimized code doesn’t exploit that.","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"H6gFyTa6ae"}],"key":"SH4KmynfMo"}],"key":"gVXfFX5gJo"},{"type":"listItem","spread":true,"position":{"start":{"line":454,"column":1},"end":{"line":455,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Edge cases (e.g., ","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"DsqVdufSL9"},{"type":"inlineCode","value":"b=0","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"f1gyUkSuQ1"},{"type":"text","value":" causes divide-by-zero trap in ","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"pFqhdZ5QTm"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"TyaPOZ3nXz"},{"type":"text","value":"; negative ","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"WBvtnsi88v"},{"type":"inlineCode","value":"a","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"i8n2vhbsaL"},{"type":"text","value":" or ","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"uh6dUJ6T3A"},{"type":"inlineCode","value":"b","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"N75M0LLgKj"},{"type":"text","value":") are handled implicitly by ","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"dt2Sl13R7X"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"SzWTI676Pk"},{"type":"text","value":"’s signed semantics.","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"Le9b0OXjav"}],"key":"dMcs0IDolD"}],"key":"M4nCijIvuG"}],"key":"WdZ7bjy4FJ"}],"key":"iRa3z9it6H"},{"type":"listItem","spread":true,"position":{"start":{"line":456,"column":1},"end":{"line":460,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":456,"column":1},"end":{"line":459,"column":1}},"children":[{"type":"strong","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"children":[{"type":"inlineCode","value":"840: b90007e0 str w0, [sp, #4]","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"iS1b87fy5l"}],"key":"FLz7BmQt9R"},{"type":"break","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"S8IatwGjql"},{"type":"strong","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"znMFT2duF7"}],"key":"t1bG5HUzkL"},{"type":"text","value":": ","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"DXO6XejwxF"},{"type":"inlineCode","value":"b9 00 07 e0","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"LheFHybdPh"},{"type":"break","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"Jvp2PY6wL3"},{"type":"strong","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"m8nyApFrm0"}],"key":"ISA978OUXg"},{"type":"text","value":": Stores ","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"kjDSYBW22p"},{"type":"inlineCode","value":"w0","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"pqBoQEoLiz"},{"type":"text","value":" (2) at ","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"kyrAzIs1it"},{"type":"inlineCode","value":"sp + 4","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"UQZSMntkb8"},{"type":"text","value":".","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"ESke1g9r9X"},{"type":"break","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"lYQiW5dCmE"},{"type":"strong","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"cAD2VYvH0K"}],"key":"oY5LgVAvx3"},{"type":"text","value":": Assigns result to ","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"dC7LnfQuZ6"},{"type":"inlineCode","value":"c","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"cvVH1oGEwj"},{"type":"text","value":". Stored but unused—Fortran doesn’t require using variables.","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"e5jIb9onUT"}],"key":"nofLaD3OcM"}],"key":"iuXF0HSAhc"},{"type":"listItem","spread":true,"position":{"start":{"line":461,"column":1},"end":{"line":465,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":461,"column":1},"end":{"line":464,"column":1}},"children":[{"type":"strong","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"children":[{"type":"inlineCode","value":"844: d503201f nop","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"mpUsMu76dw"}],"key":"i8Nf6jD9Ij"},{"type":"break","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"gmcuhOIqBf"},{"type":"strong","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"y2GIw1ALYu"}],"key":"QjlkjZqDKq"},{"type":"text","value":": ","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"AE613G3Mzi"},{"type":"inlineCode","value":"d5 03 20 1f","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"bkytx8dQqk"},{"type":"break","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"inpyMJ9O5O"},{"type":"strong","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"vL4OZKKqb8"}],"key":"IAaBr59RNh"},{"type":"text","value":": No operation—advances program counter without effect. Often for alignment (instructions 4-byte aligned) or padding.","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"prENQfiaS7"},{"type":"break","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"ujy1dOoAJT"},{"type":"strong","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"x71ChVVCK4"}],"key":"c7EeCzx2vE"},{"type":"text","value":": Compiler-inserted; no functional role, possibly after inlining checks.","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"XBdiB92yom"}],"key":"HkjQB93Zkh"}],"key":"M5RfrmoXhs"},{"type":"listItem","spread":true,"position":{"start":{"line":466,"column":1},"end":{"line":470,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":466,"column":1},"end":{"line":469,"column":1}},"children":[{"type":"strong","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"children":[{"type":"inlineCode","value":"848: 910043ff add sp, sp, #0x10","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"eI9VhmlxsF"}],"key":"Y0b3Fj7nft"},{"type":"break","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"ja4tEvMIBl"},{"type":"strong","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"DG8imQSQ5h"}],"key":"CCVMDdQcrv"},{"type":"text","value":": ","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"MdF4yQnzJM"},{"type":"inlineCode","value":"91 00 43 ff","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"OCe2keECBJ"},{"type":"break","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"fYa4vOdIkf"},{"type":"strong","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"uelOBbQMgr"}],"key":"gKFX9jNS5S"},{"type":"text","value":": Adds ","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"gDRWDSuNEb"},{"type":"inlineCode","value":"0x10","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"ab0vaYSvON"},{"type":"text","value":" to ","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"EFr5GgHbZe"},{"type":"inlineCode","value":"sp","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"MKy0soh9pM"},{"type":"text","value":", deallocating the frame.","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"kKwb6GcsVU"},{"type":"break","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"zBV2cigzit"},{"type":"strong","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"K4zm7UCMbl"}],"key":"vq14ayJZ1G"},{"type":"text","value":": Epilogue—restores caller’s stack.","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"ZigxNsJe0G"}],"key":"Su3Sv9UG1U"}],"key":"qZmkgeof4A"},{"type":"listItem","spread":true,"position":{"start":{"line":471,"column":1},"end":{"line":475,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":471,"column":1},"end":{"line":474,"column":1}},"children":[{"type":"strong","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"children":[{"type":"inlineCode","value":"84c: d65f03c0 ret","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"BGorpG5lxN"}],"key":"JdauhSfbuF"},{"type":"break","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"Bd0bzKtjrJ"},{"type":"strong","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"gy2S2sOn3W"}],"key":"M8k4Xdem2p"},{"type":"text","value":": ","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"KJTnc9V7jB"},{"type":"inlineCode","value":"d6 5f 03 c0","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"fZg6VpaS5f"},{"type":"break","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"qI2ffu6Ggq"},{"type":"strong","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"QxVPCdjs1U"}],"key":"QwJKdfOswS"},{"type":"text","value":": Returns by jumping to ","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"YtNJ3tJc4s"},{"type":"inlineCode","value":"x30","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"kx9CrIFt8J"},{"type":"text","value":" (link register). No explicit return value.","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"E3oVJPev45"},{"type":"break","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"qjvIeDTtS3"},{"type":"strong","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"X3p7nOmX2F"}],"key":"h6rzjxaN7h"},{"type":"text","value":": Ends ","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"ep2T5Lxsyx"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"q68lv7Dp90"},{"type":"text","value":".","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"ErT10GmpWm"}],"key":"OOiL9vccWY"}],"key":"OpVSrl1pMH"}],"key":"S8YqutacMQ"},{"type":"heading","depth":3,"position":{"start":{"line":476,"column":1},"end":{"line":476,"column":1}},"children":[{"type":"text","value":"Detailed Explanation of ","position":{"start":{"line":476,"column":1},"end":{"line":476,"column":1}},"key":"ah6lj1sIiB"},{"type":"inlineCode","value":"main","position":{"start":{"line":476,"column":1},"end":{"line":476,"column":1}},"key":"IzQD4HlyJ0"},{"type":"text","value":" (Program Entry Point)","position":{"start":{"line":476,"column":1},"end":{"line":476,"column":1}},"key":"z7VfOrSVpa"}],"identifier":"detailed-explanation-of-main-program-entry-point","label":"Detailed Explanation of main (Program Entry Point)","html_id":"detailed-explanation-of-main-program-entry-point","implicit":true,"key":"oFv9oDDQj8"},{"type":"paragraph","position":{"start":{"line":477,"column":1},"end":{"line":477,"column":1}},"children":[{"type":"text","value":"This is the runtime wrapper for Fortran executables. It processes args, sets up gfortran, calls ","position":{"start":{"line":477,"column":1},"end":{"line":477,"column":1}},"key":"enua03MKxk"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":477,"column":1},"end":{"line":477,"column":1}},"key":"s59RtgSmKD"},{"type":"text","value":", and exits. Similar to the previous disassembly, with minor address differences.","position":{"start":{"line":477,"column":1},"end":{"line":477,"column":1}},"key":"ej8UFRWnfa"}],"key":"dcoxdgBURS"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":479,"column":1},"end":{"line":541,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":479,"column":1},"end":{"line":482,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":479,"column":1},"end":{"line":481,"column":1}},"children":[{"type":"strong","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"children":[{"type":"inlineCode","value":"850: a9be7bfd stp x29, x30, [sp, #-32]!","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"g4v828QUQH"}],"key":"SYrWkjqIzu"},{"type":"break","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"fVsP0wmtT1"},{"type":"strong","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"nqe9uREEvs"}],"key":"RcLXipAn7U"},{"type":"text","value":": Allocates 32 bytes (pre-index subtract), stores frame pointer ","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"uZO0q1rDjj"},{"type":"inlineCode","value":"x29","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"eLydiLccDf"},{"type":"text","value":" and link ","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"MDqfisbbPY"},{"type":"inlineCode","value":"x30","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"X6QnnLav6e"},{"type":"text","value":" at new ","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"x0jd9G6Wjn"},{"type":"inlineCode","value":"sp","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"Up1p8zdaj3"},{"type":"text","value":".","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"Y3PKpQtZuL"},{"type":"break","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"lA2FKevgji"},{"type":"strong","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"iw8ykdY1ry"}],"key":"C3BDzbIxMX"},{"type":"text","value":": Prologue—saves caller state, allocates for locals (argc at +28, argv at +16).","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"X7u5dWrY3b"}],"key":"KceLRlJnyV"}],"key":"OQ7bVL0sR3"},{"type":"listItem","spread":true,"position":{"start":{"line":483,"column":1},"end":{"line":486,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":483,"column":1},"end":{"line":485,"column":1}},"children":[{"type":"strong","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"children":[{"type":"inlineCode","value":"854: 910003fd mov x29, sp","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"XwZ4gUdoAS"}],"key":"HeezA2fNxn"},{"type":"break","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"FrAzZD0ocm"},{"type":"strong","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"HTeX7Mwk4u"}],"key":"HMYzZHJ13q"},{"type":"text","value":": Sets ","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"nch530zSfH"},{"type":"inlineCode","value":"x29","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"es2e9wn4Y5"},{"type":"text","value":" to current ","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"Ai7uLGgwWD"},{"type":"inlineCode","value":"sp","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"DZ02rqIddR"},{"type":"text","value":" for frame-relative access.","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"qgrDosXJRX"},{"type":"break","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"FJR7zWtUQ7"},{"type":"strong","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"HWQ7kZN2dD"}],"key":"TULFMIJESe"},{"type":"text","value":": ABI frame pointer setup.","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"i0UPG1qa3N"}],"key":"B9ctqAfC86"}],"key":"KHvWxcB1SH"},{"type":"listItem","spread":true,"position":{"start":{"line":487,"column":1},"end":{"line":490,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":487,"column":1},"end":{"line":489,"column":1}},"children":[{"type":"strong","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"children":[{"type":"inlineCode","value":"858: b9001fe0 str w0, [sp, #28]","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"Zz9bGOH2qs"}],"key":"t81Vv2GCzJ"},{"type":"break","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"cBfvi3HPxk"},{"type":"strong","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"nJFHUeGAw6"}],"key":"aoiVpKgZwn"},{"type":"text","value":": Stores ","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"Nnj7RMtjqj"},{"type":"inlineCode","value":"w0","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"JH035LBtP2"},{"type":"text","value":" (argc) locally.","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"jrBAZHi8sO"},{"type":"break","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"eYywVPH2sC"},{"type":"strong","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"ZH414hH8jW"}],"key":"gxx1OL5r08"},{"type":"text","value":": Saves argument count.","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"jMif98kriS"}],"key":"LDtdo9Nhfa"}],"key":"F9ENPl3J9r"},{"type":"listItem","spread":true,"position":{"start":{"line":491,"column":1},"end":{"line":494,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":491,"column":1},"end":{"line":493,"column":1}},"children":[{"type":"strong","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"children":[{"type":"inlineCode","value":"85c: f9000be1 str x1, [sp, #16]","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"D8eWmm73j4"}],"key":"TEhKSsjyZ1"},{"type":"break","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"WEYVJpRnkX"},{"type":"strong","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"YHOuC6hD7E"}],"key":"eYakEX2dty"},{"type":"text","value":": Stores ","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"lmnzMJg6w7"},{"type":"inlineCode","value":"x1","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"xmkwEpMTC9"},{"type":"text","value":" (argv) locally.","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"gWijNUaarE"},{"type":"break","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"Ug8ixK1yLr"},{"type":"strong","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"YAa4vLDtmu"}],"key":"CXzQdeo8wk"},{"type":"text","value":": Saves argument vector.","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"uBaSEupMcN"}],"key":"qkr2R2BPYi"}],"key":"CDncJlbE3m"},{"type":"listItem","spread":true,"position":{"start":{"line":495,"column":1},"end":{"line":498,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":495,"column":1},"end":{"line":497,"column":1}},"children":[{"type":"strong","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"children":[{"type":"inlineCode","value":"860: f9400be1 ldr x1, [sp, #16]","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"oGxmUSbkNG"}],"key":"Of8DCXLkC0"},{"type":"break","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"DUMcosxh8T"},{"type":"strong","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"pk3qaclaif"}],"key":"Ic9nK9PIwY"},{"type":"text","value":": Loads argv into ","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"v2zL4jG1ae"},{"type":"inlineCode","value":"x1","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"SOjt71SwkU"},{"type":"text","value":" for call.","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"HNYVMuVjtb"},{"type":"break","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"S1f9XtkecN"},{"type":"strong","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"OYLcHRzeOZ"}],"key":"KOi8Ubr2C6"},{"type":"text","value":": Prepares second arg for runtime.","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"FQ11df2hxx"}],"key":"l8012o1q8X"}],"key":"nntNycEVdp"},{"type":"listItem","spread":true,"position":{"start":{"line":499,"column":1},"end":{"line":502,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":499,"column":1},"end":{"line":501,"column":1}},"children":[{"type":"strong","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"children":[{"type":"inlineCode","value":"864: b9401fe0 ldr w0, [sp, #28]","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"SNhKn5XEsn"}],"key":"j7PyHYAIHb"},{"type":"break","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"RRUi1pkPDx"},{"type":"strong","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"Ko0rAseHwv"}],"key":"lYiYiLhTdC"},{"type":"text","value":": Loads argc into ","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"EydEltR03e"},{"type":"inlineCode","value":"w0","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"zP05BPqfMH"},{"type":"text","value":".","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"RUff0MlUEi"},{"type":"break","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"kI2oX2GvSl"},{"type":"strong","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"Mv87MyvT5Z"}],"key":"BPUytBkheG"},{"type":"text","value":": Prepares first arg.","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"rHSn0y4uNU"}],"key":"bm2CUNpgpH"}],"key":"jvkkwT2H7m"},{"type":"listItem","spread":true,"position":{"start":{"line":503,"column":1},"end":{"line":506,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":503,"column":1},"end":{"line":505,"column":1}},"children":[{"type":"strong","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"children":[{"type":"inlineCode","value":"868: 97ffffa2 bl 6f0 <_gfortran_set_args@plt>","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"WQROkDrALd"}],"key":"Y2aIWgmAo0"},{"type":"break","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"sARh89ajd1"},{"type":"strong","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"rahom6ndZV"}],"key":"paGtbo6BZw"},{"type":"text","value":": Calls gfortran arg setup via PLT (dynamic link).","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"c4lXYLBVLq"},{"type":"break","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"t2rc09gyUf"},{"type":"strong","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"vj3jKK9d2S"}],"key":"nBYBBwZ5fK"},{"type":"text","value":": Passes args to Fortran runtime for handling (e.g., if program used ","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"UUBHqYdPmw"},{"type":"inlineCode","value":"COMMAND_ARGUMENT_COUNT","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"ezlQQW51Sy"},{"type":"text","value":").","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"eG9WzByEDQ"}],"key":"WOvPFB7iEh"}],"key":"uxS604KhWS"},{"type":"listItem","spread":true,"position":{"start":{"line":507,"column":1},"end":{"line":510,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":507,"column":1},"end":{"line":509,"column":1}},"children":[{"type":"strong","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"children":[{"type":"inlineCode","value":"86c: 90000000 adrp x0, 0","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"Qxifp6tBs7"}],"key":"q3brPPZmev"},{"type":"break","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"ph3iDrQ1Lo"},{"type":"strong","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"NIDa73KL94"}],"key":"BoZ7Uxg250"},{"type":"text","value":": Loads page base (0 here) into ","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"vFyS1sswcO"},{"type":"inlineCode","value":"x0","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"B8PwIFrUY7"},{"type":"text","value":".","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"ZGCCYbxzcr"},{"type":"break","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"E34Qf3dgWi"},{"type":"strong","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"z3Ck3Nw5de"}],"key":"mFe1UP6VSA"},{"type":"text","value":": Prepares for options address computation.","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"L2oIhurc8u"}],"key":"rSPPzURKMy"}],"key":"fjbriCIDvv"},{"type":"listItem","spread":true,"position":{"start":{"line":511,"column":1},"end":{"line":514,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":511,"column":1},"end":{"line":513,"column":1}},"children":[{"type":"strong","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"children":[{"type":"inlineCode","value":"870: 9124c001 add x1, x0, #0x930","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"kjhWz3gFKn"}],"key":"nl56i3duHF"},{"type":"break","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"Pn5JtRbupd"},{"type":"strong","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"LvzNVpUMbd"}],"key":"C0SXN9zPR6"},{"type":"text","value":": Adds ","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"F1UK8FsVkU"},{"type":"inlineCode","value":"0x930","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"ly1cl7BuB8"},{"type":"text","value":" (2352) to ","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"ykl23ehGYn"},{"type":"inlineCode","value":"x0","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"RNFd8iBjDm"},{"type":"text","value":", result in ","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"FjabfoxWIh"},{"type":"inlineCode","value":"x1","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"N2oQ4EqS09"},{"type":"text","value":" (points to options data).","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"qf1WjvX5xO"},{"type":"break","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"ec7Yln2tnI"},{"type":"strong","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"Ct3KLsv3bY"}],"key":"uNXTZt27GN"},{"type":"text","value":": Address of gfortran options array.","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"mkhG5ewjOF"}],"key":"NKxvrWGFUG"}],"key":"jX0P07XCRe"},{"type":"listItem","spread":true,"position":{"start":{"line":515,"column":1},"end":{"line":518,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":515,"column":1},"end":{"line":517,"column":1}},"children":[{"type":"strong","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"children":[{"type":"inlineCode","value":"874: 528000e0 mov w0, #0x7","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"y2rhdpOvvm"}],"key":"nBPfWOhXLV"},{"type":"break","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"T6ZKQnI5Hw"},{"type":"strong","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"D6NLOklxOh"}],"key":"QOvku4h606"},{"type":"text","value":": Moves 7 into ","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"RoeKMzbbwM"},{"type":"inlineCode","value":"w0","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"wByUc96II2"},{"type":"text","value":" (likely option count).","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"KarWwJyxxE"},{"type":"break","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"SgyymU8AJT"},{"type":"strong","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"oRCg7yaljM"}],"key":"kABJonZAHd"},{"type":"text","value":": Arg for options call.","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"Qze0Dp7Pzw"}],"key":"oOb40YCIo3"}],"key":"CTQSM6g0qn"},{"type":"listItem","spread":true,"position":{"start":{"line":519,"column":1},"end":{"line":522,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":519,"column":1},"end":{"line":521,"column":1}},"children":[{"type":"strong","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"children":[{"type":"inlineCode","value":"878: 97ffff9a bl 6e0 <_gfortran_set_options@plt>","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"VgkG3FPJRU"}],"key":"czSVA2HHB6"},{"type":"break","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"ToHtv05LYm"},{"type":"strong","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"wBTNUrKcnW"}],"key":"V3U5bwWBPo"},{"type":"text","value":": Calls gfortran options setup.","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"HdUbhMbo51"},{"type":"break","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"CD79R4Em8o"},{"type":"strong","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"ev5BvwPMki"}],"key":"GDmTxwK3xW"},{"type":"text","value":": Configures runtime (e.g., error modes, precision).","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"WeAe1nXi2I"}],"key":"USV4Hq29kR"}],"key":"MGgkrtXYze"},{"type":"listItem","spread":true,"position":{"start":{"line":523,"column":1},"end":{"line":526,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":523,"column":1},"end":{"line":525,"column":1}},"children":[{"type":"strong","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"children":[{"type":"inlineCode","value":"87c: 97ffffe6 bl 814 <MAIN__>","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"EEyrKNhcNL"}],"key":"KGi8WWCiOG"},{"type":"break","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"kJJ2TcvXPG"},{"type":"strong","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"JftqtLRiRq"}],"key":"aTCEpbXBGS"},{"type":"text","value":": Calls Fortran body.","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"L12C8fpPfC"},{"type":"break","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"SuXDu9JrtG"},{"type":"strong","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"WZ6ApRwbsV"}],"key":"Uwr75kifVn"},{"type":"text","value":": Executes the program.","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"LKmJDwWZN3"}],"key":"xI4Ufn6jTy"}],"key":"Ex9kZReAP0"},{"type":"listItem","spread":true,"position":{"start":{"line":527,"column":1},"end":{"line":530,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":527,"column":1},"end":{"line":529,"column":1}},"children":[{"type":"strong","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"children":[{"type":"inlineCode","value":"880: 52800000 mov w0, #0x0","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"ztORHXVu7S"}],"key":"x75MCois3a"},{"type":"break","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"KNIGtgwsYo"},{"type":"strong","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"JEOhgdrNQV"}],"key":"sXsslN4J2I"},{"type":"text","value":": Sets ","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"LmoUP3wvpY"},{"type":"inlineCode","value":"w0","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"BVqOpMommw"},{"type":"text","value":" to 0 (exit success).","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"UknXypBZlG"},{"type":"break","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"KTEj3Ol1BD"},{"type":"strong","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"wT1CbfBJak"}],"key":"u3uehsxaBx"},{"type":"text","value":": Prepares exit code.","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"gmdHUvlAc4"}],"key":"COmomI4ZsP"}],"key":"oXm8TIE9JF"},{"type":"listItem","spread":true,"position":{"start":{"line":531,"column":1},"end":{"line":534,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":531,"column":1},"end":{"line":533,"column":1}},"children":[{"type":"strong","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"children":[{"type":"inlineCode","value":"884: a8c27bfd ldp x29, x30, [sp], #32","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"i6Kd7EOONs"}],"key":"MnQbtVbeYP"},{"type":"break","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"qLqWV1Aezr"},{"type":"strong","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"g8VRJnUAox"}],"key":"tj0hC20Huh"},{"type":"text","value":": Loads ","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"BdeV6genjC"},{"type":"inlineCode","value":"x29/x30","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"JEEKci1Z15"},{"type":"text","value":", deallocates 32 bytes (post-index add).","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"ph2ZWKdoMw"},{"type":"break","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"doBZID9wWD"},{"type":"strong","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"DvnkQsmbc3"}],"key":"gmDdrCIVNb"},{"type":"text","value":": Epilogue—restores state.","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"UCdKSvAGzI"}],"key":"UzHvhQXTno"}],"key":"nDBMzdiDKQ"},{"type":"listItem","spread":true,"position":{"start":{"line":535,"column":1},"end":{"line":538,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":535,"column":1},"end":{"line":537,"column":1}},"children":[{"type":"strong","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"children":[{"type":"inlineCode","value":"888: d65f03c0 ret","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"CrXFicsOPx"}],"key":"GWzRYPNex3"},{"type":"break","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"wN8kdjhyob"},{"type":"strong","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"uXsVgQT5HS"}],"key":"fm9YRz31ub"},{"type":"text","value":": Returns to OS with code 0.","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"ot06rEs1ET"},{"type":"break","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"lD2EqVYH7L"},{"type":"strong","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"r9Di3tkWjG"}],"key":"HsiOvpvoRl"},{"type":"text","value":": Program end.","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"avdA9XD0OZ"}],"key":"DW2Rpbb72O"}],"key":"u9mVlvlWvg"},{"type":"listItem","spread":true,"position":{"start":{"line":539,"column":1},"end":{"line":541,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":539,"column":1},"end":{"line":540,"column":1}},"children":[{"type":"strong","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"children":[{"type":"inlineCode","value":"88c: d503201f nop","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"key":"UBHTS6LCOa"}],"key":"pt09DxK4E9"},{"type":"break","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"key":"utnSmPqCMS"},{"type":"strong","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"key":"nyfggkSidX"}],"key":"etiiemvJgE"},{"type":"text","value":": Padding nop, possibly for section alignment.","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"key":"NkWNNxUSVZ"}],"key":"lWC86WWbu5"}],"key":"pqQ8VSHGEs"}],"key":"yJwvmhBs3P"},{"type":"paragraph","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"children":[{"type":"text","value":"Overall, the program computes but discards the modulo result. Running it produces no output. The multi-op modulo is a compiler choice for correctness and portability on ARM64.","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"key":"MF0aPPrMiP"}],"key":"Gvb1b37Jno"}],"key":"GqChPlJjiA"}],"key":"Xpre8dXS1M"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Fortran - ARM 64-Bit Platform - Subtract Two Integers","url":"/sections/cybersecurity/disassembling-binaries/fortran/arm64/sub-int/sub-int","group":"Cybersecurity"},"next":{"title":"ARM32","url":"/sections/cybersecurity/disassembling-binaries/fortran/arm32/arm32","group":"Cybersecurity"}}},"domain":"http://localhost:3003"}