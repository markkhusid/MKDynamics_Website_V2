{"version":3,"kind":"Article","sha256":"03cb6047f3637e6252a89c6509011de6b4b327989f9dcdc691c9c1c6ef22900d","slug":"sections.cybersecurity.disassembling-binaries.fortran.arm64.mod-int.mod-int","location":"/Sections/Cybersecurity/Disassembling_Binaries/Fortran/ARM64/MOD_INT/mod_int.md","dependencies":[],"frontmatter":{"title":"Fortran - ARM 64-Bit Platform - Modulo Two Integers","content_includes_title":false,"authors":[{"nameParsed":{"literal":"Mark Khusid","given":"Mark","family":"Khusid"},"name":"Mark Khusid","id":"contributors-myst-generated-uid-0"}],"github":"https://github.com/markkhusid/MKDynamics_Website_V2","numbering":{"title":{"offset":5}},"source_url":"https://github.com/markkhusid/MKDynamics_Website_V2/blob/master/Sections/Cybersecurity/Disassembling_Binaries/Fortran/ARM64/MOD_INT/mod_int.md","edit_url":"https://github.com/markkhusid/MKDynamics_Website_V2/edit/master/Sections/Cybersecurity/Disassembling_Binaries/Fortran/ARM64/MOD_INT/mod_int.md","thumbnail":"/build/mod_int_Fortran_ARM6-0205747aefc22cc51e86a818a418c733.png","thumbnailOptimized":"/build/mod_int_Fortran_ARM6-0205747aefc22cc51e86a818a418c733.webp","exports":[{"format":"md","filename":"mod_int.md","url":"/build/mod_int-e83d46e86fd2ff13bc42483bc83650b6.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"image","url":"/build/mod_int_Fortran_ARM6-0205747aefc22cc51e86a818a418c733.png","height":"600","width":"800","align":"center","key":"nomV8QoXaj","urlSource":"images/mod_int_Fortran_ARM64_splash.png","urlOptimized":"/build/mod_int_Fortran_ARM6-0205747aefc22cc51e86a818a418c733.webp"},{"type":"heading","depth":2,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Introduction","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"GaCQmdglHK"}],"identifier":"introduction","label":"Introduction","html_id":"introduction","implicit":true,"key":"EnhvijklJG"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"In this section we will be disassembling simple binaries generated by the Fortran high-level language compiled for the 64-bit ARM platform.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"d7ZiYUI5Me"}],"key":"doOa2sjhEZ"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Project code for this section is contained in my ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"vYcLsDHIrJ"},{"type":"link","url":"https://github.com/markkhusid/Disassembling-Binaries/tree/master/Fortran/ARM_architecture/ARM64","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"https://​github​.com​/markkhusid​/Disassembling​-Binaries​/tree​/master​/Fortran​/ARM​_architecture​/ARM64","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"loBeoYRdjP"}],"urlSource":"https://github.com/markkhusid/Disassembling-Binaries/tree/master/Fortran/ARM_architecture/ARM64","error":true,"key":"ExjaWXTQ3B"},{"type":"text","value":".","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"IrTz2Unl2N"}],"key":"ZaBaiCsRF8"},{"type":"thematicBreak","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"YlHSCqMdrz"},{"type":"heading","depth":2,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"The program ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"Rb8rj5qxoT"},{"type":"emphasis","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"mod_int.f08","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"Y8GHOu1zAH"}],"key":"HC8OfmThb0"}],"identifier":"the-program-mod-int-f08","label":"The program mod_int.f08","html_id":"the-program-mod-int-f08","implicit":true,"key":"mufFkZHXWV"},{"type":"include","file":"code/mod_int.f08","literal":true,"children":[{"type":"code","value":"program mod_int\n\n        implicit none\n\n        integer         :: a, b, c\n\n        a = 10\n        b = 4\n\n        c = MOD(a, b)\n\nend program mod_int\n\n","lang":"fortran","filename":"mod_int.f08","key":"IDfC1WcVwd"}],"key":"LaTN1M1JRP"},{"type":"paragraph","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"The program displays the contents of the program ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"GYWk5oTxnf"},{"type":"emphasis","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"mod_int.f08","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"g4yYMpI9pD"}],"key":"msqNEWfRrx"},{"type":"text","value":". The program creates three integers: a, b, and c. ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"Oy40mR5oNm"},{"type":"inlineCode","value":"a","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"pVUGDn2K3f"},{"type":"text","value":" is assigned the value of 10, ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"uibXeVQFtu"},{"type":"inlineCode","value":"b","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"ny0NG3cff8"},{"type":"text","value":" is assigned the value of 4, and ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"DzCO3Yeepl"},{"type":"inlineCode","value":"c","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"Vp57K8ZsUk"},{"type":"text","value":" is assigned the result of the operation ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"Omsdlzs6hP"},{"type":"inlineCode","value":"MOD(a, b)","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"Wt1chT6KRM"},{"type":"text","value":".  MOD() is a Fortran intrinsic function that returns the remainder of the division of ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"TiRc4aRNxO"},{"type":"inlineCode","value":"a","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"w4QIyxGEoD"},{"type":"text","value":" by ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"YbIXBtggJO"},{"type":"inlineCode","value":"b","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"F2AheXnFFu"},{"type":"text","value":".","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"uQKRNmmf6M"}],"key":"BNB9X6yDU5"},{"type":"paragraph","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"The program is obviously very simple, with no inputs and outputs. The idea is to generate the binary and look at the disassembly to learn about the workings of the 64-bit ARM processor platform.","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"KED63mvvDl"}],"key":"f4JCXqajZb"},{"type":"paragraph","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"The chosen test system is my trusty Samsung Chromebook Plus V2, which has a 64-bit ARMv8 processor. This is a very convenient platform for this exercise due to its availability and ease of access from multiple remote systems via SSH.","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"gRj0bN4xtJ"}],"key":"MbyeY25fNr"},{"type":"paragraph","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"The program is compiled with the GNU Fortran compiler, ","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"AN8w9xyWX9"},{"type":"inlineCode","value":"gfortran","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"qEiXi91UGD"},{"type":"text","value":", which is available on the ARM platform. The program is compiled with debugging information using the ","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"cr7ztMl6rv"},{"type":"inlineCode","value":"-ggdb3","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"GcbO7g41nI"},{"type":"text","value":" option, which allows us to debug the program in GDB and see the source code interspersed with the assembly instructions.","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"pPCal2yVXF"}],"key":"W2UwVeWhED"},{"type":"paragraph","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"The program is compiled with:","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"a74sXhJskt"}],"key":"XdAcfWbdbK"},{"type":"code","lang":"bash","value":"$ gfortran -ggdb3 mod_int.f08 -o mod_int_Fortran_aarch64_ggdb3","position":{"start":{"line":32,"column":1},"end":{"line":34,"column":1}},"key":"HenNcuHFZy"},{"type":"paragraph","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"For general edification, we also have ","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"D2R9moSeLa"},{"type":"inlineCode","value":"gfortran","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"G9velHVR6A"},{"type":"text","value":" produce generic assembly with the ","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"hkvXZ3qxbX"},{"type":"inlineCode","value":"-S","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"JkF5X0GaRS"},{"type":"text","value":" option, an object file with the ","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"hpFVaFx1SP"},{"type":"inlineCode","value":"-o","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"k1qrJTn80M"},{"type":"text","value":" option, and object dumps of the object and executable files.","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"X2ssrt3zlD"}],"key":"MWMXJ53vY3"},{"type":"paragraph","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"The generic assembly is generated by using the ","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"lQvCwisN4S"},{"type":"inlineCode","value":"-S","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"jT2MIK9ckZ"},{"type":"text","value":" (assembly) option:","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"GV0ewTxsMK"}],"key":"SysaaRflJy"},{"type":"code","lang":"bash","value":"$ gfortran -S -ggdb3 mod_int.f08 -o mod_int.s","position":{"start":{"line":40,"column":1},"end":{"line":42,"column":1}},"key":"Zew7wZfGwc"},{"type":"paragraph","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"text","value":"The object file is generated by using the ","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"mtTBUl3roC"},{"type":"inlineCode","value":"-c","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"tQ85LJI9B3"},{"type":"text","value":" (compile) option:","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"okgac7kX1q"}],"key":"CpPlhiGBQO"},{"type":"code","lang":"bash","value":"$ gfortran -c -ggdb3 mod_int.s -o mod_int.o","position":{"start":{"line":46,"column":1},"end":{"line":48,"column":1}},"key":"D8Ai0IRjNG"},{"type":"paragraph","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"children":[{"type":"text","value":"The objdump files are generated by using the following command and options:","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"zIUFtJJIt2"}],"key":"CNxAYINrou"},{"type":"code","lang":"bash","value":"$ objdump -x -D -S -s -g -t mod_int.o > objdump_of_dot_o.txt\n$ objdump -x -D -S -s -g -t mod_int_Fortran_aarch64_ggdb3 > objdump_of_dot_exe.txt","position":{"start":{"line":52,"column":1},"end":{"line":55,"column":1}},"key":"qIbXRdDJFJ"},{"type":"paragraph","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"text","value":"A rundown of the objdump options is shown here:","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"UR3LMLspan"}],"key":"xBI2NPplit"},{"type":"code","lang":"bash","value":"$objdump \nUsage: objdump <option(s)> <file(s)>\n Display information from object <file(s)>.\n At least one of the following switches must be given:\n  -a, --archive-headers    Display archive header information\n  -f, --file-headers       Display the contents of the overall file header\n  -p, --private-headers    Display object format specific file header contents\n  -P, --private=OPT,OPT... Display object format specific contents\n  -h, --[section-]headers  Display the contents of the section headers\n  -x, --all-headers        Display the contents of all headers\n  -d, --disassemble        Display assembler contents of executable sections\n  -D, --disassemble-all    Display assembler contents of all sections\n      --disassemble=<sym>  Display assembler contents from <sym>\n  -S, --source             Intermix source code with disassembly\n      --source-comment[=<txt>] Prefix lines of source code with <txt>\n  -s, --full-contents      Display the full contents of all sections requested\n  -g, --debugging          Display debug information in object file\n  -e, --debugging-tags     Display debug information using ctags style\n  -G, --stabs              Display (in raw form) any STABS info in the file\n  -W, --dwarf[a/=abbrev, A/=addr, r/=aranges, c/=cu_index, L/=decodedline,\n              f/=frames, F/=frames-interp, g/=gdb_index, i/=info, o/=loc,\n              m/=macro, p/=pubnames, t/=pubtypes, R/=Ranges, l/=rawline,\n              s/=str, O/=str-offsets, u/=trace_abbrev, T/=trace_aranges,\n              U/=trace_info]\n                           Display the contents of DWARF debug sections\n  -Wk,--dwarf=links        Display the contents of sections that link to\n                            separate debuginfo files\n  -WK,--dwarf=follow-links\n                           Follow links to separate debug info files (default)\n  -WN,--dwarf=no-follow-links\n                           Do not follow links to separate debug info files\n  -L, --process-links      Display the contents of non-debug sections in\n                            separate debuginfo files.  (Implies -WK)\n      --ctf[=SECTION]      Display CTF info from SECTION, (default `.ctf')\n      --sframe[=SECTION]   Display SFrame info from SECTION, (default '.sframe')\n  -t, --syms               Display the contents of the symbol table(s)\n  -T, --dynamic-syms       Display the contents of the dynamic symbol table\n  -r, --reloc              Display the relocation entries in the file\n  -R, --dynamic-reloc      Display the dynamic relocation entries in the file\n  @<file>                  Read options from <file>\n  -v, --version            Display this program's version number\n  -i, --info               List object formats and architectures supported\n  -H, --help               Display this information","position":{"start":{"line":59,"column":1},"end":{"line":103,"column":1}},"key":"vyZUEdWmEG"},{"type":"paragraph","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"children":[{"type":"text","value":"In our case, we want ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"O6ndvBnhgV"},{"type":"inlineCode","value":"-x","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"C0COrh0wIV"},{"type":"text","value":" (all headers), ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"wwKXGGXZ6v"},{"type":"inlineCode","value":"-D","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"U0UEQJWhRZ"},{"type":"text","value":" (disassemble all), ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"TbTvtrGD9H"},{"type":"inlineCode","value":"-S","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"IW1aWbMShG"},{"type":"text","value":" (display source code with assembly), ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"eff7Vq6eXX"},{"type":"inlineCode","value":"-s","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"vDkRmB16Es"},{"type":"text","value":" (full contents of all sections), ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"o1Ncw6LT2P"},{"type":"inlineCode","value":"-g","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"aSo284omYB"},{"type":"text","value":" (debug info), and finally, ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"Oc83l4R8tq"},{"type":"inlineCode","value":"-t","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"Ow0oWMjR5R"},{"type":"text","value":" (display contents of the symbol tables).","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"Jp0NX0Nu5x"}],"key":"BCQxS20kCP"},{"type":"paragraph","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"We will now disassemble this program on the 64-bit ARM platform and step through the assembly instructions.","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"WGF6Xqlgmt"}],"key":"zml3apGuiP"},{"type":"thematicBreak","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"JTvyzBWwWw"},{"type":"heading","depth":2,"position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"children":[{"type":"text","value":"Disassembling ","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"q7gq2wl0ql"},{"type":"emphasis","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"children":[{"type":"text","value":"mod_int_Fortran_aarch64_ggdb3","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"E75HOuYmoV"}],"key":"vA5Ref8yi1"}],"identifier":"disassembling-mod-int-fortran-aarch64-ggdb3","label":"Disassembling mod_int_Fortran_aarch64_ggdb3","html_id":"disassembling-mod-int-fortran-aarch64-ggdb3","implicit":true,"key":"W2Pu6vkFFI"},{"type":"paragraph","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"children":[{"type":"text","value":"When we look at the executable’s objdump, we notice that there are two functions of interest, one is ","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"aDKXbXruC9"},{"type":"inlineCode","value":"main","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"igzNeZfVZ1"},{"type":"text","value":", and the other is ","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"Xa71eRz2PK"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"KxeFZe4948"},{"type":"text","value":". The Fortran compiler sets up the program arguments and options in ","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"ySGT2YaXSG"},{"type":"inlineCode","value":"main","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"XUdPVQWcOr"},{"type":"text","value":", while the actual program is contained within ","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"Wpi3n5zzkJ"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"wZn3iiV3Vx"},{"type":"text","value":" (that is capital MAIN followed by two underscores).","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"MnVtwVXCdT"}],"key":"hHLK2EwlSh"},{"type":"paragraph","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"children":[{"type":"text","value":"The following text from the executable’s objdump illustrates this:","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"key":"Jin4rDqwJM"}],"key":"qPWUTSQoJx"},{"type":"code","lang":"objdump","value":"Disassembly of section .text:\n\n0000000000000814 <MAIN__>:\nprogram mod_int\n 814:\td10043ff \tsub\tsp, sp, #0x10\n\n        implicit none\n\n        integer         :: a, b, c\n\n        a = 10\n 818:\t52800140 \tmov\tw0, #0xa                   \t// #10\n 81c:\tb9000fe0 \tstr\tw0, [sp, #12]\n        b = 4\n 820:\t52800080 \tmov\tw0, #0x4                   \t// #4\n 824:\tb9000be0 \tstr\tw0, [sp, #8]\n\n        c = MOD(a, b)\n 828:\tb9400fe0 \tldr\tw0, [sp, #12]\n 82c:\tb9400be1 \tldr\tw1, [sp, #8]\n 830:\t1ac10c02 \tsdiv\tw2, w0, w1\n 834:\tb9400be1 \tldr\tw1, [sp, #8]\n 838:\t1b017c41 \tmul\tw1, w2, w1\n 83c:\t4b010000 \tsub\tw0, w0, w1\n 840:\tb90007e0 \tstr\tw0, [sp, #4]\n\nend program mod_int\n 844:\td503201f \tnop\n 848:\t910043ff \tadd\tsp, sp, #0x10\n 84c:\td65f03c0 \tret\n\n0000000000000850 <main>:\n 850:\ta9be7bfd \tstp\tx29, x30, [sp, #-32]!\n 854:\t910003fd \tmov\tx29, sp\n 858:\tb9001fe0 \tstr\tw0, [sp, #28]\n 85c:\tf9000be1 \tstr\tx1, [sp, #16]\n 860:\tf9400be1 \tldr\tx1, [sp, #16]\n 864:\tb9401fe0 \tldr\tw0, [sp, #28]\n 868:\t97ffffa2 \tbl\t6f0 <_gfortran_set_args@plt>\n 86c:\t90000000 \tadrp\tx0, 0 <_init-0x660>\n 870:\t9124c001 \tadd\tx1, x0, #0x930\n 874:\t528000e0 \tmov\tw0, #0x7                   \t// #7\n 878:\t97ffff9a \tbl\t6e0 <_gfortran_set_options@plt>\n 87c:\t97ffffe6 \tbl\t814 <MAIN__>\n 880:\t52800000 \tmov\tw0, #0x0                   \t// #0\n 884:\ta8c27bfd \tldp\tx29, x30, [sp], #32\n 888:\td65f03c0 \tret\n 88c:\td503201f \tnop","position":{"start":{"line":117,"column":1},"end":{"line":166,"column":1}},"key":"Cp402lm4qS"},{"type":"heading","depth":2,"position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"children":[{"type":"text","value":"Explaining the Dissassembly by ChatGPT 4o","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"key":"qrTvKFOgFm"}],"identifier":"explaining-the-dissassembly-by-chatgpt-4o","label":"Explaining the Dissassembly by ChatGPT 4o","html_id":"explaining-the-dissassembly-by-chatgpt-4o","implicit":true,"key":"ICtzux5H5u"},{"type":"paragraph","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"children":[{"type":"text","value":"This disassembly represents the ARM AArch64 machine code for a ","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"L4hkWX68HE"},{"type":"strong","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"children":[{"type":"text","value":"Fortran program that performs an integer modulus operation using ","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"cqniBowok2"},{"type":"inlineCode","value":"MOD(a, b)","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"wrFfdVUrod"}],"key":"e0EvMi0d1l"},{"type":"text","value":". In AArch64, there is ","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"X1oFp8SfLp"},{"type":"strong","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"children":[{"type":"text","value":"no single instruction for modulo","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"EllNYoLXqF"}],"key":"kUGT3L8SX8"},{"type":"text","value":", so the operation must be implemented using multiple primitive instructions.","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"LGhoRKa5an"}],"key":"MY2W8d00Lc"},{"type":"paragraph","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"text","value":"Let’s examine in great detail ","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"aLEM3L2rjY"},{"type":"strong","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"text","value":"why","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"TpTNeOQGFW"}],"key":"QWi8TVgADh"},{"type":"text","value":" and ","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"QtSDIMAq48"},{"type":"strong","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"text","value":"how","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"ITcFoLbSSs"}],"key":"xImRySNBdE"},{"type":"text","value":" the compiler synthesizes ","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"CMSVVKNsQh"},{"type":"inlineCode","value":"MOD(a, b)","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"SXYNlnLqgL"},{"type":"text","value":" using multiple instructions.","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"MxK0hdDo9A"}],"key":"WC5JNXdgId"},{"type":"thematicBreak","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"key":"XBKY5nHAif"},{"type":"heading","depth":2,"position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"children":[{"type":"text","value":"High-Level Fortran Code","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"aVtIOM8v5l"}],"identifier":"high-level-fortran-code","label":"High-Level Fortran Code","html_id":"high-level-fortran-code","implicit":true,"key":"y5U3NQbKBk"},{"type":"code","lang":"fortran","value":"program mod_int\n  implicit none\n  integer :: a, b, c\n\n  a = 10\n  b = 4\n  c = MOD(a, b)\nend program mod_int","position":{"start":{"line":178,"column":1},"end":{"line":187,"column":1}},"key":"QvXtNNyud8"},{"type":"thematicBreak","position":{"start":{"line":189,"column":1},"end":{"line":189,"column":1}},"key":"JzhLpqJsr4"},{"type":"heading","depth":2,"position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"children":[{"type":"text","value":"Disassembly Overview","position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"key":"RSK1FEGdtL"}],"identifier":"disassembly-overview","label":"Disassembly Overview","html_id":"disassembly-overview","implicit":true,"key":"WzQWQAxTgb"},{"type":"code","lang":"","value":"0000000000000814 <MAIN__>:","position":{"start":{"line":193,"column":1},"end":{"line":195,"column":1}},"key":"zxvMadlBij"},{"type":"paragraph","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"children":[{"type":"text","value":"This is the Fortran-compiled ","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"wYtT6gLYgM"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"ZMDBGJgWRb"},{"type":"text","value":" subroutine. Let’s go through it line by line, especially focusing on the ","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"WKSFhkg8vw"},{"type":"inlineCode","value":"MOD","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"n8jBDjjwzn"},{"type":"text","value":" operation.","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"ktv5cD6dYm"}],"key":"IMh2QvcAs4"},{"type":"thematicBreak","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"cuCZ92u73V"},{"type":"heading","depth":3,"position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"children":[{"type":"text","value":"1. Stack Frame Setup","position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"key":"ZYc6aSFctU"}],"identifier":"id-1-stack-frame-setup","label":"1. Stack Frame Setup","html_id":"id-1-stack-frame-setup","implicit":true,"key":"fyTcwuKPDA"},{"type":"code","lang":"asm","value":"814:\td10043ff \tsub\tsp, sp, #0x10","position":{"start":{"line":203,"column":1},"end":{"line":205,"column":1}},"key":"b2EGA12373"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":207,"column":1},"end":{"line":208,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":207,"column":1},"end":{"line":208,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Allocate 16 bytes on the stack for local variables ","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"veNkn0OWek"},{"type":"inlineCode","value":"a","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"Yn0MXeqCHQ"},{"type":"text","value":", ","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"CIzaw969tc"},{"type":"inlineCode","value":"b","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"vzqWn4eTlg"},{"type":"text","value":", and ","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"SYJiC998F8"},{"type":"inlineCode","value":"c","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"FrPwtzs60m"},{"type":"text","value":".","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"JBBfNPqOKG"}],"key":"pSK0njofRn"}],"key":"BbIJvPRLqs"}],"key":"FynbuT8llP"},{"type":"thematicBreak","position":{"start":{"line":209,"column":1},"end":{"line":209,"column":1}},"key":"m1BPPhhT19"},{"type":"heading","depth":3,"position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"children":[{"type":"text","value":"2. Initialize ","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"ENg6NKZddF"},{"type":"inlineCode","value":"a = 10","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"jXWzmX683k"}],"identifier":"id-2-initialize-a-10","label":"2. Initialize a = 10","html_id":"id-2-initialize-a-10","implicit":true,"key":"i7XtoHMOUU"},{"type":"code","lang":"asm","value":"818:\t52800140 \tmov\tw0, #0xa           // w0 = 10\n81c:\tb9000fe0 \tstr\tw0, [sp, #12]      // store a at sp+12","position":{"start":{"line":213,"column":1},"end":{"line":216,"column":1}},"key":"Nu3XV0JtbD"},{"type":"thematicBreak","position":{"start":{"line":218,"column":1},"end":{"line":218,"column":1}},"key":"zPWgIv9TN6"},{"type":"heading","depth":3,"position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"children":[{"type":"text","value":"3. Initialize ","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"Sh0vJBZ1Rn"},{"type":"inlineCode","value":"b = 4","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"aI5Ir0XOxZ"}],"identifier":"id-3-initialize-b-4","label":"3. Initialize b = 4","html_id":"id-3-initialize-b-4","implicit":true,"key":"Cy3RmFqUOg"},{"type":"code","lang":"asm","value":"820:\t52800080 \tmov\tw0, #0x4           // w0 = 4\n824:\tb9000be0 \tstr\tw0, [sp, #8]       // store b at sp+8","position":{"start":{"line":222,"column":1},"end":{"line":225,"column":1}},"key":"laRhf14PSK"},{"type":"thematicBreak","position":{"start":{"line":227,"column":1},"end":{"line":227,"column":1}},"key":"I6Nl6bUuoE"},{"type":"heading","depth":2,"position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"children":[{"type":"text","value":"4. Perform ","position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"key":"JV1YMxVUN9"},{"type":"inlineCode","value":"c = MOD(a, b)","position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"key":"lqOXhCBW8K"}],"identifier":"id-4-perform-c-mod-a-b","label":"4. Perform c = MOD(a, b)","html_id":"id-4-perform-c-mod-a-b","implicit":true,"key":"lL0Wo4eUMO"},{"type":"paragraph","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"children":[{"type":"text","value":"Here is the key section of interest:","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"qgsjKYxvup"}],"key":"Geit4zbPu8"},{"type":"code","lang":"asm","value":"828:\tb9400fe0 \tldr\tw0, [sp, #12]      // load a into w0\n82c:\tb9400be1 \tldr\tw1, [sp, #8]       // load b into w1\n830:\t1ac10c02 \tsdiv\tw2, w0, w1         // w2 = a / b (integer division)\n834:\tb9400be1 \tldr\tw1, [sp, #8]       // reload b into w1\n838:\t1b017c41 \tmul\tw1, w2, w1         // w1 = (a / b) * b\n83c:\t4b010000 \tsub\tw0, w0, w1         // w0 = a - (a / b) * b = MOD(a, b)\n840:\tb90007e0 \tstr\tw0, [sp, #4]       // store result in c","position":{"start":{"line":233,"column":1},"end":{"line":241,"column":1}},"key":"Mf0KSEYjJs"},{"type":"heading","depth":3,"position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"children":[{"type":"text","value":"Step-by-step Breakdown of ","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"key":"dKZrFVQ6wu"},{"type":"inlineCode","value":"MOD(a, b)","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"key":"HGP8bH7HyO"},{"type":"text","value":":","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"key":"fYBDOlPFMd"}],"identifier":"step-by-step-breakdown-of-mod-a-b","label":"Step-by-step Breakdown of MOD(a, b):","html_id":"step-by-step-breakdown-of-mod-a-b","implicit":true,"key":"xo5Gr4bO8q"},{"type":"paragraph","position":{"start":{"line":245,"column":1},"end":{"line":245,"column":1}},"children":[{"type":"strong","position":{"start":{"line":245,"column":1},"end":{"line":245,"column":1}},"children":[{"type":"text","value":"The formula implemented is:","position":{"start":{"line":245,"column":1},"end":{"line":245,"column":1}},"key":"xkF0MZ6LPe"}],"key":"BLZXf9vtU2"}],"key":"AOXkqT5671"},{"type":"math","value":"\\text{MOD}(a, b) = a - \\left(\\left\\lfloor \\frac{a}{b} \\right\\rfloor \\times b\\right)","position":{"start":{"line":247,"column":1},"end":{"line":249,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mtext>MOD</mtext><mo stretchy=\"false\">(</mo><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>a</mi><mo>−</mo><mrow><mo fence=\"true\">(</mo><mrow><mo fence=\"true\">⌊</mo><mfrac><mi>a</mi><mi>b</mi></mfrac><mo fence=\"true\">⌋</mo></mrow><mo>×</mo><mi>b</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">\\text{MOD}(a, b) = a - \\left(\\left\\lfloor \\frac{a}{b} \\right\\rfloor \\times b\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord text\"><span class=\"mord\">MOD</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.836em;vertical-align:-0.686em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">(</span></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">⌊</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1076em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">⌋</span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">)</span></span></span></span></span></span></span>","enumerator":"1","key":"fjfPTj2ao8"},{"type":"paragraph","position":{"start":{"line":251,"column":1},"end":{"line":251,"column":1}},"children":[{"type":"text","value":"In ARM64:","position":{"start":{"line":251,"column":1},"end":{"line":251,"column":1}},"key":"DZKms9itUY"}],"key":"pf5ZGZoNf1"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":253,"column":1},"end":{"line":259,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"children":[{"type":"text","value":"No ","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"YPozUBTFyU"},{"type":"inlineCode","value":"mod","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"bcKoLO7lou"},{"type":"text","value":" or ","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"xijqtWMtPP"},{"type":"inlineCode","value":"remainder","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"LRQZEc5EzO"},{"type":"text","value":" instruction exists.","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"utsqAg84eP"}],"key":"yEVQaeoQ0h"}],"key":"dydvpjIsSK"},{"type":"listItem","spread":true,"position":{"start":{"line":254,"column":1},"end":{"line":259,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"children":[{"type":"text","value":"We must ","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"key":"m4PfcFU1D6"},{"type":"strong","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"children":[{"type":"text","value":"simulate","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"key":"DigCi6Gt0G"}],"key":"TOrptsBLLX"},{"type":"text","value":" the modulus using:","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"key":"rjJftB8kUr"}],"key":"krz1iJr2dn"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":256,"column":1},"end":{"line":259,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"children":[{"type":"text","value":"Signed integer division","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"key":"bsI1MB1Ovh"}],"key":"zXuNM7rTow"},{"type":"text","value":": ","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"key":"gR3C3XDfdl"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"key":"lCqWiKzceS"}],"key":"ksbstWdC2F"}],"key":"pRRd0izlyj"},{"type":"listItem","spread":true,"position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"children":[{"type":"text","value":"Multiplication","position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"key":"Q7kpNxdNXn"}],"key":"dIzccuUV4F"},{"type":"text","value":": ","position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"key":"nQpS72aieZ"},{"type":"inlineCode","value":"mul","position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"key":"krgSNorKKw"}],"key":"k6KPez1KiM"}],"key":"cBogNEYUt1"},{"type":"listItem","spread":true,"position":{"start":{"line":258,"column":1},"end":{"line":259,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"children":[{"type":"text","value":"Subtraction","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"key":"F8twPX2TpR"}],"key":"jKHP5AWAFz"},{"type":"text","value":": ","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"key":"yaTsPzwXAb"},{"type":"inlineCode","value":"sub","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"key":"B2vt7Xbb0Z"}],"key":"FFYEIqFtFS"}],"key":"XYeVKXnKrR"}],"key":"xphwOfMgEN"}],"key":"pA7Ri7sIT4"}],"key":"Yhin26FDRE"},{"type":"thematicBreak","position":{"start":{"line":260,"column":1},"end":{"line":260,"column":1}},"key":"oS0YQrBBol"},{"type":"heading","depth":3,"position":{"start":{"line":262,"column":1},"end":{"line":262,"column":1}},"children":[{"type":"text","value":"Why multiple operations?","position":{"start":{"line":262,"column":1},"end":{"line":262,"column":1}},"key":"AzOsEaIQAp"}],"identifier":"why-multiple-operations","label":"Why multiple operations?","html_id":"why-multiple-operations","implicit":true,"key":"AZwU7fRByI"},{"type":"heading","depth":4,"position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"children":[{"type":"text","value":"There’s no native ","position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"key":"bBamD8VGcR"},{"type":"inlineCode","value":"mod","position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"key":"cIiThZ70Xw"},{"type":"text","value":" instruction","position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"key":"HrvzYaU5Cm"}],"identifier":"theres-no-native-mod-instruction","label":"There’s no native mod instruction","html_id":"theres-no-native-mod-instruction","implicit":true,"key":"V2hJVd48E2"},{"type":"paragraph","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"children":[{"type":"text","value":"Unlike some architectures (e.g., x86 with ","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"KSQCyUymgx"},{"type":"inlineCode","value":"idiv","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"Es5qqM32qQ"},{"type":"text","value":" producing remainder), ","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"BdtBBeAZ4f"},{"type":"strong","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"children":[{"type":"text","value":"ARM AArch64 has only ","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"xvZtBcKcoe"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"h2egrU4TGw"}],"key":"w5OR1bMS0K"},{"type":"text","value":", which gives you:","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"HWmdEbrzDK"}],"key":"ae7jx3ReNj"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":268,"column":1},"end":{"line":269,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":268,"column":1},"end":{"line":269,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"cf8FAL0q9J"},{"type":"strong","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"children":[{"type":"text","value":"quotient","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"RySVGcdqiL"}],"key":"JksnBAFyeJ"},{"type":"text","value":", but not the ","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"IkeFvj51ow"},{"type":"strong","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"children":[{"type":"text","value":"remainder","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"yr6RfO0aNR"}],"key":"bCt5E5OMNm"},{"type":"text","value":".","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"ZW6q6mRACy"}],"key":"CBojuqt8Ft"}],"key":"NQD6MeQRZX"}],"key":"WksIyU6lhQ"},{"type":"paragraph","position":{"start":{"line":270,"column":1},"end":{"line":270,"column":1}},"children":[{"type":"text","value":"To compute the modulus, we must do:","position":{"start":{"line":270,"column":1},"end":{"line":270,"column":1}},"key":"LQqOw9uvwD"}],"key":"vmGY0FfUXy"},{"type":"math","value":"\\text{MOD}(a, b) = a - \\left(\\left( \\text{a div b} \\right) \\cdot b\\right)","position":{"start":{"line":272,"column":1},"end":{"line":274,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mtext>MOD</mtext><mo stretchy=\"false\">(</mo><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>a</mi><mo>−</mo><mrow><mo fence=\"true\">(</mo><mrow><mo fence=\"true\">(</mo><mtext>a div b</mtext><mo fence=\"true\">)</mo></mrow><mo>⋅</mo><mi>b</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">\\text{MOD}(a, b) = a - \\left(\\left( \\text{a div b} \\right) \\cdot b\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord text\"><span class=\"mord\">MOD</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord text\"><span class=\"mord\">a div b</span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span></span>","enumerator":"2","key":"UwIXt091WM"},{"type":"paragraph","position":{"start":{"line":276,"column":1},"end":{"line":276,"column":1}},"children":[{"type":"text","value":"This is mathematically sound because:","position":{"start":{"line":276,"column":1},"end":{"line":276,"column":1}},"key":"HWfpGXAZrU"}],"key":"jcb785CZXH"},{"type":"math","value":"a = (a \\div b) \\cdot b + (a \\mod b)\n\\Rightarrow\na \\mod b = a - (a \\div b) \\cdot b","position":{"start":{"line":278,"column":1},"end":{"line":282,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>a</mi><mo>=</mo><mo stretchy=\"false\">(</mo><mi>a</mi><mo>÷</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>⋅</mo><mi>b</mi><mo>+</mo><mo stretchy=\"false\">(</mo><mi>a</mi><mspace></mspace><mspace width=\"1em\"/><mrow><mi mathvariant=\"normal\">m</mi><mi mathvariant=\"normal\">o</mi><mi mathvariant=\"normal\">d</mi></mrow><mtext> </mtext><mtext> </mtext><mi>b</mi><mo stretchy=\"false\">)</mo><mo>⇒</mo><mi>a</mi><mspace></mspace><mspace width=\"1em\"/><mrow><mi mathvariant=\"normal\">m</mi><mi mathvariant=\"normal\">o</mi><mi mathvariant=\"normal\">d</mi></mrow><mtext> </mtext><mtext> </mtext><mi>b</mi><mo>=</mo><mi>a</mi><mo>−</mo><mo stretchy=\"false\">(</mo><mi>a</mi><mo>÷</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>⋅</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">a = (a \\div b) \\cdot b + (a \\mod b)\n\\Rightarrow\na \\mod b = a - (a \\div b) \\cdot b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">÷</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7778em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mspace allowbreak\"></span><span class=\"mspace\" style=\"margin-right:1em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">mod</span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">⇒</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace allowbreak\"></span><span class=\"mspace\" style=\"margin-right:1em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">mod</span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">÷</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span></span>","enumerator":"3","key":"qjsNWceWma"},{"type":"thematicBreak","position":{"start":{"line":284,"column":1},"end":{"line":284,"column":1}},"key":"MUGi0gn1lQ"},{"type":"heading","depth":3,"position":{"start":{"line":286,"column":1},"end":{"line":286,"column":1}},"children":[{"type":"text","value":"Instruction-by-instruction: ","position":{"start":{"line":286,"column":1},"end":{"line":286,"column":1}},"key":"J9kOnteVPL"},{"type":"inlineCode","value":"MOD(a, b)","position":{"start":{"line":286,"column":1},"end":{"line":286,"column":1}},"key":"aAZi6BD2Oh"}],"identifier":"instruction-by-instruction-mod-a-b","label":"Instruction-by-instruction: MOD(a, b)","html_id":"instruction-by-instruction-mod-a-b","implicit":true,"key":"PQHghmF5na"},{"type":"heading","depth":4,"position":{"start":{"line":288,"column":1},"end":{"line":288,"column":1}},"children":[{"type":"text","value":"Load values:","position":{"start":{"line":288,"column":1},"end":{"line":288,"column":1}},"key":"jga6gCKPOG"}],"identifier":"load-values","label":"Load values:","html_id":"load-values","implicit":true,"key":"E065BWpxcw"},{"type":"code","lang":"asm","value":"828:\tb9400fe0 \tldr\tw0, [sp, #12]      // w0 = a = 10\n82c:\tb9400be1 \tldr\tw1, [sp, #8]       // w1 = b = 4","position":{"start":{"line":290,"column":1},"end":{"line":293,"column":1}},"key":"I3UEKg8wOy"},{"type":"heading","depth":4,"position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"children":[{"type":"text","value":"Integer Division:","position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"key":"d31dYaUBvo"}],"identifier":"integer-division","label":"Integer Division:","html_id":"integer-division","implicit":true,"key":"pgSi0ihCze"},{"type":"code","lang":"asm","value":"830:\t1ac10c02 \tsdiv\tw2, w0, w1         // w2 = w0 / w1 = 10 / 4 = 2","position":{"start":{"line":297,"column":1},"end":{"line":299,"column":1}},"key":"I4hcSJdnBO"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":301,"column":1},"end":{"line":302,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":301,"column":1},"end":{"line":302,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Signed division: result in ","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"cLVAajd7sK"},{"type":"inlineCode","value":"w2 = 2","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"zc8Nm719TL"}],"key":"U8S4cj97YM"}],"key":"p4Qzd5ahHN"}],"key":"MzD1yICifL"},{"type":"heading","depth":4,"position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"children":[{"type":"text","value":"Reload ","position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"key":"maskicd98p"},{"type":"inlineCode","value":"b","position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"key":"BBa5G4Xx0p"},{"type":"text","value":":","position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"key":"NxiiVtEYS2"}],"identifier":"reload-b","label":"Reload b:","html_id":"reload-b","implicit":true,"key":"xrg1Scyibo"},{"type":"code","lang":"asm","value":"834:\tb9400be1 \tldr\tw1, [sp, #8]       // w1 = b = 4","position":{"start":{"line":305,"column":1},"end":{"line":307,"column":1}},"key":"G5kx20q4Dc"},{"type":"heading","depth":4,"position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"children":[{"type":"text","value":"Multiply quotient × b:","position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"key":"wICgCWOjvE"}],"identifier":"multiply-quotient-b","label":"Multiply quotient × b:","html_id":"multiply-quotient-b","implicit":true,"key":"EXoFadwLG4"},{"type":"code","lang":"asm","value":"838:\t1b017c41 \tmul\tw1, w2, w1         // w1 = 2 * 4 = 8","position":{"start":{"line":311,"column":1},"end":{"line":313,"column":1}},"key":"xtuNtu3b0d"},{"type":"heading","depth":4,"position":{"start":{"line":315,"column":1},"end":{"line":315,"column":1}},"children":[{"type":"text","value":"Subtract to get modulus:","position":{"start":{"line":315,"column":1},"end":{"line":315,"column":1}},"key":"RBTgtRY7QD"}],"identifier":"subtract-to-get-modulus","label":"Subtract to get modulus:","html_id":"subtract-to-get-modulus","implicit":true,"key":"MDfH9DHxWg"},{"type":"code","lang":"asm","value":"83c:\t4b010000 \tsub\tw0, w0, w1         // w0 = 10 - 8 = 2","position":{"start":{"line":317,"column":1},"end":{"line":319,"column":1}},"key":"dHBsxLvgOb"},{"type":"heading","depth":4,"position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"children":[{"type":"text","value":"Store result:","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"key":"q4N5q3ajXx"}],"identifier":"store-result","label":"Store result:","html_id":"store-result","implicit":true,"key":"tDubUze9l2"},{"type":"code","lang":"asm","value":"840:\tb90007e0 \tstr\tw0, [sp, #4]       // store c = 2","position":{"start":{"line":323,"column":1},"end":{"line":325,"column":1}},"key":"VqhKPF3PN4"},{"type":"thematicBreak","position":{"start":{"line":327,"column":1},"end":{"line":327,"column":1}},"key":"UBmGIW1rU0"},{"type":"heading","depth":2,"position":{"start":{"line":329,"column":1},"end":{"line":329,"column":1}},"children":[{"type":"text","value":"Function Epilogue","position":{"start":{"line":329,"column":1},"end":{"line":329,"column":1}},"key":"jq7sVn2EVf"}],"identifier":"function-epilogue","label":"Function Epilogue","html_id":"function-epilogue","implicit":true,"key":"MTaQqrRlSa"},{"type":"code","lang":"asm","value":"844:\td503201f \tnop\n848:\t910043ff \tadd\tsp, sp, #0x10      // restore original stack pointer\n84c:\td65f03c0 \tret                   // return","position":{"start":{"line":331,"column":1},"end":{"line":335,"column":1}},"key":"qEuMbDwEyC"},{"type":"thematicBreak","position":{"start":{"line":337,"column":1},"end":{"line":337,"column":1}},"key":"XG6aGYB8Cm"},{"type":"heading","depth":2,"position":{"start":{"line":339,"column":1},"end":{"line":339,"column":1}},"children":[{"type":"text","value":"Final Stack Layout","position":{"start":{"line":339,"column":1},"end":{"line":339,"column":1}},"key":"Cw6vIVWRMW"}],"identifier":"final-stack-layout","label":"Final Stack Layout","html_id":"final-stack-layout","implicit":true,"key":"pKVfKfbEsv"},{"type":"table","position":{"start":{"line":341,"column":1},"end":{"line":345,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"children":[{"type":"text","value":"Offset","position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"key":"SY10pvWuRy"}],"key":"samwUvFO1P"},{"type":"tableCell","header":true,"position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"children":[{"type":"text","value":"Variable","position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"key":"YuifLSTLbD"}],"key":"Qe9NRTkIXP"},{"type":"tableCell","header":true,"position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"children":[{"type":"text","value":"Value","position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"key":"nt6UFtyrxX"}],"key":"UxXT6EkoBs"}],"key":"BHowZRm7Us"},{"type":"tableRow","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"children":[{"type":"text","value":"+12","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"key":"c8Bprcm6Dg"}],"key":"sTdhkzsN7Y"},{"type":"tableCell","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"children":[{"type":"inlineCode","value":"a","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"key":"o9ccvALCqR"}],"key":"D2xss6O6oJ"},{"type":"tableCell","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"children":[{"type":"text","value":"10","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"key":"kFj1J6P0Jc"}],"key":"boAwIKAdDO"}],"key":"ARc4idjcv5"},{"type":"tableRow","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"children":[{"type":"text","value":"+8","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"key":"qytL1zCKnp"}],"key":"FVUCYUGG0J"},{"type":"tableCell","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"children":[{"type":"inlineCode","value":"b","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"key":"dK9gjoOYGf"}],"key":"rU8GM7HwuY"},{"type":"tableCell","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"children":[{"type":"text","value":"4","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"key":"PdEX8DRA5a"}],"key":"YOGpswk1cz"}],"key":"ebqiFJP3cF"},{"type":"tableRow","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"children":[{"type":"text","value":"+4","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"key":"cG7zPF2kFR"}],"key":"WbrQBIQ3xA"},{"type":"tableCell","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"children":[{"type":"inlineCode","value":"c","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"key":"bV28BExFSj"}],"key":"ybU7xzyh96"},{"type":"tableCell","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"children":[{"type":"text","value":"2","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"key":"gmD6Bnbvrn"}],"key":"hIHz9FlYB0"}],"key":"h1XWs3fE69"}],"key":"pbTgsA00em"},{"type":"thematicBreak","position":{"start":{"line":347,"column":1},"end":{"line":347,"column":1}},"key":"f06HYqwTP1"},{"type":"heading","depth":2,"position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"children":[{"type":"text","value":"Summary: Why Multiple Instructions Are Needed for ","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"key":"cNwqXY7OMy"},{"type":"inlineCode","value":"MOD","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"key":"xkJccGhqzP"}],"identifier":"summary-why-multiple-instructions-are-needed-for-mod","label":"Summary: Why Multiple Instructions Are Needed for MOD","html_id":"summary-why-multiple-instructions-are-needed-for-mod","implicit":true,"key":"pyR4bPFvHv"},{"type":"table","position":{"start":{"line":351,"column":1},"end":{"line":355,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"children":[{"type":"text","value":"Operation","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"G5WO85gwkJ"}],"key":"LEUgEsgMKK"},{"type":"tableCell","header":true,"position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"children":[{"type":"text","value":"ARM64 Instruction","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"JnT5NivgDc"}],"key":"a5YR7NzL4s"},{"type":"tableCell","header":true,"position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"children":[{"type":"text","value":"Purpose","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"CWxiYndZeJ"}],"key":"JPFvACTOVj"}],"key":"Vl9duTCoCp"},{"type":"tableRow","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"children":[{"type":"text","value":"Integer Division","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"key":"eJqYp89LKn"}],"key":"N2Mm1NulVu"},{"type":"tableCell","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"children":[{"type":"inlineCode","value":"sdiv","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"key":"QOgOgLpXWT"}],"key":"kTSgd62T21"},{"type":"tableCell","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"children":[{"type":"text","value":"Compute quotient","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"key":"BT9ODOlOx9"}],"key":"KdOW8wJhLe"}],"key":"ThjdWtbSgm"},{"type":"tableRow","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"children":[{"type":"text","value":"Multiply","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"key":"Xd64aYd20F"}],"key":"qt32178FHa"},{"type":"tableCell","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"children":[{"type":"inlineCode","value":"mul","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"key":"oZ4x6MXpyE"}],"key":"xDKzQqgPrS"},{"type":"tableCell","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"children":[{"type":"text","value":"Compute ","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"key":"lIDoQE6oV8"},{"type":"inlineCode","value":"(a / b) * b","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"key":"Nydo4VhsLk"}],"key":"e3WamHoJ6L"}],"key":"KUXBgEoX4p"},{"type":"tableRow","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"children":[{"type":"text","value":"Subtract","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"key":"gR4mqYvyAh"}],"key":"gKLykS33uM"},{"type":"tableCell","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"children":[{"type":"inlineCode","value":"sub","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"key":"rhoUJ1UaGk"}],"key":"XreJWDegSr"},{"type":"tableCell","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"children":[{"type":"text","value":"Get remainder: ","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"key":"sF916CweQ4"},{"type":"inlineCode","value":"a - (a / b) * b","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"key":"OwROFzGqMI"}],"key":"F5HN54myyc"}],"key":"OyAFEafobJ"}],"key":"NjP1EkUAOQ"},{"type":"heading","depth":3,"position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"children":[{"type":"text","value":"Because ARM64 lacks a direct ","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"imA2W9KXbE"},{"type":"inlineCode","value":"mod","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"kdCi2w2wjS"},{"type":"text","value":" instruction, the compiler ","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"rQdNbgnrZb"},{"type":"strong","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"children":[{"type":"text","value":"emulates","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"ZbORUKu7Sv"}],"key":"mBE0VHyy4m"},{"type":"text","value":" it via:","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"sRof3fhqXi"}],"identifier":"because-arm64-lacks-a-direct-mod-instruction-the-compiler-emulates-it-via","label":"Because ARM64 lacks a direct mod instruction, the compiler emulates it via:","html_id":"because-arm64-lacks-a-direct-mod-instruction-the-compiler-emulates-it-via","implicit":true,"key":"uIAliD2JMu"},{"type":"math","value":"\\text{MOD}(a, b) = a - \\left(\\left\\lfloor \\frac{a}{b} \\right\\rfloor \\times b\\right)","position":{"start":{"line":359,"column":1},"end":{"line":361,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mtext>MOD</mtext><mo stretchy=\"false\">(</mo><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>a</mi><mo>−</mo><mrow><mo fence=\"true\">(</mo><mrow><mo fence=\"true\">⌊</mo><mfrac><mi>a</mi><mi>b</mi></mfrac><mo fence=\"true\">⌋</mo></mrow><mo>×</mo><mi>b</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">\\text{MOD}(a, b) = a - \\left(\\left\\lfloor \\frac{a}{b} \\right\\rfloor \\times b\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord text\"><span class=\"mord\">MOD</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.836em;vertical-align:-0.686em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">(</span></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">⌊</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1076em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">⌋</span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">)</span></span></span></span></span></span></span>","enumerator":"4","key":"EILv0g4ZsA"},{"type":"thematicBreak","position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"key":"gLOqwkcrk4"},{"type":"paragraph","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"children":[{"type":"text","value":"Let me know if you’d like a version that works with ","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"QPxGjIMqOT"},{"type":"strong","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"children":[{"type":"text","value":"negative numbers","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"t7Uli36uUC"}],"key":"xMMtwxgzFd"},{"type":"text","value":" or Fortran’s ","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"qJugaE6GJj"},{"type":"inlineCode","value":"MODULO()","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"a4p64r4f7N"},{"type":"text","value":" semantics (which differ subtly from ","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"m9UbiXJMZK"},{"type":"inlineCode","value":"MOD","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"fvl0xKCBJX"},{"type":"text","value":").","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"cNyEhzUqvt"}],"key":"QhkPxPWeiJ"},{"type":"heading","depth":2,"position":{"start":{"line":368,"column":1},"end":{"line":368,"column":1}},"children":[{"type":"text","value":"Explaining the Disassembly by Grok 4","position":{"start":{"line":368,"column":1},"end":{"line":368,"column":1}},"key":"aKCsp6gt2k"}],"identifier":"explaining-the-disassembly-by-grok-4","label":"Explaining the Disassembly by Grok 4","html_id":"explaining-the-disassembly-by-grok-4","implicit":true,"key":"wFe3SHVcZJ"},{"type":"heading","depth":3,"position":{"start":{"line":370,"column":1},"end":{"line":370,"column":1}},"children":[{"type":"text","value":"Overview of the Disassembly","position":{"start":{"line":370,"column":1},"end":{"line":370,"column":1}},"key":"s7hdl5qbPF"}],"identifier":"overview-of-the-disassembly","label":"Overview of the Disassembly","html_id":"overview-of-the-disassembly","implicit":true,"key":"hoAG7JyNan"},{"type":"paragraph","position":{"start":{"line":371,"column":1},"end":{"line":371,"column":1}},"children":[{"type":"text","value":"This disassembly is in ARM64 (AArch64) assembly language, representing the machine code generated from a simple Fortran program named ","position":{"start":{"line":371,"column":1},"end":{"line":371,"column":1}},"key":"Z9r715PdPz"},{"type":"inlineCode","value":"mod_int","position":{"start":{"line":371,"column":1},"end":{"line":371,"column":1}},"key":"JOn2s0Puwr"},{"type":"text","value":". The Fortran source is provided inline for context:","position":{"start":{"line":371,"column":1},"end":{"line":371,"column":1}},"key":"Tha1xcvSeO"}],"key":"BEKzPvbbaF"},{"type":"code","lang":"fortran","value":"program mod_int\n    implicit none\n    integer :: a, b, c\n    a = 10\n    b = 4\n    c = MOD(a, b)\nend program mod_int","position":{"start":{"line":372,"column":1},"end":{"line":380,"column":1}},"key":"x478g5cOGW"},{"type":"paragraph","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"children":[{"type":"text","value":"This program declares three 32-bit integers (","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"RNUGR9Ru7s"},{"type":"inlineCode","value":"a","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"gIO9xcTSEM"},{"type":"text","value":", ","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"snlazhstBR"},{"type":"inlineCode","value":"b","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"LVk5IyjvID"},{"type":"text","value":", ","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"RpEpm4St1H"},{"type":"inlineCode","value":"c","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"CYyLjrBDky"},{"type":"text","value":"), assigns ","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"oyU2BoTg4f"},{"type":"inlineCode","value":"a = 10","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"l4bAoMte7V"},{"type":"text","value":" and ","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"Nhuu92DCuY"},{"type":"inlineCode","value":"b = 4","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"C8OIFx26sB"},{"type":"text","value":", and computes ","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"WQegxdA2xs"},{"type":"inlineCode","value":"c = MOD(10, 4)","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"rnEw09Xd9V"},{"type":"text","value":", which should yield ","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"Z5MucysyB0"},{"type":"inlineCode","value":"2","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"NwFC0MCQQg"},{"type":"text","value":" (the remainder of 10 divided by 4). The result is stored but not used further (e.g., no printing or return value), so the program has no visible side effects when run—it simply computes and exits.","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"Ye7qAsVGZo"}],"key":"Iu605BKQvr"},{"type":"paragraph","position":{"start":{"line":383,"column":1},"end":{"line":383,"column":1}},"children":[{"type":"text","value":"The disassembly consists of two main functions:","position":{"start":{"line":383,"column":1},"end":{"line":383,"column":1}},"key":"iJfz70wqMD"}],"key":"s7uSJfPaOf"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":384,"column":1},"end":{"line":386,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":384,"column":1},"end":{"line":384,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":384,"column":1},"end":{"line":384,"column":1}},"children":[{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":384,"column":1},"end":{"line":384,"column":1}},"key":"McgZjJQC4t"},{"type":"text","value":" at address ","position":{"start":{"line":384,"column":1},"end":{"line":384,"column":1}},"key":"i6krBOTsNq"},{"type":"inlineCode","value":"0x814","position":{"start":{"line":384,"column":1},"end":{"line":384,"column":1}},"key":"cWdAL3WinL"}],"key":"IUte2GKlmV"},{"type":"text","value":": This is the compiler-generated name for the Fortran program’s body (common in gfortran). It allocates stack space for the three integers, performs the assignments and modulo operation, and returns.","position":{"start":{"line":384,"column":1},"end":{"line":384,"column":1}},"key":"DCGqLSZhSQ"}],"key":"nI2E5tBUft"}],"key":"ZIzEdEcWet"},{"type":"listItem","spread":true,"position":{"start":{"line":385,"column":1},"end":{"line":386,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"children":[{"type":"inlineCode","value":"main","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"zqVLzdvgw1"},{"type":"text","value":" at address ","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"J3uABY9cg6"},{"type":"inlineCode","value":"0x850","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"Lpwx8smmto"}],"key":"hndHCKzLmj"},{"type":"text","value":": The C-style entry point for the executable, which handles command-line arguments, initializes the GNU Fortran (gfortran) runtime library, calls ","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"PIIKOwqyR4"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"gLz5BrnemA"},{"type":"text","value":", and exits with status 0.","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"FuOrWRwkuo"}],"key":"tTHwrSWCH0"}],"key":"Khr5KkmVVX"}],"key":"sZaW5gcBXb"},{"type":"paragraph","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"children":[{"type":"text","value":"This code was likely compiled with gfortran (evident from calls to ","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"nltUZBjUeE"},{"type":"inlineCode","value":"_gfortran_set_args","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"yi40YBRUqD"},{"type":"text","value":" and ","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"mOpzdPLhoW"},{"type":"inlineCode","value":"_gfortran_set_options","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"csvNFgCOiN"},{"type":"text","value":"). It’s unoptimized, as seen in redundant loads (e.g., reloading ","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"o26Q5lQtcU"},{"type":"inlineCode","value":"b","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"W909Cs060l"},{"type":"text","value":" after division). The program uses 32-bit operations (","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"FwWRwUPaJW"},{"type":"inlineCode","value":"w","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"Cw0HmPSdFT"},{"type":"text","value":" registers) for integers, matching Fortran’s default ","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"G4i3O4AKmk"},{"type":"inlineCode","value":"INTEGER","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"Cm4bkCas1s"},{"type":"text","value":" type.","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"hSMwpJYlu8"}],"key":"IGyTfityvW"},{"type":"paragraph","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"children":[{"type":"text","value":"A key focus is the ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"okuG3I7DQQ"},{"type":"inlineCode","value":"MOD(a, b)","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"jBWmNV9jHs"},{"type":"text","value":" operation, which requires multiple instructions because ARM64 lacks a direct signed modulo instruction. Instead, the compiler implements it using signed division (","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"a4EZz3wsHv"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"E1F3Y4aIkx"},{"type":"text","value":"), multiplication (","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"Ok46eRwixh"},{"type":"inlineCode","value":"mul","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"dLxTUslT7z"},{"type":"text","value":"), and subtraction (","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"EobqFHMCeT"},{"type":"inlineCode","value":"sub","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"yoeOhmKMns"},{"type":"text","value":"). This is a standard software emulation of modulo: ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"AtMhb5EuPs"},{"type":"inlineCode","value":"a % b = a - ((a / b) * b)","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"TUwoNtXN9a"},{"type":"text","value":", where ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"TiehBZ6AbA"},{"type":"inlineCode","value":"/","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"XSYq3UxWjv"},{"type":"text","value":" is integer division. This approach ensures correct handling of signed integers (e.g., negative values, though not used here), but it’s less efficient than a hypothetical hardware modulo. ARM64 does have unsigned divide-with-remainder (","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"QPyedrF3PD"},{"type":"inlineCode","value":"udiv","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"sFc1Ox2Jcy"},{"type":"text","value":" + ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"jh1HQBX52u"},{"type":"inlineCode","value":"msub","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"b8nm3SaNrT"},{"type":"text","value":" for multiply-subtract), but for signed operations like Fortran’s ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"QzX8XGyQ02"},{"type":"inlineCode","value":"MOD","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"xCzWpZvpHD"},{"type":"text","value":", the compiler opts for this sequence to handle signs properly (using ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"bJMquOBHCf"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"DW8QRgEM9t"},{"type":"text","value":" for signed division). If optimization were enabled (e.g., ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"fob1n0xNlw"},{"type":"inlineCode","value":"-O2","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"UAqUmyjEws"},{"type":"text","value":"), the compiler might inline constants or reduce redundancies, but here it’s straightforward.","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"LKpceXJxdT"}],"key":"P1UETzgE9E"},{"type":"paragraph","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"children":[{"type":"text","value":"I’ll explain each instruction in detail, including opcode, semantics, context, and binary encoding. ARM64 conventions: Registers ","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"oTOeJ201fg"},{"type":"inlineCode","value":"x0","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"HDGFhkaie4"},{"type":"text","value":"-","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"COkYonCqCh"},{"type":"inlineCode","value":"x30","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"FCAZAsIEaa"},{"type":"text","value":" (64-bit), ","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"ua265SqhYi"},{"type":"inlineCode","value":"w0","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"tkhbxX0THJ"},{"type":"text","value":"-","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"Hd90h3mzwN"},{"type":"inlineCode","value":"w30","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"T47uF5bBtK"},{"type":"text","value":" (lower 32 bits); stack grows downward; ABI uses ","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"pKmiEiNe0c"},{"type":"inlineCode","value":"x0-x7","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"JzTaP5dm31"},{"type":"text","value":" for params, ","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"Wv3qLeLq6E"},{"type":"inlineCode","value":"x0","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"r2vjsYLqlM"},{"type":"text","value":" for returns, ","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"i8hPyIkqpz"},{"type":"inlineCode","value":"x29","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"b0OJzbTNy9"},{"type":"text","value":" for frame pointer, ","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"DImZqgDTlw"},{"type":"inlineCode","value":"x30","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"Fd4OfMwYyx"},{"type":"text","value":" for link register.","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"rLloJBpawA"}],"key":"xbR8dVr7pM"},{"type":"heading","depth":3,"position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"children":[{"type":"text","value":"Detailed Explanation of ","position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"key":"wxmseZlBOE"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"key":"fQkmyc4AxR"},{"type":"text","value":" (Fortran Program Logic)","position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"key":"eOth3Lrrl2"}],"identifier":"detailed-explanation-of-main-fortran-program-logic","label":"Detailed Explanation of MAIN__ (Fortran Program Logic)","html_id":"detailed-explanation-of-main-fortran-program-logic","implicit":true,"key":"DoFCwEp5tB"},{"type":"paragraph","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"children":[{"type":"text","value":"This function allocates 16 bytes on the stack (for three 4-byte integers, padded for 16-byte alignment), assigns values to ","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"RT8F9i1t1e"},{"type":"inlineCode","value":"a","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"c6g4wQTyx2"},{"type":"text","value":" and ","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"vdmjlfgEjd"},{"type":"inlineCode","value":"b","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"WT8ODXowR6"},{"type":"text","value":", computes ","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"bwpVXDFcSs"},{"type":"inlineCode","value":"c = MOD(a, b)","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"ToWG1Wnvt3"},{"type":"text","value":" via the multi-step sequence, and cleans up. The ","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"RJhzvrRes5"},{"type":"inlineCode","value":"nop","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"O5PDNwuebR"},{"type":"text","value":" is likely for alignment.","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"jzBkuq0i0i"}],"key":"JCvCZCtYDm"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":396,"column":1},"end":{"line":475,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":396,"column":1},"end":{"line":400,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":396,"column":1},"end":{"line":399,"column":1}},"children":[{"type":"strong","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"children":[{"type":"inlineCode","value":"814: d10043ff sub sp, sp, #0x10","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"FPnSPtfLCP"}],"key":"fQxigzwfIv"},{"type":"break","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"ENTs9I6qQV"},{"type":"strong","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"uaQ1IxO7e0"}],"key":"iN6PhpWQbC"},{"type":"text","value":": ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"E97fl6DEjl"},{"type":"inlineCode","value":"d1 00 43 ff","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"K8CMGuQogC"},{"type":"break","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"Hbu74o6NKw"},{"type":"strong","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"YqlpciyQQW"}],"key":"V1DI3wa1Sx"},{"type":"text","value":": Subtracts ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"KjzLyRTcHz"},{"type":"inlineCode","value":"0x10","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"hyg0fQOKkZ"},{"type":"text","value":" (16 decimal) from the stack pointer ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"ETJJwedXkV"},{"type":"inlineCode","value":"sp","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"Y7XH1rZw5c"},{"type":"text","value":", allocating 16 bytes of local stack space. Result written back to ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"Mn7eeSUMBM"},{"type":"inlineCode","value":"sp","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"AqXKubtxkJ"},{"type":"text","value":". ARM64 requires manual stack management; allocations must be 16-byte aligned.","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"AZlfkcRC33"},{"type":"break","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"r2xBioDHyc"},{"type":"strong","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"ScstuEtvLS"}],"key":"Z96A0qlgqh"},{"type":"text","value":": Function prologue. Reserves space for ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"SK8nvspTgP"},{"type":"inlineCode","value":"a","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"SKP8fsrTFa"},{"type":"text","value":" at ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"ExvqyAkrRW"},{"type":"inlineCode","value":"sp+12","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"VJBqOvd73F"},{"type":"text","value":" (4 bytes), ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"dYhdhoP0Cu"},{"type":"inlineCode","value":"b","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"Hu2rrhgr1H"},{"type":"text","value":" at ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"i64ai5k5Y5"},{"type":"inlineCode","value":"sp+8","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"cbxISNj68p"},{"type":"text","value":", ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"j28R3mTgOZ"},{"type":"inlineCode","value":"c","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"ZLZoLmMi3x"},{"type":"text","value":" at ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"Lk0snRvBu4"},{"type":"inlineCode","value":"sp+4","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"BVQSK2PQPZ"},{"type":"text","value":", with padding at ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"cYdWYcwpKe"},{"type":"inlineCode","value":"sp+0","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"EwkxwXuX7m"},{"type":"text","value":" for alignment. After this, ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"UC3TPVo6j6"},{"type":"inlineCode","value":"sp","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"z42bUa7aAo"},{"type":"text","value":" points to the frame base.","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"VezOa3rwwo"}],"key":"KZyBFJC6GE"}],"key":"PPF1iFGIAE"},{"type":"listItem","spread":true,"position":{"start":{"line":401,"column":1},"end":{"line":405,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":401,"column":1},"end":{"line":404,"column":1}},"children":[{"type":"strong","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"children":[{"type":"inlineCode","value":"818: 52800140 mov w0, #0xa","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"cwFNW8I7W9"}],"key":"hTO9BE5sI4"},{"type":"break","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"sOTcA4KaTj"},{"type":"strong","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"UwpEt3MVsz"}],"key":"CSLeDjQuEb"},{"type":"text","value":": ","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"IsZ8KJMmEB"},{"type":"inlineCode","value":"52 80 01 40","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"poowOqT04r"},{"type":"break","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"luN6FZpkzT"},{"type":"strong","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"FvG5nS4VjM"}],"key":"r5jtLe8s6H"},{"type":"text","value":": Moves immediate ","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"j95cE4mF7z"},{"type":"inlineCode","value":"0xa","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"B1JX12DlGg"},{"type":"text","value":" (10 decimal) into ","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"xajAeT8Bnn"},{"type":"inlineCode","value":"w0","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"h8HBIxzDpL"},{"type":"text","value":" (lower 32 bits of ","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"UIf4O6MrOk"},{"type":"inlineCode","value":"x0","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"q8U9irKPPE"},{"type":"text","value":"; upper bits zeroed). This is a 32-bit move immediate.","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"xEvOcehZDU"},{"type":"break","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"AUhUTc5l7v"},{"type":"strong","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"doEGPLWzNt"}],"key":"eGnV37ojJg"},{"type":"text","value":": Initializes a temporary for ","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"hLd93BbybW"},{"type":"inlineCode","value":"a = 10","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"DFHcxtDAen"},{"type":"text","value":". Constants are loaded into registers before storing to memory.","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"cQKrbqVNVf"}],"key":"bUBwNnAHlY"}],"key":"UM7W90ptU5"},{"type":"listItem","spread":true,"position":{"start":{"line":406,"column":1},"end":{"line":410,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":406,"column":1},"end":{"line":409,"column":1}},"children":[{"type":"strong","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"children":[{"type":"inlineCode","value":"81c: b9000fe0 str w0, [sp, #12]","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"VH8up6e64f"}],"key":"SK2q2fR4VR"},{"type":"break","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"eSACG6jlw3"},{"type":"strong","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"JmirsuYfSY"}],"key":"aJGfBxXB35"},{"type":"text","value":": ","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"cEhq0PQN3e"},{"type":"inlineCode","value":"b9 00 0f e0","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"UL0rgjUAI3"},{"type":"break","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"FR0SfEwWQj"},{"type":"strong","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"a0Rm97rL3o"}],"key":"SCBZm6THjA"},{"type":"text","value":": Stores 32-bit ","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"BIJqoTfr95"},{"type":"inlineCode","value":"w0","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"eZBfP2bQtF"},{"type":"text","value":" (10) to memory at ","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"OylorvsDbE"},{"type":"inlineCode","value":"sp + 12","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"v8fRiltFyI"},{"type":"text","value":". ","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"OrOkVfMsmK"},{"type":"inlineCode","value":"str","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"hnJwISzkfs"},{"type":"text","value":" is “store register”.","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"uN8a8sphti"},{"type":"break","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"De9dMnaMna"},{"type":"strong","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"AJKIVqVD8H"}],"key":"syQyT0nWTR"},{"type":"text","value":": Assigns to ","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"KGpfZ63syl"},{"type":"inlineCode","value":"a","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"TwUhsc2VKg"},{"type":"text","value":" on the stack. Stack offsets are positive from current ","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"Nj8TQq5Ewm"},{"type":"inlineCode","value":"sp","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"nLpSb0BQJG"},{"type":"text","value":".","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"rK3LD9Sy1M"}],"key":"xW2sXnidp0"}],"key":"pvKkw2YN5f"},{"type":"listItem","spread":true,"position":{"start":{"line":411,"column":1},"end":{"line":415,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":411,"column":1},"end":{"line":414,"column":1}},"children":[{"type":"strong","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"children":[{"type":"inlineCode","value":"820: 52800080 mov w0, #0x4","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"pyQ7tFleBL"}],"key":"UU6rQ0k9MA"},{"type":"break","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"du4FnGUwVw"},{"type":"strong","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"Ov3LDBgqMO"}],"key":"Aah6QxKt3y"},{"type":"text","value":": ","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"Xch3tsXFta"},{"type":"inlineCode","value":"52 80 00 80","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"pLODHAN81Y"},{"type":"break","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"k8p5zW1pAY"},{"type":"strong","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"oJyZY9C2ZV"}],"key":"yW88AhgOhd"},{"type":"text","value":": Moves ","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"B0jEXYzjHE"},{"type":"inlineCode","value":"0x4","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"f9h4iXN6zq"},{"type":"text","value":" (4) into ","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"iUMO9i0fk2"},{"type":"inlineCode","value":"w0","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"ELjP5Uf6HQ"},{"type":"text","value":", overwriting previous value.","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"FdXoSFclI8"},{"type":"break","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"c2vfjYpqoV"},{"type":"strong","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"gaQUmSxCqY"}],"key":"lu9y0gt4zy"},{"type":"text","value":": Initializes temporary for ","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"leOWJyH47n"},{"type":"inlineCode","value":"b = 4","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"MSzv7TEM06"},{"type":"text","value":".","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"fGrT4CNaJP"}],"key":"zbyvAavN2f"}],"key":"MkxLlcgmzL"},{"type":"listItem","spread":true,"position":{"start":{"line":416,"column":1},"end":{"line":420,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":416,"column":1},"end":{"line":419,"column":1}},"children":[{"type":"strong","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"children":[{"type":"inlineCode","value":"824: b9000be0 str w0, [sp, #8]","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"qdPEO3lmm8"}],"key":"w301c9qidr"},{"type":"break","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"cQr3SI8KD0"},{"type":"strong","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"t9XAnA455T"}],"key":"k5PrNSvrVl"},{"type":"text","value":": ","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"NgzSsCq3vJ"},{"type":"inlineCode","value":"b9 00 0b e0","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"sYLWxFON0l"},{"type":"break","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"KZw6LKoY28"},{"type":"strong","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"j2AbOiblx1"}],"key":"Ex5CSwh8KD"},{"type":"text","value":": Stores ","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"yFsQICVi5j"},{"type":"inlineCode","value":"w0","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"VIJwq2iEUZ"},{"type":"text","value":" (4) at ","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"YVwBdt6YMV"},{"type":"inlineCode","value":"sp + 8","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"M7zTrxB30v"},{"type":"text","value":".","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"CcpzaErIv7"},{"type":"break","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"rSoUYAO2Yp"},{"type":"strong","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"LXhaqWQBMl"}],"key":"ORvUNZO9IM"},{"type":"text","value":": Assigns to ","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"vGleJSVdRM"},{"type":"inlineCode","value":"b","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"Jfu9AtaAcU"},{"type":"text","value":".","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"IFxnXfUY9c"}],"key":"NLVdNqcuOa"}],"key":"OqzMMwoT1b"},{"type":"listItem","spread":true,"position":{"start":{"line":421,"column":1},"end":{"line":425,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":421,"column":1},"end":{"line":424,"column":1}},"children":[{"type":"strong","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"children":[{"type":"inlineCode","value":"828: b9400fe0 ldr w0, [sp, #12]","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"kDSfg3gmL9"}],"key":"XoM01ePZSk"},{"type":"break","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"BQRpOmskip"},{"type":"strong","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"tAmMQzwS5f"}],"key":"LqZ3fMVmGQ"},{"type":"text","value":": ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"UWTB8okCxz"},{"type":"inlineCode","value":"b9 40 0f e0","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"q0AjxUrjQ6"},{"type":"break","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"PhB4xy9UK6"},{"type":"strong","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"gDNyEhifjD"}],"key":"Tl97DVmxAd"},{"type":"text","value":": Loads 32-bit value from ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"Fs9shSxVtc"},{"type":"inlineCode","value":"sp + 12","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"eikthG9cuT"},{"type":"text","value":" (10, value of ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"uBEt8oOhvP"},{"type":"inlineCode","value":"a","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"uDfsReaUxh"},{"type":"text","value":") into ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"L4KQRV4ZaT"},{"type":"inlineCode","value":"w0","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"r9gE7y7tKu"},{"type":"text","value":". ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"uogZygFj3x"},{"type":"inlineCode","value":"ldr","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"t8eEFZc5E2"},{"type":"text","value":" is “load register”.","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"TNOiuJgnbH"},{"type":"break","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"L1407TsDN0"},{"type":"strong","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"vpSmGiOw1K"}],"key":"pJq0PGrX65"},{"type":"text","value":": Loads ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"dSInLX2tvl"},{"type":"inlineCode","value":"a","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"TSOmVU6tJL"},{"type":"text","value":" into ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"corIWogH6k"},{"type":"inlineCode","value":"w0","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"LAjaxMvzIw"},{"type":"text","value":" as the dividend for the modulo operation.","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"f4BRiRNNlV"}],"key":"k8DrUzxVxd"}],"key":"HTfXtRyxcD"},{"type":"listItem","spread":true,"position":{"start":{"line":426,"column":1},"end":{"line":430,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":426,"column":1},"end":{"line":429,"column":1}},"children":[{"type":"strong","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"children":[{"type":"inlineCode","value":"82c: b9400be1 ldr w1, [sp, #8]","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"f6RaagmlK9"}],"key":"QLe1jO54bd"},{"type":"break","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"LmLAsCItVN"},{"type":"strong","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"R2mTiRByft"}],"key":"vskbabNuAQ"},{"type":"text","value":": ","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"XJEIMhDwRR"},{"type":"inlineCode","value":"b9 40 0b e1","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"CDh2g5XkrQ"},{"type":"break","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"hGrFfcqHeJ"},{"type":"strong","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"v9ljzthLVl"}],"key":"DlDFVKlh9I"},{"type":"text","value":": Loads from ","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"iZuqtS5BqT"},{"type":"inlineCode","value":"sp + 8","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"EpdeSP9B7q"},{"type":"text","value":" (4, value of ","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"BINfmaDBbo"},{"type":"inlineCode","value":"b","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"n9H1rRBCt7"},{"type":"text","value":") into ","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"RMkukZGdCu"},{"type":"inlineCode","value":"w1","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"A6eO4s1QAu"},{"type":"text","value":".","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"jFOJLdNlFq"},{"type":"break","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"J7oTmv3C6l"},{"type":"strong","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"W6iDK3zQA4"}],"key":"rfa00VApRE"},{"type":"text","value":": Loads ","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"jz0IjHIgAy"},{"type":"inlineCode","value":"b","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"RJRuCrje6U"},{"type":"text","value":" into ","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"dtUV47sq4H"},{"type":"inlineCode","value":"w1","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"SW55xJCRbq"},{"type":"text","value":" as the divisor.","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"BDgtpDVzLt"}],"key":"DmrmjN061j"}],"key":"zv1np7fRAs"},{"type":"listItem","spread":true,"position":{"start":{"line":431,"column":1},"end":{"line":435,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":431,"column":1},"end":{"line":434,"column":1}},"children":[{"type":"strong","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"children":[{"type":"inlineCode","value":"830: 1ac10c02 sdiv w2, w0, w1","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"HaJrtQVSvC"}],"key":"X2jQFb1VWD"},{"type":"break","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"L2PFXGOfBD"},{"type":"strong","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"i8RJ9vdyTz"}],"key":"YZbze9Lh4R"},{"type":"text","value":": ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"kQCuv1rQUZ"},{"type":"inlineCode","value":"1a c1 0c 02","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"g3Zf4SNVEn"},{"type":"break","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"Lsfa8SuxOC"},{"type":"strong","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"AHb4jQjG64"}],"key":"tUFSveM1sC"},{"type":"text","value":": Performs signed integer division: ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"d9hozs09xP"},{"type":"inlineCode","value":"w2 = w0 / w1","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"xZbMYTb25U"},{"type":"text","value":" (10 / 4 = 2). ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"zN4eIbmkG6"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"WdyInRuyqr"},{"type":"text","value":" handles negative numbers by rounding toward zero (Fortran ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"Hmy6HlxVfX"},{"type":"inlineCode","value":"MOD","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"WAANlFtSQf"},{"type":"text","value":" semantics require this for consistency with positive/negative remainders). No remainder is produced directly.","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"v1c7cloB82"},{"type":"break","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"jmG7sx9g4R"},{"type":"strong","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"lD8iXDyy6d"}],"key":"aPikqRiTUw"},{"type":"text","value":": First step of modulo: Compute quotient ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"zZNErmyo3M"},{"type":"inlineCode","value":"q = a / b","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"Vz1aQezMZR"},{"type":"text","value":" (stored in ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"KNo5iFu2R9"},{"type":"inlineCode","value":"w2","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"E3lheXPp7z"},{"type":"text","value":"). This is necessary because ARM64 has no single-instruction signed modulo. ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"WnSa37jh1b"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"KaoK11lseV"},{"type":"text","value":" is used over ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"pqEHkQPXJl"},{"type":"inlineCode","value":"udiv","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"x9okpQmfwq"},{"type":"text","value":" (unsigned) to match Fortran’s signed integer behavior.","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"QnhhOyK3Ta"}],"key":"VqjMojDq3o"}],"key":"ZvFqRCWTvX"},{"type":"listItem","spread":true,"position":{"start":{"line":436,"column":1},"end":{"line":440,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":436,"column":1},"end":{"line":439,"column":1}},"children":[{"type":"strong","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"children":[{"type":"inlineCode","value":"834: b9400be1 ldr w1, [sp, #8]","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"m8nsMdNUbI"}],"key":"EhUE3OjzLG"},{"type":"break","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"YpBQpeWXno"},{"type":"strong","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"AfoSmXtBew"}],"key":"aM8um1UwIY"},{"type":"text","value":": ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"tuUnYZ6h2c"},{"type":"inlineCode","value":"b9 40 0b e1","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"s1WVohK6yu"},{"type":"break","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"ukVMH3FxRe"},{"type":"strong","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"KrlJgTJpCd"}],"key":"AjX7WW9qVF"},{"type":"text","value":": Reloads ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"QavlmNzpL9"},{"type":"inlineCode","value":"b","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"gjbG86lBSE"},{"type":"text","value":" (4) from ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"ofQBlzonET"},{"type":"inlineCode","value":"sp + 8","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"XAXnedLuxN"},{"type":"text","value":" into ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"Oy5wykMpCS"},{"type":"inlineCode","value":"w1","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"FBet1VqA9e"},{"type":"text","value":".","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"flW6Zs5UE3"},{"type":"break","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"VDpelXsK7l"},{"type":"strong","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"ICfYrPmXwB"}],"key":"N1BYaRF0Ks"},{"type":"text","value":": Prepares ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"GWEyqtaaln"},{"type":"inlineCode","value":"b","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"SriFYJzWjV"},{"type":"text","value":" for multiplication. This reload is redundant (","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"p66qcbberD"},{"type":"inlineCode","value":"w1","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"xDsZMO2V70"},{"type":"text","value":" already held ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"M3R9d9mCgC"},{"type":"inlineCode","value":"b","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"any0o3mUZ1"},{"type":"text","value":" before ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"CAErkfJ2pb"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"nvn7SLqXqQ"},{"type":"text","value":"), likely due to no optimization; an optimized build might eliminate it.","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"bvRff8TLBA"}],"key":"vLomeR9WeA"}],"key":"u9eeY25mFJ"},{"type":"listItem","spread":true,"position":{"start":{"line":441,"column":1},"end":{"line":445,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":441,"column":1},"end":{"line":444,"column":1}},"children":[{"type":"strong","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"children":[{"type":"inlineCode","value":"838: 1b017c41 mul w1, w2, w1","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"ObyOLUrnys"}],"key":"OQuFo48vn0"},{"type":"break","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"oqysmze9C4"},{"type":"strong","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"BEOvp13p8y"}],"key":"afNSk8Gn7G"},{"type":"text","value":": ","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"p6Rh23INzy"},{"type":"inlineCode","value":"1b 01 7c 41","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"cMdZilVQXe"},{"type":"break","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"G1UgHxDpxx"},{"type":"strong","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"rlP1pJmDFa"}],"key":"LAKBEGHQNB"},{"type":"text","value":": Multiplies ","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"KbJMbSeCQ5"},{"type":"inlineCode","value":"w1 = w2 * w1","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"ND097vfh23"},{"type":"text","value":" (2 * 4 = 8). ","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"S3tVRI47FK"},{"type":"inlineCode","value":"mul","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"dP4LAvBdnr"},{"type":"text","value":" is integer multiplication, with overflow wrapping (but no issue here).","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"xH6L8RJaBT"},{"type":"break","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"JNTgG3tYhy"},{"type":"strong","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"XC6limBIMw"}],"key":"Vv6xzX1aSZ"},{"type":"text","value":": Second step of modulo: Compute ","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"LYQeYocojZ"},{"type":"inlineCode","value":"q * b","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"ij1yQVDJLO"},{"type":"text","value":" (quotient times divisor). This reconstructs the largest multiple of ","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"Xj2XRdvRQk"},{"type":"inlineCode","value":"b","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"UWjPBuD1ID"},{"type":"text","value":" less than or equal to ","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"XRi2XQo1ml"},{"type":"inlineCode","value":"a","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"LnPyzINlUb"},{"type":"text","value":" (for positive values).","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"KEOCxiOOCh"}],"key":"Yey9n0mzcN"}],"key":"O6KwOq1TYG"},{"type":"listItem","spread":true,"position":{"start":{"line":446,"column":1},"end":{"line":455,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":446,"column":1},"end":{"line":449,"column":1}},"children":[{"type":"strong","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"children":[{"type":"inlineCode","value":"83c: 4b010000 sub w0, w0, w1","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"vfmxsUzXI2"}],"key":"lWKKPudS6Z"},{"type":"break","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"CnEZpricfp"},{"type":"strong","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"lBqslkMeDM"}],"key":"fFXK7SjVoY"},{"type":"text","value":": ","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"IVVoKo89tk"},{"type":"inlineCode","value":"4b 01 00 00","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"x2UdgZdayw"},{"type":"break","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"EDD05dBlIM"},{"type":"strong","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"BWTN6owJqx"}],"key":"cao8yOxKBT"},{"type":"text","value":": Subtracts ","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"X8HLRNPopx"},{"type":"inlineCode","value":"w0 = w0 - w1","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"mtAsu60tha"},{"type":"text","value":" (10 - 8 = 2). Integer subtraction without borrow flags checked.","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"MMcVKSqWg1"},{"type":"break","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"jjYq6iM2dX"},{"type":"strong","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"UCYIxrcQFq"}],"key":"t440d3HGhd"},{"type":"text","value":": Final step of modulo: Remainder ","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"AXSdDZ8Xf5"},{"type":"inlineCode","value":"r = a - (q * b)","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"zuoA7xdRoU"},{"type":"text","value":". This yields the modulo result (2). The multi-step process is needed because:","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"gbxmM5T7VH"}],"key":"TEOWTSe0uq"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":450,"column":1},"end":{"line":455,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"ARM64’s integer division instructions (","position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"key":"WsBAvqFQpU"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"key":"iS1kLrMR8Z"},{"type":"text","value":", ","position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"key":"UrrW1TDEUm"},{"type":"inlineCode","value":"udiv","position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"key":"PmGrHsA5QM"},{"type":"text","value":") only produce the quotient, not the remainder.","position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"key":"SPxJGA4WCr"}],"key":"uw1DzLb9Sg"}],"key":"XqLtAEnuAo"},{"type":"listItem","spread":true,"position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"For signed modulo, the compiler must ensure the remainder has the sign of the dividend (Fortran ","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"xnc3voGuan"},{"type":"inlineCode","value":"MOD","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"WkqwVdr3SN"},{"type":"text","value":" rule: remainder same sign as ","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"SHVt2pOq0U"},{"type":"inlineCode","value":"a","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"a3u4sZJqwR"},{"type":"text","value":"), which ","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"iITs2sBSNF"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"Zd030ZJRr8"},{"type":"text","value":" + ","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"QoVK4fGLTp"},{"type":"inlineCode","value":"mul","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"NMvs9K8f58"},{"type":"text","value":" + ","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"N9gXHnHFnM"},{"type":"inlineCode","value":"sub","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"usRFd5VAbG"},{"type":"text","value":" achieves.","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"P97wcl7l5r"}],"key":"lCxiW5RdMr"}],"key":"iAWYwrtvqp"},{"type":"listItem","spread":true,"position":{"start":{"line":452,"column":1},"end":{"line":452,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Hardware support for remainder exists in some forms (e.g., ","position":{"start":{"line":452,"column":1},"end":{"line":452,"column":1}},"key":"Y7Xj3R11z4"},{"type":"inlineCode","value":"msub","position":{"start":{"line":452,"column":1},"end":{"line":452,"column":1}},"key":"xi61fDdwpy"},{"type":"text","value":" for multiply-subtract in unsigned contexts), but for signed ops, this sequence is portable and safe.","position":{"start":{"line":452,"column":1},"end":{"line":452,"column":1}},"key":"JgCNN9naxC"}],"key":"Ne7yiAulFq"}],"key":"lkGFHY2kgC"},{"type":"listItem","spread":true,"position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Alternatives like bit manipulation or loops aren’t efficient for general cases. If ","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"n71XLeOSrS"},{"type":"inlineCode","value":"b","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"IFzXEJGGpU"},{"type":"text","value":" were a power of 2, the compiler might optimize to AND (e.g., ","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"Rgw4YAy5Nb"},{"type":"inlineCode","value":"MOD(a, 4) = a & 3","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"fODplbsAL9"},{"type":"text","value":"), but here ","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"ibpqvTDuNf"},{"type":"inlineCode","value":"b=4","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"BfEguo4ROZ"},{"type":"text","value":" is constant—unoptimized code doesn’t exploit that.","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"l0OAuoAZ51"}],"key":"PfXya72PmA"}],"key":"KiQO76vxnW"},{"type":"listItem","spread":true,"position":{"start":{"line":454,"column":1},"end":{"line":455,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Edge cases (e.g., ","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"ny3xUlxvAk"},{"type":"inlineCode","value":"b=0","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"P9OYGYRnSM"},{"type":"text","value":" causes divide-by-zero trap in ","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"XpAE0N5TAb"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"tf0HDHsc3P"},{"type":"text","value":"; negative ","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"jmFsShC73c"},{"type":"inlineCode","value":"a","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"kA2EPseQct"},{"type":"text","value":" or ","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"btFt1EiVE6"},{"type":"inlineCode","value":"b","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"R03yjwgv0k"},{"type":"text","value":") are handled implicitly by ","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"cID1qh4aCE"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"S1fNhOLKKY"},{"type":"text","value":"’s signed semantics.","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"uyZSnoDXsp"}],"key":"iRoswOVO8E"}],"key":"qDIfnYBQrp"}],"key":"pmbDB0O3Vw"}],"key":"VTzhf2A418"},{"type":"listItem","spread":true,"position":{"start":{"line":456,"column":1},"end":{"line":460,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":456,"column":1},"end":{"line":459,"column":1}},"children":[{"type":"strong","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"children":[{"type":"inlineCode","value":"840: b90007e0 str w0, [sp, #4]","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"rtgw9lXn1i"}],"key":"fcJN8f33pa"},{"type":"break","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"BtF8gQNTLg"},{"type":"strong","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"DOC1PXwBOF"}],"key":"cnI5SUCRp9"},{"type":"text","value":": ","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"Nu2M1Sd0zL"},{"type":"inlineCode","value":"b9 00 07 e0","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"mJXG7tCDOG"},{"type":"break","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"ra6hmVFyqA"},{"type":"strong","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"Xbt2VpAnNc"}],"key":"dVnWgbQsOw"},{"type":"text","value":": Stores ","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"Z0AMnHs5Pm"},{"type":"inlineCode","value":"w0","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"I7objMuL5m"},{"type":"text","value":" (2) at ","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"v2GlHGMvYq"},{"type":"inlineCode","value":"sp + 4","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"gX8wHSD7ot"},{"type":"text","value":".","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"lxRpFtrmDM"},{"type":"break","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"FuEiwdO8Vg"},{"type":"strong","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"CvkGPOJeG1"}],"key":"T9G8k6XSUc"},{"type":"text","value":": Assigns result to ","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"pz04GayhlW"},{"type":"inlineCode","value":"c","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"bwTRw6Xaqm"},{"type":"text","value":". Stored but unused—Fortran doesn’t require using variables.","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"EMq0oShXBt"}],"key":"IpXA7rw9gw"}],"key":"AJCnew01XE"},{"type":"listItem","spread":true,"position":{"start":{"line":461,"column":1},"end":{"line":465,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":461,"column":1},"end":{"line":464,"column":1}},"children":[{"type":"strong","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"children":[{"type":"inlineCode","value":"844: d503201f nop","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"ffLXXvaTuQ"}],"key":"JjaW7aiCGl"},{"type":"break","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"RUZ1U2yUAe"},{"type":"strong","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"c6wqZPegcX"}],"key":"dQvgTRngry"},{"type":"text","value":": ","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"L9BpGyu1OC"},{"type":"inlineCode","value":"d5 03 20 1f","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"rqEC91IIIo"},{"type":"break","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"HMIvVmCov3"},{"type":"strong","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"f2IrOP8XLt"}],"key":"JpcjYZdeo2"},{"type":"text","value":": No operation—advances program counter without effect. Often for alignment (instructions 4-byte aligned) or padding.","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"LqhvDyKe3V"},{"type":"break","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"iMsGj0lpWU"},{"type":"strong","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"kjKGeAyBFx"}],"key":"HOs9tumVyO"},{"type":"text","value":": Compiler-inserted; no functional role, possibly after inlining checks.","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"ecl5hZjWvM"}],"key":"DHjiKzirN1"}],"key":"g26GPLLrLs"},{"type":"listItem","spread":true,"position":{"start":{"line":466,"column":1},"end":{"line":470,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":466,"column":1},"end":{"line":469,"column":1}},"children":[{"type":"strong","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"children":[{"type":"inlineCode","value":"848: 910043ff add sp, sp, #0x10","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"gwlEmrbVxM"}],"key":"sMSnUbri8j"},{"type":"break","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"Dykvv0tIgQ"},{"type":"strong","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"FvmqWasfBr"}],"key":"TYx4Gcew6j"},{"type":"text","value":": ","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"ISwEe45M5u"},{"type":"inlineCode","value":"91 00 43 ff","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"f9Qwj6stLy"},{"type":"break","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"WuBHrGiCVf"},{"type":"strong","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"FP3gt4H011"}],"key":"vG1vhvWkDS"},{"type":"text","value":": Adds ","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"GuB85XH94D"},{"type":"inlineCode","value":"0x10","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"TYq3xO2X9X"},{"type":"text","value":" to ","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"MDLJUjA3yJ"},{"type":"inlineCode","value":"sp","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"Fc1U6A0oW9"},{"type":"text","value":", deallocating the frame.","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"leQCTXt4EO"},{"type":"break","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"tucx66sD83"},{"type":"strong","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"ZFcxApM4c8"}],"key":"sO2g5ZgDnZ"},{"type":"text","value":": Epilogue—restores caller’s stack.","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"KzMe8chZoc"}],"key":"aI1tPR8VB0"}],"key":"rgvFoJnLWm"},{"type":"listItem","spread":true,"position":{"start":{"line":471,"column":1},"end":{"line":475,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":471,"column":1},"end":{"line":474,"column":1}},"children":[{"type":"strong","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"children":[{"type":"inlineCode","value":"84c: d65f03c0 ret","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"cBXI0b0RXO"}],"key":"HyeihCaNB4"},{"type":"break","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"C9scZ08Ejq"},{"type":"strong","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"LHgKoscvl9"}],"key":"aLbp8sfRGq"},{"type":"text","value":": ","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"RJMPUZMOZN"},{"type":"inlineCode","value":"d6 5f 03 c0","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"nPmebeyPQ6"},{"type":"break","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"pNM5TFGdYO"},{"type":"strong","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"cPaO0LtoCO"}],"key":"l9mnAMzN2T"},{"type":"text","value":": Returns by jumping to ","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"vGVVTxiny6"},{"type":"inlineCode","value":"x30","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"wKhG3YXwzI"},{"type":"text","value":" (link register). No explicit return value.","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"Fp90IhLn9F"},{"type":"break","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"XsFWw4KHHA"},{"type":"strong","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"VLB4hbr0NA"}],"key":"vZDoALtZuI"},{"type":"text","value":": Ends ","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"tasCXEXgE2"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"ELGBiznvdL"},{"type":"text","value":".","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"xOyQF492Rv"}],"key":"EURMI4hvBD"}],"key":"HqOkZRjodb"}],"key":"lYp6HTgf2N"},{"type":"heading","depth":3,"position":{"start":{"line":476,"column":1},"end":{"line":476,"column":1}},"children":[{"type":"text","value":"Detailed Explanation of ","position":{"start":{"line":476,"column":1},"end":{"line":476,"column":1}},"key":"G5ySboPaGr"},{"type":"inlineCode","value":"main","position":{"start":{"line":476,"column":1},"end":{"line":476,"column":1}},"key":"n8qEnk1z7K"},{"type":"text","value":" (Program Entry Point)","position":{"start":{"line":476,"column":1},"end":{"line":476,"column":1}},"key":"wgKfEyOX3Y"}],"identifier":"detailed-explanation-of-main-program-entry-point","label":"Detailed Explanation of main (Program Entry Point)","html_id":"detailed-explanation-of-main-program-entry-point","implicit":true,"key":"M7NKfrNLGe"},{"type":"paragraph","position":{"start":{"line":477,"column":1},"end":{"line":477,"column":1}},"children":[{"type":"text","value":"This is the runtime wrapper for Fortran executables. It processes args, sets up gfortran, calls ","position":{"start":{"line":477,"column":1},"end":{"line":477,"column":1}},"key":"q5v9YT5q6Y"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":477,"column":1},"end":{"line":477,"column":1}},"key":"olAVkkLx5n"},{"type":"text","value":", and exits. Similar to the previous disassembly, with minor address differences.","position":{"start":{"line":477,"column":1},"end":{"line":477,"column":1}},"key":"doXkN4dwCx"}],"key":"NHIrDCxznO"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":479,"column":1},"end":{"line":541,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":479,"column":1},"end":{"line":482,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":479,"column":1},"end":{"line":481,"column":1}},"children":[{"type":"strong","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"children":[{"type":"inlineCode","value":"850: a9be7bfd stp x29, x30, [sp, #-32]!","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"SAP79GkAmi"}],"key":"BJenPq1tyb"},{"type":"break","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"Q4D4WPpPKp"},{"type":"strong","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"CT1kN0ORnl"}],"key":"Oy7jD2id8v"},{"type":"text","value":": Allocates 32 bytes (pre-index subtract), stores frame pointer ","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"Dhs3G3aK2C"},{"type":"inlineCode","value":"x29","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"qN3k8oMz6G"},{"type":"text","value":" and link ","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"Ik5MO5qGJw"},{"type":"inlineCode","value":"x30","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"M2DM7NYgaD"},{"type":"text","value":" at new ","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"GXNdJ34Cqy"},{"type":"inlineCode","value":"sp","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"zPVipAqicp"},{"type":"text","value":".","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"eAvE3HtNUH"},{"type":"break","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"JMiMmym7U2"},{"type":"strong","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"lj736IqTen"}],"key":"mVNiSZqYM2"},{"type":"text","value":": Prologue—saves caller state, allocates for locals (argc at +28, argv at +16).","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"RoSNEfWaQO"}],"key":"e2JB75L449"}],"key":"JHR7lpHAsi"},{"type":"listItem","spread":true,"position":{"start":{"line":483,"column":1},"end":{"line":486,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":483,"column":1},"end":{"line":485,"column":1}},"children":[{"type":"strong","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"children":[{"type":"inlineCode","value":"854: 910003fd mov x29, sp","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"EHk5kta9Dq"}],"key":"pb7zy05pQd"},{"type":"break","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"kSHVQPfFae"},{"type":"strong","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"WRg5QJ720d"}],"key":"IqY7nBDhc1"},{"type":"text","value":": Sets ","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"CMtqZRMMui"},{"type":"inlineCode","value":"x29","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"bGAXEeFyJh"},{"type":"text","value":" to current ","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"X6NhQFKy1Y"},{"type":"inlineCode","value":"sp","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"YQQkaWfneO"},{"type":"text","value":" for frame-relative access.","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"tsZIQFdhAd"},{"type":"break","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"g6kUlfnl6G"},{"type":"strong","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"iUHJjjzxhg"}],"key":"qE8IWN49Ev"},{"type":"text","value":": ABI frame pointer setup.","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"EnXBAv8o5D"}],"key":"tNuht9BKVm"}],"key":"miseSVgMp7"},{"type":"listItem","spread":true,"position":{"start":{"line":487,"column":1},"end":{"line":490,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":487,"column":1},"end":{"line":489,"column":1}},"children":[{"type":"strong","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"children":[{"type":"inlineCode","value":"858: b9001fe0 str w0, [sp, #28]","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"cdJqF334Na"}],"key":"vjGNJ6ceWY"},{"type":"break","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"B4fC2cde0c"},{"type":"strong","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"L7AQqzs539"}],"key":"LfhFE0uixI"},{"type":"text","value":": Stores ","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"aSBH0DDdLM"},{"type":"inlineCode","value":"w0","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"fQ7cVUSyvk"},{"type":"text","value":" (argc) locally.","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"CuWtRGaLNA"},{"type":"break","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"JNpoAXNBRC"},{"type":"strong","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"gx8GvJ1GJ9"}],"key":"xAXyEtoYn0"},{"type":"text","value":": Saves argument count.","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"vGHreWYFtE"}],"key":"msVUonukd6"}],"key":"yrpGqgGIoH"},{"type":"listItem","spread":true,"position":{"start":{"line":491,"column":1},"end":{"line":494,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":491,"column":1},"end":{"line":493,"column":1}},"children":[{"type":"strong","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"children":[{"type":"inlineCode","value":"85c: f9000be1 str x1, [sp, #16]","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"okec4lL8d4"}],"key":"A02wq4kAkD"},{"type":"break","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"Pu7u1cxEV7"},{"type":"strong","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"DpnTHn14gw"}],"key":"o18nyhNZFw"},{"type":"text","value":": Stores ","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"AAcLfaysKJ"},{"type":"inlineCode","value":"x1","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"IfjFIAGt4V"},{"type":"text","value":" (argv) locally.","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"Az0VRRfy1R"},{"type":"break","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"x4LuJNFmKF"},{"type":"strong","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"V8lfB6m8Fl"}],"key":"MBzVsx5zP2"},{"type":"text","value":": Saves argument vector.","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"CmtTtYoFxK"}],"key":"RGUHDFcH1g"}],"key":"ZJrFXx8ill"},{"type":"listItem","spread":true,"position":{"start":{"line":495,"column":1},"end":{"line":498,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":495,"column":1},"end":{"line":497,"column":1}},"children":[{"type":"strong","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"children":[{"type":"inlineCode","value":"860: f9400be1 ldr x1, [sp, #16]","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"ClfFmYLr0A"}],"key":"wA34pGUUMy"},{"type":"break","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"aKII5wa24M"},{"type":"strong","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"ITTFq9Wodh"}],"key":"eZsp0WbkBV"},{"type":"text","value":": Loads argv into ","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"EHfZoQ5ax3"},{"type":"inlineCode","value":"x1","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"F2OGZC4Ao5"},{"type":"text","value":" for call.","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"RvUGNI6Tit"},{"type":"break","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"NHRjn4bscF"},{"type":"strong","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"L2vYhjwrwg"}],"key":"cESO6woFwx"},{"type":"text","value":": Prepares second arg for runtime.","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"t62pZkwUdP"}],"key":"euWnsUDytF"}],"key":"yl5Aa74JEl"},{"type":"listItem","spread":true,"position":{"start":{"line":499,"column":1},"end":{"line":502,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":499,"column":1},"end":{"line":501,"column":1}},"children":[{"type":"strong","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"children":[{"type":"inlineCode","value":"864: b9401fe0 ldr w0, [sp, #28]","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"ZyTsibnJlW"}],"key":"FFGwY1MYls"},{"type":"break","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"pzUrEAvqbe"},{"type":"strong","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"bih71WJ3HS"}],"key":"fAVc2hVsob"},{"type":"text","value":": Loads argc into ","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"YoxhnMmAnQ"},{"type":"inlineCode","value":"w0","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"HhwQKnuMrt"},{"type":"text","value":".","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"z0GWJRyfAF"},{"type":"break","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"Cv76SYaBD9"},{"type":"strong","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"PrWMa2j94c"}],"key":"B6q7WKIK7q"},{"type":"text","value":": Prepares first arg.","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"xglBwLNZ8Y"}],"key":"BW60YyB1i1"}],"key":"mKonwx2GGZ"},{"type":"listItem","spread":true,"position":{"start":{"line":503,"column":1},"end":{"line":506,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":503,"column":1},"end":{"line":505,"column":1}},"children":[{"type":"strong","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"children":[{"type":"inlineCode","value":"868: 97ffffa2 bl 6f0 <_gfortran_set_args@plt>","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"m9GIHmhfDk"}],"key":"ytELd3Iv88"},{"type":"break","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"GHEQvS35TJ"},{"type":"strong","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"GT1eGUcXAY"}],"key":"DwxM6v123N"},{"type":"text","value":": Calls gfortran arg setup via PLT (dynamic link).","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"Jw8KTp9aRy"},{"type":"break","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"LIHzwmf3k4"},{"type":"strong","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"iKDZm8eQty"}],"key":"uEVXqlQbUF"},{"type":"text","value":": Passes args to Fortran runtime for handling (e.g., if program used ","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"qK8I4IzrBT"},{"type":"inlineCode","value":"COMMAND_ARGUMENT_COUNT","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"rtGiaiHT5q"},{"type":"text","value":").","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"OVeqhMcN2m"}],"key":"LLZaSH2hkb"}],"key":"VZik0uzxad"},{"type":"listItem","spread":true,"position":{"start":{"line":507,"column":1},"end":{"line":510,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":507,"column":1},"end":{"line":509,"column":1}},"children":[{"type":"strong","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"children":[{"type":"inlineCode","value":"86c: 90000000 adrp x0, 0","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"k8bqYzkbRl"}],"key":"zC6wetjGSO"},{"type":"break","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"GpayIbO39d"},{"type":"strong","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"TPnN4yVGWF"}],"key":"s26tOKxkxA"},{"type":"text","value":": Loads page base (0 here) into ","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"cj11VL3VTR"},{"type":"inlineCode","value":"x0","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"NH012LAE0r"},{"type":"text","value":".","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"AVWXptVPdm"},{"type":"break","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"GfIcZCzT3G"},{"type":"strong","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"k0QieLwjgf"}],"key":"si3MNlig0L"},{"type":"text","value":": Prepares for options address computation.","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"Izouk3OoTQ"}],"key":"oLqWhgAH20"}],"key":"mfTLxbxWYB"},{"type":"listItem","spread":true,"position":{"start":{"line":511,"column":1},"end":{"line":514,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":511,"column":1},"end":{"line":513,"column":1}},"children":[{"type":"strong","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"children":[{"type":"inlineCode","value":"870: 9124c001 add x1, x0, #0x930","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"p0ihs4bpJj"}],"key":"jIxrFvnICF"},{"type":"break","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"dMvKOFQ5Ay"},{"type":"strong","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"AsXzUhK5Ml"}],"key":"WfA20MF6Ix"},{"type":"text","value":": Adds ","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"CemCXnGj1C"},{"type":"inlineCode","value":"0x930","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"HyOSvVbDSG"},{"type":"text","value":" (2352) to ","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"mmQFZ0Lvfr"},{"type":"inlineCode","value":"x0","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"osULWP57j1"},{"type":"text","value":", result in ","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"TRfTGPuBaT"},{"type":"inlineCode","value":"x1","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"HBMjzmbYkf"},{"type":"text","value":" (points to options data).","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"BWqkllmBQQ"},{"type":"break","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"zlIGDm1rNr"},{"type":"strong","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"p3i6u9t9bs"}],"key":"m3ZfKE97Hy"},{"type":"text","value":": Address of gfortran options array.","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"botMRCaRoe"}],"key":"Z7kpNZDeVx"}],"key":"RQIOGhOlil"},{"type":"listItem","spread":true,"position":{"start":{"line":515,"column":1},"end":{"line":518,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":515,"column":1},"end":{"line":517,"column":1}},"children":[{"type":"strong","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"children":[{"type":"inlineCode","value":"874: 528000e0 mov w0, #0x7","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"kQjYqHQd3C"}],"key":"VggBs5EPr9"},{"type":"break","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"TEMumrjPef"},{"type":"strong","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"PsSgqN04zN"}],"key":"UG9eEhHrrh"},{"type":"text","value":": Moves 7 into ","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"pE8lJKrGUI"},{"type":"inlineCode","value":"w0","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"PUmShTCWxH"},{"type":"text","value":" (likely option count).","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"fO83D6Oenp"},{"type":"break","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"eh66olLC7t"},{"type":"strong","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"XYdxZKG82u"}],"key":"zvVC5FPvUE"},{"type":"text","value":": Arg for options call.","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"ovJrK1R8TQ"}],"key":"wS1D3PE6IQ"}],"key":"qpDIz9LFyz"},{"type":"listItem","spread":true,"position":{"start":{"line":519,"column":1},"end":{"line":522,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":519,"column":1},"end":{"line":521,"column":1}},"children":[{"type":"strong","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"children":[{"type":"inlineCode","value":"878: 97ffff9a bl 6e0 <_gfortran_set_options@plt>","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"qr45qkF9p0"}],"key":"MfRJLNAip8"},{"type":"break","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"mEJLfrqWf3"},{"type":"strong","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"fhF3MjuOiH"}],"key":"S0UiLZoAEY"},{"type":"text","value":": Calls gfortran options setup.","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"WPm7OqKHa6"},{"type":"break","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"d2jOJAw0CG"},{"type":"strong","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"sWB21GUwQM"}],"key":"XFdoU0GRzV"},{"type":"text","value":": Configures runtime (e.g., error modes, precision).","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"yoNbIRksBf"}],"key":"D2zKET1a7e"}],"key":"L3hgZ6DPGX"},{"type":"listItem","spread":true,"position":{"start":{"line":523,"column":1},"end":{"line":526,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":523,"column":1},"end":{"line":525,"column":1}},"children":[{"type":"strong","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"children":[{"type":"inlineCode","value":"87c: 97ffffe6 bl 814 <MAIN__>","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"yF0AiPZB84"}],"key":"N7Ob2rRkKa"},{"type":"break","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"MAgeG66lxk"},{"type":"strong","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"iu4cdezzZW"}],"key":"l8ATeHGGS6"},{"type":"text","value":": Calls Fortran body.","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"KV6jlRVuXX"},{"type":"break","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"BW3QJooXdH"},{"type":"strong","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"ZHpH1bBRtV"}],"key":"zdeZ7ZzBdf"},{"type":"text","value":": Executes the program.","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"Q89vdBX2aQ"}],"key":"V724xDZCuc"}],"key":"n09vvoERZV"},{"type":"listItem","spread":true,"position":{"start":{"line":527,"column":1},"end":{"line":530,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":527,"column":1},"end":{"line":529,"column":1}},"children":[{"type":"strong","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"children":[{"type":"inlineCode","value":"880: 52800000 mov w0, #0x0","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"WDtGqB7UPT"}],"key":"Y1JO9iJXnk"},{"type":"break","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"ZTscdWY9My"},{"type":"strong","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"Ns0Jhkc9kn"}],"key":"ydrEbJ4D9W"},{"type":"text","value":": Sets ","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"ptrHlqhlhT"},{"type":"inlineCode","value":"w0","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"L5tYqO6HXP"},{"type":"text","value":" to 0 (exit success).","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"SapzyjhGUc"},{"type":"break","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"Yf0NAODknG"},{"type":"strong","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"AnlChnGPp0"}],"key":"CgMdlU1vqS"},{"type":"text","value":": Prepares exit code.","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"IF0n1YDowy"}],"key":"OiljkW80N4"}],"key":"INd9RjtJHo"},{"type":"listItem","spread":true,"position":{"start":{"line":531,"column":1},"end":{"line":534,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":531,"column":1},"end":{"line":533,"column":1}},"children":[{"type":"strong","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"children":[{"type":"inlineCode","value":"884: a8c27bfd ldp x29, x30, [sp], #32","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"dF4I1mLh3R"}],"key":"aX4SBUatWv"},{"type":"break","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"UOlVP8DkNP"},{"type":"strong","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"hr5HdQOpdh"}],"key":"zHXWfLy2Hf"},{"type":"text","value":": Loads ","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"urzK9zs3JY"},{"type":"inlineCode","value":"x29/x30","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"RV6sMHFoaC"},{"type":"text","value":", deallocates 32 bytes (post-index add).","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"hz7CIjjJwR"},{"type":"break","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"OmmJbhPrS8"},{"type":"strong","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"KNvPAMbutK"}],"key":"tFwSfZqJPA"},{"type":"text","value":": Epilogue—restores state.","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"qLiQaxDSDN"}],"key":"xmlRDwASKU"}],"key":"J3GXI1Cj3l"},{"type":"listItem","spread":true,"position":{"start":{"line":535,"column":1},"end":{"line":538,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":535,"column":1},"end":{"line":537,"column":1}},"children":[{"type":"strong","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"children":[{"type":"inlineCode","value":"888: d65f03c0 ret","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"n15D5xE1c3"}],"key":"MnPkch86jX"},{"type":"break","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"xqv3wPc5WX"},{"type":"strong","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"YauAV2JDiF"}],"key":"nfR62YIjqF"},{"type":"text","value":": Returns to OS with code 0.","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"F9xrTE8coj"},{"type":"break","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"dFBKQyiiq5"},{"type":"strong","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"Z0KYKy29BF"}],"key":"DZbsxLQYPn"},{"type":"text","value":": Program end.","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"HIKJHfrudk"}],"key":"uKOdb451rw"}],"key":"gJCIimsExi"},{"type":"listItem","spread":true,"position":{"start":{"line":539,"column":1},"end":{"line":541,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":539,"column":1},"end":{"line":540,"column":1}},"children":[{"type":"strong","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"children":[{"type":"inlineCode","value":"88c: d503201f nop","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"key":"ekztHK0MP3"}],"key":"w6dWj6H74T"},{"type":"break","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"key":"GNzixo2y5J"},{"type":"strong","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"key":"BiCP1PisJm"}],"key":"n8bPmPQTyh"},{"type":"text","value":": Padding nop, possibly for section alignment.","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"key":"vBlI3XcISF"}],"key":"yn4ldZiGtz"}],"key":"U0dw7BMdqG"}],"key":"xkOdQLxBR5"},{"type":"paragraph","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"children":[{"type":"text","value":"Overall, the program computes but discards the modulo result. Running it produces no output. The multi-op modulo is a compiler choice for correctness and portability on ARM64.","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"key":"e0eyHvStZl"}],"key":"ubPiLCYyFf"}],"key":"dbZTxLZJiJ"}],"key":"WfdMXLJ3CJ"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Fortran - ARM 64-Bit Platform - Subtract Two Integers","url":"/sections/cybersecurity/disassembling-binaries/fortran/arm64/sub-int/sub-int","group":"Cybersecurity"},"next":{"title":"ARM32","url":"/sections/cybersecurity/disassembling-binaries/fortran/arm32/arm32","group":"Cybersecurity"}}},"domain":"http://localhost:3001"}