{"version":3,"kind":"Article","sha256":"03cb6047f3637e6252a89c6509011de6b4b327989f9dcdc691c9c1c6ef22900d","slug":"sections.cybersecurity.disassembling-binaries.fortran.arm64.mod-int.mod-int","location":"/Sections/Cybersecurity/Disassembling_Binaries/Fortran/ARM64/MOD_INT/mod_int.md","dependencies":[],"frontmatter":{"title":"Fortran - ARM 64-Bit Platform - Modulo Two Integers","content_includes_title":false,"authors":[{"nameParsed":{"literal":"Mark Khusid","given":"Mark","family":"Khusid"},"name":"Mark Khusid","id":"contributors-myst-generated-uid-0"}],"github":"https://github.com/markkhusid/MKDynamics_Website_V2","numbering":{"title":{"offset":5}},"source_url":"https://github.com/markkhusid/MKDynamics_Website_V2/blob/master/Sections/Cybersecurity/Disassembling_Binaries/Fortran/ARM64/MOD_INT/mod_int.md","edit_url":"https://github.com/markkhusid/MKDynamics_Website_V2/edit/master/Sections/Cybersecurity/Disassembling_Binaries/Fortran/ARM64/MOD_INT/mod_int.md","thumbnail":"/build/mod_int_Fortran_ARM6-0205747aefc22cc51e86a818a418c733.png","thumbnailOptimized":"/build/mod_int_Fortran_ARM6-0205747aefc22cc51e86a818a418c733.webp","exports":[{"format":"md","filename":"mod_int.md","url":"/build/mod_int-e83d46e86fd2ff13bc42483bc83650b6.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"image","url":"/build/mod_int_Fortran_ARM6-0205747aefc22cc51e86a818a418c733.png","height":"600","width":"800","align":"center","key":"oYfvYvc9UE","urlSource":"images/mod_int_Fortran_ARM64_splash.png","urlOptimized":"/build/mod_int_Fortran_ARM6-0205747aefc22cc51e86a818a418c733.webp"},{"type":"heading","depth":2,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Introduction","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"JOZ8SYMnKb"}],"identifier":"introduction","label":"Introduction","html_id":"introduction","implicit":true,"key":"uXSMEEFtG6"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"In this section we will be disassembling simple binaries generated by the Fortran high-level language compiled for the 64-bit ARM platform.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"xNTDT5wYHo"}],"key":"XWEogQ0Ydm"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Project code for this section is contained in my ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"ffxiIU68eM"},{"type":"link","url":"https://github.com/markkhusid/Disassembling-Binaries/tree/master/Fortran/ARM_architecture/ARM64","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"https://​github​.com​/markkhusid​/Disassembling​-Binaries​/tree​/master​/Fortran​/ARM​_architecture​/ARM64","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"JlVXWrIlC9"}],"urlSource":"https://github.com/markkhusid/Disassembling-Binaries/tree/master/Fortran/ARM_architecture/ARM64","error":true,"key":"sNeVFMTurr"},{"type":"text","value":".","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"JjTE9hnTRZ"}],"key":"Seh9cfi2h6"},{"type":"thematicBreak","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"JVs0inqUQ9"},{"type":"heading","depth":2,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"The program ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"A0jjw6JJll"},{"type":"emphasis","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"mod_int.f08","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"rJ25vXxq0y"}],"key":"DasOcB0c4x"}],"identifier":"the-program-mod-int-f08","label":"The program mod_int.f08","html_id":"the-program-mod-int-f08","implicit":true,"key":"w0kgcnPxIo"},{"type":"include","file":"code/mod_int.f08","literal":true,"children":[{"type":"code","value":"program mod_int\n\n        implicit none\n\n        integer         :: a, b, c\n\n        a = 10\n        b = 4\n\n        c = MOD(a, b)\n\nend program mod_int\n\n","lang":"fortran","filename":"mod_int.f08","key":"IYuTUlIlYh"}],"key":"BHYFdJcjaB"},{"type":"paragraph","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"The program displays the contents of the program ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"xkqsIdKZpU"},{"type":"emphasis","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"mod_int.f08","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"f9a6CzUu2C"}],"key":"hk1LKk5muz"},{"type":"text","value":". The program creates three integers: a, b, and c. ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"MbX9nSBNg5"},{"type":"inlineCode","value":"a","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"OyxJaZ2AJh"},{"type":"text","value":" is assigned the value of 10, ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"fnZEGp1QzL"},{"type":"inlineCode","value":"b","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"uH5po2AhWc"},{"type":"text","value":" is assigned the value of 4, and ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"EVSrlQJ8My"},{"type":"inlineCode","value":"c","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"FhtsUdLVz0"},{"type":"text","value":" is assigned the result of the operation ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"fPRobROLW7"},{"type":"inlineCode","value":"MOD(a, b)","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"Nw7lhcMJDp"},{"type":"text","value":".  MOD() is a Fortran intrinsic function that returns the remainder of the division of ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"YebPnYA0MI"},{"type":"inlineCode","value":"a","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"NMQNK29KxS"},{"type":"text","value":" by ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"DehrZNfeV1"},{"type":"inlineCode","value":"b","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"Jh6476i2Eo"},{"type":"text","value":".","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"tXEoL8scbT"}],"key":"qtO3fmQsJ7"},{"type":"paragraph","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"The program is obviously very simple, with no inputs and outputs. The idea is to generate the binary and look at the disassembly to learn about the workings of the 64-bit ARM processor platform.","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"HKWva7tr0S"}],"key":"LVURM7KIQG"},{"type":"paragraph","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"The chosen test system is my trusty Samsung Chromebook Plus V2, which has a 64-bit ARMv8 processor. This is a very convenient platform for this exercise due to its availability and ease of access from multiple remote systems via SSH.","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"TxPZXl0LJ2"}],"key":"DF1q8Mg0YK"},{"type":"paragraph","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"The program is compiled with the GNU Fortran compiler, ","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"FUjCriw1gu"},{"type":"inlineCode","value":"gfortran","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"V3YHsaMAXz"},{"type":"text","value":", which is available on the ARM platform. The program is compiled with debugging information using the ","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"TEYgZbVtFn"},{"type":"inlineCode","value":"-ggdb3","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"m4mVgiJzIW"},{"type":"text","value":" option, which allows us to debug the program in GDB and see the source code interspersed with the assembly instructions.","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"yJecGmoVQ0"}],"key":"vsOP59m4vd"},{"type":"paragraph","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"The program is compiled with:","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"RZKhpfHCwB"}],"key":"wbr3mykiRy"},{"type":"code","lang":"bash","value":"$ gfortran -ggdb3 mod_int.f08 -o mod_int_Fortran_aarch64_ggdb3","position":{"start":{"line":32,"column":1},"end":{"line":34,"column":1}},"key":"sVmX5oyTea"},{"type":"paragraph","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"For general edification, we also have ","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"s9qmPvtzbu"},{"type":"inlineCode","value":"gfortran","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"g9zB90qsqv"},{"type":"text","value":" produce generic assembly with the ","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"vggh4szakU"},{"type":"inlineCode","value":"-S","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"c2X45UvJP6"},{"type":"text","value":" option, an object file with the ","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"Kyi72zH9Lv"},{"type":"inlineCode","value":"-o","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"sJbrPWTvOL"},{"type":"text","value":" option, and object dumps of the object and executable files.","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"wvhKUX3XlX"}],"key":"N3lbTEXJDu"},{"type":"paragraph","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"The generic assembly is generated by using the ","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"fUh1LwasyY"},{"type":"inlineCode","value":"-S","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"NYDaawgcIx"},{"type":"text","value":" (assembly) option:","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"M5tSTnU3rg"}],"key":"bJaqXDwC8q"},{"type":"code","lang":"bash","value":"$ gfortran -S -ggdb3 mod_int.f08 -o mod_int.s","position":{"start":{"line":40,"column":1},"end":{"line":42,"column":1}},"key":"w65Kf4aGUi"},{"type":"paragraph","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"text","value":"The object file is generated by using the ","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"kTA9gDnlNR"},{"type":"inlineCode","value":"-c","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"wQAO5FORnA"},{"type":"text","value":" (compile) option:","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"f9cAdM5pvY"}],"key":"TW8sURPgbQ"},{"type":"code","lang":"bash","value":"$ gfortran -c -ggdb3 mod_int.s -o mod_int.o","position":{"start":{"line":46,"column":1},"end":{"line":48,"column":1}},"key":"WwEwLkpilZ"},{"type":"paragraph","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"children":[{"type":"text","value":"The objdump files are generated by using the following command and options:","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"cwzIJjfXyI"}],"key":"DvMzuTRvf1"},{"type":"code","lang":"bash","value":"$ objdump -x -D -S -s -g -t mod_int.o > objdump_of_dot_o.txt\n$ objdump -x -D -S -s -g -t mod_int_Fortran_aarch64_ggdb3 > objdump_of_dot_exe.txt","position":{"start":{"line":52,"column":1},"end":{"line":55,"column":1}},"key":"OTHioEiIPh"},{"type":"paragraph","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"text","value":"A rundown of the objdump options is shown here:","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"ZccmKt0wlv"}],"key":"iC8PMIrDSS"},{"type":"code","lang":"bash","value":"$objdump \nUsage: objdump <option(s)> <file(s)>\n Display information from object <file(s)>.\n At least one of the following switches must be given:\n  -a, --archive-headers    Display archive header information\n  -f, --file-headers       Display the contents of the overall file header\n  -p, --private-headers    Display object format specific file header contents\n  -P, --private=OPT,OPT... Display object format specific contents\n  -h, --[section-]headers  Display the contents of the section headers\n  -x, --all-headers        Display the contents of all headers\n  -d, --disassemble        Display assembler contents of executable sections\n  -D, --disassemble-all    Display assembler contents of all sections\n      --disassemble=<sym>  Display assembler contents from <sym>\n  -S, --source             Intermix source code with disassembly\n      --source-comment[=<txt>] Prefix lines of source code with <txt>\n  -s, --full-contents      Display the full contents of all sections requested\n  -g, --debugging          Display debug information in object file\n  -e, --debugging-tags     Display debug information using ctags style\n  -G, --stabs              Display (in raw form) any STABS info in the file\n  -W, --dwarf[a/=abbrev, A/=addr, r/=aranges, c/=cu_index, L/=decodedline,\n              f/=frames, F/=frames-interp, g/=gdb_index, i/=info, o/=loc,\n              m/=macro, p/=pubnames, t/=pubtypes, R/=Ranges, l/=rawline,\n              s/=str, O/=str-offsets, u/=trace_abbrev, T/=trace_aranges,\n              U/=trace_info]\n                           Display the contents of DWARF debug sections\n  -Wk,--dwarf=links        Display the contents of sections that link to\n                            separate debuginfo files\n  -WK,--dwarf=follow-links\n                           Follow links to separate debug info files (default)\n  -WN,--dwarf=no-follow-links\n                           Do not follow links to separate debug info files\n  -L, --process-links      Display the contents of non-debug sections in\n                            separate debuginfo files.  (Implies -WK)\n      --ctf[=SECTION]      Display CTF info from SECTION, (default `.ctf')\n      --sframe[=SECTION]   Display SFrame info from SECTION, (default '.sframe')\n  -t, --syms               Display the contents of the symbol table(s)\n  -T, --dynamic-syms       Display the contents of the dynamic symbol table\n  -r, --reloc              Display the relocation entries in the file\n  -R, --dynamic-reloc      Display the dynamic relocation entries in the file\n  @<file>                  Read options from <file>\n  -v, --version            Display this program's version number\n  -i, --info               List object formats and architectures supported\n  -H, --help               Display this information","position":{"start":{"line":59,"column":1},"end":{"line":103,"column":1}},"key":"eYuSOzLUX6"},{"type":"paragraph","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"children":[{"type":"text","value":"In our case, we want ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"d8GkOupFJy"},{"type":"inlineCode","value":"-x","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"o7NZanUGbm"},{"type":"text","value":" (all headers), ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"k3EWMgLdkV"},{"type":"inlineCode","value":"-D","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"x63XURMv0o"},{"type":"text","value":" (disassemble all), ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"JZfi8Xbut4"},{"type":"inlineCode","value":"-S","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"AS2HMHthK5"},{"type":"text","value":" (display source code with assembly), ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"id0EYRwyh9"},{"type":"inlineCode","value":"-s","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"vX6e5td6rJ"},{"type":"text","value":" (full contents of all sections), ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"Fi3qf8BtKM"},{"type":"inlineCode","value":"-g","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"Yq2ufCSeWd"},{"type":"text","value":" (debug info), and finally, ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"hGfB1cHmt5"},{"type":"inlineCode","value":"-t","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"hLvjzqJ4rp"},{"type":"text","value":" (display contents of the symbol tables).","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"Sv3vEJoJ3P"}],"key":"eBarZEmqAi"},{"type":"paragraph","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"We will now disassemble this program on the 64-bit ARM platform and step through the assembly instructions.","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"TNz2CEfO8V"}],"key":"jlBPTL7qpE"},{"type":"thematicBreak","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"TGfCZM5eEp"},{"type":"heading","depth":2,"position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"children":[{"type":"text","value":"Disassembling ","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"gs2jM7IE9K"},{"type":"emphasis","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"children":[{"type":"text","value":"mod_int_Fortran_aarch64_ggdb3","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"ZJsJOl1Kh3"}],"key":"F0qviDpJoX"}],"identifier":"disassembling-mod-int-fortran-aarch64-ggdb3","label":"Disassembling mod_int_Fortran_aarch64_ggdb3","html_id":"disassembling-mod-int-fortran-aarch64-ggdb3","implicit":true,"key":"DgxIVwHsa7"},{"type":"paragraph","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"children":[{"type":"text","value":"When we look at the executable’s objdump, we notice that there are two functions of interest, one is ","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"bdVAnQxsaD"},{"type":"inlineCode","value":"main","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"bcGOrXEjBU"},{"type":"text","value":", and the other is ","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"oGN5QpMjyC"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"wlAQUvvs7J"},{"type":"text","value":". The Fortran compiler sets up the program arguments and options in ","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"OP5OjGW6z3"},{"type":"inlineCode","value":"main","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"DqdhJ3j3mF"},{"type":"text","value":", while the actual program is contained within ","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"MzSfaMQxFS"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"ZpJwJciLmv"},{"type":"text","value":" (that is capital MAIN followed by two underscores).","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"VVC8TxOrE9"}],"key":"UdH4TVrFdj"},{"type":"paragraph","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"children":[{"type":"text","value":"The following text from the executable’s objdump illustrates this:","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"key":"PN32Ftempx"}],"key":"CBMYgtdiyM"},{"type":"code","lang":"objdump","value":"Disassembly of section .text:\n\n0000000000000814 <MAIN__>:\nprogram mod_int\n 814:\td10043ff \tsub\tsp, sp, #0x10\n\n        implicit none\n\n        integer         :: a, b, c\n\n        a = 10\n 818:\t52800140 \tmov\tw0, #0xa                   \t// #10\n 81c:\tb9000fe0 \tstr\tw0, [sp, #12]\n        b = 4\n 820:\t52800080 \tmov\tw0, #0x4                   \t// #4\n 824:\tb9000be0 \tstr\tw0, [sp, #8]\n\n        c = MOD(a, b)\n 828:\tb9400fe0 \tldr\tw0, [sp, #12]\n 82c:\tb9400be1 \tldr\tw1, [sp, #8]\n 830:\t1ac10c02 \tsdiv\tw2, w0, w1\n 834:\tb9400be1 \tldr\tw1, [sp, #8]\n 838:\t1b017c41 \tmul\tw1, w2, w1\n 83c:\t4b010000 \tsub\tw0, w0, w1\n 840:\tb90007e0 \tstr\tw0, [sp, #4]\n\nend program mod_int\n 844:\td503201f \tnop\n 848:\t910043ff \tadd\tsp, sp, #0x10\n 84c:\td65f03c0 \tret\n\n0000000000000850 <main>:\n 850:\ta9be7bfd \tstp\tx29, x30, [sp, #-32]!\n 854:\t910003fd \tmov\tx29, sp\n 858:\tb9001fe0 \tstr\tw0, [sp, #28]\n 85c:\tf9000be1 \tstr\tx1, [sp, #16]\n 860:\tf9400be1 \tldr\tx1, [sp, #16]\n 864:\tb9401fe0 \tldr\tw0, [sp, #28]\n 868:\t97ffffa2 \tbl\t6f0 <_gfortran_set_args@plt>\n 86c:\t90000000 \tadrp\tx0, 0 <_init-0x660>\n 870:\t9124c001 \tadd\tx1, x0, #0x930\n 874:\t528000e0 \tmov\tw0, #0x7                   \t// #7\n 878:\t97ffff9a \tbl\t6e0 <_gfortran_set_options@plt>\n 87c:\t97ffffe6 \tbl\t814 <MAIN__>\n 880:\t52800000 \tmov\tw0, #0x0                   \t// #0\n 884:\ta8c27bfd \tldp\tx29, x30, [sp], #32\n 888:\td65f03c0 \tret\n 88c:\td503201f \tnop","position":{"start":{"line":117,"column":1},"end":{"line":166,"column":1}},"key":"b4EAD7TDgg"},{"type":"heading","depth":2,"position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"children":[{"type":"text","value":"Explaining the Dissassembly by ChatGPT 4o","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"key":"ncmzuzvar0"}],"identifier":"explaining-the-dissassembly-by-chatgpt-4o","label":"Explaining the Dissassembly by ChatGPT 4o","html_id":"explaining-the-dissassembly-by-chatgpt-4o","implicit":true,"key":"wBErVszRva"},{"type":"paragraph","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"children":[{"type":"text","value":"This disassembly represents the ARM AArch64 machine code for a ","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"bb4VxEXzdr"},{"type":"strong","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"children":[{"type":"text","value":"Fortran program that performs an integer modulus operation using ","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"pcGfWS6RzE"},{"type":"inlineCode","value":"MOD(a, b)","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"yrOcwcHNTE"}],"key":"M7fJXnd2OI"},{"type":"text","value":". In AArch64, there is ","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"zpFt7pFSeX"},{"type":"strong","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"children":[{"type":"text","value":"no single instruction for modulo","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"yGYWxJ5cY8"}],"key":"OvV15V3qwx"},{"type":"text","value":", so the operation must be implemented using multiple primitive instructions.","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"BIc0n9NFGa"}],"key":"crKcdnAhML"},{"type":"paragraph","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"text","value":"Let’s examine in great detail ","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"eNXJqYxT8G"},{"type":"strong","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"text","value":"why","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"HWF6izzpta"}],"key":"M4st4h3lYi"},{"type":"text","value":" and ","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"a83H8rSixu"},{"type":"strong","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"text","value":"how","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"FbuqRoZEcR"}],"key":"WDUDLfcLgX"},{"type":"text","value":" the compiler synthesizes ","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"P2FcVhY27J"},{"type":"inlineCode","value":"MOD(a, b)","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"M3KaCqPcvJ"},{"type":"text","value":" using multiple instructions.","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"A5Q5sqy6xr"}],"key":"M1SZo7G3dG"},{"type":"thematicBreak","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"key":"XYiQ5lYREB"},{"type":"heading","depth":2,"position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"children":[{"type":"text","value":"High-Level Fortran Code","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"e9xFRuPpW5"}],"identifier":"high-level-fortran-code","label":"High-Level Fortran Code","html_id":"high-level-fortran-code","implicit":true,"key":"wengz43itx"},{"type":"code","lang":"fortran","value":"program mod_int\n  implicit none\n  integer :: a, b, c\n\n  a = 10\n  b = 4\n  c = MOD(a, b)\nend program mod_int","position":{"start":{"line":178,"column":1},"end":{"line":187,"column":1}},"key":"nd94NlUXL4"},{"type":"thematicBreak","position":{"start":{"line":189,"column":1},"end":{"line":189,"column":1}},"key":"DhacYkuT2T"},{"type":"heading","depth":2,"position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"children":[{"type":"text","value":"Disassembly Overview","position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"key":"w9EPeHPCDf"}],"identifier":"disassembly-overview","label":"Disassembly Overview","html_id":"disassembly-overview","implicit":true,"key":"w2DW9KiBrr"},{"type":"code","lang":"","value":"0000000000000814 <MAIN__>:","position":{"start":{"line":193,"column":1},"end":{"line":195,"column":1}},"key":"GggjfEK2Au"},{"type":"paragraph","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"children":[{"type":"text","value":"This is the Fortran-compiled ","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"LsifSYqbXx"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"MnfyZ35oh7"},{"type":"text","value":" subroutine. Let’s go through it line by line, especially focusing on the ","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"RFl1mWyvWx"},{"type":"inlineCode","value":"MOD","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"AywB6yzJRw"},{"type":"text","value":" operation.","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"wlyK5JnH9w"}],"key":"SDfdgFETEG"},{"type":"thematicBreak","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"wcS5lu1zqB"},{"type":"heading","depth":3,"position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"children":[{"type":"text","value":"1. Stack Frame Setup","position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"key":"adbMOPKxS9"}],"identifier":"id-1-stack-frame-setup","label":"1. Stack Frame Setup","html_id":"id-1-stack-frame-setup","implicit":true,"key":"gu6BJYzBwT"},{"type":"code","lang":"asm","value":"814:\td10043ff \tsub\tsp, sp, #0x10","position":{"start":{"line":203,"column":1},"end":{"line":205,"column":1}},"key":"nbmdIu2h2w"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":207,"column":1},"end":{"line":208,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":207,"column":1},"end":{"line":208,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Allocate 16 bytes on the stack for local variables ","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"RhbrtOLArd"},{"type":"inlineCode","value":"a","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"kc031Ep7KE"},{"type":"text","value":", ","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"dUfPv223SZ"},{"type":"inlineCode","value":"b","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"ZSKnOm7VjQ"},{"type":"text","value":", and ","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"I5cjKoQpUD"},{"type":"inlineCode","value":"c","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"zKOyArVXvk"},{"type":"text","value":".","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"nBlpYcznTz"}],"key":"d6Jkwd7ESs"}],"key":"xlQHz1qQPK"}],"key":"lw1tlzjDVo"},{"type":"thematicBreak","position":{"start":{"line":209,"column":1},"end":{"line":209,"column":1}},"key":"SPSrEOeJvP"},{"type":"heading","depth":3,"position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"children":[{"type":"text","value":"2. Initialize ","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"WNC65y85AU"},{"type":"inlineCode","value":"a = 10","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"hn8RNkjBEd"}],"identifier":"id-2-initialize-a-10","label":"2. Initialize a = 10","html_id":"id-2-initialize-a-10","implicit":true,"key":"kaEgGKyEBS"},{"type":"code","lang":"asm","value":"818:\t52800140 \tmov\tw0, #0xa           // w0 = 10\n81c:\tb9000fe0 \tstr\tw0, [sp, #12]      // store a at sp+12","position":{"start":{"line":213,"column":1},"end":{"line":216,"column":1}},"key":"PDaMHn8xaX"},{"type":"thematicBreak","position":{"start":{"line":218,"column":1},"end":{"line":218,"column":1}},"key":"CM7b7zPe1R"},{"type":"heading","depth":3,"position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"children":[{"type":"text","value":"3. Initialize ","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"wqye0z5TGX"},{"type":"inlineCode","value":"b = 4","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"xGYJX4NhpV"}],"identifier":"id-3-initialize-b-4","label":"3. Initialize b = 4","html_id":"id-3-initialize-b-4","implicit":true,"key":"AUP0GJkkRh"},{"type":"code","lang":"asm","value":"820:\t52800080 \tmov\tw0, #0x4           // w0 = 4\n824:\tb9000be0 \tstr\tw0, [sp, #8]       // store b at sp+8","position":{"start":{"line":222,"column":1},"end":{"line":225,"column":1}},"key":"iLjqmYhqIb"},{"type":"thematicBreak","position":{"start":{"line":227,"column":1},"end":{"line":227,"column":1}},"key":"T6UEalrPRW"},{"type":"heading","depth":2,"position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"children":[{"type":"text","value":"4. Perform ","position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"key":"x9lGOXzRzL"},{"type":"inlineCode","value":"c = MOD(a, b)","position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"key":"HRI8TBJ2yy"}],"identifier":"id-4-perform-c-mod-a-b","label":"4. Perform c = MOD(a, b)","html_id":"id-4-perform-c-mod-a-b","implicit":true,"key":"gjCs6zjVVg"},{"type":"paragraph","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"children":[{"type":"text","value":"Here is the key section of interest:","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"k6eAZbBkLB"}],"key":"CXPNOK4wzt"},{"type":"code","lang":"asm","value":"828:\tb9400fe0 \tldr\tw0, [sp, #12]      // load a into w0\n82c:\tb9400be1 \tldr\tw1, [sp, #8]       // load b into w1\n830:\t1ac10c02 \tsdiv\tw2, w0, w1         // w2 = a / b (integer division)\n834:\tb9400be1 \tldr\tw1, [sp, #8]       // reload b into w1\n838:\t1b017c41 \tmul\tw1, w2, w1         // w1 = (a / b) * b\n83c:\t4b010000 \tsub\tw0, w0, w1         // w0 = a - (a / b) * b = MOD(a, b)\n840:\tb90007e0 \tstr\tw0, [sp, #4]       // store result in c","position":{"start":{"line":233,"column":1},"end":{"line":241,"column":1}},"key":"F4sRZvUisE"},{"type":"heading","depth":3,"position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"children":[{"type":"text","value":"Step-by-step Breakdown of ","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"key":"fp80VlA3tQ"},{"type":"inlineCode","value":"MOD(a, b)","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"key":"FyYTiXAeZm"},{"type":"text","value":":","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"key":"Ga7Y6IcDZJ"}],"identifier":"step-by-step-breakdown-of-mod-a-b","label":"Step-by-step Breakdown of MOD(a, b):","html_id":"step-by-step-breakdown-of-mod-a-b","implicit":true,"key":"dTrB9SqUCT"},{"type":"paragraph","position":{"start":{"line":245,"column":1},"end":{"line":245,"column":1}},"children":[{"type":"strong","position":{"start":{"line":245,"column":1},"end":{"line":245,"column":1}},"children":[{"type":"text","value":"The formula implemented is:","position":{"start":{"line":245,"column":1},"end":{"line":245,"column":1}},"key":"KoalZtSTjF"}],"key":"iY289uPXD5"}],"key":"eyn3Du9Dh7"},{"type":"math","value":"\\text{MOD}(a, b) = a - \\left(\\left\\lfloor \\frac{a}{b} \\right\\rfloor \\times b\\right)","position":{"start":{"line":247,"column":1},"end":{"line":249,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mtext>MOD</mtext><mo stretchy=\"false\">(</mo><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>a</mi><mo>−</mo><mrow><mo fence=\"true\">(</mo><mrow><mo fence=\"true\">⌊</mo><mfrac><mi>a</mi><mi>b</mi></mfrac><mo fence=\"true\">⌋</mo></mrow><mo>×</mo><mi>b</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">\\text{MOD}(a, b) = a - \\left(\\left\\lfloor \\frac{a}{b} \\right\\rfloor \\times b\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord text\"><span class=\"mord\">MOD</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.836em;vertical-align:-0.686em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">(</span></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">⌊</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1076em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">⌋</span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">)</span></span></span></span></span></span></span>","enumerator":"1","key":"bbVqlwVmF8"},{"type":"paragraph","position":{"start":{"line":251,"column":1},"end":{"line":251,"column":1}},"children":[{"type":"text","value":"In ARM64:","position":{"start":{"line":251,"column":1},"end":{"line":251,"column":1}},"key":"Dss6wXW3KV"}],"key":"azMLNMbpHs"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":253,"column":1},"end":{"line":259,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"children":[{"type":"text","value":"No ","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"btxCqxMLkJ"},{"type":"inlineCode","value":"mod","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"pn3PyJSozR"},{"type":"text","value":" or ","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"Wjin618f9H"},{"type":"inlineCode","value":"remainder","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"RFm78Bx9M0"},{"type":"text","value":" instruction exists.","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"RjLWTRiprn"}],"key":"OtOqoK9QDE"}],"key":"yO2t1zqDaL"},{"type":"listItem","spread":true,"position":{"start":{"line":254,"column":1},"end":{"line":259,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"children":[{"type":"text","value":"We must ","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"key":"uZ9d55W7yM"},{"type":"strong","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"children":[{"type":"text","value":"simulate","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"key":"i8N6c1yOrN"}],"key":"VP0FnQofNN"},{"type":"text","value":" the modulus using:","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"key":"IQMBQdqEJE"}],"key":"h76vTweGaT"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":256,"column":1},"end":{"line":259,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"children":[{"type":"text","value":"Signed integer division","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"key":"utpi5iUuHW"}],"key":"nZBLDCz1dk"},{"type":"text","value":": ","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"key":"ySVWQ5qi0m"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"key":"Hrh5CBwRFG"}],"key":"nby2ExO8rm"}],"key":"vZpAbSgsQ7"},{"type":"listItem","spread":true,"position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"children":[{"type":"text","value":"Multiplication","position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"key":"o4iC11Rthu"}],"key":"FZN58PvjOH"},{"type":"text","value":": ","position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"key":"gyAMaZL23t"},{"type":"inlineCode","value":"mul","position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"key":"o7b56aQpcC"}],"key":"mbLymNw2Vx"}],"key":"DksYuhNJ7B"},{"type":"listItem","spread":true,"position":{"start":{"line":258,"column":1},"end":{"line":259,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"children":[{"type":"text","value":"Subtraction","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"key":"vrg1HoYqIt"}],"key":"rZv6RlUt0r"},{"type":"text","value":": ","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"key":"FBos0m6nG4"},{"type":"inlineCode","value":"sub","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"key":"yaagdIVAbo"}],"key":"Pwh9njXyo0"}],"key":"A5kRwM2kYd"}],"key":"inwv6EffNx"}],"key":"gK3O1cYDqO"}],"key":"ORpTlCBbPe"},{"type":"thematicBreak","position":{"start":{"line":260,"column":1},"end":{"line":260,"column":1}},"key":"v89mSqqF13"},{"type":"heading","depth":3,"position":{"start":{"line":262,"column":1},"end":{"line":262,"column":1}},"children":[{"type":"text","value":"Why multiple operations?","position":{"start":{"line":262,"column":1},"end":{"line":262,"column":1}},"key":"yS0c6I4E5X"}],"identifier":"why-multiple-operations","label":"Why multiple operations?","html_id":"why-multiple-operations","implicit":true,"key":"SYcLCY4tUX"},{"type":"heading","depth":4,"position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"children":[{"type":"text","value":"There’s no native ","position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"key":"YHVToGCdbB"},{"type":"inlineCode","value":"mod","position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"key":"M9MqU823mR"},{"type":"text","value":" instruction","position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"key":"zoCAT9J8AA"}],"identifier":"theres-no-native-mod-instruction","label":"There’s no native mod instruction","html_id":"theres-no-native-mod-instruction","implicit":true,"key":"ZZU6Ww0lb2"},{"type":"paragraph","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"children":[{"type":"text","value":"Unlike some architectures (e.g., x86 with ","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"C2JX7CdeYC"},{"type":"inlineCode","value":"idiv","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"wKbfB9b1Ka"},{"type":"text","value":" producing remainder), ","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"BDJ3Z9v6SO"},{"type":"strong","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"children":[{"type":"text","value":"ARM AArch64 has only ","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"gR7LFCt2y8"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"BZPUsoJhIO"}],"key":"N9ywWKQPzx"},{"type":"text","value":", which gives you:","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"J4NXvsrE9Z"}],"key":"hHb46p0UpU"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":268,"column":1},"end":{"line":269,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":268,"column":1},"end":{"line":269,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"OPslRKDjX3"},{"type":"strong","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"children":[{"type":"text","value":"quotient","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"ZrMRop7MHf"}],"key":"osDHNdYeUl"},{"type":"text","value":", but not the ","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"HDRmBHlrQb"},{"type":"strong","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"children":[{"type":"text","value":"remainder","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"o7eoEm5q96"}],"key":"O220dFqJdr"},{"type":"text","value":".","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"WXf1KYdTWH"}],"key":"lsYcq1HVVk"}],"key":"V9Trpt29c9"}],"key":"mYJUMdCnBU"},{"type":"paragraph","position":{"start":{"line":270,"column":1},"end":{"line":270,"column":1}},"children":[{"type":"text","value":"To compute the modulus, we must do:","position":{"start":{"line":270,"column":1},"end":{"line":270,"column":1}},"key":"WOmionN5my"}],"key":"Eu139zlUuJ"},{"type":"math","value":"\\text{MOD}(a, b) = a - \\left(\\left( \\text{a div b} \\right) \\cdot b\\right)","position":{"start":{"line":272,"column":1},"end":{"line":274,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mtext>MOD</mtext><mo stretchy=\"false\">(</mo><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>a</mi><mo>−</mo><mrow><mo fence=\"true\">(</mo><mrow><mo fence=\"true\">(</mo><mtext>a div b</mtext><mo fence=\"true\">)</mo></mrow><mo>⋅</mo><mi>b</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">\\text{MOD}(a, b) = a - \\left(\\left( \\text{a div b} \\right) \\cdot b\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord text\"><span class=\"mord\">MOD</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord text\"><span class=\"mord\">a div b</span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span></span>","enumerator":"2","key":"PE881uxWFj"},{"type":"paragraph","position":{"start":{"line":276,"column":1},"end":{"line":276,"column":1}},"children":[{"type":"text","value":"This is mathematically sound because:","position":{"start":{"line":276,"column":1},"end":{"line":276,"column":1}},"key":"UFI8tGybRv"}],"key":"lzMk3lp33I"},{"type":"math","value":"a = (a \\div b) \\cdot b + (a \\mod b)\n\\Rightarrow\na \\mod b = a - (a \\div b) \\cdot b","position":{"start":{"line":278,"column":1},"end":{"line":282,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>a</mi><mo>=</mo><mo stretchy=\"false\">(</mo><mi>a</mi><mo>÷</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>⋅</mo><mi>b</mi><mo>+</mo><mo stretchy=\"false\">(</mo><mi>a</mi><mspace></mspace><mspace width=\"1em\"/><mrow><mi mathvariant=\"normal\">m</mi><mi mathvariant=\"normal\">o</mi><mi mathvariant=\"normal\">d</mi></mrow><mtext> </mtext><mtext> </mtext><mi>b</mi><mo stretchy=\"false\">)</mo><mo>⇒</mo><mi>a</mi><mspace></mspace><mspace width=\"1em\"/><mrow><mi mathvariant=\"normal\">m</mi><mi mathvariant=\"normal\">o</mi><mi mathvariant=\"normal\">d</mi></mrow><mtext> </mtext><mtext> </mtext><mi>b</mi><mo>=</mo><mi>a</mi><mo>−</mo><mo stretchy=\"false\">(</mo><mi>a</mi><mo>÷</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>⋅</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">a = (a \\div b) \\cdot b + (a \\mod b)\n\\Rightarrow\na \\mod b = a - (a \\div b) \\cdot b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">÷</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7778em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mspace allowbreak\"></span><span class=\"mspace\" style=\"margin-right:1em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">mod</span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">⇒</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace allowbreak\"></span><span class=\"mspace\" style=\"margin-right:1em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">mod</span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">÷</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span></span>","enumerator":"3","key":"JVWyXTVGfV"},{"type":"thematicBreak","position":{"start":{"line":284,"column":1},"end":{"line":284,"column":1}},"key":"wtxYbKfMgT"},{"type":"heading","depth":3,"position":{"start":{"line":286,"column":1},"end":{"line":286,"column":1}},"children":[{"type":"text","value":"Instruction-by-instruction: ","position":{"start":{"line":286,"column":1},"end":{"line":286,"column":1}},"key":"NWauFQ6mdC"},{"type":"inlineCode","value":"MOD(a, b)","position":{"start":{"line":286,"column":1},"end":{"line":286,"column":1}},"key":"Tc8mfVZz4p"}],"identifier":"instruction-by-instruction-mod-a-b","label":"Instruction-by-instruction: MOD(a, b)","html_id":"instruction-by-instruction-mod-a-b","implicit":true,"key":"KeAVQp5l0x"},{"type":"heading","depth":4,"position":{"start":{"line":288,"column":1},"end":{"line":288,"column":1}},"children":[{"type":"text","value":"Load values:","position":{"start":{"line":288,"column":1},"end":{"line":288,"column":1}},"key":"No3rICn9lG"}],"identifier":"load-values","label":"Load values:","html_id":"load-values","implicit":true,"key":"sqlDswbLLJ"},{"type":"code","lang":"asm","value":"828:\tb9400fe0 \tldr\tw0, [sp, #12]      // w0 = a = 10\n82c:\tb9400be1 \tldr\tw1, [sp, #8]       // w1 = b = 4","position":{"start":{"line":290,"column":1},"end":{"line":293,"column":1}},"key":"sxwyNcUKCV"},{"type":"heading","depth":4,"position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"children":[{"type":"text","value":"Integer Division:","position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"key":"GMu7dmpain"}],"identifier":"integer-division","label":"Integer Division:","html_id":"integer-division","implicit":true,"key":"jVXRnmov39"},{"type":"code","lang":"asm","value":"830:\t1ac10c02 \tsdiv\tw2, w0, w1         // w2 = w0 / w1 = 10 / 4 = 2","position":{"start":{"line":297,"column":1},"end":{"line":299,"column":1}},"key":"K479KN7Azf"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":301,"column":1},"end":{"line":302,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":301,"column":1},"end":{"line":302,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Signed division: result in ","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"vhUNJYXWGp"},{"type":"inlineCode","value":"w2 = 2","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"NsAMWbhKfY"}],"key":"W29UtCmTfE"}],"key":"JbuvEBP9v2"}],"key":"j7JPryi51l"},{"type":"heading","depth":4,"position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"children":[{"type":"text","value":"Reload ","position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"key":"dFbpMlYdi9"},{"type":"inlineCode","value":"b","position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"key":"B2MUULxnUJ"},{"type":"text","value":":","position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"key":"vsfE80A5Qm"}],"identifier":"reload-b","label":"Reload b:","html_id":"reload-b","implicit":true,"key":"un3Sdzv7hX"},{"type":"code","lang":"asm","value":"834:\tb9400be1 \tldr\tw1, [sp, #8]       // w1 = b = 4","position":{"start":{"line":305,"column":1},"end":{"line":307,"column":1}},"key":"RKgwRgDiFZ"},{"type":"heading","depth":4,"position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"children":[{"type":"text","value":"Multiply quotient × b:","position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"key":"D0ZoDMvTfe"}],"identifier":"multiply-quotient-b","label":"Multiply quotient × b:","html_id":"multiply-quotient-b","implicit":true,"key":"Xr0r7mci83"},{"type":"code","lang":"asm","value":"838:\t1b017c41 \tmul\tw1, w2, w1         // w1 = 2 * 4 = 8","position":{"start":{"line":311,"column":1},"end":{"line":313,"column":1}},"key":"ywAnCcLRbQ"},{"type":"heading","depth":4,"position":{"start":{"line":315,"column":1},"end":{"line":315,"column":1}},"children":[{"type":"text","value":"Subtract to get modulus:","position":{"start":{"line":315,"column":1},"end":{"line":315,"column":1}},"key":"jx6s2Jl8rd"}],"identifier":"subtract-to-get-modulus","label":"Subtract to get modulus:","html_id":"subtract-to-get-modulus","implicit":true,"key":"KlLkVAo4i2"},{"type":"code","lang":"asm","value":"83c:\t4b010000 \tsub\tw0, w0, w1         // w0 = 10 - 8 = 2","position":{"start":{"line":317,"column":1},"end":{"line":319,"column":1}},"key":"sJsZ9KJV5C"},{"type":"heading","depth":4,"position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"children":[{"type":"text","value":"Store result:","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"key":"tGgUDHX6qk"}],"identifier":"store-result","label":"Store result:","html_id":"store-result","implicit":true,"key":"kDMCwmVaGU"},{"type":"code","lang":"asm","value":"840:\tb90007e0 \tstr\tw0, [sp, #4]       // store c = 2","position":{"start":{"line":323,"column":1},"end":{"line":325,"column":1}},"key":"n3lygOVhPF"},{"type":"thematicBreak","position":{"start":{"line":327,"column":1},"end":{"line":327,"column":1}},"key":"d65cSTMORO"},{"type":"heading","depth":2,"position":{"start":{"line":329,"column":1},"end":{"line":329,"column":1}},"children":[{"type":"text","value":"Function Epilogue","position":{"start":{"line":329,"column":1},"end":{"line":329,"column":1}},"key":"HoAlDW0oDd"}],"identifier":"function-epilogue","label":"Function Epilogue","html_id":"function-epilogue","implicit":true,"key":"wuddtv8iSa"},{"type":"code","lang":"asm","value":"844:\td503201f \tnop\n848:\t910043ff \tadd\tsp, sp, #0x10      // restore original stack pointer\n84c:\td65f03c0 \tret                   // return","position":{"start":{"line":331,"column":1},"end":{"line":335,"column":1}},"key":"sXpqq4FXkT"},{"type":"thematicBreak","position":{"start":{"line":337,"column":1},"end":{"line":337,"column":1}},"key":"vKqMLXHNNV"},{"type":"heading","depth":2,"position":{"start":{"line":339,"column":1},"end":{"line":339,"column":1}},"children":[{"type":"text","value":"Final Stack Layout","position":{"start":{"line":339,"column":1},"end":{"line":339,"column":1}},"key":"JRbTHtCwGb"}],"identifier":"final-stack-layout","label":"Final Stack Layout","html_id":"final-stack-layout","implicit":true,"key":"DanYWUfN18"},{"type":"table","position":{"start":{"line":341,"column":1},"end":{"line":345,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"children":[{"type":"text","value":"Offset","position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"key":"Fn8xXt62iK"}],"key":"Nz8JoaolRn"},{"type":"tableCell","header":true,"position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"children":[{"type":"text","value":"Variable","position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"key":"QMM0JrpdtN"}],"key":"vqGv8sIFb6"},{"type":"tableCell","header":true,"position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"children":[{"type":"text","value":"Value","position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"key":"o8kHJSsL89"}],"key":"EVlXhIPUdr"}],"key":"RuBBAd2Ouh"},{"type":"tableRow","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"children":[{"type":"text","value":"+12","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"key":"hqgKLqmJ27"}],"key":"zOWst8TMbn"},{"type":"tableCell","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"children":[{"type":"inlineCode","value":"a","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"key":"E4Xmwwv5So"}],"key":"jJQd5em7yB"},{"type":"tableCell","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"children":[{"type":"text","value":"10","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"key":"MCiCEzWbF5"}],"key":"uQhXFvZMpZ"}],"key":"SH1Behyuc7"},{"type":"tableRow","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"children":[{"type":"text","value":"+8","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"key":"cJtEtWEjbw"}],"key":"ql88W8pyFV"},{"type":"tableCell","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"children":[{"type":"inlineCode","value":"b","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"key":"aYF2JjpApQ"}],"key":"SnWDUA0Ldd"},{"type":"tableCell","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"children":[{"type":"text","value":"4","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"key":"PgM1tEcj1K"}],"key":"dZ7IBd5jnJ"}],"key":"V0FkucWn7Y"},{"type":"tableRow","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"children":[{"type":"text","value":"+4","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"key":"pu6Bkqdtrv"}],"key":"W0Fll1STqy"},{"type":"tableCell","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"children":[{"type":"inlineCode","value":"c","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"key":"Vdv933f47G"}],"key":"zTOO7YywR0"},{"type":"tableCell","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"children":[{"type":"text","value":"2","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"key":"qRudQBhRc8"}],"key":"Xv3ZLjwO8F"}],"key":"SKHMLwvEl8"}],"key":"LrDILtUl56"},{"type":"thematicBreak","position":{"start":{"line":347,"column":1},"end":{"line":347,"column":1}},"key":"OtzFbJ45tA"},{"type":"heading","depth":2,"position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"children":[{"type":"text","value":"Summary: Why Multiple Instructions Are Needed for ","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"key":"gy7nVmf4od"},{"type":"inlineCode","value":"MOD","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"key":"rBIFhoBaqx"}],"identifier":"summary-why-multiple-instructions-are-needed-for-mod","label":"Summary: Why Multiple Instructions Are Needed for MOD","html_id":"summary-why-multiple-instructions-are-needed-for-mod","implicit":true,"key":"zJH7IJnVFK"},{"type":"table","position":{"start":{"line":351,"column":1},"end":{"line":355,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"children":[{"type":"text","value":"Operation","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"c5Rsjk7Pvc"}],"key":"rTMfVX8FGS"},{"type":"tableCell","header":true,"position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"children":[{"type":"text","value":"ARM64 Instruction","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"FeDPX1L6VO"}],"key":"YTOGKMfQPj"},{"type":"tableCell","header":true,"position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"children":[{"type":"text","value":"Purpose","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"KODls4mtOM"}],"key":"mFUUHSA3W0"}],"key":"I6swX7j0je"},{"type":"tableRow","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"children":[{"type":"text","value":"Integer Division","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"key":"KfegXil0nT"}],"key":"PI6gqsoKNn"},{"type":"tableCell","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"children":[{"type":"inlineCode","value":"sdiv","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"key":"zH5d3kqiPJ"}],"key":"gJnE4UjGs8"},{"type":"tableCell","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"children":[{"type":"text","value":"Compute quotient","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"key":"vx8NF4pfUw"}],"key":"NWdHJhmJ2p"}],"key":"N6D7hzXVv2"},{"type":"tableRow","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"children":[{"type":"text","value":"Multiply","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"key":"XTXzYMbvmm"}],"key":"uUPZh7e49h"},{"type":"tableCell","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"children":[{"type":"inlineCode","value":"mul","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"key":"tN68uoihcU"}],"key":"lYXeUh08h6"},{"type":"tableCell","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"children":[{"type":"text","value":"Compute ","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"key":"PoeExsOBGy"},{"type":"inlineCode","value":"(a / b) * b","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"key":"Ty7ORIIldC"}],"key":"lgs9dKh41q"}],"key":"MeNjXrN3KO"},{"type":"tableRow","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"children":[{"type":"text","value":"Subtract","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"key":"RPeUBB8iuH"}],"key":"AejL6wr52Y"},{"type":"tableCell","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"children":[{"type":"inlineCode","value":"sub","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"key":"FKZ9Sic1sM"}],"key":"qcCtNQcNWf"},{"type":"tableCell","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"children":[{"type":"text","value":"Get remainder: ","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"key":"Xcg9NryUOS"},{"type":"inlineCode","value":"a - (a / b) * b","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"key":"J1P1ZWIh7G"}],"key":"EdXxVfj87t"}],"key":"vObMrcp3rT"}],"key":"dl1S7JGbvl"},{"type":"heading","depth":3,"position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"children":[{"type":"text","value":"Because ARM64 lacks a direct ","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"QHy7GjIoeN"},{"type":"inlineCode","value":"mod","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"k00yae67yZ"},{"type":"text","value":" instruction, the compiler ","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"ysOXheUVne"},{"type":"strong","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"children":[{"type":"text","value":"emulates","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"oEfezFOxm4"}],"key":"HkfCCjcmjj"},{"type":"text","value":" it via:","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"ILOOihwdPd"}],"identifier":"because-arm64-lacks-a-direct-mod-instruction-the-compiler-emulates-it-via","label":"Because ARM64 lacks a direct mod instruction, the compiler emulates it via:","html_id":"because-arm64-lacks-a-direct-mod-instruction-the-compiler-emulates-it-via","implicit":true,"key":"pdcuT30nUj"},{"type":"math","value":"\\text{MOD}(a, b) = a - \\left(\\left\\lfloor \\frac{a}{b} \\right\\rfloor \\times b\\right)","position":{"start":{"line":359,"column":1},"end":{"line":361,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mtext>MOD</mtext><mo stretchy=\"false\">(</mo><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>a</mi><mo>−</mo><mrow><mo fence=\"true\">(</mo><mrow><mo fence=\"true\">⌊</mo><mfrac><mi>a</mi><mi>b</mi></mfrac><mo fence=\"true\">⌋</mo></mrow><mo>×</mo><mi>b</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">\\text{MOD}(a, b) = a - \\left(\\left\\lfloor \\frac{a}{b} \\right\\rfloor \\times b\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord text\"><span class=\"mord\">MOD</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.836em;vertical-align:-0.686em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">(</span></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">⌊</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1076em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">⌋</span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">)</span></span></span></span></span></span></span>","enumerator":"4","key":"SDY9YHunCm"},{"type":"thematicBreak","position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"key":"IjtBhZvf8m"},{"type":"paragraph","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"children":[{"type":"text","value":"Let me know if you’d like a version that works with ","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"wbJff4tFBw"},{"type":"strong","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"children":[{"type":"text","value":"negative numbers","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"VRzt86Cqdp"}],"key":"mPJLTRzfBy"},{"type":"text","value":" or Fortran’s ","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"o763458qDz"},{"type":"inlineCode","value":"MODULO()","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"NrH91ANVOx"},{"type":"text","value":" semantics (which differ subtly from ","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"FbGCqx7EPs"},{"type":"inlineCode","value":"MOD","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"ofaUNBIvLT"},{"type":"text","value":").","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"dnqnv4UWjZ"}],"key":"DOsvGoiwrq"},{"type":"heading","depth":2,"position":{"start":{"line":368,"column":1},"end":{"line":368,"column":1}},"children":[{"type":"text","value":"Explaining the Disassembly by Grok 4","position":{"start":{"line":368,"column":1},"end":{"line":368,"column":1}},"key":"ZAjcr10FY8"}],"identifier":"explaining-the-disassembly-by-grok-4","label":"Explaining the Disassembly by Grok 4","html_id":"explaining-the-disassembly-by-grok-4","implicit":true,"key":"BRE3bhAP46"},{"type":"heading","depth":3,"position":{"start":{"line":370,"column":1},"end":{"line":370,"column":1}},"children":[{"type":"text","value":"Overview of the Disassembly","position":{"start":{"line":370,"column":1},"end":{"line":370,"column":1}},"key":"mbparAcgLh"}],"identifier":"overview-of-the-disassembly","label":"Overview of the Disassembly","html_id":"overview-of-the-disassembly","implicit":true,"key":"swTrWfTvC3"},{"type":"paragraph","position":{"start":{"line":371,"column":1},"end":{"line":371,"column":1}},"children":[{"type":"text","value":"This disassembly is in ARM64 (AArch64) assembly language, representing the machine code generated from a simple Fortran program named ","position":{"start":{"line":371,"column":1},"end":{"line":371,"column":1}},"key":"sx96aF0Mfr"},{"type":"inlineCode","value":"mod_int","position":{"start":{"line":371,"column":1},"end":{"line":371,"column":1}},"key":"hKcOct3YJa"},{"type":"text","value":". The Fortran source is provided inline for context:","position":{"start":{"line":371,"column":1},"end":{"line":371,"column":1}},"key":"mgycKYCaxl"}],"key":"ofEWUE4s84"},{"type":"code","lang":"fortran","value":"program mod_int\n    implicit none\n    integer :: a, b, c\n    a = 10\n    b = 4\n    c = MOD(a, b)\nend program mod_int","position":{"start":{"line":372,"column":1},"end":{"line":380,"column":1}},"key":"AgwD6ECMV0"},{"type":"paragraph","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"children":[{"type":"text","value":"This program declares three 32-bit integers (","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"zMf2LZP1cp"},{"type":"inlineCode","value":"a","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"nRtiqBbcn9"},{"type":"text","value":", ","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"rQyaUwMM78"},{"type":"inlineCode","value":"b","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"PSroXl4pCX"},{"type":"text","value":", ","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"OxGbyveU3Q"},{"type":"inlineCode","value":"c","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"zeWtKeneXw"},{"type":"text","value":"), assigns ","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"pfZBP1z0vr"},{"type":"inlineCode","value":"a = 10","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"xakrlQ8pHn"},{"type":"text","value":" and ","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"cXyMra32br"},{"type":"inlineCode","value":"b = 4","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"aTD5wnBOXv"},{"type":"text","value":", and computes ","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"inA08b67gO"},{"type":"inlineCode","value":"c = MOD(10, 4)","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"tVknySU9gi"},{"type":"text","value":", which should yield ","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"wp5LVFy7dq"},{"type":"inlineCode","value":"2","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"U0BILU3PoK"},{"type":"text","value":" (the remainder of 10 divided by 4). The result is stored but not used further (e.g., no printing or return value), so the program has no visible side effects when run—it simply computes and exits.","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"VGUIPeNGp2"}],"key":"qYkAUO8ddW"},{"type":"paragraph","position":{"start":{"line":383,"column":1},"end":{"line":383,"column":1}},"children":[{"type":"text","value":"The disassembly consists of two main functions:","position":{"start":{"line":383,"column":1},"end":{"line":383,"column":1}},"key":"vx9EmGEYrw"}],"key":"XorR21Q4Xp"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":384,"column":1},"end":{"line":386,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":384,"column":1},"end":{"line":384,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":384,"column":1},"end":{"line":384,"column":1}},"children":[{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":384,"column":1},"end":{"line":384,"column":1}},"key":"hkT9A5jpjk"},{"type":"text","value":" at address ","position":{"start":{"line":384,"column":1},"end":{"line":384,"column":1}},"key":"V3zVSYDsOM"},{"type":"inlineCode","value":"0x814","position":{"start":{"line":384,"column":1},"end":{"line":384,"column":1}},"key":"ZYNrjKJukY"}],"key":"dNZfup4Edx"},{"type":"text","value":": This is the compiler-generated name for the Fortran program’s body (common in gfortran). It allocates stack space for the three integers, performs the assignments and modulo operation, and returns.","position":{"start":{"line":384,"column":1},"end":{"line":384,"column":1}},"key":"fCpVhqsfnC"}],"key":"NA7v46oaPj"}],"key":"fCBZY7BFQc"},{"type":"listItem","spread":true,"position":{"start":{"line":385,"column":1},"end":{"line":386,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"children":[{"type":"inlineCode","value":"main","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"TPuXaeiV2e"},{"type":"text","value":" at address ","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"KQs32D5aWh"},{"type":"inlineCode","value":"0x850","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"eaQ6MRmy1f"}],"key":"Ig8sVWyCfF"},{"type":"text","value":": The C-style entry point for the executable, which handles command-line arguments, initializes the GNU Fortran (gfortran) runtime library, calls ","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"cuAaF6EXtP"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"phA1Ta1aAT"},{"type":"text","value":", and exits with status 0.","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"CRwyF2JzmJ"}],"key":"BERYC9np6Z"}],"key":"lrL9dYn2hW"}],"key":"R6ZHj03EeP"},{"type":"paragraph","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"children":[{"type":"text","value":"This code was likely compiled with gfortran (evident from calls to ","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"H5hvfctjPx"},{"type":"inlineCode","value":"_gfortran_set_args","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"LSNYhBWnbo"},{"type":"text","value":" and ","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"de68cFLwF3"},{"type":"inlineCode","value":"_gfortran_set_options","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"utYjDBWll4"},{"type":"text","value":"). It’s unoptimized, as seen in redundant loads (e.g., reloading ","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"K7KkftvJKO"},{"type":"inlineCode","value":"b","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"g6KCq0PuON"},{"type":"text","value":" after division). The program uses 32-bit operations (","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"Dp3kS8gQi5"},{"type":"inlineCode","value":"w","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"z7ygcKL4rE"},{"type":"text","value":" registers) for integers, matching Fortran’s default ","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"X9FHBqDl0U"},{"type":"inlineCode","value":"INTEGER","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"FYd3Knjtc2"},{"type":"text","value":" type.","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"FDnf3ZDETU"}],"key":"qCttOhtm8U"},{"type":"paragraph","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"children":[{"type":"text","value":"A key focus is the ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"PIoQpk0NrI"},{"type":"inlineCode","value":"MOD(a, b)","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"JjCp2BWwwO"},{"type":"text","value":" operation, which requires multiple instructions because ARM64 lacks a direct signed modulo instruction. Instead, the compiler implements it using signed division (","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"wAl9yMI3Sx"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"L3EX4ZoZes"},{"type":"text","value":"), multiplication (","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"AKvyKZiQa3"},{"type":"inlineCode","value":"mul","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"TlaA7o3rTr"},{"type":"text","value":"), and subtraction (","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"sa7lqsz8cm"},{"type":"inlineCode","value":"sub","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"v4Up7aYKMU"},{"type":"text","value":"). This is a standard software emulation of modulo: ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"rBJ4ndMl6C"},{"type":"inlineCode","value":"a % b = a - ((a / b) * b)","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"sZ2ED1mVXT"},{"type":"text","value":", where ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"zQhdLj1nZz"},{"type":"inlineCode","value":"/","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"j08FmxxUYz"},{"type":"text","value":" is integer division. This approach ensures correct handling of signed integers (e.g., negative values, though not used here), but it’s less efficient than a hypothetical hardware modulo. ARM64 does have unsigned divide-with-remainder (","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"Z4bcUFNeFu"},{"type":"inlineCode","value":"udiv","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"fET0NEwtej"},{"type":"text","value":" + ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"e1MEVCkC55"},{"type":"inlineCode","value":"msub","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"WKVidosTg1"},{"type":"text","value":" for multiply-subtract), but for signed operations like Fortran’s ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"llE6zrStse"},{"type":"inlineCode","value":"MOD","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"QTbJb5uqd5"},{"type":"text","value":", the compiler opts for this sequence to handle signs properly (using ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"iUTdPMslu2"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"cWmCvS08gt"},{"type":"text","value":" for signed division). If optimization were enabled (e.g., ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"t9nrqsf1vh"},{"type":"inlineCode","value":"-O2","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"xmQa63xWhi"},{"type":"text","value":"), the compiler might inline constants or reduce redundancies, but here it’s straightforward.","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"Agz0SQ9beT"}],"key":"SaoXEDn81h"},{"type":"paragraph","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"children":[{"type":"text","value":"I’ll explain each instruction in detail, including opcode, semantics, context, and binary encoding. ARM64 conventions: Registers ","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"TidToe9AfW"},{"type":"inlineCode","value":"x0","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"jYx473OlkG"},{"type":"text","value":"-","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"epaAhTx7bx"},{"type":"inlineCode","value":"x30","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"rmE3rHDdYM"},{"type":"text","value":" (64-bit), ","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"rfNhJChxPP"},{"type":"inlineCode","value":"w0","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"r18AYip2mn"},{"type":"text","value":"-","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"jNW8DcQKJl"},{"type":"inlineCode","value":"w30","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"HN5CLA8pm4"},{"type":"text","value":" (lower 32 bits); stack grows downward; ABI uses ","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"bSIKsyf68v"},{"type":"inlineCode","value":"x0-x7","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"nb7rrmzpaS"},{"type":"text","value":" for params, ","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"nFjFjvQIi1"},{"type":"inlineCode","value":"x0","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"t6ncBZJIew"},{"type":"text","value":" for returns, ","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"yU6bxb6Str"},{"type":"inlineCode","value":"x29","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"lGLrIUm9dL"},{"type":"text","value":" for frame pointer, ","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"zvyhVfE99N"},{"type":"inlineCode","value":"x30","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"l6JJxWMKTx"},{"type":"text","value":" for link register.","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"RCghw3RyYX"}],"key":"suOYXNbCS9"},{"type":"heading","depth":3,"position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"children":[{"type":"text","value":"Detailed Explanation of ","position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"key":"r9tVtlqdqE"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"key":"KSLSMOlwPO"},{"type":"text","value":" (Fortran Program Logic)","position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"key":"u8juwl62Qe"}],"identifier":"detailed-explanation-of-main-fortran-program-logic","label":"Detailed Explanation of MAIN__ (Fortran Program Logic)","html_id":"detailed-explanation-of-main-fortran-program-logic","implicit":true,"key":"mLQbKBRDhH"},{"type":"paragraph","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"children":[{"type":"text","value":"This function allocates 16 bytes on the stack (for three 4-byte integers, padded for 16-byte alignment), assigns values to ","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"aLI1N7pFuW"},{"type":"inlineCode","value":"a","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"yd3CHrRDBa"},{"type":"text","value":" and ","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"rcHniYT4bI"},{"type":"inlineCode","value":"b","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"D5wiXr3ada"},{"type":"text","value":", computes ","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"PYc0Y0fj13"},{"type":"inlineCode","value":"c = MOD(a, b)","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"FgTghYoMTh"},{"type":"text","value":" via the multi-step sequence, and cleans up. The ","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"cEmi1rHKSr"},{"type":"inlineCode","value":"nop","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"TwpzTjnyPk"},{"type":"text","value":" is likely for alignment.","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"viVa0Xrx8T"}],"key":"fXaKOO2dt1"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":396,"column":1},"end":{"line":475,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":396,"column":1},"end":{"line":400,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":396,"column":1},"end":{"line":399,"column":1}},"children":[{"type":"strong","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"children":[{"type":"inlineCode","value":"814: d10043ff sub sp, sp, #0x10","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"wFIHmgjY1r"}],"key":"QlsN5ZNcIf"},{"type":"break","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"iJunZcKMfx"},{"type":"strong","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"yNFbPKUOu8"}],"key":"znIvpV1u0Z"},{"type":"text","value":": ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"rwtjPsiOw2"},{"type":"inlineCode","value":"d1 00 43 ff","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"C5hrhOcYJ1"},{"type":"break","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"jF2yFtW6TX"},{"type":"strong","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"kD9L9xBsXJ"}],"key":"uTNWnPpN5H"},{"type":"text","value":": Subtracts ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"r0L5Uvg5HO"},{"type":"inlineCode","value":"0x10","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"CjCUyK6gZr"},{"type":"text","value":" (16 decimal) from the stack pointer ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"HUgoSueXEP"},{"type":"inlineCode","value":"sp","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"DIrKtsUHFg"},{"type":"text","value":", allocating 16 bytes of local stack space. Result written back to ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"zwAGbLZzp4"},{"type":"inlineCode","value":"sp","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"XA5cyueoz4"},{"type":"text","value":". ARM64 requires manual stack management; allocations must be 16-byte aligned.","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"lk4MHVkrOF"},{"type":"break","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"gTux1z3BS5"},{"type":"strong","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"IspfleMWs8"}],"key":"IrTD7WzCVz"},{"type":"text","value":": Function prologue. Reserves space for ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"xyxOdUsLr6"},{"type":"inlineCode","value":"a","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"TDNmUC1Boc"},{"type":"text","value":" at ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"lpppOnELNa"},{"type":"inlineCode","value":"sp+12","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"PvpKmKpKUc"},{"type":"text","value":" (4 bytes), ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"tIQzuPV41i"},{"type":"inlineCode","value":"b","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"lmpufnzBol"},{"type":"text","value":" at ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"juHgXrAuht"},{"type":"inlineCode","value":"sp+8","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"Mz99bOk0lZ"},{"type":"text","value":", ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"pIlPACbV9O"},{"type":"inlineCode","value":"c","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"qxb9GvBTL2"},{"type":"text","value":" at ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"PgYjLvp8vY"},{"type":"inlineCode","value":"sp+4","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"j12KFDdoF9"},{"type":"text","value":", with padding at ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"dH763C5WtH"},{"type":"inlineCode","value":"sp+0","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"HyoaI0TzSB"},{"type":"text","value":" for alignment. After this, ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"yTYVZPrhNH"},{"type":"inlineCode","value":"sp","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"xdrPB5LAew"},{"type":"text","value":" points to the frame base.","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"xwYHwMlY0T"}],"key":"iAacWZWRoD"}],"key":"frngJIlCNs"},{"type":"listItem","spread":true,"position":{"start":{"line":401,"column":1},"end":{"line":405,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":401,"column":1},"end":{"line":404,"column":1}},"children":[{"type":"strong","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"children":[{"type":"inlineCode","value":"818: 52800140 mov w0, #0xa","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"qoPeKQxgqq"}],"key":"Ws8yacWKnN"},{"type":"break","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"vvnJeH56a6"},{"type":"strong","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"jMO24BovGf"}],"key":"ZbEJ7G6G1j"},{"type":"text","value":": ","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"ziqgt1Xvwh"},{"type":"inlineCode","value":"52 80 01 40","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"NQJxgDksJR"},{"type":"break","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"Ylf1SFNthr"},{"type":"strong","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"W5Prhuaqxr"}],"key":"iTTlXPporj"},{"type":"text","value":": Moves immediate ","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"MDJSKzOedL"},{"type":"inlineCode","value":"0xa","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"cDjfj4NubC"},{"type":"text","value":" (10 decimal) into ","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"RLpiv8JYSN"},{"type":"inlineCode","value":"w0","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"mm1J8NPvDN"},{"type":"text","value":" (lower 32 bits of ","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"Axf1QppI5w"},{"type":"inlineCode","value":"x0","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"l9yxB0lYYt"},{"type":"text","value":"; upper bits zeroed). This is a 32-bit move immediate.","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"Wfo38DFMrU"},{"type":"break","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"MaA353MGn1"},{"type":"strong","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"ZcI1ymgHOh"}],"key":"kKznpeTQzp"},{"type":"text","value":": Initializes a temporary for ","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"DHV8vPFQPg"},{"type":"inlineCode","value":"a = 10","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"LKzQrEmYcQ"},{"type":"text","value":". Constants are loaded into registers before storing to memory.","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"MH5QZI4nGO"}],"key":"zI3u3NzxG5"}],"key":"DSifblOcLR"},{"type":"listItem","spread":true,"position":{"start":{"line":406,"column":1},"end":{"line":410,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":406,"column":1},"end":{"line":409,"column":1}},"children":[{"type":"strong","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"children":[{"type":"inlineCode","value":"81c: b9000fe0 str w0, [sp, #12]","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"PL1zAX0Y6e"}],"key":"PQRquC58C9"},{"type":"break","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"rCJxjn04tW"},{"type":"strong","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"XrD1WxO4dv"}],"key":"zIOKtk7JmP"},{"type":"text","value":": ","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"GGQfL0L25H"},{"type":"inlineCode","value":"b9 00 0f e0","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"JjwjBBdm65"},{"type":"break","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"Q8EeviuPNi"},{"type":"strong","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"IDhp04ihOJ"}],"key":"lcaX6qUZtL"},{"type":"text","value":": Stores 32-bit ","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"nCweB3Qi5Z"},{"type":"inlineCode","value":"w0","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"PKxyn113Ae"},{"type":"text","value":" (10) to memory at ","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"Bd3K2Pdfsb"},{"type":"inlineCode","value":"sp + 12","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"LgEvRo7Spy"},{"type":"text","value":". ","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"opcz7Rqf8M"},{"type":"inlineCode","value":"str","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"ASWAPRwkP6"},{"type":"text","value":" is “store register”.","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"byof1BmScU"},{"type":"break","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"SaJyCJW45G"},{"type":"strong","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"R0BlURY6PX"}],"key":"CLJ83FMEGa"},{"type":"text","value":": Assigns to ","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"XxSqfgJ9jN"},{"type":"inlineCode","value":"a","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"bkHNjD313Q"},{"type":"text","value":" on the stack. Stack offsets are positive from current ","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"EqE1zAYmzi"},{"type":"inlineCode","value":"sp","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"bpwFiVTrX2"},{"type":"text","value":".","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"Ftv6OUrxzk"}],"key":"XQBRcH4Jus"}],"key":"wet90DhKyE"},{"type":"listItem","spread":true,"position":{"start":{"line":411,"column":1},"end":{"line":415,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":411,"column":1},"end":{"line":414,"column":1}},"children":[{"type":"strong","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"children":[{"type":"inlineCode","value":"820: 52800080 mov w0, #0x4","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"slcLfBYjsZ"}],"key":"RGvtjkNbXk"},{"type":"break","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"qpobrio7BU"},{"type":"strong","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"qTMi5QwvuS"}],"key":"pfNfxMsFno"},{"type":"text","value":": ","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"TTy0yt1YC4"},{"type":"inlineCode","value":"52 80 00 80","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"upUpOHKuYf"},{"type":"break","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"VEP5kQvFcg"},{"type":"strong","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"MpiCnvVRfl"}],"key":"BKOzeDRxvt"},{"type":"text","value":": Moves ","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"MxTQ4w1pH8"},{"type":"inlineCode","value":"0x4","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"L1KNkyVHJP"},{"type":"text","value":" (4) into ","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"ss71HrMUd9"},{"type":"inlineCode","value":"w0","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"Zc17BGYW4h"},{"type":"text","value":", overwriting previous value.","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"LuXBn9qpos"},{"type":"break","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"N1WCu2OTto"},{"type":"strong","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"m63LfnkFnQ"}],"key":"m4ZAhP7Cxi"},{"type":"text","value":": Initializes temporary for ","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"d5afhW1wY1"},{"type":"inlineCode","value":"b = 4","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"QTfpl9hAbd"},{"type":"text","value":".","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"BBCaz0BiFM"}],"key":"Ok9y9MHxyE"}],"key":"rM6rPdDXcx"},{"type":"listItem","spread":true,"position":{"start":{"line":416,"column":1},"end":{"line":420,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":416,"column":1},"end":{"line":419,"column":1}},"children":[{"type":"strong","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"children":[{"type":"inlineCode","value":"824: b9000be0 str w0, [sp, #8]","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"dG1QIyAkwn"}],"key":"yrM4OwPio5"},{"type":"break","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"AYpIsQGai0"},{"type":"strong","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"oqTRXWHrIn"}],"key":"QkrImJOITQ"},{"type":"text","value":": ","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"VCw3IOngFB"},{"type":"inlineCode","value":"b9 00 0b e0","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"eHslytqSWz"},{"type":"break","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"YZs3PPTdjE"},{"type":"strong","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"jZeV1QvXva"}],"key":"PsS3BNMhwK"},{"type":"text","value":": Stores ","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"m5iWp6kq3o"},{"type":"inlineCode","value":"w0","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"LsJjY1PWPo"},{"type":"text","value":" (4) at ","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"KWmLziiUW9"},{"type":"inlineCode","value":"sp + 8","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"Y5nMmNo9qa"},{"type":"text","value":".","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"LN1IO72w9N"},{"type":"break","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"zqJVo1kJB0"},{"type":"strong","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"S7ZE82j5DL"}],"key":"JCJdvBQh8s"},{"type":"text","value":": Assigns to ","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"yxbc6vLPyn"},{"type":"inlineCode","value":"b","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"euuboRA0kD"},{"type":"text","value":".","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"Sv5vndYLPB"}],"key":"fOkWggp4wC"}],"key":"fEuUulgYBj"},{"type":"listItem","spread":true,"position":{"start":{"line":421,"column":1},"end":{"line":425,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":421,"column":1},"end":{"line":424,"column":1}},"children":[{"type":"strong","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"children":[{"type":"inlineCode","value":"828: b9400fe0 ldr w0, [sp, #12]","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"Ptigp0CAU3"}],"key":"FT5wgsr9Re"},{"type":"break","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"cR1WIGpJaD"},{"type":"strong","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"NAorZ1E3YS"}],"key":"sydrazjGt2"},{"type":"text","value":": ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"qBBvkeArZR"},{"type":"inlineCode","value":"b9 40 0f e0","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"o9DwbCptfv"},{"type":"break","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"nbNnE15sk1"},{"type":"strong","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"yv3MIbglKn"}],"key":"rM237fSmbv"},{"type":"text","value":": Loads 32-bit value from ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"OYklNy2MEg"},{"type":"inlineCode","value":"sp + 12","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"DXU51fguMd"},{"type":"text","value":" (10, value of ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"ZAKckJHhAI"},{"type":"inlineCode","value":"a","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"YtHA3PvIbJ"},{"type":"text","value":") into ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"OGzs2lRq4Q"},{"type":"inlineCode","value":"w0","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"JyFAFDfXvk"},{"type":"text","value":". ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"TRMAjUngJ1"},{"type":"inlineCode","value":"ldr","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"NPq3ER3Rry"},{"type":"text","value":" is “load register”.","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"Q9l708OptY"},{"type":"break","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"KYK51nYLbH"},{"type":"strong","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"uZFE5oBWWi"}],"key":"mIbV8sVpIy"},{"type":"text","value":": Loads ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"dHypCeBqUT"},{"type":"inlineCode","value":"a","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"y6GulLf9sv"},{"type":"text","value":" into ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"us4L5Ru98F"},{"type":"inlineCode","value":"w0","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"NrP73fQbWw"},{"type":"text","value":" as the dividend for the modulo operation.","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"D2kxmn48VQ"}],"key":"IeVluxybEd"}],"key":"L17823BWlD"},{"type":"listItem","spread":true,"position":{"start":{"line":426,"column":1},"end":{"line":430,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":426,"column":1},"end":{"line":429,"column":1}},"children":[{"type":"strong","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"children":[{"type":"inlineCode","value":"82c: b9400be1 ldr w1, [sp, #8]","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"GNPJ1qxUkB"}],"key":"ZUhkAKya8t"},{"type":"break","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"YDZ3lhWz2o"},{"type":"strong","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"HBXjtRNrqI"}],"key":"lV6vJ2Mbis"},{"type":"text","value":": ","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"A2BlWy0cVV"},{"type":"inlineCode","value":"b9 40 0b e1","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"Sk5QRqPFLH"},{"type":"break","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"nAMoOJQMnX"},{"type":"strong","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"y91KSzI8II"}],"key":"eDTyquuX2p"},{"type":"text","value":": Loads from ","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"P1ouGEXvCl"},{"type":"inlineCode","value":"sp + 8","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"O9zJmT5G0p"},{"type":"text","value":" (4, value of ","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"pTt9EKXCuC"},{"type":"inlineCode","value":"b","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"tVCaapQWxg"},{"type":"text","value":") into ","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"s92lJBQKRh"},{"type":"inlineCode","value":"w1","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"sIrExoRFjD"},{"type":"text","value":".","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"pn3tf7wxkt"},{"type":"break","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"aiJFrAwq6v"},{"type":"strong","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"KI1cXLBviW"}],"key":"I9GUnHLlMW"},{"type":"text","value":": Loads ","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"J3NKs1jiuR"},{"type":"inlineCode","value":"b","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"UsvuGJ2Uyo"},{"type":"text","value":" into ","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"FQ6tcL8Puc"},{"type":"inlineCode","value":"w1","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"oJLgELfH4Y"},{"type":"text","value":" as the divisor.","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"xNb3YQmHlC"}],"key":"sWaD0YNP6p"}],"key":"iI4WYTRu0E"},{"type":"listItem","spread":true,"position":{"start":{"line":431,"column":1},"end":{"line":435,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":431,"column":1},"end":{"line":434,"column":1}},"children":[{"type":"strong","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"children":[{"type":"inlineCode","value":"830: 1ac10c02 sdiv w2, w0, w1","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"MbaWLiGQTz"}],"key":"RYew9fMwJA"},{"type":"break","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"hra6HsK5JH"},{"type":"strong","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"yg7AvGVEju"}],"key":"RIU6NJhKax"},{"type":"text","value":": ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"HorJBvR4FD"},{"type":"inlineCode","value":"1a c1 0c 02","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"dsjahWJXQS"},{"type":"break","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"cdSWKMY09f"},{"type":"strong","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"fWVemzcXHH"}],"key":"i0yvIeaG2j"},{"type":"text","value":": Performs signed integer division: ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"HFUct8h4QL"},{"type":"inlineCode","value":"w2 = w0 / w1","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"IIsuaBr9W7"},{"type":"text","value":" (10 / 4 = 2). ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"DliTEbZqbf"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"W5vowL2Wyq"},{"type":"text","value":" handles negative numbers by rounding toward zero (Fortran ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"LkfK7L57ym"},{"type":"inlineCode","value":"MOD","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"tFUHKSC9kZ"},{"type":"text","value":" semantics require this for consistency with positive/negative remainders). No remainder is produced directly.","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"UYQKKIyrrY"},{"type":"break","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"wkd1IKSgIe"},{"type":"strong","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"daqNOQUFnD"}],"key":"CG9LwPv3Qa"},{"type":"text","value":": First step of modulo: Compute quotient ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"DyMHTxSL7o"},{"type":"inlineCode","value":"q = a / b","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"XiIxUh60rq"},{"type":"text","value":" (stored in ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"mhrGCyVf5W"},{"type":"inlineCode","value":"w2","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"ACSx6Tn9bQ"},{"type":"text","value":"). This is necessary because ARM64 has no single-instruction signed modulo. ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"medXrPnDpM"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"MqbEdcb6LU"},{"type":"text","value":" is used over ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"GwGsl6r725"},{"type":"inlineCode","value":"udiv","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"tseO5T3ILv"},{"type":"text","value":" (unsigned) to match Fortran’s signed integer behavior.","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"kKzG5VbaPk"}],"key":"A2KcvFMJDA"}],"key":"XuxSmuAc2F"},{"type":"listItem","spread":true,"position":{"start":{"line":436,"column":1},"end":{"line":440,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":436,"column":1},"end":{"line":439,"column":1}},"children":[{"type":"strong","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"children":[{"type":"inlineCode","value":"834: b9400be1 ldr w1, [sp, #8]","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"Htx3bVjWJH"}],"key":"f55xrggaBu"},{"type":"break","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"j4p2bzDiGT"},{"type":"strong","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"Ancbe6yc7I"}],"key":"HVdMffeu3G"},{"type":"text","value":": ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"QV70PvDAeY"},{"type":"inlineCode","value":"b9 40 0b e1","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"oSzkHBkLOV"},{"type":"break","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"uY98nVxXJZ"},{"type":"strong","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"KYZdOMGi6P"}],"key":"FebFC347Fw"},{"type":"text","value":": Reloads ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"gAcrSjcELa"},{"type":"inlineCode","value":"b","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"ZpH4CtMBf0"},{"type":"text","value":" (4) from ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"xyvD8FQVYY"},{"type":"inlineCode","value":"sp + 8","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"hUYaYzLFHX"},{"type":"text","value":" into ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"u0XgLHfCXx"},{"type":"inlineCode","value":"w1","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"gwrDgrekgY"},{"type":"text","value":".","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"dcKjHPfKET"},{"type":"break","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"ExfNug8BeK"},{"type":"strong","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"SPTig22WPG"}],"key":"iOYip6apuq"},{"type":"text","value":": Prepares ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"kjejyFU2dq"},{"type":"inlineCode","value":"b","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"vPHN1Jcj28"},{"type":"text","value":" for multiplication. This reload is redundant (","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"AbZsE4O5zm"},{"type":"inlineCode","value":"w1","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"ZvQhp1a2rF"},{"type":"text","value":" already held ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"TAIsbcBMVF"},{"type":"inlineCode","value":"b","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"RfhowwO4cN"},{"type":"text","value":" before ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"cEdIdp5B1T"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"wM4P3OuQFx"},{"type":"text","value":"), likely due to no optimization; an optimized build might eliminate it.","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"KextbSf6C6"}],"key":"lLsw4g3TCU"}],"key":"qfJA2kcUPD"},{"type":"listItem","spread":true,"position":{"start":{"line":441,"column":1},"end":{"line":445,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":441,"column":1},"end":{"line":444,"column":1}},"children":[{"type":"strong","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"children":[{"type":"inlineCode","value":"838: 1b017c41 mul w1, w2, w1","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"MLtfhkQpVf"}],"key":"rNl1OYuhLF"},{"type":"break","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"X757GeLxHZ"},{"type":"strong","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"CiOtxY47la"}],"key":"pr8DtQAMj1"},{"type":"text","value":": ","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"pTPAxsToui"},{"type":"inlineCode","value":"1b 01 7c 41","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"ILiBXqky5j"},{"type":"break","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"ootREwitiS"},{"type":"strong","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"T9R6KzIR0r"}],"key":"uMgtLJUP45"},{"type":"text","value":": Multiplies ","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"gZXSmfWOGr"},{"type":"inlineCode","value":"w1 = w2 * w1","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"U6R3ywXXzR"},{"type":"text","value":" (2 * 4 = 8). ","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"EMaSlpDzuW"},{"type":"inlineCode","value":"mul","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"EkUK07o0yU"},{"type":"text","value":" is integer multiplication, with overflow wrapping (but no issue here).","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"MNIeMoCfG3"},{"type":"break","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"sUUeM1h7vj"},{"type":"strong","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"kAm6ONChcT"}],"key":"k1SH4SK8Zf"},{"type":"text","value":": Second step of modulo: Compute ","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"oL6kgmGM8S"},{"type":"inlineCode","value":"q * b","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"LukkqDy0Lb"},{"type":"text","value":" (quotient times divisor). This reconstructs the largest multiple of ","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"ZTAPr5J5ym"},{"type":"inlineCode","value":"b","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"ROgcw0ZSBB"},{"type":"text","value":" less than or equal to ","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"w4UniEvElo"},{"type":"inlineCode","value":"a","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"Gutne1e1lj"},{"type":"text","value":" (for positive values).","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"FMPDwgFgX0"}],"key":"lOp21NUyfn"}],"key":"nBkVGrLHpZ"},{"type":"listItem","spread":true,"position":{"start":{"line":446,"column":1},"end":{"line":455,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":446,"column":1},"end":{"line":449,"column":1}},"children":[{"type":"strong","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"children":[{"type":"inlineCode","value":"83c: 4b010000 sub w0, w0, w1","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"Avy4NyY1Le"}],"key":"MqSjBAPNtp"},{"type":"break","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"r5LMpVIDgU"},{"type":"strong","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"rTp8cPnI3O"}],"key":"iVPkCPMIlo"},{"type":"text","value":": ","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"TQ7lhbZriw"},{"type":"inlineCode","value":"4b 01 00 00","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"OGFVLjJr7D"},{"type":"break","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"jyXSKEGhS0"},{"type":"strong","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"cpUUivpYGj"}],"key":"ln6xt4DMYc"},{"type":"text","value":": Subtracts ","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"m8ROnozgHz"},{"type":"inlineCode","value":"w0 = w0 - w1","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"S56WtNzicE"},{"type":"text","value":" (10 - 8 = 2). Integer subtraction without borrow flags checked.","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"tNDkdYSRsr"},{"type":"break","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"nofjEiUoqx"},{"type":"strong","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"UKta9S3syB"}],"key":"M2nUF6ExzN"},{"type":"text","value":": Final step of modulo: Remainder ","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"KqCRqEPaoQ"},{"type":"inlineCode","value":"r = a - (q * b)","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"Bl5JU2FlcX"},{"type":"text","value":". This yields the modulo result (2). The multi-step process is needed because:","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"tMeOUqyWSn"}],"key":"oHiq9QJguA"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":450,"column":1},"end":{"line":455,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"ARM64’s integer division instructions (","position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"key":"hD5Dc6QajF"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"key":"rMBHmN5hcB"},{"type":"text","value":", ","position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"key":"qPCDh6265o"},{"type":"inlineCode","value":"udiv","position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"key":"MkxYBmM1Un"},{"type":"text","value":") only produce the quotient, not the remainder.","position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"key":"QKOdwcwklv"}],"key":"BdlvE7f0X5"}],"key":"aWoEAlhziB"},{"type":"listItem","spread":true,"position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"For signed modulo, the compiler must ensure the remainder has the sign of the dividend (Fortran ","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"jmH6yj0IYW"},{"type":"inlineCode","value":"MOD","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"yClpXv2zQ6"},{"type":"text","value":" rule: remainder same sign as ","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"A5CZ1R8ybU"},{"type":"inlineCode","value":"a","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"uBqCxihYB4"},{"type":"text","value":"), which ","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"zexf6qVl8L"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"of2vlX4lb4"},{"type":"text","value":" + ","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"ccwKTfKMox"},{"type":"inlineCode","value":"mul","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"q2u57anVDH"},{"type":"text","value":" + ","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"tdEIO7HKJb"},{"type":"inlineCode","value":"sub","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"iRUwN1mPzg"},{"type":"text","value":" achieves.","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"xWsYD3faJp"}],"key":"JVI9eup9Ty"}],"key":"o4qA3QTFSX"},{"type":"listItem","spread":true,"position":{"start":{"line":452,"column":1},"end":{"line":452,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Hardware support for remainder exists in some forms (e.g., ","position":{"start":{"line":452,"column":1},"end":{"line":452,"column":1}},"key":"ziYCnsQrci"},{"type":"inlineCode","value":"msub","position":{"start":{"line":452,"column":1},"end":{"line":452,"column":1}},"key":"JqFh4PjMbT"},{"type":"text","value":" for multiply-subtract in unsigned contexts), but for signed ops, this sequence is portable and safe.","position":{"start":{"line":452,"column":1},"end":{"line":452,"column":1}},"key":"kSPYXCWVq3"}],"key":"M5ZrKYGTpJ"}],"key":"z0gtWz93PP"},{"type":"listItem","spread":true,"position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Alternatives like bit manipulation or loops aren’t efficient for general cases. If ","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"oqt6rJ3K9E"},{"type":"inlineCode","value":"b","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"KyA1bB2mY3"},{"type":"text","value":" were a power of 2, the compiler might optimize to AND (e.g., ","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"Cm83zvMbzc"},{"type":"inlineCode","value":"MOD(a, 4) = a & 3","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"lLpZpMWEN9"},{"type":"text","value":"), but here ","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"vi66lX0Ujk"},{"type":"inlineCode","value":"b=4","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"vWavml6eAp"},{"type":"text","value":" is constant—unoptimized code doesn’t exploit that.","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"Naw5sBVboA"}],"key":"dp6bhzL99R"}],"key":"oWMOdnByt0"},{"type":"listItem","spread":true,"position":{"start":{"line":454,"column":1},"end":{"line":455,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Edge cases (e.g., ","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"h5oUN40RC6"},{"type":"inlineCode","value":"b=0","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"cUwMj7znJT"},{"type":"text","value":" causes divide-by-zero trap in ","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"fg2FSdY4VR"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"IkNkSrSJX7"},{"type":"text","value":"; negative ","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"psVJ4AxtMC"},{"type":"inlineCode","value":"a","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"PstNjTjAGn"},{"type":"text","value":" or ","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"l53v6tD7Uj"},{"type":"inlineCode","value":"b","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"RnYcKe7wRu"},{"type":"text","value":") are handled implicitly by ","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"UVluaKat6b"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"ZTMIXSNzu4"},{"type":"text","value":"’s signed semantics.","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"L0Jpv4fuCs"}],"key":"ajj9GW59DJ"}],"key":"BcMUWlkAL3"}],"key":"RpXKbVdUeI"}],"key":"gb7NL8VCPa"},{"type":"listItem","spread":true,"position":{"start":{"line":456,"column":1},"end":{"line":460,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":456,"column":1},"end":{"line":459,"column":1}},"children":[{"type":"strong","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"children":[{"type":"inlineCode","value":"840: b90007e0 str w0, [sp, #4]","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"ePhFzvBhIJ"}],"key":"XsvgN5QmUO"},{"type":"break","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"TrdXIL8JqI"},{"type":"strong","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"m414vnMu1Z"}],"key":"DAYfly7jr3"},{"type":"text","value":": ","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"ZaCbysCZlD"},{"type":"inlineCode","value":"b9 00 07 e0","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"pR2q8MIXQK"},{"type":"break","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"XC7N2LnSTi"},{"type":"strong","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"V9iq5uaEmM"}],"key":"TlZtc92FAA"},{"type":"text","value":": Stores ","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"CFIOPX1mUq"},{"type":"inlineCode","value":"w0","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"ooYnfJyGeK"},{"type":"text","value":" (2) at ","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"tLIMTztWny"},{"type":"inlineCode","value":"sp + 4","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"ieTwWOwOUx"},{"type":"text","value":".","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"yzn40uuJ2j"},{"type":"break","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"nzt90P8o7h"},{"type":"strong","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"kKJYjaskfB"}],"key":"pgV1FFD4ZG"},{"type":"text","value":": Assigns result to ","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"Ztb0uSPXZE"},{"type":"inlineCode","value":"c","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"ksnCLL9kw9"},{"type":"text","value":". Stored but unused—Fortran doesn’t require using variables.","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"kU1iMUGSmO"}],"key":"RFLwZSifS5"}],"key":"soNHhe8BQn"},{"type":"listItem","spread":true,"position":{"start":{"line":461,"column":1},"end":{"line":465,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":461,"column":1},"end":{"line":464,"column":1}},"children":[{"type":"strong","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"children":[{"type":"inlineCode","value":"844: d503201f nop","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"RWOQJZIHRP"}],"key":"LCMuki5N2H"},{"type":"break","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"mP19Ds5qEm"},{"type":"strong","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"qIDmVuSver"}],"key":"kbZR8VBMO7"},{"type":"text","value":": ","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"H6Myt4XQPs"},{"type":"inlineCode","value":"d5 03 20 1f","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"pKbCbBy3AB"},{"type":"break","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"R3UyEuNvgn"},{"type":"strong","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"NOnwq1pgEC"}],"key":"Bw8qChwwXm"},{"type":"text","value":": No operation—advances program counter without effect. Often for alignment (instructions 4-byte aligned) or padding.","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"hD7DQwz5EB"},{"type":"break","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"GPbnLen476"},{"type":"strong","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"f5f06tOoJh"}],"key":"H5RCDrfdN2"},{"type":"text","value":": Compiler-inserted; no functional role, possibly after inlining checks.","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"wrSR6xIHZU"}],"key":"vEcx0KNi51"}],"key":"vPQ23pkhxH"},{"type":"listItem","spread":true,"position":{"start":{"line":466,"column":1},"end":{"line":470,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":466,"column":1},"end":{"line":469,"column":1}},"children":[{"type":"strong","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"children":[{"type":"inlineCode","value":"848: 910043ff add sp, sp, #0x10","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"rRV6KgQWfq"}],"key":"fHg1zsuZRC"},{"type":"break","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"jAl4EznuO9"},{"type":"strong","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"pYOzuUNK2A"}],"key":"lgxIHRh8dM"},{"type":"text","value":": ","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"eyLExX4HvD"},{"type":"inlineCode","value":"91 00 43 ff","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"xCI63EXY0d"},{"type":"break","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"y4wEDhngFc"},{"type":"strong","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"MmQplHjv7Z"}],"key":"a0Rt0rnGkB"},{"type":"text","value":": Adds ","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"u9viMEkICX"},{"type":"inlineCode","value":"0x10","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"bSq6ePLC8O"},{"type":"text","value":" to ","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"c5XhPrl5nL"},{"type":"inlineCode","value":"sp","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"jPC1m0SaZX"},{"type":"text","value":", deallocating the frame.","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"z9BGDnIofn"},{"type":"break","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"TFcsAJ3AlU"},{"type":"strong","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"kYdMc0QHWK"}],"key":"CzaR1h3ykz"},{"type":"text","value":": Epilogue—restores caller’s stack.","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"hpFpdOuMi5"}],"key":"XoF9sViUUu"}],"key":"YDapjpzRwA"},{"type":"listItem","spread":true,"position":{"start":{"line":471,"column":1},"end":{"line":475,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":471,"column":1},"end":{"line":474,"column":1}},"children":[{"type":"strong","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"children":[{"type":"inlineCode","value":"84c: d65f03c0 ret","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"VBXkO8Toq1"}],"key":"lK6IEIwiZW"},{"type":"break","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"wf1ZeR8T1G"},{"type":"strong","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"Vzl5JkA2ua"}],"key":"mdXysJuJH3"},{"type":"text","value":": ","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"mZNL7Fb9Tk"},{"type":"inlineCode","value":"d6 5f 03 c0","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"gf7JW5BEtD"},{"type":"break","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"nVa7PmJRbL"},{"type":"strong","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"tdfsm9nsxv"}],"key":"Ev9s4cbDaa"},{"type":"text","value":": Returns by jumping to ","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"sAKkqYnWnt"},{"type":"inlineCode","value":"x30","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"E7MJopWink"},{"type":"text","value":" (link register). No explicit return value.","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"L84enSMyBQ"},{"type":"break","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"H5DUjrQESV"},{"type":"strong","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"Kk9AcVxUBs"}],"key":"uyLEmgx2gx"},{"type":"text","value":": Ends ","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"Y96gQNuckt"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"uGxqT5vuXK"},{"type":"text","value":".","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"uUbjPA9w9y"}],"key":"piEaO1xooz"}],"key":"b9BaUfGy1h"}],"key":"XtCaWyeSfQ"},{"type":"heading","depth":3,"position":{"start":{"line":476,"column":1},"end":{"line":476,"column":1}},"children":[{"type":"text","value":"Detailed Explanation of ","position":{"start":{"line":476,"column":1},"end":{"line":476,"column":1}},"key":"fCjIbzedEj"},{"type":"inlineCode","value":"main","position":{"start":{"line":476,"column":1},"end":{"line":476,"column":1}},"key":"piALYz0Rml"},{"type":"text","value":" (Program Entry Point)","position":{"start":{"line":476,"column":1},"end":{"line":476,"column":1}},"key":"hRmKhmWhDe"}],"identifier":"detailed-explanation-of-main-program-entry-point","label":"Detailed Explanation of main (Program Entry Point)","html_id":"detailed-explanation-of-main-program-entry-point","implicit":true,"key":"aueWBL5wsM"},{"type":"paragraph","position":{"start":{"line":477,"column":1},"end":{"line":477,"column":1}},"children":[{"type":"text","value":"This is the runtime wrapper for Fortran executables. It processes args, sets up gfortran, calls ","position":{"start":{"line":477,"column":1},"end":{"line":477,"column":1}},"key":"gTSDaXqqiW"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":477,"column":1},"end":{"line":477,"column":1}},"key":"uL0tAzo2Iq"},{"type":"text","value":", and exits. Similar to the previous disassembly, with minor address differences.","position":{"start":{"line":477,"column":1},"end":{"line":477,"column":1}},"key":"YS7lKRTk9W"}],"key":"JVpLqUckrX"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":479,"column":1},"end":{"line":541,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":479,"column":1},"end":{"line":482,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":479,"column":1},"end":{"line":481,"column":1}},"children":[{"type":"strong","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"children":[{"type":"inlineCode","value":"850: a9be7bfd stp x29, x30, [sp, #-32]!","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"NdrWMkD7yS"}],"key":"xSgkA7ZJZe"},{"type":"break","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"X1epOZE64F"},{"type":"strong","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"VXd4waiQ3w"}],"key":"Ex8UgqnCpD"},{"type":"text","value":": Allocates 32 bytes (pre-index subtract), stores frame pointer ","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"raIdH7xT7Q"},{"type":"inlineCode","value":"x29","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"UMPQ8QvjQe"},{"type":"text","value":" and link ","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"H42FdOeIuQ"},{"type":"inlineCode","value":"x30","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"N69zyOzErp"},{"type":"text","value":" at new ","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"SWolCrjP2X"},{"type":"inlineCode","value":"sp","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"B2W6eAlWx8"},{"type":"text","value":".","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"NKivVT3bTm"},{"type":"break","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"AA84zX5NYi"},{"type":"strong","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"vGkj8pcyDY"}],"key":"TRfpjAUUSx"},{"type":"text","value":": Prologue—saves caller state, allocates for locals (argc at +28, argv at +16).","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"dnQ87iJZJ2"}],"key":"GN5s2iecVV"}],"key":"rWOLZqbVOu"},{"type":"listItem","spread":true,"position":{"start":{"line":483,"column":1},"end":{"line":486,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":483,"column":1},"end":{"line":485,"column":1}},"children":[{"type":"strong","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"children":[{"type":"inlineCode","value":"854: 910003fd mov x29, sp","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"xz30JTh9Ds"}],"key":"x2C7ONEc5g"},{"type":"break","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"gqqR4iYps0"},{"type":"strong","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"YEgHuvD45Y"}],"key":"f0uu5z7ykh"},{"type":"text","value":": Sets ","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"uhjWyCrLdX"},{"type":"inlineCode","value":"x29","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"lIrWQDSFo1"},{"type":"text","value":" to current ","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"GQRAtQWnT5"},{"type":"inlineCode","value":"sp","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"wg68YYlVlK"},{"type":"text","value":" for frame-relative access.","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"f4Pejy0cTx"},{"type":"break","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"ikFIPGHi7P"},{"type":"strong","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"ouNvCad33O"}],"key":"RQS86OnXQc"},{"type":"text","value":": ABI frame pointer setup.","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"FWj5mgcUDx"}],"key":"KlyMfMJxpq"}],"key":"FNlk3641i3"},{"type":"listItem","spread":true,"position":{"start":{"line":487,"column":1},"end":{"line":490,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":487,"column":1},"end":{"line":489,"column":1}},"children":[{"type":"strong","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"children":[{"type":"inlineCode","value":"858: b9001fe0 str w0, [sp, #28]","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"yu8zwarN1V"}],"key":"gLxBxuf6c3"},{"type":"break","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"m5JYC2BaUC"},{"type":"strong","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"S8FpSnn4l6"}],"key":"BE0IhfdaOf"},{"type":"text","value":": Stores ","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"n60G8xn9Oc"},{"type":"inlineCode","value":"w0","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"eKkiJwLZ9W"},{"type":"text","value":" (argc) locally.","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"WkCm0ZWkx5"},{"type":"break","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"BjOlUq1ZYJ"},{"type":"strong","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"Y1S65DafNC"}],"key":"E2Mt1ZQ0e4"},{"type":"text","value":": Saves argument count.","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"dvMIYdsHZK"}],"key":"p4vime3ufi"}],"key":"r1SNarjoQX"},{"type":"listItem","spread":true,"position":{"start":{"line":491,"column":1},"end":{"line":494,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":491,"column":1},"end":{"line":493,"column":1}},"children":[{"type":"strong","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"children":[{"type":"inlineCode","value":"85c: f9000be1 str x1, [sp, #16]","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"ehzVeE4Ndf"}],"key":"JePDxSkTDP"},{"type":"break","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"wIAjO4Qq8E"},{"type":"strong","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"OQVj9OiIMn"}],"key":"zatMsSN0yY"},{"type":"text","value":": Stores ","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"L69Q2ixtSG"},{"type":"inlineCode","value":"x1","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"iRRx2mPuF2"},{"type":"text","value":" (argv) locally.","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"ace9WFznpZ"},{"type":"break","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"CPTuND5uEI"},{"type":"strong","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"VBo3mwOxJk"}],"key":"qW08zV9ghN"},{"type":"text","value":": Saves argument vector.","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"fft1VZ0Gef"}],"key":"bm4qINUOo2"}],"key":"Bw0PBurulP"},{"type":"listItem","spread":true,"position":{"start":{"line":495,"column":1},"end":{"line":498,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":495,"column":1},"end":{"line":497,"column":1}},"children":[{"type":"strong","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"children":[{"type":"inlineCode","value":"860: f9400be1 ldr x1, [sp, #16]","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"J6K2IyT7vb"}],"key":"Ydlv6HhMrN"},{"type":"break","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"a5XEcJWV6B"},{"type":"strong","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"pmqklASHq1"}],"key":"v6HMSKxVGV"},{"type":"text","value":": Loads argv into ","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"chgiaoKvWh"},{"type":"inlineCode","value":"x1","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"YONJdjMh45"},{"type":"text","value":" for call.","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"z5KigrICam"},{"type":"break","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"DPPI8smn3B"},{"type":"strong","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"M4Z0IM6q70"}],"key":"qzJ1uwa567"},{"type":"text","value":": Prepares second arg for runtime.","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"WefwupcrGh"}],"key":"RSU5a0AnMg"}],"key":"pO83fIL2KC"},{"type":"listItem","spread":true,"position":{"start":{"line":499,"column":1},"end":{"line":502,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":499,"column":1},"end":{"line":501,"column":1}},"children":[{"type":"strong","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"children":[{"type":"inlineCode","value":"864: b9401fe0 ldr w0, [sp, #28]","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"yZLRtAE3cY"}],"key":"ilFImpdqEh"},{"type":"break","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"SnVdz0uppT"},{"type":"strong","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"LC7aYZ2lIF"}],"key":"BioZbwBs1C"},{"type":"text","value":": Loads argc into ","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"UsUoxyL5IK"},{"type":"inlineCode","value":"w0","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"Y56YyuETel"},{"type":"text","value":".","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"J8U5aeVaoY"},{"type":"break","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"Y1TkVBL4uC"},{"type":"strong","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"mnDTfYbXR7"}],"key":"Mx0t3mgYL0"},{"type":"text","value":": Prepares first arg.","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"uSCcnJEWPc"}],"key":"V0oEWHRp6a"}],"key":"Wx92oSKgjv"},{"type":"listItem","spread":true,"position":{"start":{"line":503,"column":1},"end":{"line":506,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":503,"column":1},"end":{"line":505,"column":1}},"children":[{"type":"strong","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"children":[{"type":"inlineCode","value":"868: 97ffffa2 bl 6f0 <_gfortran_set_args@plt>","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"aOpNYlC119"}],"key":"NdwOnB5vxV"},{"type":"break","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"Ovf3ugQzol"},{"type":"strong","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"XqG3Ps9eX7"}],"key":"r45wbUqOWY"},{"type":"text","value":": Calls gfortran arg setup via PLT (dynamic link).","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"MS5S9AsyhE"},{"type":"break","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"rXnG7HleN5"},{"type":"strong","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"P9ZRltuQ2N"}],"key":"Rm6vNrPs8G"},{"type":"text","value":": Passes args to Fortran runtime for handling (e.g., if program used ","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"BLMelLmqGe"},{"type":"inlineCode","value":"COMMAND_ARGUMENT_COUNT","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"ezFW3koQjT"},{"type":"text","value":").","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"ZbJVt7ph6H"}],"key":"e5NLKsYw63"}],"key":"YxYxH8cUU6"},{"type":"listItem","spread":true,"position":{"start":{"line":507,"column":1},"end":{"line":510,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":507,"column":1},"end":{"line":509,"column":1}},"children":[{"type":"strong","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"children":[{"type":"inlineCode","value":"86c: 90000000 adrp x0, 0","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"PugijpyENy"}],"key":"CiOKjEYDpY"},{"type":"break","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"oMDjc5RWee"},{"type":"strong","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"OxN9Cipj7x"}],"key":"XZhjLcY2h4"},{"type":"text","value":": Loads page base (0 here) into ","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"SKMQqEQIIe"},{"type":"inlineCode","value":"x0","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"BVZXGTycQT"},{"type":"text","value":".","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"dVbYmGaOtJ"},{"type":"break","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"JmzsTtbuQa"},{"type":"strong","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"I9YOqXxTCv"}],"key":"mD4KuyMdjI"},{"type":"text","value":": Prepares for options address computation.","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"caYOTc2XHn"}],"key":"VcWYMWe0Hl"}],"key":"gO0liI3VUz"},{"type":"listItem","spread":true,"position":{"start":{"line":511,"column":1},"end":{"line":514,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":511,"column":1},"end":{"line":513,"column":1}},"children":[{"type":"strong","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"children":[{"type":"inlineCode","value":"870: 9124c001 add x1, x0, #0x930","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"I7i7vqIans"}],"key":"IdSsL404aP"},{"type":"break","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"xHPZJK5K5W"},{"type":"strong","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"HyBufqVPJz"}],"key":"QeKnXwPYkB"},{"type":"text","value":": Adds ","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"B9bM4mkMKj"},{"type":"inlineCode","value":"0x930","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"J9d6828OLd"},{"type":"text","value":" (2352) to ","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"CZcoUAxodH"},{"type":"inlineCode","value":"x0","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"rZwDxxXEoX"},{"type":"text","value":", result in ","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"x5ZGZe69X5"},{"type":"inlineCode","value":"x1","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"toROv3MkAk"},{"type":"text","value":" (points to options data).","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"x5LIwgIBtW"},{"type":"break","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"RoBQY1Zi1J"},{"type":"strong","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"pvhpy84jV1"}],"key":"Q7SC2MpYXj"},{"type":"text","value":": Address of gfortran options array.","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"yGdpvX2NRI"}],"key":"EbK9ImjjOd"}],"key":"r2S2hvYG4H"},{"type":"listItem","spread":true,"position":{"start":{"line":515,"column":1},"end":{"line":518,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":515,"column":1},"end":{"line":517,"column":1}},"children":[{"type":"strong","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"children":[{"type":"inlineCode","value":"874: 528000e0 mov w0, #0x7","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"cTMki1Oh6O"}],"key":"aXKmRnBLAJ"},{"type":"break","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"z5LNKQNfYK"},{"type":"strong","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"FrAj3H1Z5g"}],"key":"pptBW2k8ZR"},{"type":"text","value":": Moves 7 into ","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"AXs7X6vDbF"},{"type":"inlineCode","value":"w0","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"Dp5nINkGLn"},{"type":"text","value":" (likely option count).","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"aXmveDFnO0"},{"type":"break","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"M8VSJi11Zx"},{"type":"strong","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"X5WwCoFum7"}],"key":"crTOiIhlne"},{"type":"text","value":": Arg for options call.","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"u6wPqyBdd5"}],"key":"NYRy6EQel4"}],"key":"NrkeKdZo11"},{"type":"listItem","spread":true,"position":{"start":{"line":519,"column":1},"end":{"line":522,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":519,"column":1},"end":{"line":521,"column":1}},"children":[{"type":"strong","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"children":[{"type":"inlineCode","value":"878: 97ffff9a bl 6e0 <_gfortran_set_options@plt>","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"bUP2KcMsVG"}],"key":"AdRjpChtBS"},{"type":"break","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"RDmv5blZEC"},{"type":"strong","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"aPFbIltqoF"}],"key":"titK92y49W"},{"type":"text","value":": Calls gfortran options setup.","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"hm1va5lf64"},{"type":"break","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"wRJj2nNgnX"},{"type":"strong","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"jciVVvsHdz"}],"key":"k4IlBjwrFH"},{"type":"text","value":": Configures runtime (e.g., error modes, precision).","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"KXpTvi6PNG"}],"key":"paZAXCsRmF"}],"key":"GMDIWDFYAp"},{"type":"listItem","spread":true,"position":{"start":{"line":523,"column":1},"end":{"line":526,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":523,"column":1},"end":{"line":525,"column":1}},"children":[{"type":"strong","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"children":[{"type":"inlineCode","value":"87c: 97ffffe6 bl 814 <MAIN__>","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"CjyT7k0RNq"}],"key":"Hxba66Lu5X"},{"type":"break","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"PkEWGgqaBW"},{"type":"strong","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"IZ7NebMJDc"}],"key":"YbjfuIuj37"},{"type":"text","value":": Calls Fortran body.","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"As5F2vvYJJ"},{"type":"break","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"gYKagGK23i"},{"type":"strong","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"QipWgXLcZX"}],"key":"PA4HtQiuG3"},{"type":"text","value":": Executes the program.","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"kIjUW3xIqd"}],"key":"i8AT9nS17U"}],"key":"mV0Pu5TeDz"},{"type":"listItem","spread":true,"position":{"start":{"line":527,"column":1},"end":{"line":530,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":527,"column":1},"end":{"line":529,"column":1}},"children":[{"type":"strong","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"children":[{"type":"inlineCode","value":"880: 52800000 mov w0, #0x0","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"dXFxEB2psA"}],"key":"FcNny9KxBy"},{"type":"break","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"lAWvAGdSl4"},{"type":"strong","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"EMRPdVQphx"}],"key":"XvT9SGAN3M"},{"type":"text","value":": Sets ","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"gAFzKBgozB"},{"type":"inlineCode","value":"w0","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"m2ZStrp4wB"},{"type":"text","value":" to 0 (exit success).","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"HEtWn4Kx7r"},{"type":"break","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"n4UwED7CD6"},{"type":"strong","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"VX8I7844kT"}],"key":"YnExodRhT5"},{"type":"text","value":": Prepares exit code.","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"lBKoXVFxBB"}],"key":"VqV7FcDaRz"}],"key":"jZLtQQfwCs"},{"type":"listItem","spread":true,"position":{"start":{"line":531,"column":1},"end":{"line":534,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":531,"column":1},"end":{"line":533,"column":1}},"children":[{"type":"strong","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"children":[{"type":"inlineCode","value":"884: a8c27bfd ldp x29, x30, [sp], #32","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"k9Opt1RHVW"}],"key":"l3Tlbwocn1"},{"type":"break","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"qgdEo4TVSt"},{"type":"strong","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"vO9b06GQ9A"}],"key":"ULgMe5xnlH"},{"type":"text","value":": Loads ","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"C3lHtnStf6"},{"type":"inlineCode","value":"x29/x30","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"WMbxFdAT9N"},{"type":"text","value":", deallocates 32 bytes (post-index add).","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"FscWE2VoJ3"},{"type":"break","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"KXwKca148k"},{"type":"strong","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"xh8czlEUvR"}],"key":"q04p1YLMXm"},{"type":"text","value":": Epilogue—restores state.","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"JyzLvWlBIG"}],"key":"n9EmdPMNnc"}],"key":"DufeO17PCm"},{"type":"listItem","spread":true,"position":{"start":{"line":535,"column":1},"end":{"line":538,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":535,"column":1},"end":{"line":537,"column":1}},"children":[{"type":"strong","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"children":[{"type":"inlineCode","value":"888: d65f03c0 ret","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"WToZgf608n"}],"key":"uV6mfeZ8Um"},{"type":"break","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"bHYltAR1Td"},{"type":"strong","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"A4VrfkRAb6"}],"key":"h3BMaSMwkl"},{"type":"text","value":": Returns to OS with code 0.","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"Sx7A5XCKe0"},{"type":"break","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"CHfv36nilh"},{"type":"strong","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"ej4pYZevLU"}],"key":"fjB6R5emdG"},{"type":"text","value":": Program end.","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"rQHlviNFoC"}],"key":"ASAVdUeP4h"}],"key":"r5JjfZL6KT"},{"type":"listItem","spread":true,"position":{"start":{"line":539,"column":1},"end":{"line":541,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":539,"column":1},"end":{"line":540,"column":1}},"children":[{"type":"strong","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"children":[{"type":"inlineCode","value":"88c: d503201f nop","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"key":"tZI3gnNakr"}],"key":"LpYJdXX7W9"},{"type":"break","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"key":"xtfU7wvzUK"},{"type":"strong","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"key":"CHAI0kxd2A"}],"key":"kADXqNwQEu"},{"type":"text","value":": Padding nop, possibly for section alignment.","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"key":"geGmFs1owg"}],"key":"pjOVFT8g7p"}],"key":"U14qWTe0Ej"}],"key":"zVtSJIOIo0"},{"type":"paragraph","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"children":[{"type":"text","value":"Overall, the program computes but discards the modulo result. Running it produces no output. The multi-op modulo is a compiler choice for correctness and portability on ARM64.","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"key":"sjZGQhrzUm"}],"key":"T0E77gnOZP"}],"key":"GnXNIojzMx"}],"key":"AJb7TKBMvx"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Fortran - ARM 64-Bit Platform - Subtract Two Integers","url":"/sections/cybersecurity/disassembling-binaries/fortran/arm64/sub-int/sub-int","group":"Cybersecurity"},"next":{"title":"ARM32","url":"/sections/cybersecurity/disassembling-binaries/fortran/arm32/arm32","group":"Cybersecurity"}}},"domain":"http://localhost:3007"}