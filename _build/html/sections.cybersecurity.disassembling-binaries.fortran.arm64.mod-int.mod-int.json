{"version":3,"kind":"Article","sha256":"03cb6047f3637e6252a89c6509011de6b4b327989f9dcdc691c9c1c6ef22900d","slug":"sections.cybersecurity.disassembling-binaries.fortran.arm64.mod-int.mod-int","location":"/Sections/Cybersecurity/Disassembling_Binaries/Fortran/ARM64/MOD_INT/mod_int.md","dependencies":[],"frontmatter":{"title":"Fortran - ARM 64-Bit Platform - Modulo Two Integers","content_includes_title":false,"authors":[{"nameParsed":{"literal":"Mark Khusid","given":"Mark","family":"Khusid"},"name":"Mark Khusid","id":"contributors-myst-generated-uid-0"}],"github":"https://github.com/markkhusid/MKDynamics_Website_V2","numbering":{"title":{"offset":5}},"source_url":"https://github.com/markkhusid/MKDynamics_Website_V2/blob/master/Sections/Cybersecurity/Disassembling_Binaries/Fortran/ARM64/MOD_INT/mod_int.md","edit_url":"https://github.com/markkhusid/MKDynamics_Website_V2/edit/master/Sections/Cybersecurity/Disassembling_Binaries/Fortran/ARM64/MOD_INT/mod_int.md","thumbnail":"/build/mod_int_Fortran_ARM6-0205747aefc22cc51e86a818a418c733.png","thumbnailOptimized":"/build/mod_int_Fortran_ARM6-0205747aefc22cc51e86a818a418c733.webp","exports":[{"format":"md","filename":"mod_int.md","url":"/build/mod_int-e83d46e86fd2ff13bc42483bc83650b6.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"image","url":"/build/mod_int_Fortran_ARM6-0205747aefc22cc51e86a818a418c733.png","height":"600","width":"800","align":"center","key":"MK4H7t2dl9","urlSource":"images/mod_int_Fortran_ARM64_splash.png","urlOptimized":"/build/mod_int_Fortran_ARM6-0205747aefc22cc51e86a818a418c733.webp"},{"type":"heading","depth":2,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Introduction","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"yyrYoniTOS"}],"identifier":"introduction","label":"Introduction","html_id":"introduction","implicit":true,"key":"UBB3T1Aexi"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"In this section we will be disassembling simple binaries generated by the Fortran high-level language compiled for the 64-bit ARM platform.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"SYHfAGEk06"}],"key":"O7RrwaQHQR"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Project code for this section is contained in my ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"zaqBBXU09T"},{"type":"link","url":"https://github.com/markkhusid/Disassembling-Binaries/tree/master/Fortran/ARM_architecture/ARM64","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"https://​github​.com​/markkhusid​/Disassembling​-Binaries​/tree​/master​/Fortran​/ARM​_architecture​/ARM64","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"rF7vXTy2ll"}],"urlSource":"https://github.com/markkhusid/Disassembling-Binaries/tree/master/Fortran/ARM_architecture/ARM64","error":true,"key":"OFRtKrbBur"},{"type":"text","value":".","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"QIRtUwBPX0"}],"key":"w8tnnCLXCK"},{"type":"thematicBreak","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"rMOIMjta3M"},{"type":"heading","depth":2,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"The program ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"yfxREO3sQN"},{"type":"emphasis","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"mod_int.f08","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"tz4eyxgIdw"}],"key":"pwBkIjwjx6"}],"identifier":"the-program-mod-int-f08","label":"The program mod_int.f08","html_id":"the-program-mod-int-f08","implicit":true,"key":"Ble6Lr78pK"},{"type":"include","file":"code/mod_int.f08","literal":true,"children":[{"type":"code","value":"program mod_int\n\n        implicit none\n\n        integer         :: a, b, c\n\n        a = 10\n        b = 4\n\n        c = MOD(a, b)\n\nend program mod_int\n\n","lang":"fortran","filename":"mod_int.f08","key":"UltKve6N8i"}],"key":"lr82TdY1tS"},{"type":"paragraph","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"The program displays the contents of the program ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"YlXAgstqVi"},{"type":"emphasis","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"mod_int.f08","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"LNiFsOnSZK"}],"key":"ChuGyli2OC"},{"type":"text","value":". The program creates three integers: a, b, and c. ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"cCKNnrm4nu"},{"type":"inlineCode","value":"a","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"Be4MwP9WvZ"},{"type":"text","value":" is assigned the value of 10, ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"UFDTaGPMoZ"},{"type":"inlineCode","value":"b","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"lcSQzNYvoL"},{"type":"text","value":" is assigned the value of 4, and ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"QC6wpSVuRa"},{"type":"inlineCode","value":"c","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"H5RFmJqXQs"},{"type":"text","value":" is assigned the result of the operation ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"j9tLQAGj5n"},{"type":"inlineCode","value":"MOD(a, b)","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"n1M83e0uxJ"},{"type":"text","value":".  MOD() is a Fortran intrinsic function that returns the remainder of the division of ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"nIGMl4qEWZ"},{"type":"inlineCode","value":"a","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"Cqqv7l0tj0"},{"type":"text","value":" by ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"dcBX7WmYxm"},{"type":"inlineCode","value":"b","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"WPZpvFi7M3"},{"type":"text","value":".","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"iFba8zDm2d"}],"key":"pDWr7PT6nH"},{"type":"paragraph","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"The program is obviously very simple, with no inputs and outputs. The idea is to generate the binary and look at the disassembly to learn about the workings of the 64-bit ARM processor platform.","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"EqtzF0bbb4"}],"key":"GKexHQkR7Y"},{"type":"paragraph","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"The chosen test system is my trusty Samsung Chromebook Plus V2, which has a 64-bit ARMv8 processor. This is a very convenient platform for this exercise due to its availability and ease of access from multiple remote systems via SSH.","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"JhzwiwO37y"}],"key":"B3YKZO0YZp"},{"type":"paragraph","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"The program is compiled with the GNU Fortran compiler, ","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"POXtX5YhqR"},{"type":"inlineCode","value":"gfortran","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"qEmn6t7TcW"},{"type":"text","value":", which is available on the ARM platform. The program is compiled with debugging information using the ","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"ajgL7kiCCM"},{"type":"inlineCode","value":"-ggdb3","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"DB76h48GwI"},{"type":"text","value":" option, which allows us to debug the program in GDB and see the source code interspersed with the assembly instructions.","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"tYTG762v9N"}],"key":"edQwJB0wDN"},{"type":"paragraph","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"The program is compiled with:","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"Ohntultn9A"}],"key":"mdlHYz6jpL"},{"type":"code","lang":"bash","value":"$ gfortran -ggdb3 mod_int.f08 -o mod_int_Fortran_aarch64_ggdb3","position":{"start":{"line":32,"column":1},"end":{"line":34,"column":1}},"key":"cKzPDnOfZt"},{"type":"paragraph","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"For general edification, we also have ","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"gKdcxW7W9M"},{"type":"inlineCode","value":"gfortran","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"kLGa51EiPK"},{"type":"text","value":" produce generic assembly with the ","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"onDxSAmmNg"},{"type":"inlineCode","value":"-S","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"UZSetFVFdy"},{"type":"text","value":" option, an object file with the ","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"SQghNA2Epc"},{"type":"inlineCode","value":"-o","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"cIeeUE5n1p"},{"type":"text","value":" option, and object dumps of the object and executable files.","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"dNDne8jDVF"}],"key":"SdIQicX1mY"},{"type":"paragraph","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"The generic assembly is generated by using the ","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"CHlUwhTqyL"},{"type":"inlineCode","value":"-S","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"YdqX7Bpbzw"},{"type":"text","value":" (assembly) option:","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"a0YFxxHmJn"}],"key":"pDdrMoySHI"},{"type":"code","lang":"bash","value":"$ gfortran -S -ggdb3 mod_int.f08 -o mod_int.s","position":{"start":{"line":40,"column":1},"end":{"line":42,"column":1}},"key":"w58XmuvXAl"},{"type":"paragraph","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"text","value":"The object file is generated by using the ","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"Y2uaxYtUh7"},{"type":"inlineCode","value":"-c","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"rIWnq6M2Ih"},{"type":"text","value":" (compile) option:","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"SmEZQ4A9rn"}],"key":"tK0RU5iOsx"},{"type":"code","lang":"bash","value":"$ gfortran -c -ggdb3 mod_int.s -o mod_int.o","position":{"start":{"line":46,"column":1},"end":{"line":48,"column":1}},"key":"TthWSo4u3v"},{"type":"paragraph","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"children":[{"type":"text","value":"The objdump files are generated by using the following command and options:","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"e9uA6EjRlQ"}],"key":"nwiLfaeBAQ"},{"type":"code","lang":"bash","value":"$ objdump -x -D -S -s -g -t mod_int.o > objdump_of_dot_o.txt\n$ objdump -x -D -S -s -g -t mod_int_Fortran_aarch64_ggdb3 > objdump_of_dot_exe.txt","position":{"start":{"line":52,"column":1},"end":{"line":55,"column":1}},"key":"UP5Bc1ALjB"},{"type":"paragraph","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"text","value":"A rundown of the objdump options is shown here:","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"BnCjoX8tC3"}],"key":"E88spRtz3S"},{"type":"code","lang":"bash","value":"$objdump \nUsage: objdump <option(s)> <file(s)>\n Display information from object <file(s)>.\n At least one of the following switches must be given:\n  -a, --archive-headers    Display archive header information\n  -f, --file-headers       Display the contents of the overall file header\n  -p, --private-headers    Display object format specific file header contents\n  -P, --private=OPT,OPT... Display object format specific contents\n  -h, --[section-]headers  Display the contents of the section headers\n  -x, --all-headers        Display the contents of all headers\n  -d, --disassemble        Display assembler contents of executable sections\n  -D, --disassemble-all    Display assembler contents of all sections\n      --disassemble=<sym>  Display assembler contents from <sym>\n  -S, --source             Intermix source code with disassembly\n      --source-comment[=<txt>] Prefix lines of source code with <txt>\n  -s, --full-contents      Display the full contents of all sections requested\n  -g, --debugging          Display debug information in object file\n  -e, --debugging-tags     Display debug information using ctags style\n  -G, --stabs              Display (in raw form) any STABS info in the file\n  -W, --dwarf[a/=abbrev, A/=addr, r/=aranges, c/=cu_index, L/=decodedline,\n              f/=frames, F/=frames-interp, g/=gdb_index, i/=info, o/=loc,\n              m/=macro, p/=pubnames, t/=pubtypes, R/=Ranges, l/=rawline,\n              s/=str, O/=str-offsets, u/=trace_abbrev, T/=trace_aranges,\n              U/=trace_info]\n                           Display the contents of DWARF debug sections\n  -Wk,--dwarf=links        Display the contents of sections that link to\n                            separate debuginfo files\n  -WK,--dwarf=follow-links\n                           Follow links to separate debug info files (default)\n  -WN,--dwarf=no-follow-links\n                           Do not follow links to separate debug info files\n  -L, --process-links      Display the contents of non-debug sections in\n                            separate debuginfo files.  (Implies -WK)\n      --ctf[=SECTION]      Display CTF info from SECTION, (default `.ctf')\n      --sframe[=SECTION]   Display SFrame info from SECTION, (default '.sframe')\n  -t, --syms               Display the contents of the symbol table(s)\n  -T, --dynamic-syms       Display the contents of the dynamic symbol table\n  -r, --reloc              Display the relocation entries in the file\n  -R, --dynamic-reloc      Display the dynamic relocation entries in the file\n  @<file>                  Read options from <file>\n  -v, --version            Display this program's version number\n  -i, --info               List object formats and architectures supported\n  -H, --help               Display this information","position":{"start":{"line":59,"column":1},"end":{"line":103,"column":1}},"key":"RnjyhYSu91"},{"type":"paragraph","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"children":[{"type":"text","value":"In our case, we want ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"AjeV0im9de"},{"type":"inlineCode","value":"-x","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"zjbEndOsHR"},{"type":"text","value":" (all headers), ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"eWow7WZRs5"},{"type":"inlineCode","value":"-D","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"EM0gtbEttn"},{"type":"text","value":" (disassemble all), ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"fRWZe7bbQ2"},{"type":"inlineCode","value":"-S","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"WnijbjFV5e"},{"type":"text","value":" (display source code with assembly), ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"E8RWvPo515"},{"type":"inlineCode","value":"-s","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"aLdKU0QnAZ"},{"type":"text","value":" (full contents of all sections), ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"IdnRPkTIHR"},{"type":"inlineCode","value":"-g","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"rHLywSpxff"},{"type":"text","value":" (debug info), and finally, ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"jx1WskcQPs"},{"type":"inlineCode","value":"-t","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"AYEwYXd1GJ"},{"type":"text","value":" (display contents of the symbol tables).","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"AyJlniNr7b"}],"key":"LyMhh7KUiE"},{"type":"paragraph","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"We will now disassemble this program on the 64-bit ARM platform and step through the assembly instructions.","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"CQxd21XUlU"}],"key":"Oh9waWEuKB"},{"type":"thematicBreak","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"NMx0ts3Ztw"},{"type":"heading","depth":2,"position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"children":[{"type":"text","value":"Disassembling ","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"XXXjytpQza"},{"type":"emphasis","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"children":[{"type":"text","value":"mod_int_Fortran_aarch64_ggdb3","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"ZHSjrDGoBl"}],"key":"PHN9GoVqf8"}],"identifier":"disassembling-mod-int-fortran-aarch64-ggdb3","label":"Disassembling mod_int_Fortran_aarch64_ggdb3","html_id":"disassembling-mod-int-fortran-aarch64-ggdb3","implicit":true,"key":"bqGJSNtr2a"},{"type":"paragraph","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"children":[{"type":"text","value":"When we look at the executable’s objdump, we notice that there are two functions of interest, one is ","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"ubV5TJGAU2"},{"type":"inlineCode","value":"main","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"VHDq4ljuoW"},{"type":"text","value":", and the other is ","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"QgQM21iYsA"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"kWG7gwPxOp"},{"type":"text","value":". The Fortran compiler sets up the program arguments and options in ","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"TNgN8ozgoN"},{"type":"inlineCode","value":"main","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"ARmdQm9opC"},{"type":"text","value":", while the actual program is contained within ","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"TVGqsSHNIU"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"gbh5ym7d73"},{"type":"text","value":" (that is capital MAIN followed by two underscores).","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"fJCpoVX5Si"}],"key":"K47f3lQURx"},{"type":"paragraph","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"children":[{"type":"text","value":"The following text from the executable’s objdump illustrates this:","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"key":"KvC8hJPnKb"}],"key":"GZ7nU7XLLb"},{"type":"code","lang":"objdump","value":"Disassembly of section .text:\n\n0000000000000814 <MAIN__>:\nprogram mod_int\n 814:\td10043ff \tsub\tsp, sp, #0x10\n\n        implicit none\n\n        integer         :: a, b, c\n\n        a = 10\n 818:\t52800140 \tmov\tw0, #0xa                   \t// #10\n 81c:\tb9000fe0 \tstr\tw0, [sp, #12]\n        b = 4\n 820:\t52800080 \tmov\tw0, #0x4                   \t// #4\n 824:\tb9000be0 \tstr\tw0, [sp, #8]\n\n        c = MOD(a, b)\n 828:\tb9400fe0 \tldr\tw0, [sp, #12]\n 82c:\tb9400be1 \tldr\tw1, [sp, #8]\n 830:\t1ac10c02 \tsdiv\tw2, w0, w1\n 834:\tb9400be1 \tldr\tw1, [sp, #8]\n 838:\t1b017c41 \tmul\tw1, w2, w1\n 83c:\t4b010000 \tsub\tw0, w0, w1\n 840:\tb90007e0 \tstr\tw0, [sp, #4]\n\nend program mod_int\n 844:\td503201f \tnop\n 848:\t910043ff \tadd\tsp, sp, #0x10\n 84c:\td65f03c0 \tret\n\n0000000000000850 <main>:\n 850:\ta9be7bfd \tstp\tx29, x30, [sp, #-32]!\n 854:\t910003fd \tmov\tx29, sp\n 858:\tb9001fe0 \tstr\tw0, [sp, #28]\n 85c:\tf9000be1 \tstr\tx1, [sp, #16]\n 860:\tf9400be1 \tldr\tx1, [sp, #16]\n 864:\tb9401fe0 \tldr\tw0, [sp, #28]\n 868:\t97ffffa2 \tbl\t6f0 <_gfortran_set_args@plt>\n 86c:\t90000000 \tadrp\tx0, 0 <_init-0x660>\n 870:\t9124c001 \tadd\tx1, x0, #0x930\n 874:\t528000e0 \tmov\tw0, #0x7                   \t// #7\n 878:\t97ffff9a \tbl\t6e0 <_gfortran_set_options@plt>\n 87c:\t97ffffe6 \tbl\t814 <MAIN__>\n 880:\t52800000 \tmov\tw0, #0x0                   \t// #0\n 884:\ta8c27bfd \tldp\tx29, x30, [sp], #32\n 888:\td65f03c0 \tret\n 88c:\td503201f \tnop","position":{"start":{"line":117,"column":1},"end":{"line":166,"column":1}},"key":"pQ3Abu9rf3"},{"type":"heading","depth":2,"position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"children":[{"type":"text","value":"Explaining the Dissassembly by ChatGPT 4o","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"key":"LcJolcdZW9"}],"identifier":"explaining-the-dissassembly-by-chatgpt-4o","label":"Explaining the Dissassembly by ChatGPT 4o","html_id":"explaining-the-dissassembly-by-chatgpt-4o","implicit":true,"key":"y3F3TaQC93"},{"type":"paragraph","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"children":[{"type":"text","value":"This disassembly represents the ARM AArch64 machine code for a ","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"srPQuswurk"},{"type":"strong","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"children":[{"type":"text","value":"Fortran program that performs an integer modulus operation using ","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"uRSP44y3i6"},{"type":"inlineCode","value":"MOD(a, b)","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"aDgwUvPFlp"}],"key":"Wuglu8AjIE"},{"type":"text","value":". In AArch64, there is ","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"e7w4e6H34c"},{"type":"strong","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"children":[{"type":"text","value":"no single instruction for modulo","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"gamuTNZvIi"}],"key":"jnA6KTarTJ"},{"type":"text","value":", so the operation must be implemented using multiple primitive instructions.","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"OyaehesI8p"}],"key":"iiWMh8kPHp"},{"type":"paragraph","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"text","value":"Let’s examine in great detail ","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"GWXNx6GrmW"},{"type":"strong","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"text","value":"why","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"mVMu6U5lZI"}],"key":"vK9wL5panR"},{"type":"text","value":" and ","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"dRchV2kGMm"},{"type":"strong","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"text","value":"how","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"U31Z23c2cY"}],"key":"K9PYDknsUt"},{"type":"text","value":" the compiler synthesizes ","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"mYG6smdAL5"},{"type":"inlineCode","value":"MOD(a, b)","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"DUvI40upNZ"},{"type":"text","value":" using multiple instructions.","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"JZpOXjdLKE"}],"key":"naps2dww1C"},{"type":"thematicBreak","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"key":"SqdQ8jGO12"},{"type":"heading","depth":2,"position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"children":[{"type":"text","value":"High-Level Fortran Code","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"ES3DKQQMDL"}],"identifier":"high-level-fortran-code","label":"High-Level Fortran Code","html_id":"high-level-fortran-code","implicit":true,"key":"jgaPQPsKsg"},{"type":"code","lang":"fortran","value":"program mod_int\n  implicit none\n  integer :: a, b, c\n\n  a = 10\n  b = 4\n  c = MOD(a, b)\nend program mod_int","position":{"start":{"line":178,"column":1},"end":{"line":187,"column":1}},"key":"sHcIV5E8BZ"},{"type":"thematicBreak","position":{"start":{"line":189,"column":1},"end":{"line":189,"column":1}},"key":"rGOaFcLyGb"},{"type":"heading","depth":2,"position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"children":[{"type":"text","value":"Disassembly Overview","position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"key":"KXGrVjfhCl"}],"identifier":"disassembly-overview","label":"Disassembly Overview","html_id":"disassembly-overview","implicit":true,"key":"zFF2teZMRW"},{"type":"code","lang":"","value":"0000000000000814 <MAIN__>:","position":{"start":{"line":193,"column":1},"end":{"line":195,"column":1}},"key":"HF89U9r2gv"},{"type":"paragraph","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"children":[{"type":"text","value":"This is the Fortran-compiled ","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"WudkMWsAPR"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"OU3Z68t59v"},{"type":"text","value":" subroutine. Let’s go through it line by line, especially focusing on the ","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"mFAWJko29X"},{"type":"inlineCode","value":"MOD","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"zezsED5HOm"},{"type":"text","value":" operation.","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"bVMrvscTGE"}],"key":"kKcfu65Ydd"},{"type":"thematicBreak","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"iEoBztS1Ww"},{"type":"heading","depth":3,"position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"children":[{"type":"text","value":"1. Stack Frame Setup","position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"key":"OkxdlbZzOU"}],"identifier":"id-1-stack-frame-setup","label":"1. Stack Frame Setup","html_id":"id-1-stack-frame-setup","implicit":true,"key":"atWgbceFdi"},{"type":"code","lang":"asm","value":"814:\td10043ff \tsub\tsp, sp, #0x10","position":{"start":{"line":203,"column":1},"end":{"line":205,"column":1}},"key":"UAId8JFvH7"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":207,"column":1},"end":{"line":208,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":207,"column":1},"end":{"line":208,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Allocate 16 bytes on the stack for local variables ","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"kRyV2iAcc1"},{"type":"inlineCode","value":"a","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"OlIZWSRDEF"},{"type":"text","value":", ","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"ruBxO4ZhDr"},{"type":"inlineCode","value":"b","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"Zt8Jl0eWQb"},{"type":"text","value":", and ","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"hwFQdyxML3"},{"type":"inlineCode","value":"c","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"VXl6LeHURg"},{"type":"text","value":".","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"WE6jMvJ2tG"}],"key":"dzBUZJ6UMT"}],"key":"kuXlxsTBW2"}],"key":"gPfFZLwMYm"},{"type":"thematicBreak","position":{"start":{"line":209,"column":1},"end":{"line":209,"column":1}},"key":"iLe3NrBz4Z"},{"type":"heading","depth":3,"position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"children":[{"type":"text","value":"2. Initialize ","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"ht7z05hX4m"},{"type":"inlineCode","value":"a = 10","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"cJ9sVpEjsP"}],"identifier":"id-2-initialize-a-10","label":"2. Initialize a = 10","html_id":"id-2-initialize-a-10","implicit":true,"key":"GRVHGREMig"},{"type":"code","lang":"asm","value":"818:\t52800140 \tmov\tw0, #0xa           // w0 = 10\n81c:\tb9000fe0 \tstr\tw0, [sp, #12]      // store a at sp+12","position":{"start":{"line":213,"column":1},"end":{"line":216,"column":1}},"key":"KWSd5nG4f9"},{"type":"thematicBreak","position":{"start":{"line":218,"column":1},"end":{"line":218,"column":1}},"key":"DtOI03YUFs"},{"type":"heading","depth":3,"position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"children":[{"type":"text","value":"3. Initialize ","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"U3svqNx80b"},{"type":"inlineCode","value":"b = 4","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"wMGvAiq8h5"}],"identifier":"id-3-initialize-b-4","label":"3. Initialize b = 4","html_id":"id-3-initialize-b-4","implicit":true,"key":"uGDqqoqLrH"},{"type":"code","lang":"asm","value":"820:\t52800080 \tmov\tw0, #0x4           // w0 = 4\n824:\tb9000be0 \tstr\tw0, [sp, #8]       // store b at sp+8","position":{"start":{"line":222,"column":1},"end":{"line":225,"column":1}},"key":"Qo3PhFgO7F"},{"type":"thematicBreak","position":{"start":{"line":227,"column":1},"end":{"line":227,"column":1}},"key":"g5FgONN159"},{"type":"heading","depth":2,"position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"children":[{"type":"text","value":"4. Perform ","position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"key":"El3FacEcrM"},{"type":"inlineCode","value":"c = MOD(a, b)","position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"key":"M6TKJe5v0i"}],"identifier":"id-4-perform-c-mod-a-b","label":"4. Perform c = MOD(a, b)","html_id":"id-4-perform-c-mod-a-b","implicit":true,"key":"ItC9bf76eM"},{"type":"paragraph","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"children":[{"type":"text","value":"Here is the key section of interest:","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"y9mSej6V1L"}],"key":"C7K7aNoiFO"},{"type":"code","lang":"asm","value":"828:\tb9400fe0 \tldr\tw0, [sp, #12]      // load a into w0\n82c:\tb9400be1 \tldr\tw1, [sp, #8]       // load b into w1\n830:\t1ac10c02 \tsdiv\tw2, w0, w1         // w2 = a / b (integer division)\n834:\tb9400be1 \tldr\tw1, [sp, #8]       // reload b into w1\n838:\t1b017c41 \tmul\tw1, w2, w1         // w1 = (a / b) * b\n83c:\t4b010000 \tsub\tw0, w0, w1         // w0 = a - (a / b) * b = MOD(a, b)\n840:\tb90007e0 \tstr\tw0, [sp, #4]       // store result in c","position":{"start":{"line":233,"column":1},"end":{"line":241,"column":1}},"key":"DtCIdIrimT"},{"type":"heading","depth":3,"position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"children":[{"type":"text","value":"Step-by-step Breakdown of ","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"key":"IDsAm37Irc"},{"type":"inlineCode","value":"MOD(a, b)","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"key":"nM5wTQ0fuk"},{"type":"text","value":":","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"key":"cyZTvZH9nl"}],"identifier":"step-by-step-breakdown-of-mod-a-b","label":"Step-by-step Breakdown of MOD(a, b):","html_id":"step-by-step-breakdown-of-mod-a-b","implicit":true,"key":"rOOEHH4cM3"},{"type":"paragraph","position":{"start":{"line":245,"column":1},"end":{"line":245,"column":1}},"children":[{"type":"strong","position":{"start":{"line":245,"column":1},"end":{"line":245,"column":1}},"children":[{"type":"text","value":"The formula implemented is:","position":{"start":{"line":245,"column":1},"end":{"line":245,"column":1}},"key":"R0d1tsr71W"}],"key":"LrMZQ8unMu"}],"key":"UBS4yPMzDR"},{"type":"math","value":"\\text{MOD}(a, b) = a - \\left(\\left\\lfloor \\frac{a}{b} \\right\\rfloor \\times b\\right)","position":{"start":{"line":247,"column":1},"end":{"line":249,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mtext>MOD</mtext><mo stretchy=\"false\">(</mo><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>a</mi><mo>−</mo><mrow><mo fence=\"true\">(</mo><mrow><mo fence=\"true\">⌊</mo><mfrac><mi>a</mi><mi>b</mi></mfrac><mo fence=\"true\">⌋</mo></mrow><mo>×</mo><mi>b</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">\\text{MOD}(a, b) = a - \\left(\\left\\lfloor \\frac{a}{b} \\right\\rfloor \\times b\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord text\"><span class=\"mord\">MOD</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.836em;vertical-align:-0.686em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">(</span></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">⌊</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1076em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">⌋</span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">)</span></span></span></span></span></span></span>","enumerator":"1","key":"UhOqh1DZAd"},{"type":"paragraph","position":{"start":{"line":251,"column":1},"end":{"line":251,"column":1}},"children":[{"type":"text","value":"In ARM64:","position":{"start":{"line":251,"column":1},"end":{"line":251,"column":1}},"key":"LHFxgf1cQP"}],"key":"WyMbyZZo8q"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":253,"column":1},"end":{"line":259,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"children":[{"type":"text","value":"No ","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"cbFIzX9Fyc"},{"type":"inlineCode","value":"mod","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"EIy09vSXKM"},{"type":"text","value":" or ","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"Yww802EhrU"},{"type":"inlineCode","value":"remainder","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"cOp3KL2pQK"},{"type":"text","value":" instruction exists.","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"hIksP1L5bb"}],"key":"wai04GoQAC"}],"key":"bUVOJJ1pB7"},{"type":"listItem","spread":true,"position":{"start":{"line":254,"column":1},"end":{"line":259,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"children":[{"type":"text","value":"We must ","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"key":"rgXAaplbxY"},{"type":"strong","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"children":[{"type":"text","value":"simulate","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"key":"jab5aU69FV"}],"key":"kiSpSH2ZVi"},{"type":"text","value":" the modulus using:","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"key":"ubocHS9y8s"}],"key":"mpp15y1p8X"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":256,"column":1},"end":{"line":259,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"children":[{"type":"text","value":"Signed integer division","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"key":"FuV4OCCFAR"}],"key":"xDcQYtoxIN"},{"type":"text","value":": ","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"key":"C53OZ3oLEd"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"key":"y5Fl9ZdL3N"}],"key":"yWuqSFnsZK"}],"key":"VdlCIx7Dqs"},{"type":"listItem","spread":true,"position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"children":[{"type":"text","value":"Multiplication","position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"key":"NFithLTnMK"}],"key":"aOPQEC9Eh5"},{"type":"text","value":": ","position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"key":"dx6bffhyQd"},{"type":"inlineCode","value":"mul","position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"key":"CsxY1IQqs5"}],"key":"HC8uYoGdRi"}],"key":"fvPL9YlfK1"},{"type":"listItem","spread":true,"position":{"start":{"line":258,"column":1},"end":{"line":259,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"children":[{"type":"text","value":"Subtraction","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"key":"Tw5FT8FMhl"}],"key":"FJ2EDmqcgS"},{"type":"text","value":": ","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"key":"IjOFo9JSOV"},{"type":"inlineCode","value":"sub","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"key":"VSx8uPkBQ7"}],"key":"Eg1bYNOchb"}],"key":"wOoczsqQuo"}],"key":"o3dGzMloQ5"}],"key":"ue1MKCA9CK"}],"key":"RYsFyrZxkx"},{"type":"thematicBreak","position":{"start":{"line":260,"column":1},"end":{"line":260,"column":1}},"key":"pkiN05MeJ8"},{"type":"heading","depth":3,"position":{"start":{"line":262,"column":1},"end":{"line":262,"column":1}},"children":[{"type":"text","value":"Why multiple operations?","position":{"start":{"line":262,"column":1},"end":{"line":262,"column":1}},"key":"PZpGNmUHUh"}],"identifier":"why-multiple-operations","label":"Why multiple operations?","html_id":"why-multiple-operations","implicit":true,"key":"eGJd5xEoDX"},{"type":"heading","depth":4,"position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"children":[{"type":"text","value":"There’s no native ","position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"key":"Dc2n54hIrt"},{"type":"inlineCode","value":"mod","position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"key":"fexgppSzNH"},{"type":"text","value":" instruction","position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"key":"awrUi5Ildv"}],"identifier":"theres-no-native-mod-instruction","label":"There’s no native mod instruction","html_id":"theres-no-native-mod-instruction","implicit":true,"key":"kEHJMT1atT"},{"type":"paragraph","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"children":[{"type":"text","value":"Unlike some architectures (e.g., x86 with ","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"cO9XA0CDUd"},{"type":"inlineCode","value":"idiv","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"l3qTrW9fkk"},{"type":"text","value":" producing remainder), ","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"Gy8aAcjXJk"},{"type":"strong","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"children":[{"type":"text","value":"ARM AArch64 has only ","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"owqs5mfIt0"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"pum2bNpRxo"}],"key":"X959P7HMjE"},{"type":"text","value":", which gives you:","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"spnMvQc9z8"}],"key":"XjCHCABy3X"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":268,"column":1},"end":{"line":269,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":268,"column":1},"end":{"line":269,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"F8GF1kTONO"},{"type":"strong","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"children":[{"type":"text","value":"quotient","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"kSzfdI6ih6"}],"key":"Jt6QfxGlDJ"},{"type":"text","value":", but not the ","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"soX0nNpLIo"},{"type":"strong","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"children":[{"type":"text","value":"remainder","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"zGbUCWouOR"}],"key":"UdWolDVJTr"},{"type":"text","value":".","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"fwggaqKfeO"}],"key":"uXP303dAp8"}],"key":"OENoK01EdK"}],"key":"gsAQYIgzPi"},{"type":"paragraph","position":{"start":{"line":270,"column":1},"end":{"line":270,"column":1}},"children":[{"type":"text","value":"To compute the modulus, we must do:","position":{"start":{"line":270,"column":1},"end":{"line":270,"column":1}},"key":"T1hcyttNpJ"}],"key":"C8wVp5dJRv"},{"type":"math","value":"\\text{MOD}(a, b) = a - \\left(\\left( \\text{a div b} \\right) \\cdot b\\right)","position":{"start":{"line":272,"column":1},"end":{"line":274,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mtext>MOD</mtext><mo stretchy=\"false\">(</mo><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>a</mi><mo>−</mo><mrow><mo fence=\"true\">(</mo><mrow><mo fence=\"true\">(</mo><mtext>a div b</mtext><mo fence=\"true\">)</mo></mrow><mo>⋅</mo><mi>b</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">\\text{MOD}(a, b) = a - \\left(\\left( \\text{a div b} \\right) \\cdot b\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord text\"><span class=\"mord\">MOD</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord text\"><span class=\"mord\">a div b</span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span></span>","enumerator":"2","key":"auWWC37HLc"},{"type":"paragraph","position":{"start":{"line":276,"column":1},"end":{"line":276,"column":1}},"children":[{"type":"text","value":"This is mathematically sound because:","position":{"start":{"line":276,"column":1},"end":{"line":276,"column":1}},"key":"I2TXSFVZzm"}],"key":"joNrlUGdoo"},{"type":"math","value":"a = (a \\div b) \\cdot b + (a \\mod b)\n\\Rightarrow\na \\mod b = a - (a \\div b) \\cdot b","position":{"start":{"line":278,"column":1},"end":{"line":282,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>a</mi><mo>=</mo><mo stretchy=\"false\">(</mo><mi>a</mi><mo>÷</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>⋅</mo><mi>b</mi><mo>+</mo><mo stretchy=\"false\">(</mo><mi>a</mi><mspace></mspace><mspace width=\"1em\"/><mrow><mi mathvariant=\"normal\">m</mi><mi mathvariant=\"normal\">o</mi><mi mathvariant=\"normal\">d</mi></mrow><mtext> </mtext><mtext> </mtext><mi>b</mi><mo stretchy=\"false\">)</mo><mo>⇒</mo><mi>a</mi><mspace></mspace><mspace width=\"1em\"/><mrow><mi mathvariant=\"normal\">m</mi><mi mathvariant=\"normal\">o</mi><mi mathvariant=\"normal\">d</mi></mrow><mtext> </mtext><mtext> </mtext><mi>b</mi><mo>=</mo><mi>a</mi><mo>−</mo><mo stretchy=\"false\">(</mo><mi>a</mi><mo>÷</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>⋅</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">a = (a \\div b) \\cdot b + (a \\mod b)\n\\Rightarrow\na \\mod b = a - (a \\div b) \\cdot b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">÷</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7778em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mspace allowbreak\"></span><span class=\"mspace\" style=\"margin-right:1em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">mod</span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">⇒</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace allowbreak\"></span><span class=\"mspace\" style=\"margin-right:1em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">mod</span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">÷</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span></span>","enumerator":"3","key":"vaPQusY3nS"},{"type":"thematicBreak","position":{"start":{"line":284,"column":1},"end":{"line":284,"column":1}},"key":"rp3ZvKP7g7"},{"type":"heading","depth":3,"position":{"start":{"line":286,"column":1},"end":{"line":286,"column":1}},"children":[{"type":"text","value":"Instruction-by-instruction: ","position":{"start":{"line":286,"column":1},"end":{"line":286,"column":1}},"key":"iUrl5znGV9"},{"type":"inlineCode","value":"MOD(a, b)","position":{"start":{"line":286,"column":1},"end":{"line":286,"column":1}},"key":"Lm6Lze4V3E"}],"identifier":"instruction-by-instruction-mod-a-b","label":"Instruction-by-instruction: MOD(a, b)","html_id":"instruction-by-instruction-mod-a-b","implicit":true,"key":"tUm4bDZmIt"},{"type":"heading","depth":4,"position":{"start":{"line":288,"column":1},"end":{"line":288,"column":1}},"children":[{"type":"text","value":"Load values:","position":{"start":{"line":288,"column":1},"end":{"line":288,"column":1}},"key":"K97dJ683e0"}],"identifier":"load-values","label":"Load values:","html_id":"load-values","implicit":true,"key":"VR0jJQOgez"},{"type":"code","lang":"asm","value":"828:\tb9400fe0 \tldr\tw0, [sp, #12]      // w0 = a = 10\n82c:\tb9400be1 \tldr\tw1, [sp, #8]       // w1 = b = 4","position":{"start":{"line":290,"column":1},"end":{"line":293,"column":1}},"key":"z4mqyOKmyz"},{"type":"heading","depth":4,"position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"children":[{"type":"text","value":"Integer Division:","position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"key":"sCCYou6Mug"}],"identifier":"integer-division","label":"Integer Division:","html_id":"integer-division","implicit":true,"key":"KkVKGt1O3c"},{"type":"code","lang":"asm","value":"830:\t1ac10c02 \tsdiv\tw2, w0, w1         // w2 = w0 / w1 = 10 / 4 = 2","position":{"start":{"line":297,"column":1},"end":{"line":299,"column":1}},"key":"YmXa4HFoCi"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":301,"column":1},"end":{"line":302,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":301,"column":1},"end":{"line":302,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Signed division: result in ","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"ni4ifpn9bo"},{"type":"inlineCode","value":"w2 = 2","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"SU5XVs5rni"}],"key":"AwJ8S11oNp"}],"key":"U2A7UQ3Rhk"}],"key":"gHy8hM5TVy"},{"type":"heading","depth":4,"position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"children":[{"type":"text","value":"Reload ","position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"key":"iNH3lDK19k"},{"type":"inlineCode","value":"b","position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"key":"FqkPBgaroq"},{"type":"text","value":":","position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"key":"KBdkZiPPtY"}],"identifier":"reload-b","label":"Reload b:","html_id":"reload-b","implicit":true,"key":"xmG3zvPUkU"},{"type":"code","lang":"asm","value":"834:\tb9400be1 \tldr\tw1, [sp, #8]       // w1 = b = 4","position":{"start":{"line":305,"column":1},"end":{"line":307,"column":1}},"key":"P9gctnKdlv"},{"type":"heading","depth":4,"position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"children":[{"type":"text","value":"Multiply quotient × b:","position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"key":"YjZjpuJ6Cq"}],"identifier":"multiply-quotient-b","label":"Multiply quotient × b:","html_id":"multiply-quotient-b","implicit":true,"key":"SBInDUAPRu"},{"type":"code","lang":"asm","value":"838:\t1b017c41 \tmul\tw1, w2, w1         // w1 = 2 * 4 = 8","position":{"start":{"line":311,"column":1},"end":{"line":313,"column":1}},"key":"MiKos3LddJ"},{"type":"heading","depth":4,"position":{"start":{"line":315,"column":1},"end":{"line":315,"column":1}},"children":[{"type":"text","value":"Subtract to get modulus:","position":{"start":{"line":315,"column":1},"end":{"line":315,"column":1}},"key":"g4QwIAuK52"}],"identifier":"subtract-to-get-modulus","label":"Subtract to get modulus:","html_id":"subtract-to-get-modulus","implicit":true,"key":"gntnxbzfw0"},{"type":"code","lang":"asm","value":"83c:\t4b010000 \tsub\tw0, w0, w1         // w0 = 10 - 8 = 2","position":{"start":{"line":317,"column":1},"end":{"line":319,"column":1}},"key":"h2YUrrBGHy"},{"type":"heading","depth":4,"position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"children":[{"type":"text","value":"Store result:","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"key":"EIPDOjND0t"}],"identifier":"store-result","label":"Store result:","html_id":"store-result","implicit":true,"key":"py8MS3yVNo"},{"type":"code","lang":"asm","value":"840:\tb90007e0 \tstr\tw0, [sp, #4]       // store c = 2","position":{"start":{"line":323,"column":1},"end":{"line":325,"column":1}},"key":"tqvc8uVJn3"},{"type":"thematicBreak","position":{"start":{"line":327,"column":1},"end":{"line":327,"column":1}},"key":"ZBVmXYY9p9"},{"type":"heading","depth":2,"position":{"start":{"line":329,"column":1},"end":{"line":329,"column":1}},"children":[{"type":"text","value":"Function Epilogue","position":{"start":{"line":329,"column":1},"end":{"line":329,"column":1}},"key":"Dh2mPb4dZD"}],"identifier":"function-epilogue","label":"Function Epilogue","html_id":"function-epilogue","implicit":true,"key":"TaeXARQkDK"},{"type":"code","lang":"asm","value":"844:\td503201f \tnop\n848:\t910043ff \tadd\tsp, sp, #0x10      // restore original stack pointer\n84c:\td65f03c0 \tret                   // return","position":{"start":{"line":331,"column":1},"end":{"line":335,"column":1}},"key":"oWd4OeNC9z"},{"type":"thematicBreak","position":{"start":{"line":337,"column":1},"end":{"line":337,"column":1}},"key":"R80L4gmlLx"},{"type":"heading","depth":2,"position":{"start":{"line":339,"column":1},"end":{"line":339,"column":1}},"children":[{"type":"text","value":"Final Stack Layout","position":{"start":{"line":339,"column":1},"end":{"line":339,"column":1}},"key":"ppMhPe6ol2"}],"identifier":"final-stack-layout","label":"Final Stack Layout","html_id":"final-stack-layout","implicit":true,"key":"yekmOCl5dl"},{"type":"table","position":{"start":{"line":341,"column":1},"end":{"line":345,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"children":[{"type":"text","value":"Offset","position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"key":"XRd3dvRXgC"}],"key":"DdJR52pkBU"},{"type":"tableCell","header":true,"position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"children":[{"type":"text","value":"Variable","position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"key":"dYShBPjWT1"}],"key":"B67ePXeexa"},{"type":"tableCell","header":true,"position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"children":[{"type":"text","value":"Value","position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"key":"UmDKpbExhn"}],"key":"wVmKHB1dhu"}],"key":"ZpU1e8foeU"},{"type":"tableRow","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"children":[{"type":"text","value":"+12","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"key":"GgaEErC9bv"}],"key":"XufNUM1RKz"},{"type":"tableCell","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"children":[{"type":"inlineCode","value":"a","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"key":"mVjuKZtQRq"}],"key":"ujQ050xIo8"},{"type":"tableCell","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"children":[{"type":"text","value":"10","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"key":"GoTw4XDQzA"}],"key":"iNR1DtRcf0"}],"key":"jUW23zjMhj"},{"type":"tableRow","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"children":[{"type":"text","value":"+8","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"key":"vSgrBZBQAQ"}],"key":"nUBxb7z1f6"},{"type":"tableCell","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"children":[{"type":"inlineCode","value":"b","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"key":"ruzSZVJiSz"}],"key":"wG4DQLIcfr"},{"type":"tableCell","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"children":[{"type":"text","value":"4","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"key":"jDm0h3qfas"}],"key":"tThVBROv6P"}],"key":"M3Bgw1oEkC"},{"type":"tableRow","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"children":[{"type":"text","value":"+4","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"key":"dmuaMUiaCT"}],"key":"HM4C07Qx1S"},{"type":"tableCell","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"children":[{"type":"inlineCode","value":"c","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"key":"XmTZjeirew"}],"key":"VVjf60NgKL"},{"type":"tableCell","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"children":[{"type":"text","value":"2","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"key":"S1Cua3U9HP"}],"key":"b3OcISYq2H"}],"key":"eDnDls2cW3"}],"key":"gAlkS4olSp"},{"type":"thematicBreak","position":{"start":{"line":347,"column":1},"end":{"line":347,"column":1}},"key":"PnIO1Fa4qu"},{"type":"heading","depth":2,"position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"children":[{"type":"text","value":"Summary: Why Multiple Instructions Are Needed for ","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"key":"adQmSnEnTc"},{"type":"inlineCode","value":"MOD","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"key":"LrmT6F5mwl"}],"identifier":"summary-why-multiple-instructions-are-needed-for-mod","label":"Summary: Why Multiple Instructions Are Needed for MOD","html_id":"summary-why-multiple-instructions-are-needed-for-mod","implicit":true,"key":"U2wdMPAIc2"},{"type":"table","position":{"start":{"line":351,"column":1},"end":{"line":355,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"children":[{"type":"text","value":"Operation","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"AwU80tNaVT"}],"key":"v8jTCwwbVJ"},{"type":"tableCell","header":true,"position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"children":[{"type":"text","value":"ARM64 Instruction","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"hqU8ZLToj8"}],"key":"DKlPs5wMpx"},{"type":"tableCell","header":true,"position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"children":[{"type":"text","value":"Purpose","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"hd6WNBIStA"}],"key":"gNuvAo2jWR"}],"key":"R0Fd7kUokQ"},{"type":"tableRow","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"children":[{"type":"text","value":"Integer Division","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"key":"D1HDyq61tm"}],"key":"Dr33D2A8AF"},{"type":"tableCell","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"children":[{"type":"inlineCode","value":"sdiv","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"key":"UfZRPWMIDP"}],"key":"fQJS2U8AL6"},{"type":"tableCell","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"children":[{"type":"text","value":"Compute quotient","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"key":"oRaZHjE21f"}],"key":"Bcmyrtzg9t"}],"key":"uYHXv9FZRa"},{"type":"tableRow","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"children":[{"type":"text","value":"Multiply","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"key":"gvqqb5DH04"}],"key":"hERUreguVv"},{"type":"tableCell","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"children":[{"type":"inlineCode","value":"mul","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"key":"CXCY43PU9b"}],"key":"k7zvO7uT7B"},{"type":"tableCell","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"children":[{"type":"text","value":"Compute ","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"key":"pnAJDEXMJb"},{"type":"inlineCode","value":"(a / b) * b","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"key":"mbgAt5TOeR"}],"key":"Kn8W4DAcul"}],"key":"vDcBdoU0rj"},{"type":"tableRow","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"children":[{"type":"text","value":"Subtract","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"key":"RXZ7MMIAvJ"}],"key":"NmHOEg32Hl"},{"type":"tableCell","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"children":[{"type":"inlineCode","value":"sub","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"key":"YCdd3Zia8x"}],"key":"jk6YqGYd8I"},{"type":"tableCell","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"children":[{"type":"text","value":"Get remainder: ","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"key":"mFoTusv877"},{"type":"inlineCode","value":"a - (a / b) * b","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"key":"YTqMRa9Mnv"}],"key":"ParKKdFMwq"}],"key":"lSQYO4N4pv"}],"key":"PmHvwMN3I0"},{"type":"heading","depth":3,"position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"children":[{"type":"text","value":"Because ARM64 lacks a direct ","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"NuxX3eAuCa"},{"type":"inlineCode","value":"mod","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"pkPjtmgefV"},{"type":"text","value":" instruction, the compiler ","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"MyXQ8iAuWy"},{"type":"strong","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"children":[{"type":"text","value":"emulates","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"VdXgVP6MCQ"}],"key":"rpr2dJOnmO"},{"type":"text","value":" it via:","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"qtJfHgT97t"}],"identifier":"because-arm64-lacks-a-direct-mod-instruction-the-compiler-emulates-it-via","label":"Because ARM64 lacks a direct mod instruction, the compiler emulates it via:","html_id":"because-arm64-lacks-a-direct-mod-instruction-the-compiler-emulates-it-via","implicit":true,"key":"kEs5aAezMR"},{"type":"math","value":"\\text{MOD}(a, b) = a - \\left(\\left\\lfloor \\frac{a}{b} \\right\\rfloor \\times b\\right)","position":{"start":{"line":359,"column":1},"end":{"line":361,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mtext>MOD</mtext><mo stretchy=\"false\">(</mo><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>a</mi><mo>−</mo><mrow><mo fence=\"true\">(</mo><mrow><mo fence=\"true\">⌊</mo><mfrac><mi>a</mi><mi>b</mi></mfrac><mo fence=\"true\">⌋</mo></mrow><mo>×</mo><mi>b</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">\\text{MOD}(a, b) = a - \\left(\\left\\lfloor \\frac{a}{b} \\right\\rfloor \\times b\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord text\"><span class=\"mord\">MOD</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.836em;vertical-align:-0.686em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">(</span></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">⌊</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1076em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">⌋</span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">)</span></span></span></span></span></span></span>","enumerator":"4","key":"seV7JzKZgM"},{"type":"thematicBreak","position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"key":"pNZF4iFk1U"},{"type":"paragraph","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"children":[{"type":"text","value":"Let me know if you’d like a version that works with ","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"aPDDgchEZX"},{"type":"strong","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"children":[{"type":"text","value":"negative numbers","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"b315GwFPha"}],"key":"YXqO0Vbzir"},{"type":"text","value":" or Fortran’s ","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"f2cHZyHbFA"},{"type":"inlineCode","value":"MODULO()","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"vYP5tAkUFS"},{"type":"text","value":" semantics (which differ subtly from ","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"Ju3oBD2KuL"},{"type":"inlineCode","value":"MOD","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"n6piVnNDZ1"},{"type":"text","value":").","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"Ak1RDPdNfC"}],"key":"hN6X1zkRP1"},{"type":"heading","depth":2,"position":{"start":{"line":368,"column":1},"end":{"line":368,"column":1}},"children":[{"type":"text","value":"Explaining the Disassembly by Grok 4","position":{"start":{"line":368,"column":1},"end":{"line":368,"column":1}},"key":"vCqTD9MWnV"}],"identifier":"explaining-the-disassembly-by-grok-4","label":"Explaining the Disassembly by Grok 4","html_id":"explaining-the-disassembly-by-grok-4","implicit":true,"key":"ihxtcwKO2z"},{"type":"heading","depth":3,"position":{"start":{"line":370,"column":1},"end":{"line":370,"column":1}},"children":[{"type":"text","value":"Overview of the Disassembly","position":{"start":{"line":370,"column":1},"end":{"line":370,"column":1}},"key":"TH9wPv4nTC"}],"identifier":"overview-of-the-disassembly","label":"Overview of the Disassembly","html_id":"overview-of-the-disassembly","implicit":true,"key":"ls24gbt1zR"},{"type":"paragraph","position":{"start":{"line":371,"column":1},"end":{"line":371,"column":1}},"children":[{"type":"text","value":"This disassembly is in ARM64 (AArch64) assembly language, representing the machine code generated from a simple Fortran program named ","position":{"start":{"line":371,"column":1},"end":{"line":371,"column":1}},"key":"qAsI3HMVa1"},{"type":"inlineCode","value":"mod_int","position":{"start":{"line":371,"column":1},"end":{"line":371,"column":1}},"key":"dKoTpfMunz"},{"type":"text","value":". The Fortran source is provided inline for context:","position":{"start":{"line":371,"column":1},"end":{"line":371,"column":1}},"key":"GCFqjciuMR"}],"key":"zOXSDAgHHM"},{"type":"code","lang":"fortran","value":"program mod_int\n    implicit none\n    integer :: a, b, c\n    a = 10\n    b = 4\n    c = MOD(a, b)\nend program mod_int","position":{"start":{"line":372,"column":1},"end":{"line":380,"column":1}},"key":"A77EDvkLih"},{"type":"paragraph","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"children":[{"type":"text","value":"This program declares three 32-bit integers (","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"fj8e9WYbfQ"},{"type":"inlineCode","value":"a","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"VH6w2l40IY"},{"type":"text","value":", ","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"HrwgTQTc1U"},{"type":"inlineCode","value":"b","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"gAKq91JGH8"},{"type":"text","value":", ","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"XOymgdXIIC"},{"type":"inlineCode","value":"c","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"gSh8XWl9et"},{"type":"text","value":"), assigns ","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"DlmQSUCc0A"},{"type":"inlineCode","value":"a = 10","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"R1GtEnr1p4"},{"type":"text","value":" and ","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"DZzjCfrRl9"},{"type":"inlineCode","value":"b = 4","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"oIVckBV3gq"},{"type":"text","value":", and computes ","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"NEeZlGMzgP"},{"type":"inlineCode","value":"c = MOD(10, 4)","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"e3emAiENcg"},{"type":"text","value":", which should yield ","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"oeKnJQxrtn"},{"type":"inlineCode","value":"2","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"ghSRvImjDA"},{"type":"text","value":" (the remainder of 10 divided by 4). The result is stored but not used further (e.g., no printing or return value), so the program has no visible side effects when run—it simply computes and exits.","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"cMnT953LAU"}],"key":"yZUoxh1aI0"},{"type":"paragraph","position":{"start":{"line":383,"column":1},"end":{"line":383,"column":1}},"children":[{"type":"text","value":"The disassembly consists of two main functions:","position":{"start":{"line":383,"column":1},"end":{"line":383,"column":1}},"key":"CqAo2S3fsd"}],"key":"SlZydBjNdg"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":384,"column":1},"end":{"line":386,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":384,"column":1},"end":{"line":384,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":384,"column":1},"end":{"line":384,"column":1}},"children":[{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":384,"column":1},"end":{"line":384,"column":1}},"key":"OyLI5ai7nQ"},{"type":"text","value":" at address ","position":{"start":{"line":384,"column":1},"end":{"line":384,"column":1}},"key":"szch2RGSfo"},{"type":"inlineCode","value":"0x814","position":{"start":{"line":384,"column":1},"end":{"line":384,"column":1}},"key":"Z46HTRETSV"}],"key":"mqtl1Lhf9I"},{"type":"text","value":": This is the compiler-generated name for the Fortran program’s body (common in gfortran). It allocates stack space for the three integers, performs the assignments and modulo operation, and returns.","position":{"start":{"line":384,"column":1},"end":{"line":384,"column":1}},"key":"N7suJGO8Qv"}],"key":"tDsOjQVrnP"}],"key":"bMxbCMV46N"},{"type":"listItem","spread":true,"position":{"start":{"line":385,"column":1},"end":{"line":386,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"children":[{"type":"inlineCode","value":"main","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"IYiuKTBlq6"},{"type":"text","value":" at address ","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"lm4kr3eLWU"},{"type":"inlineCode","value":"0x850","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"hwBtNaxWAk"}],"key":"CsZg1mV1Qd"},{"type":"text","value":": The C-style entry point for the executable, which handles command-line arguments, initializes the GNU Fortran (gfortran) runtime library, calls ","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"fAqRLpxHie"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"sDc1hRDWDF"},{"type":"text","value":", and exits with status 0.","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"MGcLnAd2W3"}],"key":"SjPcZ1R7ts"}],"key":"pr98uy9dmK"}],"key":"kYxF195Cbk"},{"type":"paragraph","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"children":[{"type":"text","value":"This code was likely compiled with gfortran (evident from calls to ","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"ajsIv0qonk"},{"type":"inlineCode","value":"_gfortran_set_args","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"nArO34BveZ"},{"type":"text","value":" and ","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"qqYTb9rGm9"},{"type":"inlineCode","value":"_gfortran_set_options","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"LmfZP79mjC"},{"type":"text","value":"). It’s unoptimized, as seen in redundant loads (e.g., reloading ","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"KX8OMGsENt"},{"type":"inlineCode","value":"b","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"LInIo4Rz6U"},{"type":"text","value":" after division). The program uses 32-bit operations (","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"b9ivfcIvlP"},{"type":"inlineCode","value":"w","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"BNm0LYXIMZ"},{"type":"text","value":" registers) for integers, matching Fortran’s default ","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"rvAL1cFLBn"},{"type":"inlineCode","value":"INTEGER","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"Tb4H25Bsu8"},{"type":"text","value":" type.","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"CXaCH0MaDo"}],"key":"kH9oVnLcAA"},{"type":"paragraph","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"children":[{"type":"text","value":"A key focus is the ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"mYyJEovbmT"},{"type":"inlineCode","value":"MOD(a, b)","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"COHxkiSihi"},{"type":"text","value":" operation, which requires multiple instructions because ARM64 lacks a direct signed modulo instruction. Instead, the compiler implements it using signed division (","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"CwGyiVBR2t"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"CztV2QXMJ7"},{"type":"text","value":"), multiplication (","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"KK9laTql38"},{"type":"inlineCode","value":"mul","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"GxAWg9rVJ5"},{"type":"text","value":"), and subtraction (","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"zJbb0ifhXu"},{"type":"inlineCode","value":"sub","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"sMQlIbPwrt"},{"type":"text","value":"). This is a standard software emulation of modulo: ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"oRdKBuLM7v"},{"type":"inlineCode","value":"a % b = a - ((a / b) * b)","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"xmOWCnmNrb"},{"type":"text","value":", where ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"GVzCZnxceC"},{"type":"inlineCode","value":"/","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"T5ld4Y3pGH"},{"type":"text","value":" is integer division. This approach ensures correct handling of signed integers (e.g., negative values, though not used here), but it’s less efficient than a hypothetical hardware modulo. ARM64 does have unsigned divide-with-remainder (","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"Z0BXaGWP3r"},{"type":"inlineCode","value":"udiv","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"Gza1fIPcQH"},{"type":"text","value":" + ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"NG1p7MznEv"},{"type":"inlineCode","value":"msub","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"Az97jdz39K"},{"type":"text","value":" for multiply-subtract), but for signed operations like Fortran’s ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"IF5P5Rwztx"},{"type":"inlineCode","value":"MOD","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"WFciak7zI2"},{"type":"text","value":", the compiler opts for this sequence to handle signs properly (using ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"lX1hyanD16"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"QSDh8oGUYM"},{"type":"text","value":" for signed division). If optimization were enabled (e.g., ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"AYrOa02rJs"},{"type":"inlineCode","value":"-O2","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"TDOUc23mqG"},{"type":"text","value":"), the compiler might inline constants or reduce redundancies, but here it’s straightforward.","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"ra1Gz87Jtt"}],"key":"xtJddHzLEH"},{"type":"paragraph","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"children":[{"type":"text","value":"I’ll explain each instruction in detail, including opcode, semantics, context, and binary encoding. ARM64 conventions: Registers ","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"bT5EMgcGR2"},{"type":"inlineCode","value":"x0","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"MdVJQ74y2P"},{"type":"text","value":"-","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"DCqsmzbLpX"},{"type":"inlineCode","value":"x30","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"YlKQcSlUGe"},{"type":"text","value":" (64-bit), ","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"iDeglNSBqx"},{"type":"inlineCode","value":"w0","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"uopOpvhzVc"},{"type":"text","value":"-","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"j0N6HcX5CS"},{"type":"inlineCode","value":"w30","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"spuMjCABkd"},{"type":"text","value":" (lower 32 bits); stack grows downward; ABI uses ","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"mRiyVZrkpj"},{"type":"inlineCode","value":"x0-x7","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"sYIQ6vrz4o"},{"type":"text","value":" for params, ","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"TNTKBynfMV"},{"type":"inlineCode","value":"x0","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"XWQ6GeLsLm"},{"type":"text","value":" for returns, ","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"OTIjU7z6Hn"},{"type":"inlineCode","value":"x29","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"oJY3ABj7b2"},{"type":"text","value":" for frame pointer, ","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"GoUqy3x5Ca"},{"type":"inlineCode","value":"x30","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"oHMPAPAQsl"},{"type":"text","value":" for link register.","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"M68858VLna"}],"key":"NmEBDFsl81"},{"type":"heading","depth":3,"position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"children":[{"type":"text","value":"Detailed Explanation of ","position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"key":"mDw5GKWku0"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"key":"x001xk0e6t"},{"type":"text","value":" (Fortran Program Logic)","position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"key":"DIMEkGvoAg"}],"identifier":"detailed-explanation-of-main-fortran-program-logic","label":"Detailed Explanation of MAIN__ (Fortran Program Logic)","html_id":"detailed-explanation-of-main-fortran-program-logic","implicit":true,"key":"vNntOPNDDp"},{"type":"paragraph","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"children":[{"type":"text","value":"This function allocates 16 bytes on the stack (for three 4-byte integers, padded for 16-byte alignment), assigns values to ","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"wKyp9uWPVX"},{"type":"inlineCode","value":"a","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"Lwgd2VnLr1"},{"type":"text","value":" and ","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"LdCdR0ak0W"},{"type":"inlineCode","value":"b","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"OQIUOq5WyC"},{"type":"text","value":", computes ","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"Jj2Cy4GJpG"},{"type":"inlineCode","value":"c = MOD(a, b)","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"oGkfs8qzOm"},{"type":"text","value":" via the multi-step sequence, and cleans up. The ","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"hMSirnN5dg"},{"type":"inlineCode","value":"nop","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"SKLZQZWk39"},{"type":"text","value":" is likely for alignment.","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"Hffhu4N99L"}],"key":"sv8Tek2zA7"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":396,"column":1},"end":{"line":475,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":396,"column":1},"end":{"line":400,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":396,"column":1},"end":{"line":399,"column":1}},"children":[{"type":"strong","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"children":[{"type":"inlineCode","value":"814: d10043ff sub sp, sp, #0x10","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"O93i8pICtQ"}],"key":"O1e1kEIAl5"},{"type":"break","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"xOjP1pQjvt"},{"type":"strong","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"c6tfC5qIxP"}],"key":"sWKro30gmz"},{"type":"text","value":": ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"YHC0VHRH0l"},{"type":"inlineCode","value":"d1 00 43 ff","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"IT7qnbXfmD"},{"type":"break","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"ZqZGBZRBMp"},{"type":"strong","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"WGPoq9OcuQ"}],"key":"fBE70fbdN8"},{"type":"text","value":": Subtracts ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"DgrAmR28TV"},{"type":"inlineCode","value":"0x10","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"vxC9wsK9uU"},{"type":"text","value":" (16 decimal) from the stack pointer ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"mYlDQ2nj7f"},{"type":"inlineCode","value":"sp","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"UyjYRcTV1F"},{"type":"text","value":", allocating 16 bytes of local stack space. Result written back to ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"zGFfT5f0e7"},{"type":"inlineCode","value":"sp","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"DiLOPiKSpF"},{"type":"text","value":". ARM64 requires manual stack management; allocations must be 16-byte aligned.","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"tCfehCDbpn"},{"type":"break","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"DsYq2DAagJ"},{"type":"strong","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"jyf8lKppiZ"}],"key":"LRG59MmdOP"},{"type":"text","value":": Function prologue. Reserves space for ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"StxLpMraRh"},{"type":"inlineCode","value":"a","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"km5ljhzdbz"},{"type":"text","value":" at ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"tMAk8Z12P5"},{"type":"inlineCode","value":"sp+12","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"VVc5lgBUI1"},{"type":"text","value":" (4 bytes), ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"aquFVKAv0s"},{"type":"inlineCode","value":"b","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"SBMIA2wtEA"},{"type":"text","value":" at ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"XnsCYS6Y4P"},{"type":"inlineCode","value":"sp+8","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"YBe1faouty"},{"type":"text","value":", ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"HtOI4RmrIH"},{"type":"inlineCode","value":"c","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"gNorsoMgyk"},{"type":"text","value":" at ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"opI0qoErKH"},{"type":"inlineCode","value":"sp+4","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"q7mEK0SICB"},{"type":"text","value":", with padding at ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"x1C78HiH0o"},{"type":"inlineCode","value":"sp+0","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"PeLy9IoD2Z"},{"type":"text","value":" for alignment. After this, ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"v7fEXxgmFF"},{"type":"inlineCode","value":"sp","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"ycn0CdLs84"},{"type":"text","value":" points to the frame base.","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"uT9v9kxUZ5"}],"key":"J6SMGEW8u3"}],"key":"FrFM0dPGTT"},{"type":"listItem","spread":true,"position":{"start":{"line":401,"column":1},"end":{"line":405,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":401,"column":1},"end":{"line":404,"column":1}},"children":[{"type":"strong","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"children":[{"type":"inlineCode","value":"818: 52800140 mov w0, #0xa","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"d9yB28F9Zx"}],"key":"yv7FsRJrvh"},{"type":"break","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"V75E7G9Cbz"},{"type":"strong","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"cOrnZ9UFQV"}],"key":"WWANbCcAY0"},{"type":"text","value":": ","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"gxv001cu7u"},{"type":"inlineCode","value":"52 80 01 40","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"hr1jWcm5YM"},{"type":"break","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"p30IPKyTvU"},{"type":"strong","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"iODA4uZemh"}],"key":"sDB8UQ2VGS"},{"type":"text","value":": Moves immediate ","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"MHrug00XhF"},{"type":"inlineCode","value":"0xa","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"WtRwsunrph"},{"type":"text","value":" (10 decimal) into ","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"ABomURFpuq"},{"type":"inlineCode","value":"w0","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"eW51AzjeL8"},{"type":"text","value":" (lower 32 bits of ","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"IrCHVww96M"},{"type":"inlineCode","value":"x0","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"RiDCZcRwod"},{"type":"text","value":"; upper bits zeroed). This is a 32-bit move immediate.","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"ZyWNN63H13"},{"type":"break","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"cCiVFSoSQw"},{"type":"strong","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"snnKExXB1r"}],"key":"yhdRbXyCj0"},{"type":"text","value":": Initializes a temporary for ","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"LAuBe8N8r9"},{"type":"inlineCode","value":"a = 10","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"PR4awVerK9"},{"type":"text","value":". Constants are loaded into registers before storing to memory.","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"BVV1fHOFEm"}],"key":"cyDsmgK4Fx"}],"key":"sQD7hplWnz"},{"type":"listItem","spread":true,"position":{"start":{"line":406,"column":1},"end":{"line":410,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":406,"column":1},"end":{"line":409,"column":1}},"children":[{"type":"strong","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"children":[{"type":"inlineCode","value":"81c: b9000fe0 str w0, [sp, #12]","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"AdmQlsHvVl"}],"key":"gdv4ZYBrV0"},{"type":"break","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"W1IK3Xx8Fn"},{"type":"strong","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"gULWYLphyw"}],"key":"Yv6y5WDP7R"},{"type":"text","value":": ","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"OSfj0fl7Y1"},{"type":"inlineCode","value":"b9 00 0f e0","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"Hdoi7FV7d6"},{"type":"break","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"mBy3MiHaLp"},{"type":"strong","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"xjcPFjEYKc"}],"key":"Uz9WHluJ17"},{"type":"text","value":": Stores 32-bit ","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"d93KXjYf8w"},{"type":"inlineCode","value":"w0","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"DtAFqmSevA"},{"type":"text","value":" (10) to memory at ","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"WbobAbGfFm"},{"type":"inlineCode","value":"sp + 12","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"M3bBWFvJMa"},{"type":"text","value":". ","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"qi2KwiymFd"},{"type":"inlineCode","value":"str","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"hXMDGNFyWH"},{"type":"text","value":" is “store register”.","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"Qy8qrymMpI"},{"type":"break","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"ePGlEVPl1z"},{"type":"strong","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"yWQlaDqVnX"}],"key":"yemi8h8sys"},{"type":"text","value":": Assigns to ","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"lo5IM5Y8hQ"},{"type":"inlineCode","value":"a","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"Z0hXMeEgdu"},{"type":"text","value":" on the stack. Stack offsets are positive from current ","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"s2aCQy7ik4"},{"type":"inlineCode","value":"sp","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"rmuwHRn8Ym"},{"type":"text","value":".","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"d1d3LgHOXx"}],"key":"eOeJgoD3HL"}],"key":"zjLMUEn1Ig"},{"type":"listItem","spread":true,"position":{"start":{"line":411,"column":1},"end":{"line":415,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":411,"column":1},"end":{"line":414,"column":1}},"children":[{"type":"strong","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"children":[{"type":"inlineCode","value":"820: 52800080 mov w0, #0x4","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"LMX5BM8Th8"}],"key":"ZLGoI9am6L"},{"type":"break","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"ZwVxvJAsIx"},{"type":"strong","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"jun9Pj2P2E"}],"key":"HFLZednenO"},{"type":"text","value":": ","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"tmBXDjMPVv"},{"type":"inlineCode","value":"52 80 00 80","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"Fy5PNWIyTD"},{"type":"break","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"TSFpaXJQTA"},{"type":"strong","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"prMjXCwcY8"}],"key":"XNzml8bDR5"},{"type":"text","value":": Moves ","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"BWKCtKUFQd"},{"type":"inlineCode","value":"0x4","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"don24uG60W"},{"type":"text","value":" (4) into ","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"PQHu8T1349"},{"type":"inlineCode","value":"w0","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"NZvrBMqmrV"},{"type":"text","value":", overwriting previous value.","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"jB86uC9OTm"},{"type":"break","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"NyI2eot9LN"},{"type":"strong","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"JkZ5XrixZ4"}],"key":"qnVRGHIN65"},{"type":"text","value":": Initializes temporary for ","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"ZzGykZC9cb"},{"type":"inlineCode","value":"b = 4","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"v9hDYJDwCw"},{"type":"text","value":".","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"Ks7YPLNPHG"}],"key":"ikazRtfEyu"}],"key":"T33QYrFvJ1"},{"type":"listItem","spread":true,"position":{"start":{"line":416,"column":1},"end":{"line":420,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":416,"column":1},"end":{"line":419,"column":1}},"children":[{"type":"strong","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"children":[{"type":"inlineCode","value":"824: b9000be0 str w0, [sp, #8]","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"ikCl4f4Lue"}],"key":"RQ3DRX6wJ8"},{"type":"break","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"kkszQfaXpW"},{"type":"strong","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"DmA0aM65nV"}],"key":"LduTqdjsjo"},{"type":"text","value":": ","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"bnfaADjQuk"},{"type":"inlineCode","value":"b9 00 0b e0","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"wSuTm3Qi7U"},{"type":"break","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"qx4G77z9Gi"},{"type":"strong","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"KZbadbtJsB"}],"key":"v5FVGmYk2Q"},{"type":"text","value":": Stores ","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"sdx2NdhS8a"},{"type":"inlineCode","value":"w0","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"hrRL0ajlim"},{"type":"text","value":" (4) at ","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"bB2n3EQj8H"},{"type":"inlineCode","value":"sp + 8","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"lmjHZ7RBnM"},{"type":"text","value":".","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"MfNFLt6Irx"},{"type":"break","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"lO4ycRHzNI"},{"type":"strong","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"bvnfVUkUfV"}],"key":"MHc906YdIT"},{"type":"text","value":": Assigns to ","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"XCrfGJmrlL"},{"type":"inlineCode","value":"b","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"P260JdW6nF"},{"type":"text","value":".","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"jnrsIPygJy"}],"key":"mmF0BtMDEI"}],"key":"C2NUznkPKD"},{"type":"listItem","spread":true,"position":{"start":{"line":421,"column":1},"end":{"line":425,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":421,"column":1},"end":{"line":424,"column":1}},"children":[{"type":"strong","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"children":[{"type":"inlineCode","value":"828: b9400fe0 ldr w0, [sp, #12]","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"ddt5hyfqZr"}],"key":"nG7cf1ifvJ"},{"type":"break","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"ihFTzdUdOs"},{"type":"strong","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"BPpITwH6ju"}],"key":"lpUA7Dr8a2"},{"type":"text","value":": ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"YXcKPiQbya"},{"type":"inlineCode","value":"b9 40 0f e0","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"P38MoTWCHV"},{"type":"break","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"KkSgunJUfY"},{"type":"strong","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"yl731Hfkqt"}],"key":"Py5dhguzTD"},{"type":"text","value":": Loads 32-bit value from ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"Zrr7SSoH5F"},{"type":"inlineCode","value":"sp + 12","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"J4TbsNgrO9"},{"type":"text","value":" (10, value of ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"HvK1NT4ENX"},{"type":"inlineCode","value":"a","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"fleuBwpq9G"},{"type":"text","value":") into ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"dDUsiVkyUK"},{"type":"inlineCode","value":"w0","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"j4QZMETHhB"},{"type":"text","value":". ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"Ia9Q99Nmq0"},{"type":"inlineCode","value":"ldr","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"tdMfscGbq9"},{"type":"text","value":" is “load register”.","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"JaVVpul19V"},{"type":"break","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"wXC4MRdYcB"},{"type":"strong","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"WsjatFRGtV"}],"key":"XH8d7jA70Z"},{"type":"text","value":": Loads ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"FDd5heucqQ"},{"type":"inlineCode","value":"a","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"GHY2I6bMLg"},{"type":"text","value":" into ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"qbuRcai0uB"},{"type":"inlineCode","value":"w0","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"Ly6b826vpb"},{"type":"text","value":" as the dividend for the modulo operation.","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"rNigkG9lZa"}],"key":"CpWUGT8O0F"}],"key":"PYiuVCKfjU"},{"type":"listItem","spread":true,"position":{"start":{"line":426,"column":1},"end":{"line":430,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":426,"column":1},"end":{"line":429,"column":1}},"children":[{"type":"strong","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"children":[{"type":"inlineCode","value":"82c: b9400be1 ldr w1, [sp, #8]","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"tlBVJ2mGVM"}],"key":"G5h06m0ZF7"},{"type":"break","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"SpxLdfYo7f"},{"type":"strong","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"aXbOE8wczG"}],"key":"ya8S7bM06H"},{"type":"text","value":": ","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"WYKmloURs3"},{"type":"inlineCode","value":"b9 40 0b e1","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"eXD8Bw8OUI"},{"type":"break","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"XOm4dB3GAO"},{"type":"strong","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"ZQ1Ago7mHY"}],"key":"FdWkmprgee"},{"type":"text","value":": Loads from ","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"V6uVc4dvrC"},{"type":"inlineCode","value":"sp + 8","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"VAVMF1UwtG"},{"type":"text","value":" (4, value of ","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"t46fgPFhFJ"},{"type":"inlineCode","value":"b","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"atqjryyEbr"},{"type":"text","value":") into ","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"ievj6UCxav"},{"type":"inlineCode","value":"w1","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"hzLrbMSg37"},{"type":"text","value":".","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"NbcimISByc"},{"type":"break","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"pni4mJaHz4"},{"type":"strong","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"ROYSlv9Usc"}],"key":"fLMXG0AlGB"},{"type":"text","value":": Loads ","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"Quk0tsymhY"},{"type":"inlineCode","value":"b","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"OFXyDJTpm9"},{"type":"text","value":" into ","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"KD7Ozx4lSL"},{"type":"inlineCode","value":"w1","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"ZiUTdyfpfH"},{"type":"text","value":" as the divisor.","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"BgJun1lFGG"}],"key":"Z0tB1lpuid"}],"key":"HQMExf17Rx"},{"type":"listItem","spread":true,"position":{"start":{"line":431,"column":1},"end":{"line":435,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":431,"column":1},"end":{"line":434,"column":1}},"children":[{"type":"strong","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"children":[{"type":"inlineCode","value":"830: 1ac10c02 sdiv w2, w0, w1","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"k2x9WCnxdX"}],"key":"lHPgaLw1nE"},{"type":"break","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"yK3p8Mbyhx"},{"type":"strong","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"IZGG4NP8ur"}],"key":"RUCqK6rDai"},{"type":"text","value":": ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"DyzI68RKmG"},{"type":"inlineCode","value":"1a c1 0c 02","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"Q0MkBsrMGr"},{"type":"break","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"TVa0c5RW4U"},{"type":"strong","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"lHDrnaTh5x"}],"key":"TOYoE8tC02"},{"type":"text","value":": Performs signed integer division: ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"UQ7a3aMusu"},{"type":"inlineCode","value":"w2 = w0 / w1","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"bcofKkB8yM"},{"type":"text","value":" (10 / 4 = 2). ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"snPLpXy4pu"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"PTDdR7DGMT"},{"type":"text","value":" handles negative numbers by rounding toward zero (Fortran ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"vLo4Jv6SFM"},{"type":"inlineCode","value":"MOD","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"HVOlu5R5kX"},{"type":"text","value":" semantics require this for consistency with positive/negative remainders). No remainder is produced directly.","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"KenEg0henM"},{"type":"break","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"jDwXu3dpEb"},{"type":"strong","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"EThKBoN5bE"}],"key":"nFsjpAb3Io"},{"type":"text","value":": First step of modulo: Compute quotient ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"B9E4qNzChZ"},{"type":"inlineCode","value":"q = a / b","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"hCBCgnVBMJ"},{"type":"text","value":" (stored in ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"NXr09zoKWT"},{"type":"inlineCode","value":"w2","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"XSln9jWTdV"},{"type":"text","value":"). This is necessary because ARM64 has no single-instruction signed modulo. ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"srHDhmxpoo"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"uabgabTmMI"},{"type":"text","value":" is used over ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"Ip7PMgyFfE"},{"type":"inlineCode","value":"udiv","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"DhprbdYOeG"},{"type":"text","value":" (unsigned) to match Fortran’s signed integer behavior.","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"Oa3dcJD4S7"}],"key":"tWy877x2lf"}],"key":"cRO0Ozxc4f"},{"type":"listItem","spread":true,"position":{"start":{"line":436,"column":1},"end":{"line":440,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":436,"column":1},"end":{"line":439,"column":1}},"children":[{"type":"strong","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"children":[{"type":"inlineCode","value":"834: b9400be1 ldr w1, [sp, #8]","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"dwyYxgVgsN"}],"key":"QIvPpeCCx3"},{"type":"break","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"rKCC2vkCsU"},{"type":"strong","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"wnsSiIrWzY"}],"key":"aGQ8KXEUGW"},{"type":"text","value":": ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"ftz4l34YwO"},{"type":"inlineCode","value":"b9 40 0b e1","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"GiGGvk8A1I"},{"type":"break","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"jPFShfM6zh"},{"type":"strong","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"xhJPPrwMBK"}],"key":"YRT3BeYFO8"},{"type":"text","value":": Reloads ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"a0l3krUuYm"},{"type":"inlineCode","value":"b","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"FVgu4qhzuq"},{"type":"text","value":" (4) from ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"vFtXGIw2Cz"},{"type":"inlineCode","value":"sp + 8","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"G1yYrJiw8S"},{"type":"text","value":" into ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"K2R2gmlN68"},{"type":"inlineCode","value":"w1","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"AFNXBUryPE"},{"type":"text","value":".","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"lkzDrPud4i"},{"type":"break","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"GHG2EDZi2w"},{"type":"strong","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"jFepGwNP4t"}],"key":"qLlJYJySNj"},{"type":"text","value":": Prepares ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"RPz5KfEfsW"},{"type":"inlineCode","value":"b","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"LYbCSTSIxc"},{"type":"text","value":" for multiplication. This reload is redundant (","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"yxS93e7aM4"},{"type":"inlineCode","value":"w1","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"cLpBqN7CgA"},{"type":"text","value":" already held ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"BBqlcKKqa4"},{"type":"inlineCode","value":"b","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"WCAF7DpA66"},{"type":"text","value":" before ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"fNHujms4hw"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"nWSoGiQkIy"},{"type":"text","value":"), likely due to no optimization; an optimized build might eliminate it.","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"IX95hDapKu"}],"key":"cJpCpAA8eP"}],"key":"hTZcUoQIWs"},{"type":"listItem","spread":true,"position":{"start":{"line":441,"column":1},"end":{"line":445,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":441,"column":1},"end":{"line":444,"column":1}},"children":[{"type":"strong","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"children":[{"type":"inlineCode","value":"838: 1b017c41 mul w1, w2, w1","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"c6BmFq09yV"}],"key":"nt3t894ZZ4"},{"type":"break","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"wefLcOy6VN"},{"type":"strong","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"TjUdBYZRfZ"}],"key":"jZGaIcsrWk"},{"type":"text","value":": ","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"sjx2tl1uAV"},{"type":"inlineCode","value":"1b 01 7c 41","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"xFb8SjmYqi"},{"type":"break","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"ciwkKfXVhO"},{"type":"strong","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"viABjy4Hyo"}],"key":"peLASNOi6E"},{"type":"text","value":": Multiplies ","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"C8elZymGND"},{"type":"inlineCode","value":"w1 = w2 * w1","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"pg24fwFHVG"},{"type":"text","value":" (2 * 4 = 8). ","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"Pgao3CQIA9"},{"type":"inlineCode","value":"mul","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"uaZAtQIBev"},{"type":"text","value":" is integer multiplication, with overflow wrapping (but no issue here).","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"zJlOTpS0b9"},{"type":"break","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"JjK25VQLWz"},{"type":"strong","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"RuHMQUYKTE"}],"key":"D3SzYFJHtd"},{"type":"text","value":": Second step of modulo: Compute ","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"K96lk4q0nl"},{"type":"inlineCode","value":"q * b","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"kQ8L3iyWou"},{"type":"text","value":" (quotient times divisor). This reconstructs the largest multiple of ","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"vBkYtykTqy"},{"type":"inlineCode","value":"b","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"gNcxDsEEIg"},{"type":"text","value":" less than or equal to ","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"CksOTKmYRz"},{"type":"inlineCode","value":"a","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"RCDivrouaW"},{"type":"text","value":" (for positive values).","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"UNeEpVg9fU"}],"key":"Ka1EaShuv1"}],"key":"Btz2tfR8tH"},{"type":"listItem","spread":true,"position":{"start":{"line":446,"column":1},"end":{"line":455,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":446,"column":1},"end":{"line":449,"column":1}},"children":[{"type":"strong","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"children":[{"type":"inlineCode","value":"83c: 4b010000 sub w0, w0, w1","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"PzCq3cWG23"}],"key":"VN8MF1CXNt"},{"type":"break","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"vF6X06MW8T"},{"type":"strong","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"Egr4RcBTUG"}],"key":"H4M3Ap7Dn2"},{"type":"text","value":": ","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"oRCatZmOt2"},{"type":"inlineCode","value":"4b 01 00 00","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"AV52vPy09a"},{"type":"break","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"GmfoNSNmPJ"},{"type":"strong","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"BrDIM2iiEP"}],"key":"pdtxqtz9tw"},{"type":"text","value":": Subtracts ","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"wJiQ7U03ge"},{"type":"inlineCode","value":"w0 = w0 - w1","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"ybPU7xbTmb"},{"type":"text","value":" (10 - 8 = 2). Integer subtraction without borrow flags checked.","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"i3wYdwWzyo"},{"type":"break","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"kAaSLVr27Z"},{"type":"strong","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"LVRZ6ym2Ie"}],"key":"GGSUOvfsos"},{"type":"text","value":": Final step of modulo: Remainder ","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"aVm7WImo3t"},{"type":"inlineCode","value":"r = a - (q * b)","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"uNZxv72cYi"},{"type":"text","value":". This yields the modulo result (2). The multi-step process is needed because:","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"PJZe61VqpC"}],"key":"mX02pHInp4"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":450,"column":1},"end":{"line":455,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"ARM64’s integer division instructions (","position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"key":"xVZyx6CGE7"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"key":"c27Qonnsep"},{"type":"text","value":", ","position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"key":"ch5JjYh0Ls"},{"type":"inlineCode","value":"udiv","position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"key":"JqfYsRWrDi"},{"type":"text","value":") only produce the quotient, not the remainder.","position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"key":"XGr8dMCl81"}],"key":"tpL9HcScqj"}],"key":"xCUvg093kt"},{"type":"listItem","spread":true,"position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"For signed modulo, the compiler must ensure the remainder has the sign of the dividend (Fortran ","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"o36NqWMMeE"},{"type":"inlineCode","value":"MOD","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"oheKTz42gA"},{"type":"text","value":" rule: remainder same sign as ","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"N4Gm4wCIM6"},{"type":"inlineCode","value":"a","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"uKOeV4pXJg"},{"type":"text","value":"), which ","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"BvpKrfm6oK"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"fHGeMTFCZS"},{"type":"text","value":" + ","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"fA3qR2Ei9X"},{"type":"inlineCode","value":"mul","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"cZ5W1EXG1k"},{"type":"text","value":" + ","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"pby9yKlD9P"},{"type":"inlineCode","value":"sub","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"XLvuXr1u3p"},{"type":"text","value":" achieves.","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"vfNAjQICQO"}],"key":"AQ42McbLvx"}],"key":"enDQMjHj2B"},{"type":"listItem","spread":true,"position":{"start":{"line":452,"column":1},"end":{"line":452,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Hardware support for remainder exists in some forms (e.g., ","position":{"start":{"line":452,"column":1},"end":{"line":452,"column":1}},"key":"hQecgNLilQ"},{"type":"inlineCode","value":"msub","position":{"start":{"line":452,"column":1},"end":{"line":452,"column":1}},"key":"nNBtZs6Gqk"},{"type":"text","value":" for multiply-subtract in unsigned contexts), but for signed ops, this sequence is portable and safe.","position":{"start":{"line":452,"column":1},"end":{"line":452,"column":1}},"key":"DrK4y5kGCn"}],"key":"E8vW8ERiA2"}],"key":"nPkkW44o41"},{"type":"listItem","spread":true,"position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Alternatives like bit manipulation or loops aren’t efficient for general cases. If ","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"eqLn1TEf0o"},{"type":"inlineCode","value":"b","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"bOjlCcLzFH"},{"type":"text","value":" were a power of 2, the compiler might optimize to AND (e.g., ","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"sODSofY1Ul"},{"type":"inlineCode","value":"MOD(a, 4) = a & 3","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"TrRT3dTXP1"},{"type":"text","value":"), but here ","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"lmPmlrF0DE"},{"type":"inlineCode","value":"b=4","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"HFBGYEPAxc"},{"type":"text","value":" is constant—unoptimized code doesn’t exploit that.","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"wMV3U3qbat"}],"key":"KbgAv6QemV"}],"key":"rKV5GnMVna"},{"type":"listItem","spread":true,"position":{"start":{"line":454,"column":1},"end":{"line":455,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Edge cases (e.g., ","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"AP9rKPwVFt"},{"type":"inlineCode","value":"b=0","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"k1rMVKgUhU"},{"type":"text","value":" causes divide-by-zero trap in ","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"xI9uJUhC4N"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"jQOikrGsK9"},{"type":"text","value":"; negative ","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"WmMlhkzbsw"},{"type":"inlineCode","value":"a","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"hwZ4tVoKse"},{"type":"text","value":" or ","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"MGLFnxmmYU"},{"type":"inlineCode","value":"b","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"v7eEiko3B2"},{"type":"text","value":") are handled implicitly by ","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"HVJUIRI9aN"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"YxEz4CW1r2"},{"type":"text","value":"’s signed semantics.","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"bXx91ciKM6"}],"key":"lWevvOyAUh"}],"key":"WBN7gwsxng"}],"key":"ZTMIKEKANe"}],"key":"A5QwnpYASh"},{"type":"listItem","spread":true,"position":{"start":{"line":456,"column":1},"end":{"line":460,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":456,"column":1},"end":{"line":459,"column":1}},"children":[{"type":"strong","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"children":[{"type":"inlineCode","value":"840: b90007e0 str w0, [sp, #4]","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"sDT9OI80Qj"}],"key":"zQMldfKdbr"},{"type":"break","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"oT9q4l5duC"},{"type":"strong","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"mcgLEHdvlp"}],"key":"iGXZ1898E1"},{"type":"text","value":": ","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"Oa5a4a5Dkr"},{"type":"inlineCode","value":"b9 00 07 e0","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"L2D0ZWsJUg"},{"type":"break","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"o4MPp6z2T1"},{"type":"strong","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"ZZCxli9Be4"}],"key":"s100FK9FEl"},{"type":"text","value":": Stores ","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"Ustvw9nr4B"},{"type":"inlineCode","value":"w0","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"wcgIv9aN93"},{"type":"text","value":" (2) at ","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"KrfnmpjfX4"},{"type":"inlineCode","value":"sp + 4","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"lZ2TrvPvzn"},{"type":"text","value":".","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"f9XTGcj7um"},{"type":"break","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"cFAmtZzYgY"},{"type":"strong","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"fJRKqwkIMx"}],"key":"VlNAsDvEQc"},{"type":"text","value":": Assigns result to ","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"czmw4LE1C9"},{"type":"inlineCode","value":"c","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"jrI6d9dv4f"},{"type":"text","value":". Stored but unused—Fortran doesn’t require using variables.","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"jcDq2NQPdh"}],"key":"TT9ohaQCfe"}],"key":"DsB4Xpa6CW"},{"type":"listItem","spread":true,"position":{"start":{"line":461,"column":1},"end":{"line":465,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":461,"column":1},"end":{"line":464,"column":1}},"children":[{"type":"strong","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"children":[{"type":"inlineCode","value":"844: d503201f nop","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"E4yPezv2ba"}],"key":"EtZ3pDyiIg"},{"type":"break","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"QraogcBe1n"},{"type":"strong","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"gT7WYlev9K"}],"key":"WbtPljhSHS"},{"type":"text","value":": ","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"wap2gb6ZdE"},{"type":"inlineCode","value":"d5 03 20 1f","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"LJJGrmUiAk"},{"type":"break","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"gphEaJ4qeN"},{"type":"strong","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"eEB4BUfI2L"}],"key":"yKjkDRMfoM"},{"type":"text","value":": No operation—advances program counter without effect. Often for alignment (instructions 4-byte aligned) or padding.","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"cFvSHkTAcY"},{"type":"break","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"C3DgqCC5Jm"},{"type":"strong","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"F1zxQ9VQzP"}],"key":"r3yHScjBLh"},{"type":"text","value":": Compiler-inserted; no functional role, possibly after inlining checks.","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"HoRAGsLaky"}],"key":"mZQ1aaaMA3"}],"key":"kPVxmoNxoP"},{"type":"listItem","spread":true,"position":{"start":{"line":466,"column":1},"end":{"line":470,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":466,"column":1},"end":{"line":469,"column":1}},"children":[{"type":"strong","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"children":[{"type":"inlineCode","value":"848: 910043ff add sp, sp, #0x10","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"opAlgE85bq"}],"key":"OwtufVURyO"},{"type":"break","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"WXsgRsStRH"},{"type":"strong","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"Oz6Gmuad0x"}],"key":"ljivpPP6xA"},{"type":"text","value":": ","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"FmFI7nuAE2"},{"type":"inlineCode","value":"91 00 43 ff","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"ynZPAfCcpw"},{"type":"break","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"eTitElslYO"},{"type":"strong","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"tP4iIG7nuv"}],"key":"DejzFOp0SB"},{"type":"text","value":": Adds ","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"FJqStf4a00"},{"type":"inlineCode","value":"0x10","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"fo6eUW6Ssp"},{"type":"text","value":" to ","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"o3c8OAoqGr"},{"type":"inlineCode","value":"sp","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"Ddav3eK2MY"},{"type":"text","value":", deallocating the frame.","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"RcYkNb6eHx"},{"type":"break","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"EgOs2zR8Va"},{"type":"strong","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"NPUT3BRI5C"}],"key":"HvgDnwkAdd"},{"type":"text","value":": Epilogue—restores caller’s stack.","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"rqUf66YlwC"}],"key":"ca5WtrNFFp"}],"key":"rJScVEcRoE"},{"type":"listItem","spread":true,"position":{"start":{"line":471,"column":1},"end":{"line":475,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":471,"column":1},"end":{"line":474,"column":1}},"children":[{"type":"strong","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"children":[{"type":"inlineCode","value":"84c: d65f03c0 ret","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"xwZDeWeg88"}],"key":"fGp5IS9OHD"},{"type":"break","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"S7DnrKDZiJ"},{"type":"strong","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"OKTm9FjkWC"}],"key":"huxa3bSPQC"},{"type":"text","value":": ","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"wYheIOZfmA"},{"type":"inlineCode","value":"d6 5f 03 c0","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"mZBPOENm4w"},{"type":"break","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"cluZpXORj5"},{"type":"strong","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"SRoAovb5AK"}],"key":"NyDq3YfxIA"},{"type":"text","value":": Returns by jumping to ","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"YjaRdALpPM"},{"type":"inlineCode","value":"x30","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"j2m7x63orB"},{"type":"text","value":" (link register). No explicit return value.","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"eRXb9RMnKF"},{"type":"break","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"BmZQeSAemp"},{"type":"strong","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"qKAiinYjwL"}],"key":"hl2GvyYBgP"},{"type":"text","value":": Ends ","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"S1IdfsBRyX"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"DGeI4eRV8q"},{"type":"text","value":".","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"Wy86hAihUz"}],"key":"TjSs9Z9R8z"}],"key":"mdA8DISUhb"}],"key":"RCByfkxsZi"},{"type":"heading","depth":3,"position":{"start":{"line":476,"column":1},"end":{"line":476,"column":1}},"children":[{"type":"text","value":"Detailed Explanation of ","position":{"start":{"line":476,"column":1},"end":{"line":476,"column":1}},"key":"w5yxaNIM1p"},{"type":"inlineCode","value":"main","position":{"start":{"line":476,"column":1},"end":{"line":476,"column":1}},"key":"gW81lVqjXR"},{"type":"text","value":" (Program Entry Point)","position":{"start":{"line":476,"column":1},"end":{"line":476,"column":1}},"key":"BZplE3k0BX"}],"identifier":"detailed-explanation-of-main-program-entry-point","label":"Detailed Explanation of main (Program Entry Point)","html_id":"detailed-explanation-of-main-program-entry-point","implicit":true,"key":"zionFsWVMd"},{"type":"paragraph","position":{"start":{"line":477,"column":1},"end":{"line":477,"column":1}},"children":[{"type":"text","value":"This is the runtime wrapper for Fortran executables. It processes args, sets up gfortran, calls ","position":{"start":{"line":477,"column":1},"end":{"line":477,"column":1}},"key":"kZpjXXC03H"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":477,"column":1},"end":{"line":477,"column":1}},"key":"VohTyr9nUT"},{"type":"text","value":", and exits. Similar to the previous disassembly, with minor address differences.","position":{"start":{"line":477,"column":1},"end":{"line":477,"column":1}},"key":"wefJncU8ey"}],"key":"bwIhgEHkNc"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":479,"column":1},"end":{"line":541,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":479,"column":1},"end":{"line":482,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":479,"column":1},"end":{"line":481,"column":1}},"children":[{"type":"strong","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"children":[{"type":"inlineCode","value":"850: a9be7bfd stp x29, x30, [sp, #-32]!","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"N9VHDk2egA"}],"key":"Bp1TybXK4n"},{"type":"break","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"T8HCYwnljT"},{"type":"strong","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"suU0wcBWAr"}],"key":"r4W3IgfTz8"},{"type":"text","value":": Allocates 32 bytes (pre-index subtract), stores frame pointer ","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"VNaDozEkxF"},{"type":"inlineCode","value":"x29","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"BzB4bnxGgh"},{"type":"text","value":" and link ","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"jJh777DzEv"},{"type":"inlineCode","value":"x30","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"zBT1lvh4im"},{"type":"text","value":" at new ","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"iano9NX8Am"},{"type":"inlineCode","value":"sp","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"aT0P1Gg3vZ"},{"type":"text","value":".","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"reXLp0qvbl"},{"type":"break","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"TdFfDVKMEY"},{"type":"strong","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"l6eNUBuefw"}],"key":"V7Ot4jMELQ"},{"type":"text","value":": Prologue—saves caller state, allocates for locals (argc at +28, argv at +16).","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"khc256ENeX"}],"key":"Pr23yYT2UO"}],"key":"NDcMc4Wqgv"},{"type":"listItem","spread":true,"position":{"start":{"line":483,"column":1},"end":{"line":486,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":483,"column":1},"end":{"line":485,"column":1}},"children":[{"type":"strong","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"children":[{"type":"inlineCode","value":"854: 910003fd mov x29, sp","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"wMhIiLUYqj"}],"key":"jAfogDVss4"},{"type":"break","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"Syfx3hFwTR"},{"type":"strong","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"TMe4atUC7K"}],"key":"UkfZqeymtH"},{"type":"text","value":": Sets ","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"WCKF9yiLXd"},{"type":"inlineCode","value":"x29","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"i4Iun53PVe"},{"type":"text","value":" to current ","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"hu6jdjE4wS"},{"type":"inlineCode","value":"sp","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"of5FnuUxXe"},{"type":"text","value":" for frame-relative access.","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"cWxposN0R4"},{"type":"break","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"ihVPi2jAyV"},{"type":"strong","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"IolAFBcIC3"}],"key":"ZZuuSSr3SQ"},{"type":"text","value":": ABI frame pointer setup.","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"nCmFIo9Cof"}],"key":"dw0oFZInCl"}],"key":"jYOQ2friNq"},{"type":"listItem","spread":true,"position":{"start":{"line":487,"column":1},"end":{"line":490,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":487,"column":1},"end":{"line":489,"column":1}},"children":[{"type":"strong","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"children":[{"type":"inlineCode","value":"858: b9001fe0 str w0, [sp, #28]","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"BJHiDSR0yT"}],"key":"ujc9uCbYRN"},{"type":"break","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"W98jpEiJbI"},{"type":"strong","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"Ifxd1d0cBx"}],"key":"e5mslUDWAi"},{"type":"text","value":": Stores ","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"aEBbi3Dpzt"},{"type":"inlineCode","value":"w0","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"gmjZ3sp6cE"},{"type":"text","value":" (argc) locally.","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"VTDm0zsYNp"},{"type":"break","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"bq8VV3sqBg"},{"type":"strong","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"a8lihJL22D"}],"key":"Q92OpX4E9F"},{"type":"text","value":": Saves argument count.","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"GPAZ68OkxT"}],"key":"L8q10zaUMw"}],"key":"iDokCcI8rd"},{"type":"listItem","spread":true,"position":{"start":{"line":491,"column":1},"end":{"line":494,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":491,"column":1},"end":{"line":493,"column":1}},"children":[{"type":"strong","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"children":[{"type":"inlineCode","value":"85c: f9000be1 str x1, [sp, #16]","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"w0b3IBZWS5"}],"key":"Vu9aQ4CZbF"},{"type":"break","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"jPOlDlzF8Z"},{"type":"strong","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"N8B5GY7k2y"}],"key":"d67yyvLVvO"},{"type":"text","value":": Stores ","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"rYdNbybXlh"},{"type":"inlineCode","value":"x1","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"udpcQJyMUb"},{"type":"text","value":" (argv) locally.","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"JBQcqmu8MJ"},{"type":"break","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"BjyC2SMG91"},{"type":"strong","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"ZqNkZAB2wW"}],"key":"yFqFp9TTIz"},{"type":"text","value":": Saves argument vector.","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"RtEQpv65Wl"}],"key":"jurxriIaE3"}],"key":"mGo7mOIHmA"},{"type":"listItem","spread":true,"position":{"start":{"line":495,"column":1},"end":{"line":498,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":495,"column":1},"end":{"line":497,"column":1}},"children":[{"type":"strong","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"children":[{"type":"inlineCode","value":"860: f9400be1 ldr x1, [sp, #16]","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"haisPrgDUf"}],"key":"UWuByhdiG2"},{"type":"break","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"WQ1l8b5Z0d"},{"type":"strong","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"nyO3d7nKur"}],"key":"cNrNhudlJN"},{"type":"text","value":": Loads argv into ","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"brYBHcR9uD"},{"type":"inlineCode","value":"x1","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"iTSift0YrG"},{"type":"text","value":" for call.","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"P4nECos09j"},{"type":"break","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"yec4x5O7uQ"},{"type":"strong","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"ScUyuk8LSP"}],"key":"bBq8ySnmrN"},{"type":"text","value":": Prepares second arg for runtime.","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"PuZfyQT5RZ"}],"key":"DBgAB9gN1D"}],"key":"UZ9GNyehAI"},{"type":"listItem","spread":true,"position":{"start":{"line":499,"column":1},"end":{"line":502,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":499,"column":1},"end":{"line":501,"column":1}},"children":[{"type":"strong","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"children":[{"type":"inlineCode","value":"864: b9401fe0 ldr w0, [sp, #28]","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"L6xoWO43Wb"}],"key":"asmEOg7oJ9"},{"type":"break","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"BvihDxW1Vg"},{"type":"strong","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"PooLfORhdc"}],"key":"ghK9c7zLq4"},{"type":"text","value":": Loads argc into ","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"jAHsVUCoqY"},{"type":"inlineCode","value":"w0","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"baMPLuWRTZ"},{"type":"text","value":".","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"M58reyEG34"},{"type":"break","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"eWAAToUNPG"},{"type":"strong","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"do2HjvZlCR"}],"key":"DirHrZ93bD"},{"type":"text","value":": Prepares first arg.","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"PDiJLSK2Nw"}],"key":"btMsIYC9v0"}],"key":"vhZQe8sdRC"},{"type":"listItem","spread":true,"position":{"start":{"line":503,"column":1},"end":{"line":506,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":503,"column":1},"end":{"line":505,"column":1}},"children":[{"type":"strong","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"children":[{"type":"inlineCode","value":"868: 97ffffa2 bl 6f0 <_gfortran_set_args@plt>","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"LRlgJuz7m2"}],"key":"Ho88es5v2S"},{"type":"break","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"pDgUod2Jrz"},{"type":"strong","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"nPP8Py5Cxf"}],"key":"QhV26hy3eb"},{"type":"text","value":": Calls gfortran arg setup via PLT (dynamic link).","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"NEYdqrM7bL"},{"type":"break","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"V7MWVCaNPq"},{"type":"strong","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"QT8mCM5IZd"}],"key":"GN6I3FILvn"},{"type":"text","value":": Passes args to Fortran runtime for handling (e.g., if program used ","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"c8q830t1xc"},{"type":"inlineCode","value":"COMMAND_ARGUMENT_COUNT","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"xhv20XlQXK"},{"type":"text","value":").","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"NPpMnWCQ5C"}],"key":"nl68UyWJGJ"}],"key":"KJcGkCdLUW"},{"type":"listItem","spread":true,"position":{"start":{"line":507,"column":1},"end":{"line":510,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":507,"column":1},"end":{"line":509,"column":1}},"children":[{"type":"strong","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"children":[{"type":"inlineCode","value":"86c: 90000000 adrp x0, 0","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"mGUMPekNbY"}],"key":"GnSkFFvFYb"},{"type":"break","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"YgRXH1IBmy"},{"type":"strong","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"nONPj0WgMi"}],"key":"QUinpWrpgJ"},{"type":"text","value":": Loads page base (0 here) into ","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"kYLD0kmfVn"},{"type":"inlineCode","value":"x0","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"OqJ5JC0sUm"},{"type":"text","value":".","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"aT6KXLvOiy"},{"type":"break","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"wEEPF3fV6k"},{"type":"strong","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"XhWbFmiq6c"}],"key":"DWFhIsiCuy"},{"type":"text","value":": Prepares for options address computation.","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"TULG1HjTA8"}],"key":"UA8ZMNU0Rw"}],"key":"av9eZFKGwy"},{"type":"listItem","spread":true,"position":{"start":{"line":511,"column":1},"end":{"line":514,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":511,"column":1},"end":{"line":513,"column":1}},"children":[{"type":"strong","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"children":[{"type":"inlineCode","value":"870: 9124c001 add x1, x0, #0x930","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"kMqpKSY8A6"}],"key":"ClMVSzs71c"},{"type":"break","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"bxdrTfCvQg"},{"type":"strong","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"lunXzpFH9A"}],"key":"aL3cyJw3XQ"},{"type":"text","value":": Adds ","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"NRRoG9PDnm"},{"type":"inlineCode","value":"0x930","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"VwM0EZymiS"},{"type":"text","value":" (2352) to ","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"CCDPC46hGe"},{"type":"inlineCode","value":"x0","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"y1Vi0jMB2v"},{"type":"text","value":", result in ","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"VY8z0Lhyyo"},{"type":"inlineCode","value":"x1","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"BZtHLYTzOj"},{"type":"text","value":" (points to options data).","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"yOb09js9tk"},{"type":"break","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"MOtAWpMxuz"},{"type":"strong","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"lVgfV1fKa3"}],"key":"gC2BY9uZcd"},{"type":"text","value":": Address of gfortran options array.","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"vxSeJpXx67"}],"key":"HLFVsulzRo"}],"key":"iLTYcA5vb1"},{"type":"listItem","spread":true,"position":{"start":{"line":515,"column":1},"end":{"line":518,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":515,"column":1},"end":{"line":517,"column":1}},"children":[{"type":"strong","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"children":[{"type":"inlineCode","value":"874: 528000e0 mov w0, #0x7","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"AlbJRB16Pz"}],"key":"M6IO5LgQA8"},{"type":"break","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"Mwcm3cnrNE"},{"type":"strong","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"IMXqKmgWch"}],"key":"eg5xDPjVMW"},{"type":"text","value":": Moves 7 into ","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"bQtjUDfbv0"},{"type":"inlineCode","value":"w0","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"PfHUK8lPjb"},{"type":"text","value":" (likely option count).","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"BTtrDfIQV2"},{"type":"break","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"XdOIjQArET"},{"type":"strong","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"dIm16qSC7J"}],"key":"sxr9hK0xJL"},{"type":"text","value":": Arg for options call.","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"pzqRASdUVo"}],"key":"r56Dq0p2R3"}],"key":"zukGITYEtj"},{"type":"listItem","spread":true,"position":{"start":{"line":519,"column":1},"end":{"line":522,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":519,"column":1},"end":{"line":521,"column":1}},"children":[{"type":"strong","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"children":[{"type":"inlineCode","value":"878: 97ffff9a bl 6e0 <_gfortran_set_options@plt>","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"wJxjVUDQ2c"}],"key":"EGN2kyVfvp"},{"type":"break","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"utaJru5Khg"},{"type":"strong","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"XaRET7XlN8"}],"key":"IUnZWmHpKX"},{"type":"text","value":": Calls gfortran options setup.","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"klzzoPVWLh"},{"type":"break","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"YRhwOsS4h5"},{"type":"strong","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"ABvJyndkrw"}],"key":"u4ymI9ROA8"},{"type":"text","value":": Configures runtime (e.g., error modes, precision).","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"oPduawQwME"}],"key":"BdFmZ9gUD6"}],"key":"U8dHYlg3g4"},{"type":"listItem","spread":true,"position":{"start":{"line":523,"column":1},"end":{"line":526,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":523,"column":1},"end":{"line":525,"column":1}},"children":[{"type":"strong","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"children":[{"type":"inlineCode","value":"87c: 97ffffe6 bl 814 <MAIN__>","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"aGBfMtR9UD"}],"key":"TkzvhxEWkO"},{"type":"break","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"qxF22ah3qb"},{"type":"strong","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"GMLeDv4p8R"}],"key":"cQpfdZliwh"},{"type":"text","value":": Calls Fortran body.","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"ZDYuo2fEx4"},{"type":"break","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"Dbtero5ldJ"},{"type":"strong","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"doC7fLMkHT"}],"key":"xSzo6sk3P6"},{"type":"text","value":": Executes the program.","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"x6kwteTztl"}],"key":"IO7UMehcF6"}],"key":"UtOLjexemj"},{"type":"listItem","spread":true,"position":{"start":{"line":527,"column":1},"end":{"line":530,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":527,"column":1},"end":{"line":529,"column":1}},"children":[{"type":"strong","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"children":[{"type":"inlineCode","value":"880: 52800000 mov w0, #0x0","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"kL7iyv5hdV"}],"key":"H9n9BmqbfL"},{"type":"break","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"BjX4vqkBys"},{"type":"strong","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"NIGXiBnCoF"}],"key":"e04JoFBtFI"},{"type":"text","value":": Sets ","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"sZwZdXWzZ3"},{"type":"inlineCode","value":"w0","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"TBF3jKqlD2"},{"type":"text","value":" to 0 (exit success).","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"J8vSJYQaky"},{"type":"break","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"wSUvx11jeo"},{"type":"strong","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"qArzucoiLz"}],"key":"DMV0ZXRdtZ"},{"type":"text","value":": Prepares exit code.","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"rqjfTjJTYk"}],"key":"aXWqFdelNF"}],"key":"mcgJKTalzX"},{"type":"listItem","spread":true,"position":{"start":{"line":531,"column":1},"end":{"line":534,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":531,"column":1},"end":{"line":533,"column":1}},"children":[{"type":"strong","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"children":[{"type":"inlineCode","value":"884: a8c27bfd ldp x29, x30, [sp], #32","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"rxRMF1GnWn"}],"key":"WML4nYiF99"},{"type":"break","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"ff8mJiCoaM"},{"type":"strong","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"VNuqiVQkaz"}],"key":"FIQH89RORP"},{"type":"text","value":": Loads ","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"VYXjAxH8fk"},{"type":"inlineCode","value":"x29/x30","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"FZwlXkvuNW"},{"type":"text","value":", deallocates 32 bytes (post-index add).","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"iMfGjME9lT"},{"type":"break","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"aVxPi7mmwz"},{"type":"strong","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"DdZIP1aMDV"}],"key":"VJJ7vo0g21"},{"type":"text","value":": Epilogue—restores state.","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"xeqJBvSjXH"}],"key":"cOoStiD1aj"}],"key":"MFVrpFfEDV"},{"type":"listItem","spread":true,"position":{"start":{"line":535,"column":1},"end":{"line":538,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":535,"column":1},"end":{"line":537,"column":1}},"children":[{"type":"strong","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"children":[{"type":"inlineCode","value":"888: d65f03c0 ret","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"pEXt0FHeBc"}],"key":"odM4B82Yaw"},{"type":"break","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"V0ijnSkBFS"},{"type":"strong","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"cUJokyfqpY"}],"key":"PNPb8x94nS"},{"type":"text","value":": Returns to OS with code 0.","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"PytZDuQASo"},{"type":"break","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"egxIBQm9w0"},{"type":"strong","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"q5tgsSjhES"}],"key":"KyAegqxvEK"},{"type":"text","value":": Program end.","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"JnPocNYISA"}],"key":"xbXks2wsRa"}],"key":"NiQV3If6AE"},{"type":"listItem","spread":true,"position":{"start":{"line":539,"column":1},"end":{"line":541,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":539,"column":1},"end":{"line":540,"column":1}},"children":[{"type":"strong","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"children":[{"type":"inlineCode","value":"88c: d503201f nop","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"key":"ehR7upX39c"}],"key":"TEALIU2jx1"},{"type":"break","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"key":"Mfw6Yfbx2v"},{"type":"strong","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"key":"J7jAtVBWsW"}],"key":"PwZNKYhCjj"},{"type":"text","value":": Padding nop, possibly for section alignment.","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"key":"yQoIfImCtC"}],"key":"nefUMghF5Y"}],"key":"ogvnKbxDIA"}],"key":"LOQBkh5Hkt"},{"type":"paragraph","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"children":[{"type":"text","value":"Overall, the program computes but discards the modulo result. Running it produces no output. The multi-op modulo is a compiler choice for correctness and portability on ARM64.","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"key":"zVs9hkNyV7"}],"key":"BPL1xB2sgz"}],"key":"Tdfda6wqfg"}],"key":"mMSyBR09yE"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Fortran - ARM 64-Bit Platform - Subtract Two Integers","url":"/sections/cybersecurity/disassembling-binaries/fortran/arm64/sub-int/sub-int","group":"Cybersecurity"},"next":{"title":"ARM32","url":"/sections/cybersecurity/disassembling-binaries/fortran/arm32/arm32","group":"Cybersecurity"}}},"domain":"http://localhost:3005"}