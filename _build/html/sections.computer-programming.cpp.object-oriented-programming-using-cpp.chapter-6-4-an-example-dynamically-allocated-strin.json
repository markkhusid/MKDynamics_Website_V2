{"version":3,"kind":"Notebook","sha256":"7cd8f6a23b33b5f3426a6264cd0e9324c13ee7b5f9701f9230b38592d42a78c7","slug":"sections.computer-programming.cpp.object-oriented-programming-using-cpp.chapter-6-4-an-example-dynamically-allocated-strin","location":"/Sections/Computer_Programming/CPP/Object_Oriented_Programming_Using_Cpp/Chapter_6_4_An_Example__Dynamically_Allocated_Strings.ipynb","dependencies":[],"frontmatter":{"title":"An Example:  Dynamically Allocated Strings","content_includes_title":true,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"authors":[{"nameParsed":{"literal":"Mark Khusid","given":"Mark","family":"Khusid"},"name":"Mark Khusid","id":"contributors-myst-generated-uid-0"}],"github":"https://github.com/markkhusid/MKDynamics_Website_V2","numbering":{"title":{"offset":5}},"source_url":"https://github.com/markkhusid/MKDynamics_Website_V2/blob/master/Sections/Computer_Programming/CPP/Object_Oriented_Programming_Using_Cpp/Chapter_6_4_An_Example__Dynamically_Allocated_Strings.ipynb","edit_url":"https://github.com/markkhusid/MKDynamics_Website_V2/edit/master/Sections/Computer_Programming/CPP/Object_Oriented_Programming_Using_Cpp/Chapter_6_4_An_Example__Dynamically_Allocated_Strings.ipynb","exports":[{"format":"ipynb","filename":"Chapter_6_4_An_Example__Dynamically_Allocated_Strings.ipynb","url":"/build/Chapter_6_4_An_Examp-3aa5ab7373bd147ec6a29d157cb15c6e.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"code","lang":"","value":"---\njupytext:\n  formats: md:myst\n  text_representation:\n    extension: .md\n    format_name: myst\nkernelspec:\n  display_name: Python 3\n  language: python\n  name: python3\n---","key":"WEwTDgD3DA"}],"key":"DdAo05f010"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"An Example:  Dynamically Allocated Strings","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ubDvjYocUN"}],"identifier":"an-example-dynamically-allocated-strings","label":"An Example:  Dynamically Allocated Strings","html_id":"an-example-dynamically-allocated-strings","implicit":true,"key":"lHhzAGtNqS"}],"visibility":"show","key":"X4UapIQi9l"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Adapted from: “Object-Oriented Programming Using C++” by Ira Pohl (Addison- Wesley)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jJ7EB9dobJ"}],"key":"QiTa7BV7lu"}],"key":"Rw4eB2N5fQ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Program that demonstrates dynamically allocated strings using classes in C++","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gfMVkkfZHa"}],"identifier":"program-that-demonstrates-dynamically-allocated-strings-using-classes-in-c","label":"Program that demonstrates dynamically allocated strings using classes in C++","html_id":"program-that-demonstrates-dynamically-allocated-strings-using-classes-in-c","implicit":true,"key":"FjXlvM47HI"}],"key":"bNmHBEKSiv"},{"type":"block","kind":"notebook-content","children":[{"type":"code","lang":"c++","value":"//An implementation of dynamically allocated strings.\n#include <iostream>\n#include <string.h>\n#include <assert.h>\n\nusing namespace std;\n\nclass my_string {\npublic:\n    my_string() : len(0) {\n        s = new char[1];\n        assert (s != 0);\n        s[0] - 0;\n    }\n\n    my_string(const my_string& str);    // copy constructor\n    \n    my_string(const char* p);           // conversion constructor\n    \n    ~my_string () {\n        delete []s;\n    }\n\n    void assign(const my_string& str);\n\n    void print() const {\n        cout << s << endl;\n    }\n\n    void concat(const my_string& a, const my_string& b);\n\nprivate:\n    char* s;\n    int len;\n};\n\nmy_string::my_string(const char* p)\n{\n    len = strlen(p);\n    s = new char[len +1];\n    assert (s != 0);\n    strcpy(s, p);\n}\n\nmy_string::my_string(const my_string& str) : len(str.len)\n{\n    s = new char[len + 1];\n    assert(s != 0);\n    strcpy(s, str.s);\n}\n\nvoid my_string::assign(const my_string& str)\n{\n    if (this == &str)       // a = a; do nothing\n        return;\n    delete []s;\n    len = str.len;\n    s = new char[len + 1];\n    assert(s != 0);\n    strcpy(s, str.s);\n}\n\nvoid my_string::concat(const my_string& a, const my_string& b)\n{\n    char* temp = new char[a.len + b.len + 1];\n    len = a.len + b.len;\n    strcpy(temp, a.s);\n    strcat(temp, b.s);\n    delete []s;\n    s = new char[len + 1];\n    assert(s != 0);\n    strcpy(s, temp);\n}\n\nint main()\n{\n    char* str = \"The wheel that squeaks the loudest\\n\";\n    my_string a(str), b, author(\"Josh Billings\\n\"), both, quote;\n\n    b.assign(\"Is the one that gets the grease\\n\");\n    both.concat(a, b);\n    quote.concat(both, author);\n    quote.print();\n}","position":{"start":{"line":1,"column":1},"end":{"line":86,"column":1}},"key":"P11BPfqfzb"}],"key":"DRmRHxGsmy"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The above program is compiled and run using Gnu Compiler Collection (g++):","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gWo3X6sAZB"}],"key":"y2PHKeH34S"}],"key":"SmSYDBihol"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import os\nroot_dir = os.getcwd()","key":"fddOEGU7wN"},{"type":"outputs","id":"StLYEcjJ0PaA-ET-ZF1I-","children":[],"key":"AQ4IYQCoe7"}],"key":"DTBC42dM8w"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"code_dir = root_dir + \"/\" + \\\n    \"Cpp_Code/Chapter_6_4_An_Example__Dynamically_Allocated_Strings\"","key":"THCSGslK7S"},{"type":"outputs","id":"tD4YAWAR9V5Q_ruM7DRfj","children":[],"key":"xedjz6u2f1"}],"key":"PxfIRhrILz"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"os.chdir(code_dir)","key":"u2C8rMant0"},{"type":"outputs","id":"GJx_KIr6tYCXJ3FyqaGgj","children":[],"key":"brlkRW3hGe"}],"key":"iGPXldNPLV"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"build_command = os.system(\"g++ string5.cpp -w -o string5\")","key":"Dy56eGmV0N"},{"type":"outputs","id":"uDVHd4H0_lct75lM_v3fd","children":[],"key":"KUDwVVWdNH"}],"key":"bi5AXtV6tt"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"exec_status = os.system(\"./string5\")","key":"tyJQmo4sz6"},{"type":"outputs","id":"4F1zXLRzDDqNI8phagv4n","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"The wheel that squeaks the loudest\nIs the one that gets the grease\nJosh Billings\n\n"},"children":[],"key":"xdPiDa1sw7"}],"key":"kCbOBKKWkI"}],"key":"gaDwzOoiqw"}],"key":"VraEUZuiP5"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"6.3 Classes with Destructors","url":"/sections/computer-programming/cpp/object-oriented-programming-using-cpp/chapter-6-3-classes-with-destructors","group":"Computer Programming"},"next":{"title":"A Class Vect","url":"/sections/computer-programming/cpp/object-oriented-programming-using-cpp/chapter-6-5-a-class-vect","group":"Computer Programming"}}},"domain":"http://localhost:3003"}