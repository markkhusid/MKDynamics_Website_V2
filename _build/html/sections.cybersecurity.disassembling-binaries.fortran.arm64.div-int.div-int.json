{"version":3,"kind":"Article","sha256":"092d3086179fdf7c580457b4803fe7f0b22936dc85dcb0b91331589bd10116d1","slug":"sections.cybersecurity.disassembling-binaries.fortran.arm64.div-int.div-int","location":"/Sections/Cybersecurity/Disassembling_Binaries/Fortran/ARM64/DIV_INT/div_int.md","dependencies":[],"frontmatter":{"title":"Fortran - ARM 64-Bit Platform - Divide Two Integers","content_includes_title":false,"authors":[{"nameParsed":{"literal":"Mark Khusid","given":"Mark","family":"Khusid"},"name":"Mark Khusid","id":"contributors-myst-generated-uid-0"}],"github":"https://github.com/markkhusid/MKDynamics_Website_V2","numbering":{"title":{"offset":5}},"source_url":"https://github.com/markkhusid/MKDynamics_Website_V2/blob/master/Sections/Cybersecurity/Disassembling_Binaries/Fortran/ARM64/DIV_INT/div_int.md","edit_url":"https://github.com/markkhusid/MKDynamics_Website_V2/edit/master/Sections/Cybersecurity/Disassembling_Binaries/Fortran/ARM64/DIV_INT/div_int.md","thumbnail":"/build/div_int_Fortran_ARM6-f08a9eb8cadd4cfe8748163c3e812f9e.png","exports":[{"format":"md","filename":"div_int.md","url":"/build/div_int-b1e4609707c359e24dd3bc0c0f1f2fd1.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"image","url":"/build/div_int_Fortran_ARM6-f08a9eb8cadd4cfe8748163c3e812f9e.png","height":"600","width":"800","align":"center","key":"cHUbAL05Qf","urlSource":"images/div_int_Fortran_ARM64_splash.png"},{"type":"heading","depth":2,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Introduction","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"AdeThFCmH6"}],"identifier":"introduction","label":"Introduction","html_id":"introduction","implicit":true,"key":"rKqKFjWnxk"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"In this section we will be disassembling simple binaries generated by the Fortran high-level language compiled for the 64-bit ARM platform.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"NdEcYp1ZFx"}],"key":"SK46Gcq4q0"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Project code for this section is contained in my ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"FEQQgbnyQ6"},{"type":"link","url":"https://github.com/markkhusid/Disassembling-Binaries/tree/master/Fortran/ARM_architecture/ARM64","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"https://â€‹githubâ€‹.comâ€‹/markkhusidâ€‹/Disassemblingâ€‹-Binariesâ€‹/treeâ€‹/masterâ€‹/Fortranâ€‹/ARMâ€‹_architectureâ€‹/ARM64","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"wxCIPA9XPY"}],"urlSource":"https://github.com/markkhusid/Disassembling-Binaries/tree/master/Fortran/ARM_architecture/ARM64","error":true,"key":"aHdva7I1HV"},{"type":"text","value":".","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"p1kNd8lbAU"}],"key":"eQ7305oGmL"},{"type":"thematicBreak","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"OUhh4LjzBv"},{"type":"heading","depth":2,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"The program ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"hmSzz1BHUs"},{"type":"emphasis","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"div_int.f08","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"Ol3zJPKGsQ"}],"key":"epJ82pdHlM"}],"identifier":"the-program-div-int-f08","label":"The program div_int.f08","html_id":"the-program-div-int-f08","implicit":true,"key":"rP9DlLg6ID"},{"type":"include","file":"code/div_int.f08","literal":true,"children":[{"type":"code","value":"program div_int\n\n        implicit none\n\n        integer         :: a, b, c\n\n        a = 10\n        b = 5\n\n        c = a / b\n\nend program div_int\n\n","lang":"fortran","filename":"div_int.f08","key":"THmdT5Xuzw"}],"key":"BfgjFkQ0vZ"},{"type":"paragraph","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"The program displays the contents of the program ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"G3FXlajwAd"},{"type":"emphasis","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"div_int.f08","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"AIibPObAGH"}],"key":"R0eTZeSO7L"},{"type":"text","value":". The program creates three integers: a, b, and c. ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"DRCk3xUEjf"},{"type":"inlineCode","value":"a","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"hVASWNUDl6"},{"type":"text","value":" is assigned the value of 10, ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"NnoKb4Exy6"},{"type":"inlineCode","value":"b","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"dtEy1BWaL2"},{"type":"text","value":" is assigned the value of 2, and ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"CCYI4nZZTJ"},{"type":"inlineCode","value":"c","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"T7kRBCCKEr"},{"type":"text","value":" is assigned the result of the operation ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"mtQtlWnEfu"},{"type":"inlineCode","value":"a / b","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"mBJLBk7tUC"},{"type":"text","value":".","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"equFi4DgtC"}],"key":"eCjFCGSTXy"},{"type":"paragraph","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"The program is obviously very simple, with no inputs and outputs. The idea is to generate the binary and look at the disassembly to learn about the workings of the 64-bit ARM processor platform.","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"HligBSnd5S"}],"key":"UkieJQOh2D"},{"type":"paragraph","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"The chosen test system is my trusty Samsung Chromebook Plus V2, which has a 64-bit ARMv8 processor. This is a very convenient platform for this exercise due to its availability and ease of access from multiple remote systems via SSH.","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"O79L4dR8Zl"}],"key":"lWPFokTWc6"},{"type":"paragraph","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"The program is compiled with the GNU Fortran compiler, ","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"CvtxWR388Y"},{"type":"inlineCode","value":"gfortran","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"rpdtgIUufb"},{"type":"text","value":", which is available on the ARM platform. The program is compiled with debugging information using the ","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"bmZpCOexvD"},{"type":"inlineCode","value":"-ggdb3","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"dmFwXp5PUY"},{"type":"text","value":" option, which allows us to debug the program in GDB and see the source code interspersed with the assembly instructions.","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"opJBDvyLLu"}],"key":"FH4zcjATul"},{"type":"paragraph","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"The program is compiled with:","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"E9MiOM6R9X"}],"key":"UckBzOdnBP"},{"type":"code","lang":"bash","value":"$ gfortran -ggdb3 div_int.f08 -o div_int_Fortran_aarch64_ggdb3","position":{"start":{"line":32,"column":1},"end":{"line":34,"column":1}},"key":"UgxYexSJuf"},{"type":"paragraph","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"For general edification, we also have ","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"BZdUeJsm8S"},{"type":"inlineCode","value":"gfortran","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"wEEsVAqVfb"},{"type":"text","value":" produce generic assembly with the ","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"AOrO6fv3eG"},{"type":"inlineCode","value":"-S","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"mP7Sf2djpS"},{"type":"text","value":" option, an object file with the ","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"MLZ5OMuJDY"},{"type":"inlineCode","value":"-o","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"btHvr4AD3g"},{"type":"text","value":" option, and object dumps of the object and executable files.","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"rhVidfnuIf"}],"key":"bvc6f652xT"},{"type":"paragraph","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"The generic assembly is generated by using the ","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"uy0Auc610A"},{"type":"inlineCode","value":"-S","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"KuU139PVlz"},{"type":"text","value":" (assembly) option:","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"Dx5GBfkepr"}],"key":"cZ9dU1f1qB"},{"type":"code","lang":"bash","value":"$ gfortran -S -ggdb3 div_int.f08 -o div_int.s","position":{"start":{"line":40,"column":1},"end":{"line":42,"column":1}},"key":"fbV5kcR4ZU"},{"type":"paragraph","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"text","value":"The object file is generated by using the ","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"fPqgnO4k9U"},{"type":"inlineCode","value":"-c","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"uUQlveoNJI"},{"type":"text","value":" (compile) option:","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"XVoEyojlWj"}],"key":"TV4yXwHzTN"},{"type":"code","lang":"bash","value":"$ gfortran -c -ggdb3 div_int.s -o div_int.o","position":{"start":{"line":46,"column":1},"end":{"line":48,"column":1}},"key":"DrfqyNafZw"},{"type":"paragraph","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"children":[{"type":"text","value":"The objdump files are generated by using the following command and options:","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"pV5coP7lzk"}],"key":"y82mGhXJMT"},{"type":"code","lang":"bash","value":"$ objdump -x -D -S -s -g -t div_int.o > objdump_of_dot_o.txt\n$ objdump -x -D -S -s -g -t div_int_Fortran_aarch64_ggdb3 > objdump_of_dot_exe.txt","position":{"start":{"line":52,"column":1},"end":{"line":55,"column":1}},"key":"CIKVBRdKmI"},{"type":"paragraph","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"text","value":"A rundown of the objdump options is shown here:","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"pPAGY4Zb4A"}],"key":"Xdk1YR3d77"},{"type":"code","lang":"bash","value":"$objdump \nUsage: objdump <option(s)> <file(s)>\n Display information from object <file(s)>.\n At least one of the following switches must be given:\n  -a, --archive-headers    Display archive header information\n  -f, --file-headers       Display the contents of the overall file header\n  -p, --private-headers    Display object format specific file header contents\n  -P, --private=OPT,OPT... Display object format specific contents\n  -h, --[section-]headers  Display the contents of the section headers\n  -x, --all-headers        Display the contents of all headers\n  -d, --disassemble        Display assembler contents of executable sections\n  -D, --disassemble-all    Display assembler contents of all sections\n      --disassemble=<sym>  Display assembler contents from <sym>\n  -S, --source             Intermix source code with disassembly\n      --source-comment[=<txt>] Prefix lines of source code with <txt>\n  -s, --full-contents      Display the full contents of all sections requested\n  -g, --debugging          Display debug information in object file\n  -e, --debugging-tags     Display debug information using ctags style\n  -G, --stabs              Display (in raw form) any STABS info in the file\n  -W, --dwarf[a/=abbrev, A/=addr, r/=aranges, c/=cu_index, L/=decodedline,\n              f/=frames, F/=frames-interp, g/=gdb_index, i/=info, o/=loc,\n              m/=macro, p/=pubnames, t/=pubtypes, R/=Ranges, l/=rawline,\n              s/=str, O/=str-offsets, u/=trace_abbrev, T/=trace_aranges,\n              U/=trace_info]\n                           Display the contents of DWARF debug sections\n  -Wk,--dwarf=links        Display the contents of sections that link to\n                            separate debuginfo files\n  -WK,--dwarf=follow-links\n                           Follow links to separate debug info files (default)\n  -WN,--dwarf=no-follow-links\n                           Do not follow links to separate debug info files\n  -L, --process-links      Display the contents of non-debug sections in\n                            separate debuginfo files.  (Implies -WK)\n      --ctf[=SECTION]      Display CTF info from SECTION, (default `.ctf')\n      --sframe[=SECTION]   Display SFrame info from SECTION, (default '.sframe')\n  -t, --syms               Display the contents of the symbol table(s)\n  -T, --dynamic-syms       Display the contents of the dynamic symbol table\n  -r, --reloc              Display the relocation entries in the file\n  -R, --dynamic-reloc      Display the dynamic relocation entries in the file\n  @<file>                  Read options from <file>\n  -v, --version            Display this program's version number\n  -i, --info               List object formats and architectures supported\n  -H, --help               Display this information","position":{"start":{"line":59,"column":1},"end":{"line":103,"column":1}},"key":"AWzjFk8PHe"},{"type":"paragraph","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"children":[{"type":"text","value":"In our case, we want ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"fsfQ6mpvC5"},{"type":"inlineCode","value":"-x","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"wnmWFgdotU"},{"type":"text","value":" (all headers), ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"VtW07PGo42"},{"type":"inlineCode","value":"-D","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"X6wtwVCsLn"},{"type":"text","value":" (disassemble all), ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"gcXrgjQNuk"},{"type":"inlineCode","value":"-S","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"IRzGHm7IJp"},{"type":"text","value":" (display source code with assembly), ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"E70262NcHL"},{"type":"inlineCode","value":"-s","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"obUQ7jSKqi"},{"type":"text","value":" (full contents of all sections), ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"AH1P39xQFN"},{"type":"inlineCode","value":"-g","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"Y9331l6CiH"},{"type":"text","value":" (debug info), and finally, ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"bNyHwyHgoJ"},{"type":"inlineCode","value":"-t","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"HKEhlpgGJD"},{"type":"text","value":" (display contents of the symbol tables).","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"WG4m0oWp3L"}],"key":"NQS2xvbQmW"},{"type":"paragraph","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"We will now disassemble this program on the 64-bit ARM platform and step through the assembly instructions.","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"rYuPuEqjLc"}],"key":"kKhYUpYrPi"},{"type":"thematicBreak","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"KZObLB75Zb"},{"type":"heading","depth":2,"position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"children":[{"type":"text","value":"Disassembling ","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"dZgGzJW8b2"},{"type":"emphasis","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"children":[{"type":"text","value":"div_int_Fortran_aarch64_ggdb3","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"cnjSeIShuF"}],"key":"mE9LROuZwJ"}],"identifier":"disassembling-div-int-fortran-aarch64-ggdb3","label":"Disassembling div_int_Fortran_aarch64_ggdb3","html_id":"disassembling-div-int-fortran-aarch64-ggdb3","implicit":true,"key":"V4RmNFiztJ"},{"type":"paragraph","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"children":[{"type":"text","value":"When we look at the executableâ€™s objdump, we notice that there are two functions of interest, one is ","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"GoEeaxmJxJ"},{"type":"inlineCode","value":"main","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"rzZjPjyuz3"},{"type":"text","value":", and the other is ","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"faPzrKFHip"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"bbDDDqOZ48"},{"type":"text","value":". The Fortran compiler sets up the program arguments and options in ","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"Mry7RmyGOz"},{"type":"inlineCode","value":"main","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"iRItBY1mUb"},{"type":"text","value":", while the actual program is contained within ","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"J6LzsvvRIN"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"F5BH8FmJ3k"},{"type":"text","value":" (that is capital MAIN followed by two underscores).","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"tScvEuiUGE"}],"key":"U5L2b87JMa"},{"type":"paragraph","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"children":[{"type":"text","value":"The following text from the executableâ€™s objdump illustrates this:","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"key":"zRoyLG7ZtH"}],"key":"clXabGJejB"},{"type":"code","lang":"objdump","value":"Disassembly of section .text:\n\n0000000000000814 <MAIN__>:\nprogram div_int\n 814:\td10043ff \tsub\tsp, sp, #0x10\n\n        implicit none\n\n        integer         :: a, b, c\n\n        a = 10\n 818:\t52800140 \tmov\tw0, #0xa                   \t// #10\n 81c:\tb9000fe0 \tstr\tw0, [sp, #12]\n        b = 5\n 820:\t528000a0 \tmov\tw0, #0x5                   \t// #5\n 824:\tb9000be0 \tstr\tw0, [sp, #8]\n\n        c = a / b\n 828:\tb9400fe1 \tldr\tw1, [sp, #12]\n 82c:\tb9400be0 \tldr\tw0, [sp, #8]\n 830:\t1ac00c20 \tsdiv\tw0, w1, w0\n 834:\tb90007e0 \tstr\tw0, [sp, #4]\n\nend program div_int\n 838:\td503201f \tnop\n 83c:\t910043ff \tadd\tsp, sp, #0x10\n 840:\td65f03c0 \tret\n\n0000000000000844 <main>:\n 844:\ta9be7bfd \tstp\tx29, x30, [sp, #-32]!\n 848:\t910003fd \tmov\tx29, sp\n 84c:\tb9001fe0 \tstr\tw0, [sp, #28]\n 850:\tf9000be1 \tstr\tx1, [sp, #16]\n 854:\tf9400be1 \tldr\tx1, [sp, #16]\n 858:\tb9401fe0 \tldr\tw0, [sp, #28]\n 85c:\t97ffffa5 \tbl\t6f0 <_gfortran_set_args@plt>\n 860:\t90000000 \tadrp\tx0, 0 <_init-0x660>\n 864:\t91248001 \tadd\tx1, x0, #0x920\n 868:\t528000e0 \tmov\tw0, #0x7                   \t// #7\n 86c:\t97ffff9d \tbl\t6e0 <_gfortran_set_options@plt>\n 870:\t97ffffe9 \tbl\t814 <MAIN__>\n 874:\t52800000 \tmov\tw0, #0x0                   \t// #0\n 878:\ta8c27bfd \tldp\tx29, x30, [sp], #32\n 87c:\td65f03c0 \tret","position":{"start":{"line":117,"column":1},"end":{"line":162,"column":1}},"key":"V5ZqNsft7D"},{"type":"heading","depth":2,"position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"children":[{"type":"text","value":"Explaining the Dissassembly by ChatGPT 4o","position":{"start":{"line":164,"column":1},"end":{"line":164,"column":1}},"key":"GRbjexHzRS"}],"identifier":"explaining-the-dissassembly-by-chatgpt-4o","label":"Explaining the Dissassembly by ChatGPT 4o","html_id":"explaining-the-dissassembly-by-chatgpt-4o","implicit":true,"key":"TZv6oory0p"},{"type":"paragraph","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"children":[{"type":"text","value":"This is the ","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"nibtUkEjt2"},{"type":"strong","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"children":[{"type":"text","value":"AArch64 (64-bit ARM) disassembly","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"y3zc6RuExJ"}],"key":"U5ajHLvbVn"},{"type":"text","value":" of a simple ","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"zQqgJxXSM4"},{"type":"strong","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"children":[{"type":"text","value":"Fortran program","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"vhVpmSz1KM"}],"key":"jJZ7Hm7vej"},{"type":"text","value":" that performs ","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"RdZjR9Vatl"},{"type":"strong","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"children":[{"type":"text","value":"integer division","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"iHT6bsC1C4"}],"key":"RhiqhCMvXe"},{"type":"text","value":". The compiler has translated the Fortran code into assembly with associated runtime setup.","position":{"start":{"line":166,"column":1},"end":{"line":166,"column":1}},"key":"b4ZZ2RZ4Kv"}],"key":"USuMIhBzkY"},{"type":"thematicBreak","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"key":"HWnmOZ8Kfu"},{"type":"heading","depth":3,"position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"children":[{"type":"text","value":"ðŸ”· High-Level Fortran Code","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"N7TLARa4jc"}],"identifier":"id-high-level-fortran-code","label":"ðŸ”· High-Level Fortran Code","html_id":"id-high-level-fortran-code","implicit":true,"key":"mknv4K3I9E"},{"type":"paragraph","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"text","value":"Hereâ€™s the original Fortran code that the assembly represents:","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"EzerPEAM3F"}],"key":"akFwRjJMyK"},{"type":"code","lang":"fortran","value":"program div_int\n  implicit none\n  integer :: a, b, c\n\n  a = 10\n  b = 5\n  c = a / b\nend program div_int","position":{"start":{"line":174,"column":1},"end":{"line":183,"column":1}},"key":"NG6L7ZslPD"},{"type":"thematicBreak","position":{"start":{"line":185,"column":1},"end":{"line":185,"column":1}},"key":"xB5Pb8LoMU"},{"type":"heading","depth":2,"position":{"start":{"line":187,"column":1},"end":{"line":187,"column":1}},"children":[{"type":"text","value":"ðŸ”§ DISASSEMBLY ANALYSIS","position":{"start":{"line":187,"column":1},"end":{"line":187,"column":1}},"key":"vRUgHX08as"}],"identifier":"id-disassembly-analysis","label":"ðŸ”§ DISASSEMBLY ANALYSIS","html_id":"id-disassembly-analysis","implicit":true,"key":"VoQE5g704v"},{"type":"thematicBreak","position":{"start":{"line":189,"column":1},"end":{"line":189,"column":1}},"key":"yS2DihTuu3"},{"type":"heading","depth":3,"position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"children":[{"type":"text","value":"Function: ","position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"key":"ScBNyGp6hS"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"key":"hQGFr0UkSR"},{"type":"text","value":" (Entry point for Fortran program)","position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"key":"ynaoosET67"}],"identifier":"function-main-entry-point-for-fortran-program","label":"Function: MAIN__ (Entry point for Fortran program)","html_id":"function-main-entry-point-for-fortran-program","implicit":true,"key":"vX6GCEeuXV"},{"type":"code","lang":"","value":"0000000000000814 <MAIN__>:","position":{"start":{"line":193,"column":1},"end":{"line":195,"column":1}},"key":"GvzJKsUhrX"},{"type":"thematicBreak","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"aVIPggZg5h"},{"type":"heading","depth":4,"position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"children":[{"type":"text","value":"1. ","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"bwNEG6bfcb"},{"type":"strong","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"children":[{"type":"text","value":"Function Prologue: Allocate Stack Space","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"tXB3VItypL"}],"key":"nhD4PhboNv"}],"identifier":"id-1-function-prologue-allocate-stack-space","label":"1. Function Prologue: Allocate Stack Space","html_id":"id-1-function-prologue-allocate-stack-space","implicit":true,"key":"LEYptlObOT"},{"type":"code","lang":"asm","value":"814:\td10043ff \tsub\tsp, sp, #0x10","position":{"start":{"line":201,"column":1},"end":{"line":203,"column":1}},"key":"aPqCBjxPyu"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":205,"column":1},"end":{"line":207,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":205,"column":1},"end":{"line":205,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Allocates ","position":{"start":{"line":205,"column":1},"end":{"line":205,"column":1}},"key":"bnN8YdQfoj"},{"type":"strong","position":{"start":{"line":205,"column":1},"end":{"line":205,"column":1}},"children":[{"type":"text","value":"16 bytes","position":{"start":{"line":205,"column":1},"end":{"line":205,"column":1}},"key":"hWGUu3SFww"}],"key":"Tgi2jTW1Mk"},{"type":"text","value":" on the stack for local variables ","position":{"start":{"line":205,"column":1},"end":{"line":205,"column":1}},"key":"AlGslqsPeX"},{"type":"inlineCode","value":"a","position":{"start":{"line":205,"column":1},"end":{"line":205,"column":1}},"key":"M52BZSwwan"},{"type":"text","value":", ","position":{"start":{"line":205,"column":1},"end":{"line":205,"column":1}},"key":"BwehMQJvnr"},{"type":"inlineCode","value":"b","position":{"start":{"line":205,"column":1},"end":{"line":205,"column":1}},"key":"NIlckfbmoZ"},{"type":"text","value":", and ","position":{"start":{"line":205,"column":1},"end":{"line":205,"column":1}},"key":"K5UDHeTbL8"},{"type":"inlineCode","value":"c","position":{"start":{"line":205,"column":1},"end":{"line":205,"column":1}},"key":"AAQOx0Xqg3"},{"type":"text","value":".","position":{"start":{"line":205,"column":1},"end":{"line":205,"column":1}},"key":"yZ2fyxeudP"}],"key":"DI6cDv6xVw"}],"key":"vtkjmBoXVG"},{"type":"listItem","spread":true,"position":{"start":{"line":206,"column":1},"end":{"line":207,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Stack grows ","position":{"start":{"line":206,"column":1},"end":{"line":206,"column":1}},"key":"edbbx3Ejxy"},{"type":"strong","position":{"start":{"line":206,"column":1},"end":{"line":206,"column":1}},"children":[{"type":"text","value":"downward","position":{"start":{"line":206,"column":1},"end":{"line":206,"column":1}},"key":"MbFBMk2Q9m"}],"key":"sVXa3dRMUU"},{"type":"text","value":", so ","position":{"start":{"line":206,"column":1},"end":{"line":206,"column":1}},"key":"gmL3TMGKtk"},{"type":"inlineCode","value":"sp","position":{"start":{"line":206,"column":1},"end":{"line":206,"column":1}},"key":"uw2FI0hQuX"},{"type":"text","value":" is decremented.","position":{"start":{"line":206,"column":1},"end":{"line":206,"column":1}},"key":"y3Pv2cGNLQ"}],"key":"tLvvOBn7aK"}],"key":"qyA2w4s0SE"}],"key":"OPEFX7jEqX"},{"type":"thematicBreak","position":{"start":{"line":208,"column":1},"end":{"line":208,"column":1}},"key":"PubtvJUL8S"},{"type":"heading","depth":4,"position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"children":[{"type":"text","value":"2. ","position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"key":"GxOMi4h8pk"},{"type":"strong","position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"children":[{"type":"text","value":"Initialize ","position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"key":"ro6ajBDYw1"},{"type":"inlineCode","value":"a = 10","position":{"start":{"line":210,"column":1},"end":{"line":210,"column":1}},"key":"HyGLsOvXuj"}],"key":"XoKX0el7ss"}],"identifier":"id-2-initialize-a-10","label":"2. Initialize a = 10","html_id":"id-2-initialize-a-10","implicit":true,"key":"RLykOHiLRG"},{"type":"code","lang":"asm","value":"818:\t52800140 \tmov\tw0, #0xa         // w0 = 10\n81c:\tb9000fe0 \tstr\tw0, [sp, #12]    // store `a` at sp+12","position":{"start":{"line":212,"column":1},"end":{"line":215,"column":1}},"key":"Qo9V9bTspp"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":217,"column":1},"end":{"line":219,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":217,"column":1},"end":{"line":217,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"w0","position":{"start":{"line":217,"column":1},"end":{"line":217,"column":1}},"key":"sv2gso1ykf"},{"type":"text","value":" is loaded with the immediate value ","position":{"start":{"line":217,"column":1},"end":{"line":217,"column":1}},"key":"GEf8PHXqxm"},{"type":"inlineCode","value":"10","position":{"start":{"line":217,"column":1},"end":{"line":217,"column":1}},"key":"b3Ql1KZtMP"},{"type":"text","value":".","position":{"start":{"line":217,"column":1},"end":{"line":217,"column":1}},"key":"Jy3cCiyLGK"}],"key":"B64Aww9TTP"}],"key":"IBdCVrtWT5"},{"type":"listItem","spread":true,"position":{"start":{"line":218,"column":1},"end":{"line":219,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Stored to stack offset ","position":{"start":{"line":218,"column":1},"end":{"line":218,"column":1}},"key":"caNk6nC7aU"},{"type":"inlineCode","value":"+12","position":{"start":{"line":218,"column":1},"end":{"line":218,"column":1}},"key":"zPlScUtDPY"},{"type":"text","value":", which is reserved for ","position":{"start":{"line":218,"column":1},"end":{"line":218,"column":1}},"key":"LuDXgjIjNq"},{"type":"inlineCode","value":"a","position":{"start":{"line":218,"column":1},"end":{"line":218,"column":1}},"key":"A5nYVdZn9p"},{"type":"text","value":".","position":{"start":{"line":218,"column":1},"end":{"line":218,"column":1}},"key":"SNf5pHYjdw"}],"key":"tQnUFIFGQr"}],"key":"r7J0eIJo4F"}],"key":"djnwAZMWO5"},{"type":"thematicBreak","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"uRCgkTZp51"},{"type":"heading","depth":4,"position":{"start":{"line":222,"column":1},"end":{"line":222,"column":1}},"children":[{"type":"text","value":"3. ","position":{"start":{"line":222,"column":1},"end":{"line":222,"column":1}},"key":"DDwdNWPAeX"},{"type":"strong","position":{"start":{"line":222,"column":1},"end":{"line":222,"column":1}},"children":[{"type":"text","value":"Initialize ","position":{"start":{"line":222,"column":1},"end":{"line":222,"column":1}},"key":"gaBXKm2bfs"},{"type":"inlineCode","value":"b = 5","position":{"start":{"line":222,"column":1},"end":{"line":222,"column":1}},"key":"YFmb0bP4Im"}],"key":"Oac6mQhdD7"}],"identifier":"id-3-initialize-b-5","label":"3. Initialize b = 5","html_id":"id-3-initialize-b-5","implicit":true,"key":"tNhNaMjjGk"},{"type":"code","lang":"asm","value":"820:\t528000a0 \tmov\tw0, #0x5         // w0 = 5\n824:\tb9000be0 \tstr\tw0, [sp, #8]     // store `b` at sp+8","position":{"start":{"line":224,"column":1},"end":{"line":227,"column":1}},"key":"OTcGgPSy20"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":229,"column":1},"end":{"line":231,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"w0","position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"key":"mJRjMVgp2B"},{"type":"text","value":" = 5","position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"key":"xTiynAUB5r"}],"key":"z16m6FmYew"}],"key":"v0zHyJAbE9"},{"type":"listItem","spread":true,"position":{"start":{"line":230,"column":1},"end":{"line":231,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Stored at ","position":{"start":{"line":230,"column":1},"end":{"line":230,"column":1}},"key":"tmwIi1Eood"},{"type":"inlineCode","value":"sp+8","position":{"start":{"line":230,"column":1},"end":{"line":230,"column":1}},"key":"mR26CC0hl7"},{"type":"text","value":" as variable ","position":{"start":{"line":230,"column":1},"end":{"line":230,"column":1}},"key":"R2wMyozLCR"},{"type":"inlineCode","value":"b","position":{"start":{"line":230,"column":1},"end":{"line":230,"column":1}},"key":"XudGxpvowJ"},{"type":"text","value":".","position":{"start":{"line":230,"column":1},"end":{"line":230,"column":1}},"key":"u0NxU1HcVK"}],"key":"jxBqyqdCx2"}],"key":"V3tQJTsG6B"}],"key":"vL8iQK2Diu"},{"type":"thematicBreak","position":{"start":{"line":232,"column":1},"end":{"line":232,"column":1}},"key":"RSDhlVQdg6"},{"type":"heading","depth":4,"position":{"start":{"line":234,"column":1},"end":{"line":234,"column":1}},"children":[{"type":"text","value":"4. ","position":{"start":{"line":234,"column":1},"end":{"line":234,"column":1}},"key":"tV7PRQv1st"},{"type":"strong","position":{"start":{"line":234,"column":1},"end":{"line":234,"column":1}},"children":[{"type":"text","value":"Compute ","position":{"start":{"line":234,"column":1},"end":{"line":234,"column":1}},"key":"C3CetpXJQw"},{"type":"inlineCode","value":"c = a / b","position":{"start":{"line":234,"column":1},"end":{"line":234,"column":1}},"key":"OPe1jGYsiQ"}],"key":"QD4xGKy1yc"}],"identifier":"id-4-compute-c-a-b","label":"4. Compute c = a / b","html_id":"id-4-compute-c-a-b","implicit":true,"key":"uXg4Bdt6qb"},{"type":"code","lang":"asm","value":"828:\tb9400fe1 \tldr\tw1, [sp, #12]    // load `a` into w1\n82c:\tb9400be0 \tldr\tw0, [sp, #8]     // load `b` into w0\n830:\t1ac00c20 \tsdiv\tw0, w1, w0       // w0 = w1 / w0  â†’ a / b\n834:\tb90007e0 \tstr\tw0, [sp, #4]     // store `c` at sp+4","position":{"start":{"line":236,"column":1},"end":{"line":241,"column":1}},"key":"jOIn03QBkA"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":243,"column":1},"end":{"line":246,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Loads ","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"key":"jY67rWEQxf"},{"type":"inlineCode","value":"a","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"key":"h4XVHByddC"},{"type":"text","value":" and ","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"key":"NMJYBW4Vop"},{"type":"inlineCode","value":"b","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"key":"KtA9oPU5CV"},{"type":"text","value":" into registers.","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"key":"GjMITpjQ0X"}],"key":"Zagd0semex"}],"key":"AD3Ysp96vX"},{"type":"listItem","spread":true,"position":{"start":{"line":244,"column":1},"end":{"line":244,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Performs ","position":{"start":{"line":244,"column":1},"end":{"line":244,"column":1}},"key":"pauIQvRFmM"},{"type":"strong","position":{"start":{"line":244,"column":1},"end":{"line":244,"column":1}},"children":[{"type":"text","value":"signed integer division","position":{"start":{"line":244,"column":1},"end":{"line":244,"column":1}},"key":"XBnr9OPEWv"}],"key":"PfTEoO8KH8"},{"type":"text","value":" (","position":{"start":{"line":244,"column":1},"end":{"line":244,"column":1}},"key":"bA3ShgLkKq"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":244,"column":1},"end":{"line":244,"column":1}},"key":"vGuJFYruV1"},{"type":"text","value":"), stores result (2) in ","position":{"start":{"line":244,"column":1},"end":{"line":244,"column":1}},"key":"TzmYAd5EGy"},{"type":"inlineCode","value":"w0","position":{"start":{"line":244,"column":1},"end":{"line":244,"column":1}},"key":"pIL0JojvpF"},{"type":"text","value":".","position":{"start":{"line":244,"column":1},"end":{"line":244,"column":1}},"key":"JjXEPDhh7g"}],"key":"ZvF0Xdnm89"}],"key":"RcYQ2qNRJz"},{"type":"listItem","spread":true,"position":{"start":{"line":245,"column":1},"end":{"line":246,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Stores result to stack at offset ","position":{"start":{"line":245,"column":1},"end":{"line":245,"column":1}},"key":"xoe5UFLvwS"},{"type":"inlineCode","value":"+4","position":{"start":{"line":245,"column":1},"end":{"line":245,"column":1}},"key":"Mv85MMS20A"},{"type":"text","value":" (reserved for ","position":{"start":{"line":245,"column":1},"end":{"line":245,"column":1}},"key":"PdnF2U1iMl"},{"type":"inlineCode","value":"c","position":{"start":{"line":245,"column":1},"end":{"line":245,"column":1}},"key":"bOhaaJjy1M"},{"type":"text","value":").","position":{"start":{"line":245,"column":1},"end":{"line":245,"column":1}},"key":"HyrxnQhKhe"}],"key":"KQT7fi7K5r"}],"key":"kmVfqKauSF"}],"key":"C8OpbcLt93"},{"type":"thematicBreak","position":{"start":{"line":247,"column":1},"end":{"line":247,"column":1}},"key":"K5ffhXZydS"},{"type":"heading","depth":4,"position":{"start":{"line":249,"column":1},"end":{"line":249,"column":1}},"children":[{"type":"text","value":"5. ","position":{"start":{"line":249,"column":1},"end":{"line":249,"column":1}},"key":"fUneZyyE3y"},{"type":"strong","position":{"start":{"line":249,"column":1},"end":{"line":249,"column":1}},"children":[{"type":"text","value":"Function Epilogue: Cleanup and Return","position":{"start":{"line":249,"column":1},"end":{"line":249,"column":1}},"key":"PE2zEFR3nq"}],"key":"S93RtLOIxg"}],"identifier":"id-5-function-epilogue-cleanup-and-return","label":"5. Function Epilogue: Cleanup and Return","html_id":"id-5-function-epilogue-cleanup-and-return","implicit":true,"key":"Dye5dPSNxi"},{"type":"code","lang":"asm","value":"838:\td503201f \tnop               // no operation\n83c:\t910043ff \tadd\tsp, sp, #0x10   // restore original stack pointer\n840:\td65f03c0 \tret               // return","position":{"start":{"line":251,"column":1},"end":{"line":255,"column":1}},"key":"uUdNMDY9xL"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":257,"column":1},"end":{"line":259,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Stack pointer restored to pre-function state.","position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"key":"qhVsKaIEWG"}],"key":"aNfercVRTG"}],"key":"uCRc8G8AFs"},{"type":"listItem","spread":true,"position":{"start":{"line":258,"column":1},"end":{"line":259,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Function returns to caller.","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"key":"tnZAxSpU6k"}],"key":"dx8AA0gEi9"}],"key":"VbUSbEHEkT"}],"key":"vfYGLZ5F8g"},{"type":"thematicBreak","position":{"start":{"line":260,"column":1},"end":{"line":260,"column":1}},"key":"HithYTL2NC"},{"type":"heading","depth":3,"position":{"start":{"line":262,"column":1},"end":{"line":262,"column":1}},"children":[{"type":"text","value":"Function: ","position":{"start":{"line":262,"column":1},"end":{"line":262,"column":1}},"key":"XtR4IHGHow"},{"type":"inlineCode","value":"main","position":{"start":{"line":262,"column":1},"end":{"line":262,"column":1}},"key":"igdqxbZmxc"},{"type":"text","value":" (Startup entry point for the whole program)","position":{"start":{"line":262,"column":1},"end":{"line":262,"column":1}},"key":"jr7eloiCUa"}],"identifier":"function-main-startup-entry-point-for-the-whole-program","label":"Function: main (Startup entry point for the whole program)","html_id":"function-main-startup-entry-point-for-the-whole-program","implicit":true,"key":"va8nDe5omS"},{"type":"code","lang":"","value":"0000000000000844 <main>:","position":{"start":{"line":264,"column":1},"end":{"line":266,"column":1}},"key":"Zwa6PFvhqM"},{"type":"paragraph","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"children":[{"type":"text","value":"This is the C-style entry point that initializes the Fortran runtime and calls ","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"ya6wNHsghy"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"WNU9PyTtdI"},{"type":"text","value":".","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"Xc5J181fpA"}],"key":"ES9oTqZRcN"},{"type":"thematicBreak","position":{"start":{"line":270,"column":1},"end":{"line":270,"column":1}},"key":"Njw0IbRzEO"},{"type":"heading","depth":4,"position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"children":[{"type":"text","value":"1. ","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"ZPA1sjzKmw"},{"type":"strong","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"children":[{"type":"text","value":"Function Prologue: Stack Frame Setup","position":{"start":{"line":272,"column":1},"end":{"line":272,"column":1}},"key":"H6uw1t21kM"}],"key":"hIzN5RVbRd"}],"identifier":"id-1-function-prologue-stack-frame-setup","label":"1. Function Prologue: Stack Frame Setup","html_id":"id-1-function-prologue-stack-frame-setup","implicit":true,"key":"GA86myZbHG"},{"type":"code","lang":"asm","value":"844:\ta9be7bfd \tstp\tx29, x30, [sp, #-32]!   // push frame pointer and return address\n848:\t910003fd \tmov\tx29, sp                 // set frame pointer","position":{"start":{"line":274,"column":1},"end":{"line":277,"column":1}},"key":"dukVdu1YWA"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":279,"column":1},"end":{"line":281,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":279,"column":1},"end":{"line":279,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Standard ARM64 function prologue","position":{"start":{"line":279,"column":1},"end":{"line":279,"column":1}},"key":"zQNm0AGDo9"}],"key":"O4O3SA6DkP"}],"key":"gEYjSJR4jz"},{"type":"listItem","spread":true,"position":{"start":{"line":280,"column":1},"end":{"line":281,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Reserves space for local variables and stores ","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"key":"jVJlmwlsjy"},{"type":"inlineCode","value":"x29","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"key":"P1nVFbG6O5"},{"type":"text","value":" (frame pointer) and ","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"key":"gHJHgk27Jz"},{"type":"inlineCode","value":"x30","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"key":"pGKGDiPwqh"},{"type":"text","value":" (return address)","position":{"start":{"line":280,"column":1},"end":{"line":280,"column":1}},"key":"L66N6MiC0u"}],"key":"N1I3X2bYd4"}],"key":"z7LLiMaXwP"}],"key":"sSaXCGBqOC"},{"type":"thematicBreak","position":{"start":{"line":282,"column":1},"end":{"line":282,"column":1}},"key":"azHl0E8wrb"},{"type":"heading","depth":4,"position":{"start":{"line":284,"column":1},"end":{"line":284,"column":1}},"children":[{"type":"text","value":"2. ","position":{"start":{"line":284,"column":1},"end":{"line":284,"column":1}},"key":"aDYAoI3Uzy"},{"type":"strong","position":{"start":{"line":284,"column":1},"end":{"line":284,"column":1}},"children":[{"type":"text","value":"Save ","position":{"start":{"line":284,"column":1},"end":{"line":284,"column":1}},"key":"M7p1JIrBh0"},{"type":"inlineCode","value":"argc","position":{"start":{"line":284,"column":1},"end":{"line":284,"column":1}},"key":"bfEwDIVHRM"},{"type":"text","value":" and ","position":{"start":{"line":284,"column":1},"end":{"line":284,"column":1}},"key":"UBhr2qX3CW"},{"type":"inlineCode","value":"argv","position":{"start":{"line":284,"column":1},"end":{"line":284,"column":1}},"key":"MUQpSxpuAb"}],"key":"J70klCs6WG"}],"identifier":"id-2-save-argc-and-argv","label":"2. Save argc and argv","html_id":"id-2-save-argc-and-argv","implicit":true,"key":"n2DC9hk4bB"},{"type":"code","lang":"asm","value":"84c:\tb9001fe0 \tstr\tw0, [sp, #28]  // argc\n850:\tf9000be1 \tstr\tx1, [sp, #16]  // argv","position":{"start":{"line":286,"column":1},"end":{"line":289,"column":1}},"key":"WPQmSCBDOM"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":291,"column":1},"end":{"line":292,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":291,"column":1},"end":{"line":292,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"w0","position":{"start":{"line":291,"column":1},"end":{"line":291,"column":1}},"key":"gbC7jDNPvg"},{"type":"text","value":" and ","position":{"start":{"line":291,"column":1},"end":{"line":291,"column":1}},"key":"bDWZvf8wzf"},{"type":"inlineCode","value":"x1","position":{"start":{"line":291,"column":1},"end":{"line":291,"column":1}},"key":"RJBCloy0mf"},{"type":"text","value":" hold the ","position":{"start":{"line":291,"column":1},"end":{"line":291,"column":1}},"key":"H1VcwfAiBw"},{"type":"inlineCode","value":"argc","position":{"start":{"line":291,"column":1},"end":{"line":291,"column":1}},"key":"TX3nXqBeFM"},{"type":"text","value":" and ","position":{"start":{"line":291,"column":1},"end":{"line":291,"column":1}},"key":"Ex11JM6gao"},{"type":"inlineCode","value":"argv","position":{"start":{"line":291,"column":1},"end":{"line":291,"column":1}},"key":"fZUSNXwiWQ"},{"type":"text","value":" passed into ","position":{"start":{"line":291,"column":1},"end":{"line":291,"column":1}},"key":"Te1FywCH3t"},{"type":"inlineCode","value":"main","position":{"start":{"line":291,"column":1},"end":{"line":291,"column":1}},"key":"BdxcTA9YF6"},{"type":"text","value":".","position":{"start":{"line":291,"column":1},"end":{"line":291,"column":1}},"key":"S1H3qS5AR2"}],"key":"ik6oPjIJbg"}],"key":"wJYBthcr9u"}],"key":"VEBFP61LEm"},{"type":"thematicBreak","position":{"start":{"line":293,"column":1},"end":{"line":293,"column":1}},"key":"cgo3dnjQPC"},{"type":"heading","depth":4,"position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"children":[{"type":"text","value":"3. ","position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"key":"CT3KnvzLv2"},{"type":"strong","position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"children":[{"type":"text","value":"Initialize Fortran Runtime","position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"key":"UzkzUGOrhZ"}],"key":"FqvoL62HX8"}],"identifier":"id-3-initialize-fortran-runtime","label":"3. Initialize Fortran Runtime","html_id":"id-3-initialize-fortran-runtime","implicit":true,"key":"xuaDwXuJTS"},{"type":"code","lang":"asm","value":"854:\tf9400be1 \tldr\tx1, [sp, #16]     // load argv\n858:\tb9401fe0 \tldr\tw0, [sp, #28]     // load argc\n85c:\t97ffffa5 \tbl\t6f0 <_gfortran_set_args@plt>","position":{"start":{"line":297,"column":1},"end":{"line":301,"column":1}},"key":"Rus3mwGiCJ"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":303,"column":1},"end":{"line":304,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":303,"column":1},"end":{"line":304,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Call ","position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"key":"JFJ7zoLwe8"},{"type":"inlineCode","value":"_gfortran_set_args(argc, argv)","position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"key":"HjR53ZkG3C"},{"type":"text","value":" to pass arguments to the Fortran runtime.","position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"key":"Bsn4MntZ2v"}],"key":"pccsnOSIE8"}],"key":"L4ptdaAYSN"}],"key":"sOATAj0OCP"},{"type":"thematicBreak","position":{"start":{"line":305,"column":1},"end":{"line":305,"column":1}},"key":"l7Qq6A69bP"},{"type":"heading","depth":4,"position":{"start":{"line":307,"column":1},"end":{"line":307,"column":1}},"children":[{"type":"text","value":"4. ","position":{"start":{"line":307,"column":1},"end":{"line":307,"column":1}},"key":"YcbnKRxESq"},{"type":"strong","position":{"start":{"line":307,"column":1},"end":{"line":307,"column":1}},"children":[{"type":"text","value":"Configure Runtime Options","position":{"start":{"line":307,"column":1},"end":{"line":307,"column":1}},"key":"sqgpsy02xN"}],"key":"e6f7uvV1AO"}],"identifier":"id-4-configure-runtime-options","label":"4. Configure Runtime Options","html_id":"id-4-configure-runtime-options","implicit":true,"key":"rjFn1kVOl7"},{"type":"code","lang":"asm","value":"860:\t90000000 \tadrp\tx0, 0 <_init-0x660>      // get page address (base of .rodata or symbol region)\n864:\t91248001 \tadd\tx1, x0, #0x920           // x1 = x0 + 0x920\n868:\t528000e0 \tmov\tw0, #0x7                 // runtime options bitmask\n86c:\t97ffff9d \tbl\t6e0 <_gfortran_set_options@plt>","position":{"start":{"line":309,"column":1},"end":{"line":314,"column":1}},"key":"w7B4MoIgM8"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":316,"column":1},"end":{"line":318,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":316,"column":1},"end":{"line":316,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Configures the Fortran runtime behavior.","position":{"start":{"line":316,"column":1},"end":{"line":316,"column":1}},"key":"FbymZzAkqq"}],"key":"WANATGQftK"}],"key":"AFMWNqQPih"},{"type":"listItem","spread":true,"position":{"start":{"line":317,"column":1},"end":{"line":318,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The values suggest setting I/O or floating-point behavior.","position":{"start":{"line":317,"column":1},"end":{"line":317,"column":1}},"key":"uG5lHtFdR1"}],"key":"ecJvU9iP03"}],"key":"BRC1hN5KyT"}],"key":"hfapGh2agZ"},{"type":"thematicBreak","position":{"start":{"line":319,"column":1},"end":{"line":319,"column":1}},"key":"vzWz4HrEkA"},{"type":"heading","depth":4,"position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"children":[{"type":"text","value":"5. ","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"key":"gr5LxYnYjC"},{"type":"strong","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"children":[{"type":"text","value":"Call Fortran Program Logic","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"key":"HTxTJUdboP"}],"key":"YbvLzD5IBR"}],"identifier":"id-5-call-fortran-program-logic","label":"5. Call Fortran Program Logic","html_id":"id-5-call-fortran-program-logic","implicit":true,"key":"TXR4Ha7xpx"},{"type":"code","lang":"asm","value":"870:\t97ffffe9 \tbl\t814 <MAIN__>","position":{"start":{"line":323,"column":1},"end":{"line":325,"column":1}},"key":"prhu7d51GW"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":327,"column":1},"end":{"line":328,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":327,"column":1},"end":{"line":328,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Call ","position":{"start":{"line":327,"column":1},"end":{"line":327,"column":1}},"key":"zbkbcCpjpl"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":327,"column":1},"end":{"line":327,"column":1}},"key":"v8UFnw9Gno"},{"type":"text","value":", which contains the actual logic (","position":{"start":{"line":327,"column":1},"end":{"line":327,"column":1}},"key":"k5nj7WZ56q"},{"type":"inlineCode","value":"a = 10; b = 5; c = a / b","position":{"start":{"line":327,"column":1},"end":{"line":327,"column":1}},"key":"YuotzHaHcR"},{"type":"text","value":")","position":{"start":{"line":327,"column":1},"end":{"line":327,"column":1}},"key":"Qn1z8428bv"}],"key":"PYKSqp2fSM"}],"key":"B6EkZcyCKU"}],"key":"YjpoE0btcN"},{"type":"thematicBreak","position":{"start":{"line":329,"column":1},"end":{"line":329,"column":1}},"key":"dHYnz1L4OH"},{"type":"heading","depth":4,"position":{"start":{"line":331,"column":1},"end":{"line":331,"column":1}},"children":[{"type":"text","value":"6. ","position":{"start":{"line":331,"column":1},"end":{"line":331,"column":1}},"key":"DCtm1iKv7y"},{"type":"strong","position":{"start":{"line":331,"column":1},"end":{"line":331,"column":1}},"children":[{"type":"text","value":"Return from Main","position":{"start":{"line":331,"column":1},"end":{"line":331,"column":1}},"key":"WbGxsm2VWN"}],"key":"WttYOl1f0Q"}],"identifier":"id-6-return-from-main","label":"6. Return from Main","html_id":"id-6-return-from-main","implicit":true,"key":"eMmxArW9fp"},{"type":"code","lang":"asm","value":"874:\t52800000 \tmov\tw0, #0x0          // return code 0\n878:\ta8c27bfd \tldp\tx29, x30, [sp], #32  // restore frame and return address\n87c:\td65f03c0 \tret","position":{"start":{"line":333,"column":1},"end":{"line":337,"column":1}},"key":"tylE1rekt0"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":339,"column":1},"end":{"line":342,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":339,"column":1},"end":{"line":339,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Sets exit code to 0","position":{"start":{"line":339,"column":1},"end":{"line":339,"column":1}},"key":"CVlFTnHvB0"}],"key":"dPk6iON54I"}],"key":"xKIthX5JDP"},{"type":"listItem","spread":true,"position":{"start":{"line":340,"column":1},"end":{"line":340,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Restores stack and frame pointers","position":{"start":{"line":340,"column":1},"end":{"line":340,"column":1}},"key":"kNP0eaSHKY"}],"key":"Zzj2tcS3nc"}],"key":"n7lZHlfiBI"},{"type":"listItem","spread":true,"position":{"start":{"line":341,"column":1},"end":{"line":342,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Returns to OS","position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"key":"C5U4qPhe7V"}],"key":"DoIT40GQEt"}],"key":"sx46cGz2Kj"}],"key":"HnWOE7YVxa"},{"type":"thematicBreak","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"key":"xePqmLLhr5"},{"type":"heading","depth":2,"position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"children":[{"type":"text","value":"ðŸ” Stack Layout in ","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"key":"gPEJy4TYo0"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"key":"qKQtK7RUS2"}],"identifier":"id-stack-layout-in-main","label":"ðŸ” Stack Layout in MAIN__","html_id":"id-stack-layout-in-main","implicit":true,"key":"ksKI754U0j"},{"type":"table","position":{"start":{"line":347,"column":1},"end":{"line":351,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":347,"column":1},"end":{"line":347,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":347,"column":1},"end":{"line":347,"column":1}},"children":[{"type":"text","value":"Offset","position":{"start":{"line":347,"column":1},"end":{"line":347,"column":1}},"key":"xJ7hxqnXJN"}],"key":"b6J3WymcLq"},{"type":"tableCell","header":true,"position":{"start":{"line":347,"column":1},"end":{"line":347,"column":1}},"children":[{"type":"text","value":"Variable","position":{"start":{"line":347,"column":1},"end":{"line":347,"column":1}},"key":"IwESMBFYYG"}],"key":"GMfoFjbDGx"},{"type":"tableCell","header":true,"position":{"start":{"line":347,"column":1},"end":{"line":347,"column":1}},"children":[{"type":"text","value":"Description","position":{"start":{"line":347,"column":1},"end":{"line":347,"column":1}},"key":"zlixTQFH62"}],"key":"GTWsZ7eHzD"}],"key":"t1qQfEP6Qf"},{"type":"tableRow","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"children":[{"type":"text","value":"+12","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"key":"pLKsxwYOaQ"}],"key":"UbEJLap2wn"},{"type":"tableCell","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"children":[{"type":"inlineCode","value":"a","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"key":"iiWsjmZNif"}],"key":"ioi2mHlpGj"},{"type":"tableCell","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"children":[{"type":"text","value":"10","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"key":"hAEXjSkjux"}],"key":"Cu1JmtmhlA"}],"key":"Q1gqv72XOh"},{"type":"tableRow","position":{"start":{"line":350,"column":1},"end":{"line":350,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":350,"column":1},"end":{"line":350,"column":1}},"children":[{"type":"text","value":"+8","position":{"start":{"line":350,"column":1},"end":{"line":350,"column":1}},"key":"mdRC8uham3"}],"key":"QUWYUabCIr"},{"type":"tableCell","position":{"start":{"line":350,"column":1},"end":{"line":350,"column":1}},"children":[{"type":"inlineCode","value":"b","position":{"start":{"line":350,"column":1},"end":{"line":350,"column":1}},"key":"aHfPWgJW9b"}],"key":"bjhemI4BNS"},{"type":"tableCell","position":{"start":{"line":350,"column":1},"end":{"line":350,"column":1}},"children":[{"type":"text","value":"5","position":{"start":{"line":350,"column":1},"end":{"line":350,"column":1}},"key":"Nzh6DsGtpN"}],"key":"TTBKGxFa9M"}],"key":"QYSIvs8qY1"},{"type":"tableRow","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"children":[{"type":"text","value":"+4","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"Uk1eP3jBmp"}],"key":"x3fDOlOzQ0"},{"type":"tableCell","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"children":[{"type":"inlineCode","value":"c","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"lHQo6jfQ6J"}],"key":"rODqTabArz"},{"type":"tableCell","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"children":[{"type":"inlineCode","value":"a / b = 2","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"vJB76ZnhHR"}],"key":"JkAcTW0FUe"}],"key":"rnLIEUOlAv"}],"key":"BDlIrSxrGH"},{"type":"thematicBreak","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"key":"R0CWTjtjPj"},{"type":"heading","depth":2,"position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"children":[{"type":"text","value":"âœ… Summary","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"key":"xCO1qOFiYA"}],"identifier":"id-summary","label":"âœ… Summary","html_id":"id-summary","implicit":true,"key":"xftJuGp7GK"},{"type":"paragraph","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"children":[{"type":"text","value":"This disassembly corresponds to a minimal Fortran program that:","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"XkNlZh3cps"}],"key":"mwthEkEssk"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":359,"column":1},"end":{"line":365,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":359,"column":1},"end":{"line":359,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Allocates stack space","position":{"start":{"line":359,"column":1},"end":{"line":359,"column":1}},"key":"UiqXTlmmmU"}],"key":"TvwZCVZLX4"}],"key":"RXCY4awGTu"},{"type":"listItem","spread":true,"position":{"start":{"line":360,"column":1},"end":{"line":360,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Initializes two integers (","position":{"start":{"line":360,"column":1},"end":{"line":360,"column":1}},"key":"sAbKL5Ut7W"},{"type":"inlineCode","value":"a = 10","position":{"start":{"line":360,"column":1},"end":{"line":360,"column":1}},"key":"iQz93ZjYFV"},{"type":"text","value":", ","position":{"start":{"line":360,"column":1},"end":{"line":360,"column":1}},"key":"WW7YaIgwpC"},{"type":"inlineCode","value":"b = 5","position":{"start":{"line":360,"column":1},"end":{"line":360,"column":1}},"key":"RDnAkmem7N"},{"type":"text","value":")","position":{"start":{"line":360,"column":1},"end":{"line":360,"column":1}},"key":"nhUSR9Hf4k"}],"key":"sInCD3sIvL"}],"key":"wWC6wvWUQH"},{"type":"listItem","spread":true,"position":{"start":{"line":361,"column":1},"end":{"line":361,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Computes their integer quotient ","position":{"start":{"line":361,"column":1},"end":{"line":361,"column":1}},"key":"gEEF7OsNXD"},{"type":"inlineCode","value":"c = a / b","position":{"start":{"line":361,"column":1},"end":{"line":361,"column":1}},"key":"EQ5Xr0Q17j"},{"type":"text","value":" using ARM64 ","position":{"start":{"line":361,"column":1},"end":{"line":361,"column":1}},"key":"vaM6gZuMPK"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":361,"column":1},"end":{"line":361,"column":1}},"key":"YwKhuAA5xr"}],"key":"xdlGFycMV6"}],"key":"F4F1Unelak"},{"type":"listItem","spread":true,"position":{"start":{"line":362,"column":1},"end":{"line":362,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Stores the result to stack","position":{"start":{"line":362,"column":1},"end":{"line":362,"column":1}},"key":"BZpxg37wsF"}],"key":"rslVooWHBk"}],"key":"aSrwQfU4LY"},{"type":"listItem","spread":true,"position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Sets up the Fortran runtime environment via ","position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"key":"RrJIwRFD6t"},{"type":"inlineCode","value":"main","position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"key":"kSvg8q6Svr"}],"key":"gUeY6siBFR"}],"key":"KvHHuhtDC8"},{"type":"listItem","spread":true,"position":{"start":{"line":364,"column":1},"end":{"line":365,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Returns cleanly to the OS","position":{"start":{"line":364,"column":1},"end":{"line":364,"column":1}},"key":"cceLnMlZ38"}],"key":"i8eC6NbCgD"}],"key":"XYw8LAukS2"}],"key":"IZc5oVfYhU"},{"type":"paragraph","position":{"start":{"line":366,"column":1},"end":{"line":366,"column":1}},"children":[{"type":"text","value":"Let me know if youâ€™d like the equivalent C version, annotated binary layout, or memory map!","position":{"start":{"line":366,"column":1},"end":{"line":366,"column":1}},"key":"q4JC5WR4HW"}],"key":"HI23IHWQVU"},{"type":"heading","depth":2,"position":{"start":{"line":369,"column":1},"end":{"line":369,"column":1}},"children":[{"type":"text","value":"Explaining the Disassembly by Grok 4","position":{"start":{"line":369,"column":1},"end":{"line":369,"column":1}},"key":"YJYu6EJHXP"}],"identifier":"explaining-the-disassembly-by-grok-4","label":"Explaining the Disassembly by Grok 4","html_id":"explaining-the-disassembly-by-grok-4","implicit":true,"key":"Gwk0QzjYAj"},{"type":"heading","depth":3,"position":{"start":{"line":371,"column":1},"end":{"line":371,"column":1}},"children":[{"type":"text","value":"Overview of the Disassembly","position":{"start":{"line":371,"column":1},"end":{"line":371,"column":1}},"key":"F5SECmwdw3"}],"identifier":"overview-of-the-disassembly","label":"Overview of the Disassembly","html_id":"overview-of-the-disassembly","implicit":true,"key":"AnlO6nDuum"},{"type":"paragraph","position":{"start":{"line":373,"column":1},"end":{"line":373,"column":1}},"children":[{"type":"text","value":"This disassembly shows the machine code for a simple Fortran program compiled for the AArch64 (ARM64) architecture, likely using gfortran (GNU Fortran compiler). The Fortran source, embedded in the disassembly, is a program named â€œdiv_intâ€ that declares three integers (","position":{"start":{"line":373,"column":1},"end":{"line":373,"column":1}},"key":"JOoZi3ozAk"},{"type":"inlineCode","value":"a","position":{"start":{"line":373,"column":1},"end":{"line":373,"column":1}},"key":"KEzFPXl7QK"},{"type":"text","value":", ","position":{"start":{"line":373,"column":1},"end":{"line":373,"column":1}},"key":"NkWpBTYGhF"},{"type":"inlineCode","value":"b","position":{"start":{"line":373,"column":1},"end":{"line":373,"column":1}},"key":"LdeEb9hOyM"},{"type":"text","value":", ","position":{"start":{"line":373,"column":1},"end":{"line":373,"column":1}},"key":"sitrluCgDd"},{"type":"inlineCode","value":"c","position":{"start":{"line":373,"column":1},"end":{"line":373,"column":1}},"key":"xmSVc93suR"},{"type":"text","value":"), assigns ","position":{"start":{"line":373,"column":1},"end":{"line":373,"column":1}},"key":"FttddKECON"},{"type":"inlineCode","value":"a = 10","position":{"start":{"line":373,"column":1},"end":{"line":373,"column":1}},"key":"GRscB5kLGN"},{"type":"text","value":" and ","position":{"start":{"line":373,"column":1},"end":{"line":373,"column":1}},"key":"vOIoXtmMMb"},{"type":"inlineCode","value":"b = 5","position":{"start":{"line":373,"column":1},"end":{"line":373,"column":1}},"key":"QcjXHIridV"},{"type":"text","value":", computes ","position":{"start":{"line":373,"column":1},"end":{"line":373,"column":1}},"key":"vtL5FykXrY"},{"type":"inlineCode","value":"c = a / b","position":{"start":{"line":373,"column":1},"end":{"line":373,"column":1}},"key":"gupjLb5xgW"},{"type":"text","value":" (integer division, resulting in 2), and ends without any output or I/O. Itâ€™s essentially a trivial computation with no side effects.","position":{"start":{"line":373,"column":1},"end":{"line":373,"column":1}},"key":"kcQ1APbLVY"}],"key":"Q2Wx8g97Cr"},{"type":"paragraph","position":{"start":{"line":375,"column":1},"end":{"line":375,"column":1}},"children":[{"type":"text","value":"The code is split into two functions:","position":{"start":{"line":375,"column":1},"end":{"line":375,"column":1}},"key":"WtrRJlYjPj"}],"key":"L3rvWlnsGv"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":376,"column":1},"end":{"line":378,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":376,"column":1},"end":{"line":376,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"<MAIN__>","position":{"start":{"line":376,"column":1},"end":{"line":376,"column":1}},"key":"p9l42ajDaJ"},{"type":"text","value":": The mangled name for the Fortran main program body. It handles variable allocation, assignments, the division, and cleanup.","position":{"start":{"line":376,"column":1},"end":{"line":376,"column":1}},"key":"n5PIlwXd8l"}],"key":"IeRwmZd50B"}],"key":"UWac3WfWG1"},{"type":"listItem","spread":true,"position":{"start":{"line":377,"column":1},"end":{"line":378,"column":1}},"children":[{"type":"paragraph","children":[{"type":"inlineCode","value":"<main>","position":{"start":{"line":377,"column":1},"end":{"line":377,"column":1}},"key":"n5NSmzxLhJ"},{"type":"text","value":": The actual entry point, generated by the compiler for runtime setup. It interfaces with the GNU Fortran runtime library (libgfortran) to handle command-line arguments and options, calls ","position":{"start":{"line":377,"column":1},"end":{"line":377,"column":1}},"key":"wV8mI5d1nV"},{"type":"inlineCode","value":"<MAIN__>","position":{"start":{"line":377,"column":1},"end":{"line":377,"column":1}},"key":"hAdUdgyAQ6"},{"type":"text","value":", and exits.","position":{"start":{"line":377,"column":1},"end":{"line":377,"column":1}},"key":"LowNSyFt3Y"}],"key":"OYctFzzSBf"}],"key":"Fv3AXLXp2V"}],"key":"psVgBUWIYl"},{"type":"paragraph","position":{"start":{"line":379,"column":1},"end":{"line":379,"column":1}},"children":[{"type":"text","value":"The code uses stack storage for variables (no register optimization, suggesting unoptimized compilation like -O0). Instructions include hexadecimal offsets, opcodes, mnemonics, and operands. Some calls use the Procedure Linkage Table (PLT) for dynamic linking to external functions (e.g., from libgfortran). Relocations or PLT stubs (like ","position":{"start":{"line":379,"column":1},"end":{"line":379,"column":1}},"key":"kZoUXxdXuk"},{"type":"inlineCode","value":"@plt","position":{"start":{"line":379,"column":1},"end":{"line":379,"column":1}},"key":"VnnYaoNtN4"},{"type":"text","value":") indicate linker-resolved addresses.","position":{"start":{"line":379,"column":1},"end":{"line":379,"column":1}},"key":"dsm7yYMgGF"}],"key":"IyCnrSB773"},{"type":"paragraph","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"children":[{"type":"text","value":"AArch64 conventions: 64-bit registers (x0-x31), 32-bit views (w0-w31), stack pointer (sp) grows downward, little-endian memory. Integers are 32-bit (4 bytes each), so stack slots are 4 bytes.","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"UuENOmlGUn"}],"key":"x3Zns0h1K8"},{"type":"paragraph","position":{"start":{"line":383,"column":1},"end":{"line":383,"column":1}},"children":[{"type":"text","value":"Iâ€™ll break it down instruction-by-instruction, linking to the Fortran source.","position":{"start":{"line":383,"column":1},"end":{"line":383,"column":1}},"key":"XwjCETJm85"}],"key":"jzkT8Bkh10"},{"type":"heading","depth":3,"position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"children":[{"type":"text","value":"Detailed Explanation of ","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"JHwtNvPRiF"},{"type":"inlineCode","value":"<MAIN__>","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"tQcQjLfHrX"},{"type":"text","value":" (Offset 0x0000000000000814)","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"eeFnblWy97"}],"identifier":"detailed-explanation-of-main-offset-0x0000000000000814","label":"Detailed Explanation of <MAIN__> (Offset 0x0000000000000814)","html_id":"detailed-explanation-of-main-offset-0x0000000000000814","implicit":true,"key":"vGTMdESAQx"},{"type":"paragraph","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"children":[{"type":"text","value":"This is the core of the Fortran program. It allocates 16 bytes on the stack (for ","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"EbulpDqAxf"},{"type":"inlineCode","value":"a","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"HDiFx9Asw5"},{"type":"text","value":", ","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"SacTXGeT8s"},{"type":"inlineCode","value":"b","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"kP0qihhvV6"},{"type":"text","value":", ","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"OAtHyUfupa"},{"type":"inlineCode","value":"c","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"Qf5W79unRQ"},{"type":"text","value":" plus alignment padding), assigns values, performs signed integer division, stores the result, and deallocates before returning.","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"gUiI2hJPsw"}],"key":"k9M8nGNSyw"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":389,"column":1},"end":{"line":424,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":389,"column":1},"end":{"line":391,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":389,"column":1},"end":{"line":390,"column":1}},"children":[{"type":"strong","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"children":[{"type":"text","value":"814: d10043ff  sub sp, sp, #0x10","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"ePmO4tOVsa"}],"key":"xcRm1HJymz"},{"type":"break","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"XL1gFfPfrG"},{"type":"text","value":"Subtract 0x10 (16 decimal) from sp to allocate stack space. This reserves room for three 4-byte integers (12 bytes) plus 4 bytes for 16-byte alignment (AArch64 ABI mandates this). Corresponds to entering ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"OQhR8NFRcx"},{"type":"inlineCode","value":"program div_int","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"W96UXnADJe"},{"type":"text","value":" and declaring variables.","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"OjLGHrB6BH"}],"key":"IQShOi5RiZ"}],"key":"x0LtI6IIqv"},{"type":"listItem","spread":true,"position":{"start":{"line":392,"column":1},"end":{"line":394,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":392,"column":1},"end":{"line":393,"column":1}},"children":[{"type":"strong","position":{"start":{"line":392,"column":1},"end":{"line":392,"column":1}},"children":[{"type":"text","value":"818: 52800140  mov w0, #0xa","position":{"start":{"line":392,"column":1},"end":{"line":392,"column":1}},"key":"EPbO3nKwUG"}],"key":"qWl8dR2MZl"},{"type":"break","position":{"start":{"line":392,"column":1},"end":{"line":392,"column":1}},"key":"EqgEYI1qlr"},{"type":"text","value":"Move immediate 0xa (10 decimal) into w0 (32-bit register). Prepares ","position":{"start":{"line":392,"column":1},"end":{"line":392,"column":1}},"key":"B1voRkJobX"},{"type":"inlineCode","value":"a = 10","position":{"start":{"line":392,"column":1},"end":{"line":392,"column":1}},"key":"HbdVGcpPnz"},{"type":"text","value":".","position":{"start":{"line":392,"column":1},"end":{"line":392,"column":1}},"key":"NXm8waqE2T"}],"key":"A99O16uVsN"}],"key":"TKFXJei3G5"},{"type":"listItem","spread":true,"position":{"start":{"line":395,"column":1},"end":{"line":397,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":395,"column":1},"end":{"line":396,"column":1}},"children":[{"type":"strong","position":{"start":{"line":395,"column":1},"end":{"line":395,"column":1}},"children":[{"type":"text","value":"81c: b9000fe0  str w0, [sp, #12]","position":{"start":{"line":395,"column":1},"end":{"line":395,"column":1}},"key":"RQebhkQqmQ"}],"key":"P0DLvOb41r"},{"type":"break","position":{"start":{"line":395,"column":1},"end":{"line":395,"column":1}},"key":"yxk9zGVygx"},{"type":"text","value":"Store w0 (10) to memory at [sp + 12]. Assigns to ","position":{"start":{"line":395,"column":1},"end":{"line":395,"column":1}},"key":"n1BaOE7rdh"},{"type":"inlineCode","value":"a","position":{"start":{"line":395,"column":1},"end":{"line":395,"column":1}},"key":"eCAyHS6hsi"},{"type":"text","value":" (stack offset 12).","position":{"start":{"line":395,"column":1},"end":{"line":395,"column":1}},"key":"DhfDTKorve"}],"key":"k6BJFbz0IT"}],"key":"KsF7CyTpjE"},{"type":"listItem","spread":true,"position":{"start":{"line":398,"column":1},"end":{"line":400,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":398,"column":1},"end":{"line":399,"column":1}},"children":[{"type":"strong","position":{"start":{"line":398,"column":1},"end":{"line":398,"column":1}},"children":[{"type":"text","value":"820: 528000a0  mov w0, #0x5","position":{"start":{"line":398,"column":1},"end":{"line":398,"column":1}},"key":"kYbZeY2HL1"}],"key":"fdYJpkbBgN"},{"type":"break","position":{"start":{"line":398,"column":1},"end":{"line":398,"column":1}},"key":"Ycq8FjqFpD"},{"type":"text","value":"Move 0x5 (5) into w0. Prepares ","position":{"start":{"line":398,"column":1},"end":{"line":398,"column":1}},"key":"zHpKGCgPed"},{"type":"inlineCode","value":"b = 5","position":{"start":{"line":398,"column":1},"end":{"line":398,"column":1}},"key":"IebhXJcojN"},{"type":"text","value":".","position":{"start":{"line":398,"column":1},"end":{"line":398,"column":1}},"key":"LF3AQSgEGG"}],"key":"SdEOHgakeh"}],"key":"S07dccGVYe"},{"type":"listItem","spread":true,"position":{"start":{"line":401,"column":1},"end":{"line":403,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":401,"column":1},"end":{"line":402,"column":1}},"children":[{"type":"strong","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"children":[{"type":"text","value":"824: b9000be0  str w0, [sp, #8]","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"dImGPmyIwO"}],"key":"FdwOsqZ42d"},{"type":"break","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"aP5cpBkphF"},{"type":"text","value":"Store w0 (5) to [sp + 8]. Assigns to ","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"kpN6LUjcA2"},{"type":"inlineCode","value":"b","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"jdwArCUkuP"},{"type":"text","value":" (offset 8).","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"OcChm9htBC"}],"key":"q0bLfy0VI3"}],"key":"NKEhZJF3Cs"},{"type":"listItem","spread":true,"position":{"start":{"line":404,"column":1},"end":{"line":406,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":404,"column":1},"end":{"line":405,"column":1}},"children":[{"type":"strong","position":{"start":{"line":404,"column":1},"end":{"line":404,"column":1}},"children":[{"type":"text","value":"828: b9400fe1  ldr w1, [sp, #12]","position":{"start":{"line":404,"column":1},"end":{"line":404,"column":1}},"key":"FncgIZMolG"}],"key":"YWrUaDydre"},{"type":"break","position":{"start":{"line":404,"column":1},"end":{"line":404,"column":1}},"key":"WObCBLulHI"},{"type":"text","value":"Load [sp + 12] (","position":{"start":{"line":404,"column":1},"end":{"line":404,"column":1}},"key":"IiRZk4yLt4"},{"type":"inlineCode","value":"a","position":{"start":{"line":404,"column":1},"end":{"line":404,"column":1}},"key":"CfJlgpDN60"},{"type":"text","value":" = 10) into w1. Loads first operand for ","position":{"start":{"line":404,"column":1},"end":{"line":404,"column":1}},"key":"nbCtqaKWm9"},{"type":"inlineCode","value":"c = a / b","position":{"start":{"line":404,"column":1},"end":{"line":404,"column":1}},"key":"DOYw45rxus"},{"type":"text","value":".","position":{"start":{"line":404,"column":1},"end":{"line":404,"column":1}},"key":"iEeZPnuiPf"}],"key":"ohh7jPIOyo"}],"key":"qkAvApPAW3"},{"type":"listItem","spread":true,"position":{"start":{"line":407,"column":1},"end":{"line":409,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":407,"column":1},"end":{"line":408,"column":1}},"children":[{"type":"strong","position":{"start":{"line":407,"column":1},"end":{"line":407,"column":1}},"children":[{"type":"text","value":"82c: b9400be0  ldr w0, [sp, #8]","position":{"start":{"line":407,"column":1},"end":{"line":407,"column":1}},"key":"vbFCdlimrF"}],"key":"xFvKF5R0LP"},{"type":"break","position":{"start":{"line":407,"column":1},"end":{"line":407,"column":1}},"key":"f6sl4JpogG"},{"type":"text","value":"Load [sp + 8] (","position":{"start":{"line":407,"column":1},"end":{"line":407,"column":1}},"key":"KvSLcNsbLV"},{"type":"inlineCode","value":"b","position":{"start":{"line":407,"column":1},"end":{"line":407,"column":1}},"key":"Czj3xxTFZx"},{"type":"text","value":" = 5) into w0. Now w1 = a, w0 = b.","position":{"start":{"line":407,"column":1},"end":{"line":407,"column":1}},"key":"aiwnnkyNxO"}],"key":"srjy7LrnYv"}],"key":"inION5AUGp"},{"type":"listItem","spread":true,"position":{"start":{"line":410,"column":1},"end":{"line":412,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":410,"column":1},"end":{"line":411,"column":1}},"children":[{"type":"strong","position":{"start":{"line":410,"column":1},"end":{"line":410,"column":1}},"children":[{"type":"text","value":"830: 1ac00c20  sdiv w0, w1, w0","position":{"start":{"line":410,"column":1},"end":{"line":410,"column":1}},"key":"Tu1mqKlPmw"}],"key":"qqGbsYlcwg"},{"type":"break","position":{"start":{"line":410,"column":1},"end":{"line":410,"column":1}},"key":"lAtRiPtPCp"},{"type":"text","value":"Signed divide w1 (a) by w0 (b), store quotient in w0. Computes 10 / 5 = 2 (integer division; remainder discarded). ","position":{"start":{"line":410,"column":1},"end":{"line":410,"column":1}},"key":"CwTXWtmcOu"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":410,"column":1},"end":{"line":410,"column":1}},"key":"lxBB9zbxQi"},{"type":"text","value":" is for signed integers (Fortran integers are signed). If b=0, this would trap (division by zero), but here b=5.","position":{"start":{"line":410,"column":1},"end":{"line":410,"column":1}},"key":"TFjx89wiYC"}],"key":"W7VonftSIs"}],"key":"brgIN3d1LZ"},{"type":"listItem","spread":true,"position":{"start":{"line":413,"column":1},"end":{"line":415,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":413,"column":1},"end":{"line":414,"column":1}},"children":[{"type":"strong","position":{"start":{"line":413,"column":1},"end":{"line":413,"column":1}},"children":[{"type":"text","value":"834: b90007e0  str w0, [sp, #4]","position":{"start":{"line":413,"column":1},"end":{"line":413,"column":1}},"key":"rjRPdJFeiM"}],"key":"JQutrsaAbU"},{"type":"break","position":{"start":{"line":413,"column":1},"end":{"line":413,"column":1}},"key":"R8nFdhf7u6"},{"type":"text","value":"Store w0 (2) to [sp + 4]. Assigns to ","position":{"start":{"line":413,"column":1},"end":{"line":413,"column":1}},"key":"XyKiroBeTI"},{"type":"inlineCode","value":"c","position":{"start":{"line":413,"column":1},"end":{"line":413,"column":1}},"key":"Y0fO3krjYp"},{"type":"text","value":" (offset 4).","position":{"start":{"line":413,"column":1},"end":{"line":413,"column":1}},"key":"KC1BanHJ5X"}],"key":"uq95fO9XXp"}],"key":"FzQFNPWB70"},{"type":"listItem","spread":true,"position":{"start":{"line":416,"column":1},"end":{"line":418,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":416,"column":1},"end":{"line":417,"column":1}},"children":[{"type":"strong","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"children":[{"type":"text","value":"838: d503201f  nop","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"cjQE68x7Kn"}],"key":"XY3ZwXVwKD"},{"type":"break","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"c16Bfxu4R3"},{"type":"text","value":"No operation. Compiler-inserted padding for alignment or to separate code sections. Marks end of computation before ","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"EsU2i8WTVO"},{"type":"inlineCode","value":"end program div_int","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"tXTpHfGbVy"},{"type":"text","value":".","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"aqSYD6ZBsg"}],"key":"cTwApWmu9j"}],"key":"Sq5XMGXTiY"},{"type":"listItem","spread":true,"position":{"start":{"line":419,"column":1},"end":{"line":421,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":419,"column":1},"end":{"line":420,"column":1}},"children":[{"type":"strong","position":{"start":{"line":419,"column":1},"end":{"line":419,"column":1}},"children":[{"type":"text","value":"83c: 910043ff  add sp, sp, #0x10","position":{"start":{"line":419,"column":1},"end":{"line":419,"column":1}},"key":"DfNq3tgKVv"}],"key":"iq6oVr0Qyb"},{"type":"break","position":{"start":{"line":419,"column":1},"end":{"line":419,"column":1}},"key":"nBYG6ow6Bz"},{"type":"text","value":"Add 0x10 to sp, deallocating stack space. Cleans up variables.","position":{"start":{"line":419,"column":1},"end":{"line":419,"column":1}},"key":"RzlImH8kHP"}],"key":"eXJYODh7DC"}],"key":"YJFarcqg4P"},{"type":"listItem","spread":true,"position":{"start":{"line":422,"column":1},"end":{"line":424,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":422,"column":1},"end":{"line":423,"column":1}},"children":[{"type":"strong","position":{"start":{"line":422,"column":1},"end":{"line":422,"column":1}},"children":[{"type":"text","value":"840: d65f03c0  ret","position":{"start":{"line":422,"column":1},"end":{"line":422,"column":1}},"key":"EjbAQE3C25"}],"key":"WbRk9LNmKS"},{"type":"break","position":{"start":{"line":422,"column":1},"end":{"line":422,"column":1}},"key":"vKQsEjYXwU"},{"type":"text","value":"Return by jumping to address in x30 (link register, set by caller). Exits ","position":{"start":{"line":422,"column":1},"end":{"line":422,"column":1}},"key":"iHvgB8kZVD"},{"type":"inlineCode","value":"<MAIN__>","position":{"start":{"line":422,"column":1},"end":{"line":422,"column":1}},"key":"IPBguvifWv"},{"type":"text","value":".","position":{"start":{"line":422,"column":1},"end":{"line":422,"column":1}},"key":"vhr5rorwhi"}],"key":"pMQywNX4i4"}],"key":"YztMAMaLOK"}],"key":"eno542bN6v"},{"type":"paragraph","position":{"start":{"line":425,"column":1},"end":{"line":425,"column":1}},"children":[{"type":"text","value":"Summary: ","position":{"start":{"line":425,"column":1},"end":{"line":425,"column":1}},"key":"snHOatyVJD"},{"type":"inlineCode","value":"<MAIN__>","position":{"start":{"line":425,"column":1},"end":{"line":425,"column":1}},"key":"wb2mv5JkKI"},{"type":"text","value":" translates the Fortran directlyâ€”stack alloc, load constants, divide, store, dealloc. No optimizations; all via stack.","position":{"start":{"line":425,"column":1},"end":{"line":425,"column":1}},"key":"S9vipx3Uap"}],"key":"g8Tg8fg8zZ"},{"type":"heading","depth":3,"position":{"start":{"line":427,"column":1},"end":{"line":427,"column":1}},"children":[{"type":"text","value":"Detailed Explanation of ","position":{"start":{"line":427,"column":1},"end":{"line":427,"column":1}},"key":"UIWAlIJIph"},{"type":"inlineCode","value":"<main>","position":{"start":{"line":427,"column":1},"end":{"line":427,"column":1}},"key":"JqmzUwkYxW"},{"type":"text","value":" (Offset 0x0000000000000844)","position":{"start":{"line":427,"column":1},"end":{"line":427,"column":1}},"key":"P6KNNLV0FE"}],"identifier":"detailed-explanation-of-main-offset-0x0000000000000844","label":"Detailed Explanation of <main> (Offset 0x0000000000000844)","html_id":"detailed-explanation-of-main-offset-0x0000000000000844","implicit":true,"key":"zawVqS9M4O"},{"type":"paragraph","position":{"start":{"line":429,"column":1},"end":{"line":429,"column":1}},"children":[{"type":"text","value":"This is the program entry point, handling Fortran runtime initialization. It saves registers, passes args to libgfortran, sets options, calls ","position":{"start":{"line":429,"column":1},"end":{"line":429,"column":1}},"key":"sVHNOHp4ZN"},{"type":"inlineCode","value":"<MAIN__>","position":{"start":{"line":429,"column":1},"end":{"line":429,"column":1}},"key":"EeRgd3ZgDi"},{"type":"text","value":", and exits with status 0. Uses System V ABI (args in x0-x7, etc.).","position":{"start":{"line":429,"column":1},"end":{"line":429,"column":1}},"key":"DOlAEvkUAt"}],"key":"bzCa4xepZC"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":431,"column":1},"end":{"line":475,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":431,"column":1},"end":{"line":433,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":431,"column":1},"end":{"line":432,"column":1}},"children":[{"type":"strong","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"children":[{"type":"text","value":"844: a9be7bfd  stp x29, x30, [sp, #-32]!","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"idYZnGd0fa"}],"key":"MB4LqIVUrs"},{"type":"break","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"OnTF3Iy3Sx"},{"type":"text","value":"Store pair: Save x29 (frame pointer) and x30 (link register) to [sp - 32], then sp -= 32. Allocates 32 bytes and preserves caller registers (ABI compliance).","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"ESqckyeLR9"}],"key":"fS04QGusk2"}],"key":"XGCICUMDY3"},{"type":"listItem","spread":true,"position":{"start":{"line":434,"column":1},"end":{"line":436,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":434,"column":1},"end":{"line":435,"column":1}},"children":[{"type":"strong","position":{"start":{"line":434,"column":1},"end":{"line":434,"column":1}},"children":[{"type":"text","value":"848: 910003fd  mov x29, sp","position":{"start":{"line":434,"column":1},"end":{"line":434,"column":1}},"key":"DOgAOw52rD"}],"key":"idJ5Udnyqk"},{"type":"break","position":{"start":{"line":434,"column":1},"end":{"line":434,"column":1}},"key":"iAKgfTZqEI"},{"type":"text","value":"Set x29 to sp. Establishes frame pointer for debugging/unwinding.","position":{"start":{"line":434,"column":1},"end":{"line":434,"column":1}},"key":"Q8NK7O9aev"}],"key":"PHlQLpLYxe"}],"key":"wvjRKUVydg"},{"type":"listItem","spread":true,"position":{"start":{"line":437,"column":1},"end":{"line":439,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":437,"column":1},"end":{"line":438,"column":1}},"children":[{"type":"strong","position":{"start":{"line":437,"column":1},"end":{"line":437,"column":1}},"children":[{"type":"text","value":"84c: b9001fe0  str w0, [sp, #28]","position":{"start":{"line":437,"column":1},"end":{"line":437,"column":1}},"key":"QDdFGVQfcQ"}],"key":"ZyKjzZLdoy"},{"type":"break","position":{"start":{"line":437,"column":1},"end":{"line":437,"column":1}},"key":"ehNduPf4Qd"},{"type":"text","value":"Store w0 (argc, command-line arg count from OS) to [sp + 28].","position":{"start":{"line":437,"column":1},"end":{"line":437,"column":1}},"key":"ViJROVZPgH"}],"key":"dsr594BK72"}],"key":"VTSmQ2yEcE"},{"type":"listItem","spread":true,"position":{"start":{"line":440,"column":1},"end":{"line":442,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":440,"column":1},"end":{"line":441,"column":1}},"children":[{"type":"strong","position":{"start":{"line":440,"column":1},"end":{"line":440,"column":1}},"children":[{"type":"text","value":"850: f9000be1  str x1, [sp, #16]","position":{"start":{"line":440,"column":1},"end":{"line":440,"column":1}},"key":"fTDVA0W5w8"}],"key":"myZFk0cAe9"},{"type":"break","position":{"start":{"line":440,"column":1},"end":{"line":440,"column":1}},"key":"ndAvGpkEjH"},{"type":"text","value":"Store x1 (argv, arg pointers) to [sp + 16]. Saves args.","position":{"start":{"line":440,"column":1},"end":{"line":440,"column":1}},"key":"aQjBEohQfX"}],"key":"EGSYbwdvPu"}],"key":"B978Y3ZIWS"},{"type":"listItem","spread":true,"position":{"start":{"line":443,"column":1},"end":{"line":445,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":443,"column":1},"end":{"line":444,"column":1}},"children":[{"type":"strong","position":{"start":{"line":443,"column":1},"end":{"line":443,"column":1}},"children":[{"type":"text","value":"854: f9400be1  ldr x1, [sp, #16]","position":{"start":{"line":443,"column":1},"end":{"line":443,"column":1}},"key":"QZcmi2kEy1"}],"key":"o491nTExg1"},{"type":"break","position":{"start":{"line":443,"column":1},"end":{"line":443,"column":1}},"key":"LbHwDCga22"},{"type":"text","value":"Load argv into x1 (prep for call).","position":{"start":{"line":443,"column":1},"end":{"line":443,"column":1}},"key":"mPc9M7RlhH"}],"key":"qrp9XsOc2c"}],"key":"iTxdoxtQCM"},{"type":"listItem","spread":true,"position":{"start":{"line":446,"column":1},"end":{"line":448,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":446,"column":1},"end":{"line":447,"column":1}},"children":[{"type":"strong","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"children":[{"type":"text","value":"858: b9401fe0  ldr w0, [sp, #28]","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"R6MNtdp10d"}],"key":"R6szON7ML0"},{"type":"break","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"HaobOS2R1F"},{"type":"text","value":"Load argc into w0.","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"jmFO89ONe5"}],"key":"Q3daYkJXKx"}],"key":"z93piQXzAi"},{"type":"listItem","spread":true,"position":{"start":{"line":449,"column":1},"end":{"line":451,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":449,"column":1},"end":{"line":450,"column":1}},"children":[{"type":"strong","position":{"start":{"line":449,"column":1},"end":{"line":449,"column":1}},"children":[{"type":"text","value":"85c: 97ffffa5  bl 6f0 ","position":{"start":{"line":449,"column":1},"end":{"line":449,"column":1}},"key":"ltA9goDfl6"},{"type":"link","url":"mailto:_gfortran_set_args@plt","position":{"start":{"line":449,"column":1},"end":{"line":449,"column":1}},"children":[{"type":"text","value":"â€‹_gfortranâ€‹_setâ€‹_args@plt","position":{"start":{"line":449,"column":1},"end":{"line":449,"column":1}},"key":"dMu4B656mr"}],"urlSource":"mailto:_gfortran_set_args@plt","key":"MKH9pL1ifb"}],"key":"IrYOIQqA9m"},{"type":"break","position":{"start":{"line":449,"column":1},"end":{"line":449,"column":1}},"key":"MgVg8WapWl"},{"type":"text","value":"Branch with link to ","position":{"start":{"line":449,"column":1},"end":{"line":449,"column":1}},"key":"ke3Um2r9e2"},{"type":"inlineCode","value":"_gfortran_set_args@plt","position":{"start":{"line":449,"column":1},"end":{"line":449,"column":1}},"key":"yrNDugr3oB"},{"type":"text","value":" (PLT stub at 0x6f0). Calls libgfortran function with argc (w0) and argv (x1) to initialize Fortran args. ","position":{"start":{"line":449,"column":1},"end":{"line":449,"column":1}},"key":"f7XpCSjCVU"},{"type":"inlineCode","value":"@plt","position":{"start":{"line":449,"column":1},"end":{"line":449,"column":1}},"key":"igVddMn0kC"},{"type":"text","value":" indicates dynamic linking via PLT (Procedure Linkage Table resolves at runtime).","position":{"start":{"line":449,"column":1},"end":{"line":449,"column":1}},"key":"udPPDLBub9"}],"key":"pxXheyZZ6G"}],"key":"qZJUpya7n2"},{"type":"listItem","spread":true,"position":{"start":{"line":452,"column":1},"end":{"line":454,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":452,"column":1},"end":{"line":453,"column":1}},"children":[{"type":"strong","position":{"start":{"line":452,"column":1},"end":{"line":452,"column":1}},"children":[{"type":"text","value":"860: 90000000  adrp x0, 0 <_init-0x660>","position":{"start":{"line":452,"column":1},"end":{"line":452,"column":1}},"key":"ud9Tjz4wWR"}],"key":"ZHDeyKuhoQ"},{"type":"break","position":{"start":{"line":452,"column":1},"end":{"line":452,"column":1}},"key":"jOPz8sWvH8"},{"type":"text","value":"Address relative page: Load page-aligned address (high 21 bits) of a data section into x0. Points to options data (likely in .rodata). The ","position":{"start":{"line":452,"column":1},"end":{"line":452,"column":1}},"key":"ypeInewh7C"},{"type":"inlineCode","value":"<_init-0x660>","position":{"start":{"line":452,"column":1},"end":{"line":452,"column":1}},"key":"kZBJeafjpg"},{"type":"text","value":" is a linker note; actual address resolved.","position":{"start":{"line":452,"column":1},"end":{"line":452,"column":1}},"key":"tL0GsqK2dq"}],"key":"JTZCl0of7Q"}],"key":"XDCN59dmzD"},{"type":"listItem","spread":true,"position":{"start":{"line":455,"column":1},"end":{"line":457,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":455,"column":1},"end":{"line":456,"column":1}},"children":[{"type":"strong","position":{"start":{"line":455,"column":1},"end":{"line":455,"column":1}},"children":[{"type":"text","value":"864: 91248001  add x1, x0, #0x920","position":{"start":{"line":455,"column":1},"end":{"line":455,"column":1}},"key":"CCy1che86v"}],"key":"lG8EydfuNv"},{"type":"break","position":{"start":{"line":455,"column":1},"end":{"line":455,"column":1}},"key":"vNnOyvV9t5"},{"type":"text","value":"Add 0x920 (2336 decimal) to x0, store in x1. Completes pointer to options array.","position":{"start":{"line":455,"column":1},"end":{"line":455,"column":1}},"key":"xZtuU0HNNp"}],"key":"bSAdFVmPJC"}],"key":"KdPYvVgtOF"},{"type":"listItem","spread":true,"position":{"start":{"line":458,"column":1},"end":{"line":460,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":458,"column":1},"end":{"line":459,"column":1}},"children":[{"type":"strong","position":{"start":{"line":458,"column":1},"end":{"line":458,"column":1}},"children":[{"type":"text","value":"868: 528000e0  mov w0, #0x7","position":{"start":{"line":458,"column":1},"end":{"line":458,"column":1}},"key":"BCU9VA1TvA"}],"key":"jL3oYZ5nSO"},{"type":"break","position":{"start":{"line":458,"column":1},"end":{"line":458,"column":1}},"key":"xW5tGQiMeG"},{"type":"text","value":"Move 0x7 (7) into w0. Likely option count or flags for ","position":{"start":{"line":458,"column":1},"end":{"line":458,"column":1}},"key":"GSijLN6ZQs"},{"type":"inlineCode","value":"_gfortran_set_options","position":{"start":{"line":458,"column":1},"end":{"line":458,"column":1}},"key":"N05RIXuY09"},{"type":"text","value":".","position":{"start":{"line":458,"column":1},"end":{"line":458,"column":1}},"key":"bvyRkkzBWi"}],"key":"sv3Tmopne0"}],"key":"BfHa6Pojog"},{"type":"listItem","spread":true,"position":{"start":{"line":461,"column":1},"end":{"line":463,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":461,"column":1},"end":{"line":462,"column":1}},"children":[{"type":"strong","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"children":[{"type":"text","value":"86c: 97ffff9d  bl 6e0 ","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"wFIhFZojX8"},{"type":"link","url":"mailto:_gfortran_set_options@plt","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"children":[{"type":"text","value":"â€‹_gfortranâ€‹_setâ€‹_options@plt","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"kj45J2d4g5"}],"urlSource":"mailto:_gfortran_set_options@plt","key":"D5GvhrsQqf"}],"key":"RIZaSSeEcv"},{"type":"break","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"kX0HhXtR2C"},{"type":"text","value":"Call ","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"pqCjCsSwmY"},{"type":"inlineCode","value":"_gfortran_set_options@plt","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"XBOSTSZWKj"},{"type":"text","value":" (stub at 0x6e0) with count/flags (w0) and options pointer (x1). Sets runtime options (e.g., error handling, floating-point).","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"U6NNHse8kx"}],"key":"AoGVg9Bslc"}],"key":"dliwsaaHy6"},{"type":"listItem","spread":true,"position":{"start":{"line":464,"column":1},"end":{"line":466,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":464,"column":1},"end":{"line":465,"column":1}},"children":[{"type":"strong","position":{"start":{"line":464,"column":1},"end":{"line":464,"column":1}},"children":[{"type":"text","value":"870: 97ffffe9  bl 814 <MAIN__>","position":{"start":{"line":464,"column":1},"end":{"line":464,"column":1}},"key":"wrilP76MDp"}],"key":"U1v9cOoN3W"},{"type":"break","position":{"start":{"line":464,"column":1},"end":{"line":464,"column":1}},"key":"VMAB7sZ8cd"},{"type":"text","value":"Call ","position":{"start":{"line":464,"column":1},"end":{"line":464,"column":1}},"key":"SrhN83q1t4"},{"type":"inlineCode","value":"<MAIN__>","position":{"start":{"line":464,"column":1},"end":{"line":464,"column":1}},"key":"WT9xSHEzIe"},{"type":"text","value":" (PC-relative backward branch to 0x814).","position":{"start":{"line":464,"column":1},"end":{"line":464,"column":1}},"key":"uXC5Bn73rD"}],"key":"lRTNvbLiMd"}],"key":"pxtoMm7xbZ"},{"type":"listItem","spread":true,"position":{"start":{"line":467,"column":1},"end":{"line":469,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":467,"column":1},"end":{"line":468,"column":1}},"children":[{"type":"strong","position":{"start":{"line":467,"column":1},"end":{"line":467,"column":1}},"children":[{"type":"text","value":"874: 52800000  mov w0, #0x0","position":{"start":{"line":467,"column":1},"end":{"line":467,"column":1}},"key":"WOvhBeYxdl"}],"key":"ijIQQR1Jno"},{"type":"break","position":{"start":{"line":467,"column":1},"end":{"line":467,"column":1}},"key":"kRuAUDLnr6"},{"type":"text","value":"Move 0 into w0. Sets exit status (success).","position":{"start":{"line":467,"column":1},"end":{"line":467,"column":1}},"key":"JjYTboEQf3"}],"key":"YfMMADf687"}],"key":"HCcHXBmQid"},{"type":"listItem","spread":true,"position":{"start":{"line":470,"column":1},"end":{"line":472,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":470,"column":1},"end":{"line":471,"column":1}},"children":[{"type":"strong","position":{"start":{"line":470,"column":1},"end":{"line":470,"column":1}},"children":[{"type":"text","value":"878: a8c27bfd  ldp x29, x30, [sp], #32","position":{"start":{"line":470,"column":1},"end":{"line":470,"column":1}},"key":"CjcdQnTPmE"}],"key":"ZD1MhoQGWU"},{"type":"break","position":{"start":{"line":470,"column":1},"end":{"line":470,"column":1}},"key":"QThqVVv4B7"},{"type":"text","value":"Load pair: Restore x29 and x30 from [sp], then sp += 32. Stack cleanup.","position":{"start":{"line":470,"column":1},"end":{"line":470,"column":1}},"key":"DPntAh0ZR3"}],"key":"NXw0SXx6Uq"}],"key":"Drf7RvCYit"},{"type":"listItem","spread":true,"position":{"start":{"line":473,"column":1},"end":{"line":475,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":473,"column":1},"end":{"line":474,"column":1}},"children":[{"type":"strong","position":{"start":{"line":473,"column":1},"end":{"line":473,"column":1}},"children":[{"type":"text","value":"87c: d65f03c0  ret","position":{"start":{"line":473,"column":1},"end":{"line":473,"column":1}},"key":"aTOqMCQ2ru"}],"key":"TtUf7huLUq"},{"type":"break","position":{"start":{"line":473,"column":1},"end":{"line":473,"column":1}},"key":"SWlQkbazr1"},{"type":"text","value":"Return to caller (OS/runtime), exiting with w0=0.","position":{"start":{"line":473,"column":1},"end":{"line":473,"column":1}},"key":"FGHOa8SWUR"}],"key":"Vi1d612K7S"}],"key":"KBLnONR1W1"}],"key":"ARczo9FjdU"},{"type":"paragraph","position":{"start":{"line":476,"column":1},"end":{"line":476,"column":1}},"children":[{"type":"text","value":"Summary: ","position":{"start":{"line":476,"column":1},"end":{"line":476,"column":1}},"key":"tVqPL2P1rQ"},{"type":"inlineCode","value":"<main>","position":{"start":{"line":476,"column":1},"end":{"line":476,"column":1}},"key":"d7Plq1DJMx"},{"type":"text","value":" bootstraps the Fortran environment via libgfortran, runs the program, and exits cleanly. PLT calls enable shared library use.","position":{"start":{"line":476,"column":1},"end":{"line":476,"column":1}},"key":"jMoglb0ntB"}],"key":"vU8bEnj0dH"}],"key":"JyHXZteIaA"}],"key":"y7qtCb55M7"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Fortran - ARM 64-Bit Platform - Multiply Two Integers","url":"/sections/cybersecurity/disassembling-binaries/fortran/arm64/mult-int/mult-int","group":"Cybersecurity"},"next":{"title":"Fortran - ARM 64-Bit Platform - Subtract Two Integers","url":"/sections/cybersecurity/disassembling-binaries/fortran/arm64/sub-int/sub-int","group":"Cybersecurity"}}},"domain":"http://localhost:3009"}