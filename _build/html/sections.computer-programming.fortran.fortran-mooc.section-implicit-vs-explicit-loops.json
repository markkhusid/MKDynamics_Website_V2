{"version":3,"kind":"Notebook","sha256":"98869403db05d3e149648b041b8d0c373487ea54b17045173b75b2a7c9313ebe","slug":"sections.computer-programming.fortran.fortran-mooc.section-implicit-vs-explicit-loops","location":"/Sections/Computer_Programming/Fortran/Fortran_MOOC/Section_Implicit_vs_Explicit_Loops.ipynb","dependencies":[],"frontmatter":{"title":"Section: Implicit vs. Explicit Loops","content_includes_title":true,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"authors":[{"nameParsed":{"literal":"Mark Khusid","given":"Mark","family":"Khusid"},"name":"Mark Khusid","id":"contributors-myst-generated-uid-0"}],"github":"https://github.com/markkhusid/MKDynamics_Website_V2","numbering":{"title":{"offset":5}},"source_url":"https://github.com/markkhusid/MKDynamics_Website_V2/blob/master/Sections/Computer_Programming/Fortran/Fortran_MOOC/Section_Implicit_vs_Explicit_Loops.ipynb","edit_url":"https://github.com/markkhusid/MKDynamics_Website_V2/edit/master/Sections/Computer_Programming/Fortran/Fortran_MOOC/Section_Implicit_vs_Explicit_Loops.ipynb","exports":[{"format":"ipynb","filename":"Section_Implicit_vs_Explicit_Loops.ipynb","url":"/build/Section_Implicit_vs_-279eb09c8c61b8fca2dda8fd7843e2e2.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"code","lang":"","value":"---\njupytext:\n  formats: md:myst\n  text_representation:\n    extension: .md\n    format_name: myst\nkernelspec:\n  display_name: Python 3\n  language: python\n  name: python3\n---","key":"C5Q4FwlUG4"}],"key":"kuCQjfdUjs"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Section: Implicit vs. Explicit Loops","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jDI1J3WdKY"}],"identifier":"section-implicit-vs-explicit-loops","label":"Section: Implicit vs. Explicit Loops","html_id":"section-implicit-vs-explicit-loops","implicit":true,"key":"HG8i0nUsTk"}],"visibility":"show","key":"Q502L6K96L"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Adapted from: ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jZl3Xcz2eK"},{"type":"link","url":"https://github.com/gjbex/Fortran-MOOC/tree/master/source_code/implicit_loops","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"https://​github​.com​/gjbex​/Fortran​-MOOC​/tree​/master​/source​_code​/implicit​_loops","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DQfwyPZAe4"}],"urlSource":"https://github.com/gjbex/Fortran-MOOC/tree/master/source_code/implicit_loops","error":true,"key":"H1VD8GqnWy"}],"key":"FKAlQFTLEq"}],"key":"GZNLIiCGlz"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"This program demonstrates the speed of implicit vs. explicit loops in Fortran.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Wcrd42oMll"}],"identifier":"this-program-demonstrates-the-speed-of-implicit-vs-explicit-loops-in-fortran","label":"This program demonstrates the speed of implicit vs. explicit loops in Fortran.","html_id":"this-program-demonstrates-the-speed-of-implicit-vs-explicit-loops-in-fortran","implicit":true,"key":"ayoL2xbZUg"}],"key":"e9D3zACElt"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The program will take in a command line argument and construct two argument X argument sized matrices composed of random numbers.  The program will then compute the following:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iqXNE6AThi"}],"key":"Juf8xZ5bl0"}],"key":"T3zXBbqTQX"},{"type":"block","kind":"notebook-content","children":[{"type":"math","value":"\\Large Result = \\sum \\sqrt{X^2 + Y^2}","position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mstyle mathsize=\"1.44em\"><mi>R</mi><mi>e</mi><mi>s</mi><mi>u</mi><mi>l</mi><mi>t</mi><mo>=</mo><mo>∑</mo><msqrt><mrow><msup><mi>X</mi><mn>2</mn></msup><mo>+</mo><msup><mi>Y</mi><mn>2</mn></msup></mrow></msqrt></mstyle></mrow><annotation encoding=\"application/x-tex\">\\Large Result = \\sum \\sqrt{X^2 + Y^2}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;\"></span><span class=\"mord mathnormal sizing reset-size6 size8\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathnormal sizing reset-size6 size8\">es</span><span class=\"mord mathnormal sizing reset-size6 size8\">u</span><span class=\"mord mathnormal sizing reset-size6 size8\">lt</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel sizing reset-size6 size8\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.3191em;vertical-align:-0.792em;\"></span><span class=\"mop op-symbol large-op sizing reset-size6 size8\" style=\"position:relative;top:0em;\">∑</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord sqrt sizing reset-size6 size8\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0605em;\"><span class=\"svg-align\" style=\"top:-3.44em;\"><span class=\"pstrut\" style=\"height:3.44em;\"></span><span class=\"mord\" style=\"padding-left:1em;\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7365em;\"><span style=\"top:-3.289em;margin-right:0.0347em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size8 size6 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7365em;\"><span style=\"top:-3.289em;margin-right:0.0347em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size8 size6 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.2605em;\"><span class=\"pstrut\" style=\"height:3.44em;\"></span><span class=\"hide-tail\" style=\"min-width:1.02em;height:1.28em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl0 -0\nc4.7,-7.3,11,-11,19,-11\nH40000v40H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM1001 80h400000v40h-400000z'/></svg></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1795em;\"><span></span></span></span></span></span></span></span></span></span>","enumerator":"1","key":"v957mUMOsl"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"where: ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"alc9DM6i4U"},{"type":"break","key":"gK4Q3blorK"},{"type":"text","value":"\n","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"pWvHHuF2SP"},{"type":"inlineMath","value":"Result","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mi>e</mi><mi>s</mi><mi>u</mi><mi>l</mi><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">Result</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathnormal\">es</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">lt</span></span></span></span>","key":"SeH5aCxLU3"},{"type":"text","value":" is the summation result ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"n4FSS8creG"},{"type":"break","key":"R0QGgfi9Mn"},{"type":"text","value":"\n","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"QXbi5cN4k2"},{"type":"inlineMath","value":"X","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span></span></span></span>","key":"f8agY0Hu4f"},{"type":"text","value":" and ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"gWuUfp4HrM"},{"type":"inlineMath","value":"Y","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Y</mi></mrow><annotation encoding=\"application/x-tex\">Y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span></span></span></span>","key":"DBEq7yDHPp"},{"type":"text","value":" are command line argument X command line argument sized matrices","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"vDiAD4V3GU"}],"key":"NylQideSvp"}],"key":"vFK09ZeQul"},{"type":"block","kind":"notebook-content","children":[{"type":"code","lang":"fortran","value":"program real32_vs_real64\n    use, intrinsic :: iso_fortran_env, only : error_unit, I8 => INT64, &\n        SP => REAL32, DP => REAL64\n    implicit none\n    integer(kind=I8) :: nr_values\n    real(kind=SP), dimension(:), allocatable :: x_sp, y_sp\n    real(kind=SP) :: result\n    real :: start_time, end_time\n    integer :: status, i\n\n    call get_argument(nr_values)\n\n    ! implicit loops\n    allocate (x_sp(nr_values), y_sp(nr_values), stat=status)\n    if (status /= 0) then\n        write (unit=error_unit, fmt='(A)') 'error: can not allocate x_sp/y_sp'\n        stop 1\n    end if\n    call random_number(x_sp)\n    call random_number(y_sp)\n\n    call cpu_time(start_time)\n    result = sum(sqrt(x_sp**2 + y_sp**2))\n    call cpu_time(end_time)\n    print '(A, F20.8)', 'Implicit loop time [s]: ', end_time - start_time\n    print '(A, F20.8)', 'Summation result: ', result\n    deallocate (x_sp, y_sp)\n\n    ! explicit loops\n    allocate (x_sp(nr_values), y_sp(nr_values), stat=status)\n    if (status /= 0) then\n        write (unit=error_unit, fmt='(A)') 'error: can not allocate x_sp/y_sp'\n        stop 1\n    end if\n    call random_number(x_sp)\n    call random_number(y_sp)\n\n    call cpu_time(start_time)\n    result = 0.0_SP\n    do i = 1, size(x_sp)\n        result = result + sqrt(x_sp(i)**2 + y_sp(i)**2)\n    end do\n    call cpu_time(end_time)\n    print '(A, F20.8)', 'Explicit loop time [s]: ', end_time - start_time\n    print '(A, F20.8)', 'Summation result: ', result\n    deallocate (x_sp, y_sp)\n\ncontains\n\n    subroutine get_argument(nr_values)\n        implicit none\n        integer(Kind=I8), intent(out) :: nr_values\n        character(len=1024) :: buffer, msg\n        integer :: status\n\n        if (command_argument_count() /= 1) then\n            write (unit=error_unit, fmt='(A)') 'error: expect number of values'\n            stop 2\n        end if\n        call get_command_argument(1, buffer)\n        read (buffer, fmt=*, iomsg=msg, iostat=status) nr_values\n        if (status /= 0) then\n            write (unit=error_unit, fmt='(2A)') 'error: ', trim(msg)\n            stop 3\n        end if\n    end subroutine get_argument\n\nend program real32_vs_real64","position":{"start":{"line":1,"column":1},"end":{"line":69,"column":1}},"key":"jd8ciUdccZ"}],"key":"ntUBaMeC5d"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The above program is compiled and run using Fortran Package Manager (fpm):","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"zftQ8niR4M"}],"key":"BH6Bw2oiDx"}],"key":"nhEGnDnMCn"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Build the Program using FPM (Fortran Package Manager)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Eh1uF2aD2J"}],"identifier":"build-the-program-using-fpm-fortran-package-manager","label":"Build the Program using FPM (Fortran Package Manager)","html_id":"build-the-program-using-fpm-fortran-package-manager","implicit":true,"key":"o8LfZ59GLB"}],"visibility":"show","key":"hN4Y4P9onx"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import os\nroot_dir = \"\"\nroot_dir = os.getcwd()","key":"IMW7AY8KBJ"},{"type":"outputs","id":"M3Pw80E3N3BaLXoGu9L3A","children":[],"key":"zDZThfKnvp"}],"key":"iXbWsew9eo"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"code_dir = root_dir + \"/\" + \"Fortran_Code/Section_Implicit_vs_Explicit_Loops\"","visibility":"show","key":"IknKm5y8Dg"},{"type":"outputs","id":"kztE9bzUbAHyf86JVBMin","children":[],"visibility":"show","key":"ej9qVDzWKv"}],"visibility":"show","key":"ZxydmJNWmy"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"code_app_dir = code_dir + \"/\" + \"app\"","visibility":"show","key":"XTlBVsNHaS"},{"type":"outputs","id":"Xs6Iym2Bj0q7LuX82d03J","children":[],"visibility":"show","key":"u4ZMWnsuMf"}],"visibility":"remove","key":"hzQRVSnEYg"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"os.chdir(code_app_dir)","visibility":"show","key":"jnbE2ZSCuD"},{"type":"outputs","id":"gc_5ViTmM1JM_TaOhEmeZ","children":[],"visibility":"show","key":"tIFA88fnET"}],"visibility":"remove","key":"H22DdUmdJA"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"%%capture\n%%writefile section_implicit_vs_explicit_loops.f90\nprogram real32_vs_real64\n    use, intrinsic :: iso_fortran_env, only : error_unit, I8 => INT64, &\n        SP => REAL32, DP => REAL64\n    implicit none\n    integer(kind=I8) :: nr_values\n    real(kind=SP), dimension(:), allocatable :: x_sp, y_sp\n    real(kind=SP) :: result\n    real :: start_time, end_time\n    integer :: status, i\n\n    call get_argument(nr_values)\n\n    ! implicit loops\n    allocate (x_sp(nr_values), y_sp(nr_values), stat=status)\n    if (status /= 0) then\n        write (unit=error_unit, fmt='(A)') 'error: can not allocate x_sp/y_sp'\n        stop 1\n    end if\n    call random_number(x_sp)\n    call random_number(y_sp)\n\n    call cpu_time(start_time)\n    result = sum(sqrt(x_sp**2 + y_sp**2))\n    call cpu_time(end_time)\n    print '(A, F20.8)', 'Implicit loop time [s]: ', end_time - start_time\n    print '(A, F20.8)', 'Summation result: ', result\n    deallocate (x_sp, y_sp)\n\n    ! explicit loops\n    allocate (x_sp(nr_values), y_sp(nr_values), stat=status)\n    if (status /= 0) then\n        write (unit=error_unit, fmt='(A)') 'error: can not allocate x_sp/y_sp'\n        stop 1\n    end if\n    call random_number(x_sp)\n    call random_number(y_sp)\n\n    call cpu_time(start_time)\n    result = 0.0_SP\n    do i = 1, size(x_sp)\n        result = result + sqrt(x_sp(i)**2 + y_sp(i)**2)\n    end do\n    call cpu_time(end_time)\n    print '(A, F20.8)', 'Explicit loop time [s]: ', end_time - start_time\n    print '(A, F20.8)', 'Summation result: ', result\n    deallocate (x_sp, y_sp)\n\ncontains\n\n    subroutine get_argument(nr_values)\n        implicit none\n        integer(Kind=I8), intent(out) :: nr_values\n        character(len=1024) :: buffer, msg\n        integer :: status\n\n        if (command_argument_count() /= 1) then\n            write (unit=error_unit, fmt='(A)') 'error: expect number of values'\n            stop 2\n        end if\n        call get_command_argument(1, buffer)\n        read (buffer, fmt=*, iomsg=msg, iostat=status) nr_values\n        if (status /= 0) then\n            write (unit=error_unit, fmt='(2A)') 'error: ', trim(msg)\n            stop 3\n        end if\n    end subroutine get_argument\n\nend program real32_vs_real64","visibility":"show","key":"CSRMVBitra"},{"type":"outputs","id":"RSg_6VQC3-7iOA1oDSBfk","children":[],"visibility":"show","key":"hRJGg1dGdq"}],"visibility":"remove","key":"M13cp799bn"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"!bat *.f90","visibility":"show","key":"exDfWZA4vo"},{"type":"outputs","id":"yrIZpUmp5wGGgZ-SC4Aj8","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"\u001b[38;5;238m───────┬────────────────────────────────────────────────────────────────────────\u001b[0m\n       \u001b[38;5;238m│ \u001b[0mFile: \u001b[1msection_implicit_vs_explicit_loops.f90\u001b[0m\n\u001b[38;5;238m───────┼────────────────────────────────────────────────────────────────────────\u001b[0m\n\u001b[38;5;238m   1\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;203mprogram\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;149mreal32_vs_real64\u001b[0m\n\u001b[38;5;238m   2\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    use, intrinsic \u001b[0m\u001b[38;5;203m::\u001b[0m\u001b[38;5;231m iso_fortran_env, only : error_unit, I8 \u001b[0m\u001b[38;5;203m=>\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;81mINT64\u001b[0m\u001b[38;5;231m, \u001b[0m\n\u001b[38;5;238m    \u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m&\u001b[0m\n\u001b[38;5;238m   3\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m        SP \u001b[0m\u001b[38;5;203m=>\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;81mREAL32\u001b[0m\u001b[38;5;231m, DP \u001b[0m\u001b[38;5;203m=>\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;81mREAL64\u001b[0m\n\u001b[38;5;238m   4\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mimplicit\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203mnone\u001b[0m\n\u001b[38;5;238m   5\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;231minteger\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;208mkind\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;231mI8\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203m::\u001b[0m\u001b[38;5;231m nr_values\u001b[0m\n\u001b[38;5;238m   6\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;81mreal\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mkind\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;231mSP\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m, \u001b[0m\u001b[38;5;231mdimension\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231m:\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m, allocatable \u001b[0m\u001b[38;5;203m::\u001b[0m\u001b[38;5;231m x_sp, y_sp\u001b[0m\n\u001b[38;5;238m   7\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;81mreal\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mkind\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;231mSP\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203m::\u001b[0m\u001b[38;5;231m result\u001b[0m\n\u001b[38;5;238m   8\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    real \u001b[0m\u001b[38;5;203m::\u001b[0m\u001b[38;5;231m start_time, end_time\u001b[0m\n\u001b[38;5;238m   9\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    integer \u001b[0m\u001b[38;5;203m::\u001b[0m\u001b[38;5;231m status, i\u001b[0m\n\u001b[38;5;238m  10\u001b[0m   \u001b[38;5;238m│\u001b[0m \n\u001b[38;5;238m  11\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mcall\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;81mget_argument\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mnr_values\u001b[0m\u001b[38;5;231m)\u001b[0m\n\u001b[38;5;238m  12\u001b[0m   \u001b[38;5;238m│\u001b[0m \n\u001b[38;5;238m  13\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;242m! implicit loops\u001b[0m\n\u001b[38;5;238m  14\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;81mallocate\u001b[0m\u001b[38;5;231m (\u001b[0m\u001b[38;5;231mx_sp\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mnr_values\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m, \u001b[0m\u001b[38;5;231my_sp\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mnr_values\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m, stat\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;231mstatus)\u001b[0m\n\u001b[38;5;238m  15\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mif\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mstatus \u001b[0m\u001b[38;5;203m/=\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;141m0\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203mthen\u001b[0m\n\u001b[38;5;238m  16\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m        \u001b[0m\u001b[38;5;81mwrite\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;208munit\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;231merror_unit, \u001b[0m\u001b[38;5;208mfmt\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;186m'\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;141mA\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;186m'\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;186m'error: can not allocate x_s\u001b[0m\n\u001b[38;5;238m    \u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;186mp/y_sp'\u001b[0m\n\u001b[38;5;238m  17\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m        \u001b[0m\u001b[38;5;203mstop\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;141m1\u001b[0m\n\u001b[38;5;238m  18\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mend\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203mif\u001b[0m\n\u001b[38;5;238m  19\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mcall\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;81mrandom_number\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mx_sp\u001b[0m\u001b[38;5;231m)\u001b[0m\n\u001b[38;5;238m  20\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mcall\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;81mrandom_number\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231my_sp\u001b[0m\u001b[38;5;231m)\u001b[0m\n\u001b[38;5;238m  21\u001b[0m   \u001b[38;5;238m│\u001b[0m \n\u001b[38;5;238m  22\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mcall\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;81mcpu_time\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mstart_time\u001b[0m\u001b[38;5;231m)\u001b[0m\n\u001b[38;5;238m  23\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    result \u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;81msum\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;81msqrt\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mx_sp\u001b[0m\u001b[38;5;203m**\u001b[0m\u001b[38;5;141m2\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203m+\u001b[0m\u001b[38;5;231m y_sp\u001b[0m\u001b[38;5;203m**\u001b[0m\u001b[38;5;141m2\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m)\u001b[0m\n\u001b[38;5;238m  24\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mcall\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;81mcpu_time\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mend_time\u001b[0m\u001b[38;5;231m)\u001b[0m\n\u001b[38;5;238m  25\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;81mprint\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;186m'\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;141mA\u001b[0m\u001b[38;5;231m, \u001b[0m\u001b[38;5;141mF20.8\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;186m'\u001b[0m\u001b[38;5;231m, \u001b[0m\u001b[38;5;186m'Implicit loop time [s]: '\u001b[0m\u001b[38;5;231m, end_time \u001b[0m\u001b[38;5;203m-\u001b[0m\u001b[38;5;231m start_ti\u001b[0m\n\u001b[38;5;238m    \u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231mme\u001b[0m\n\u001b[38;5;238m  26\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;81mprint\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;186m'\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;141mA\u001b[0m\u001b[38;5;231m, \u001b[0m\u001b[38;5;141mF20.8\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;186m'\u001b[0m\u001b[38;5;231m, \u001b[0m\u001b[38;5;186m'Summation result: '\u001b[0m\u001b[38;5;231m, result\u001b[0m\n\u001b[38;5;238m  27\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;81mdeallocate\u001b[0m\u001b[38;5;231m (\u001b[0m\u001b[38;5;231mx_sp\u001b[0m\u001b[38;5;231m, y_sp)\u001b[0m\n\u001b[38;5;238m  28\u001b[0m   \u001b[38;5;238m│\u001b[0m \n\u001b[38;5;238m  29\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;242m! explicit loops\u001b[0m\n\u001b[38;5;238m  30\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;81mallocate\u001b[0m\u001b[38;5;231m (\u001b[0m\u001b[38;5;231mx_sp\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mnr_values\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m, \u001b[0m\u001b[38;5;231my_sp\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mnr_values\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m, stat\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;231mstatus)\u001b[0m\n\u001b[38;5;238m  31\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mif\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mstatus \u001b[0m\u001b[38;5;203m/=\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;141m0\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203mthen\u001b[0m\n\u001b[38;5;238m  32\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m        \u001b[0m\u001b[38;5;81mwrite\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;208munit\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;231merror_unit, \u001b[0m\u001b[38;5;208mfmt\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;186m'\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;141mA\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;186m'\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;186m'error: can not allocate x_s\u001b[0m\n\u001b[38;5;238m    \u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;186mp/y_sp'\u001b[0m\n\u001b[38;5;238m  33\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m        \u001b[0m\u001b[38;5;203mstop\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;141m1\u001b[0m\n\u001b[38;5;238m  34\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mend\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203mif\u001b[0m\n\u001b[38;5;238m  35\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mcall\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;81mrandom_number\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mx_sp\u001b[0m\u001b[38;5;231m)\u001b[0m\n\u001b[38;5;238m  36\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mcall\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;81mrandom_number\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231my_sp\u001b[0m\u001b[38;5;231m)\u001b[0m\n\u001b[38;5;238m  37\u001b[0m   \u001b[38;5;238m│\u001b[0m \n\u001b[38;5;238m  38\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mcall\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;81mcpu_time\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mstart_time\u001b[0m\u001b[38;5;231m)\u001b[0m\n\u001b[38;5;238m  39\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    result \u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;141m0.0_SP\u001b[0m\n\u001b[38;5;238m  40\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mdo\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;231mi\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;141m1\u001b[0m\u001b[38;5;231m, \u001b[0m\u001b[38;5;81msize\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mx_sp\u001b[0m\u001b[38;5;231m)\u001b[0m\n\u001b[38;5;238m  41\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m        result \u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;231m result \u001b[0m\u001b[38;5;203m+\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;81msqrt\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mx_sp\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mi\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;203m**\u001b[0m\u001b[38;5;141m2\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203m+\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;231my_sp\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mi\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;203m**\u001b[0m\u001b[38;5;141m2\u001b[0m\u001b[38;5;231m)\u001b[0m\n\u001b[38;5;238m  42\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mend\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203mdo\u001b[0m\n\u001b[38;5;238m  43\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mcall\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;81mcpu_time\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mend_time\u001b[0m\u001b[38;5;231m)\u001b[0m\n\u001b[38;5;238m  44\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;81mprint\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;186m'\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;141mA\u001b[0m\u001b[38;5;231m, \u001b[0m\u001b[38;5;141mF20.8\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;186m'\u001b[0m\u001b[38;5;231m, \u001b[0m\u001b[38;5;186m'Explicit loop time [s]: '\u001b[0m\u001b[38;5;231m, end_time \u001b[0m\u001b[38;5;203m-\u001b[0m\u001b[38;5;231m start_ti\u001b[0m\n\u001b[38;5;238m    \u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231mme\u001b[0m\n\u001b[38;5;238m  45\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;81mprint\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;186m'\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;141mA\u001b[0m\u001b[38;5;231m, \u001b[0m\u001b[38;5;141mF20.8\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;186m'\u001b[0m\u001b[38;5;231m, \u001b[0m\u001b[38;5;186m'Summation result: '\u001b[0m\u001b[38;5;231m, result\u001b[0m\n\u001b[38;5;238m  46\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;81mdeallocate\u001b[0m\u001b[38;5;231m (\u001b[0m\u001b[38;5;231mx_sp\u001b[0m\u001b[38;5;231m, y_sp)\u001b[0m\n\u001b[38;5;238m  47\u001b[0m   \u001b[38;5;238m│\u001b[0m \n\u001b[38;5;238m  48\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;203mcontains\u001b[0m\n\u001b[38;5;238m  49\u001b[0m   \u001b[38;5;238m│\u001b[0m \n\u001b[38;5;238m  50\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203msubroutine\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;149mget_argument\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;208mnr_values\u001b[0m\u001b[38;5;231m)\u001b[0m\n\u001b[38;5;238m  51\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m        \u001b[0m\u001b[38;5;203mimplicit\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203mnone\u001b[0m\n\u001b[38;5;238m  52\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m        \u001b[0m\u001b[38;5;231minteger\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;208mKind\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;231mI8\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m, \u001b[0m\u001b[38;5;231mintent\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mout\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203m::\u001b[0m\u001b[38;5;231m nr_values\u001b[0m\n\u001b[38;5;238m  53\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m        \u001b[0m\u001b[38;5;81mcharacter(len=1024)\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203m::\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;231mbuffer\u001b[0m\u001b[38;5;231m, \u001b[0m\u001b[38;5;231mmsg\u001b[0m\n\u001b[38;5;238m  54\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m        integer \u001b[0m\u001b[38;5;203m::\u001b[0m\u001b[38;5;231m status\u001b[0m\n\u001b[38;5;238m  55\u001b[0m   \u001b[38;5;238m│\u001b[0m \n\u001b[38;5;238m  56\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m        \u001b[0m\u001b[38;5;203mif\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mcommand_argument_count\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203m/=\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;141m1\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203mthen\u001b[0m\n\u001b[38;5;238m  57\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m            \u001b[0m\u001b[38;5;81mwrite\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;208munit\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;231merror_unit, \u001b[0m\u001b[38;5;208mfmt\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;186m'\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;141mA\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;186m'\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;186m'error: expect number of\u001b[0m\n\u001b[38;5;238m    \u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;186m values'\u001b[0m\n\u001b[38;5;238m  58\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m            \u001b[0m\u001b[38;5;203mstop\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;141m2\u001b[0m\n\u001b[38;5;238m  59\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m        \u001b[0m\u001b[38;5;203mend\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203mif\u001b[0m\n\u001b[38;5;238m  60\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m        \u001b[0m\u001b[38;5;203mcall\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;81mget_command_argument\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;141m1\u001b[0m\u001b[38;5;231m, buffer\u001b[0m\u001b[38;5;231m)\u001b[0m\n\u001b[38;5;238m  61\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m        \u001b[0m\u001b[38;5;231mread \u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mbuffer\u001b[0m\u001b[38;5;231m,\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;208mfmt\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;203m*\u001b[0m\u001b[38;5;231m,\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;208miomsg\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;231mmsg\u001b[0m\u001b[38;5;231m,\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;208miostat\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;231mstatus\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m nr_values\u001b[0m\n\u001b[38;5;238m  62\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m        \u001b[0m\u001b[38;5;203mif\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mstatus \u001b[0m\u001b[38;5;203m/=\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;141m0\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203mthen\u001b[0m\n\u001b[38;5;238m  63\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m            \u001b[0m\u001b[38;5;81mwrite\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;208munit\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;231merror_unit, \u001b[0m\u001b[38;5;208mfmt\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;186m'\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;141m2A\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;186m'\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;186m'error: '\u001b[0m\u001b[38;5;231m, \u001b[0m\u001b[38;5;81mtrim\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mmsg\u001b[0m\u001b[38;5;231m)\u001b[0m\n\u001b[38;5;238m  64\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m            \u001b[0m\u001b[38;5;203mstop\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;141m3\u001b[0m\n\u001b[38;5;238m  65\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m        \u001b[0m\u001b[38;5;203mend\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203mif\u001b[0m\n\u001b[38;5;238m  66\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mend\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203msubroutine\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;149mget_argument\u001b[0m\n\u001b[38;5;238m  67\u001b[0m   \u001b[38;5;238m│\u001b[0m \n\u001b[38;5;238m  68\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;203mend\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203mprogram\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;149mreal32_vs_real64\u001b[0m\n\u001b[38;5;238m───────┴────────────────────────────────────────────────────────────────────────\u001b[0m\n"},"children":[],"key":"qHLCPSvQvP"}],"visibility":"show","key":"qMECZ2MZtT"}],"visibility":"remove","key":"Z04SPNOozX"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"os.chdir(code_dir)","key":"HSdFGQujU2"},{"type":"outputs","id":"PaHGoQk-c698U4RVGGgG9","children":[],"key":"o1CWbsybF4"}],"key":"M4ppIP5Ojd"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"build_status = os.system(\"fpm build 2>/dev/null\")","key":"UWeVLRVXbB"},{"type":"outputs","id":"F6Ch4aUymFwIe7iQ2XgIS","children":[],"key":"ZcCzpSXWMT"}],"key":"dULoKIalRL"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Run the Program using FPM (Fortran Package Manager)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pL0pNkwz7r"}],"identifier":"run-the-program-using-fpm-fortran-package-manager","label":"Run the Program using FPM (Fortran Package Manager)","html_id":"run-the-program-using-fpm-fortran-package-manager","implicit":true,"key":"opXEesqe6e"}],"key":"AqCoZ1NNy8"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"exec_status = os.system(\"fpm run -- 10 2>/dev/null\")","key":"BXtriHCsua"},{"type":"outputs","id":"Xz4mP5uj_qrgQFxu8rz9E","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Implicit loop time [s]:           0.00000200\nSummation result:           9.57156563\nExplicit loop time [s]:           0.00000100\nSummation result:           8.58767700\n"},"children":[],"key":"TZtcRHhSt7"}],"key":"D7FZMn6LPd"}],"key":"c0tMeF8knV"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"exec_status = os.system(\"fpm run -- 100 2>/dev/null\")","key":"z19y4gBsia"},{"type":"outputs","id":"ZhxMLBMxVOP2MBQeR49fB","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Implicit loop time [s]:           0.00000100\nSummation result:          82.67105103\nExplicit loop time [s]:           0.00000100\nSummation result:          78.12156677\n"},"children":[],"key":"nVhS0tX4pM"}],"key":"hCfEoH4nRd"}],"key":"OzoqCA2L2x"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"exec_status = os.system(\"fpm run -- 1000 2>/dev/null\")","key":"W7B55AmajV"},{"type":"outputs","id":"3YtwnRuXlcWNVsiXkUUK6","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Implicit loop time [s]:           0.00000300\nSummation result:         738.62194824\nExplicit loop time [s]:           0.00000400\nSummation result:         779.73486328\n"},"children":[],"key":"nONZllAeG0"}],"key":"WYKaF9GT3O"}],"key":"RoLxFROJEL"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"exec_status = os.system(\"fpm run -- 10000 2>/dev/null\")","key":"B3O49VbcFX"},{"type":"outputs","id":"_jDtbY9lcbTl1E2iYRybg","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Implicit loop time [s]:           0.00001100\nSummation result:        7668.53564453\nExplicit loop time [s]:           0.00002200\nSummation result:        7716.35302734\n"},"children":[],"key":"ab7HTn8Ow0"}],"key":"UnOtodt1ws"}],"key":"KvyOyNutgu"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"exec_status = os.system(\"fpm run -- 100000 2>/dev/null\")","key":"KNYDhJseeJ"},{"type":"outputs","id":"mWj_n0fyem4uEa4k07Ozh","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Implicit loop time [s]:           0.00010800\nSummation result:       76268.64062500\nExplicit loop time [s]:           0.00022100\nSummation result:       76432.85156250\n"},"children":[],"key":"wLL9BaAjL8"}],"key":"KcAb9bLbwB"}],"key":"UNEL9QmfsM"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"exec_status = os.system(\"fpm run -- 1000000 2>/dev/null\")","key":"WnlVhSKsV9"},{"type":"outputs","id":"OzFUFBJz1ufl006djf9rb","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Implicit loop time [s]:           0.00211100\nSummation result:      765269.12500000\nExplicit loop time [s]:           0.00220800\nSummation result:      765385.31250000\n"},"children":[],"key":"dAx4GuoHAO"}],"key":"n9Z2YvOhm3"}],"key":"z1Qtuh05AR"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"exec_status = os.system(\"fpm run -- 10000000 2>/dev/null\")","key":"A10KEIUYSL"},{"type":"outputs","id":"DjO3ZD6G3i_pjDGmRDLjN","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Implicit loop time [s]:           0.02267501\nSummation result:     7671492.50000000\nExplicit loop time [s]:           0.02569100\nSummation result:     7669864.50000000\n"},"children":[],"key":"Zeba6gvCLn"}],"key":"g6ZMj2MMft"}],"key":"lT4m3OJfSJ"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"exec_status = os.system(\"fpm run -- 100000000 2>/dev/null\")","key":"i0nzK8Xkg3"},{"type":"outputs","id":"HlCVWjN9rkQh-ovsmBwuq","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Implicit loop time [s]:           0.10609502\nSummation result:    33554432.00000000\nExplicit loop time [s]:           0.23883396\nSummation result:    33554432.00000000\n"},"children":[],"key":"AzEzsuOS3Y"}],"key":"i5qTGAjCl9"}],"key":"m3jtjm5rwL"}],"key":"TmjDL0XoRb"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Section: Implicit vs Explicit Loops","url":"/sections/computer-programming/fortran/fortran-mooc/section-implicit-vs-explicit-loops-head","group":"Computer Programming"},"next":{"title":"Section: Block Matrices","url":"/sections/computer-programming/fortran/fortran-mooc/section-block-matrices-head","group":"Computer Programming"}}},"domain":"http://localhost:3021"}