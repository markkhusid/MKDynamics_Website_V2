{"version":3,"kind":"Notebook","sha256":"98869403db05d3e149648b041b8d0c373487ea54b17045173b75b2a7c9313ebe","slug":"sections.computer-programming.fortran.fortran-mooc.section-implicit-vs-explicit-loops","location":"/Sections/Computer_Programming/Fortran/Fortran_MOOC/Section_Implicit_vs_Explicit_Loops.ipynb","dependencies":[],"frontmatter":{"title":"Section: Implicit vs. Explicit Loops","content_includes_title":true,"kernelspec":{"name":"python3","display_name":"Python 3 (ipykernel)","language":"python"},"authors":[{"nameParsed":{"literal":"Mark Khusid","given":"Mark","family":"Khusid"},"name":"Mark Khusid","id":"contributors-myst-generated-uid-0"}],"github":"https://github.com/markkhusid/MKDynamics_Website_V2","numbering":{"title":{"offset":5}},"source_url":"https://github.com/markkhusid/MKDynamics_Website_V2/blob/master/Sections/Computer_Programming/Fortran/Fortran_MOOC/Section_Implicit_vs_Explicit_Loops.ipynb","edit_url":"https://github.com/markkhusid/MKDynamics_Website_V2/edit/master/Sections/Computer_Programming/Fortran/Fortran_MOOC/Section_Implicit_vs_Explicit_Loops.ipynb","exports":[{"format":"ipynb","filename":"Section_Implicit_vs_Explicit_Loops.ipynb","url":"/build/Section_Implicit_vs_-279eb09c8c61b8fca2dda8fd7843e2e2.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"code","lang":"","value":"---\njupytext:\n  formats: md:myst\n  text_representation:\n    extension: .md\n    format_name: myst\nkernelspec:\n  display_name: Python 3\n  language: python\n  name: python3\n---","key":"Y4YjUn2xe7"}],"key":"wIkiOg8mLd"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":1,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Section: Implicit vs. Explicit Loops","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PZvJsATqE2"}],"identifier":"section-implicit-vs-explicit-loops","label":"Section: Implicit vs. Explicit Loops","html_id":"section-implicit-vs-explicit-loops","implicit":true,"key":"i79nWwcgBc"}],"visibility":"show","key":"gL0ViU4fMj"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Adapted from: ","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"q06D54MmNg"},{"type":"link","url":"https://github.com/gjbex/Fortran-MOOC/tree/master/source_code/implicit_loops","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"https://​github​.com​/gjbex​/Fortran​-MOOC​/tree​/master​/source​_code​/implicit​_loops","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BSJ609YZSf"}],"urlSource":"https://github.com/gjbex/Fortran-MOOC/tree/master/source_code/implicit_loops","error":true,"key":"iNSwjRLVI2"}],"key":"p5LS3Brs0g"}],"key":"LbwbDxS27M"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"This program demonstrates the speed of implicit vs. explicit loops in Fortran.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QqGV3OZTOI"}],"identifier":"this-program-demonstrates-the-speed-of-implicit-vs-explicit-loops-in-fortran","label":"This program demonstrates the speed of implicit vs. explicit loops in Fortran.","html_id":"this-program-demonstrates-the-speed-of-implicit-vs-explicit-loops-in-fortran","implicit":true,"key":"iHHc7HwXCr"}],"key":"PDp77UzTex"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The program will take in a command line argument and construct two argument X argument sized matrices composed of random numbers.  The program will then compute the following:","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sRqwTvGnfw"}],"key":"bJk2ndIfBS"}],"key":"zZGoAqd7Fw"},{"type":"block","kind":"notebook-content","children":[{"type":"math","value":"\\Large Result = \\sum \\sqrt{X^2 + Y^2}","position":{"start":{"line":1,"column":1},"end":{"line":3,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mstyle mathsize=\"1.44em\"><mi>R</mi><mi>e</mi><mi>s</mi><mi>u</mi><mi>l</mi><mi>t</mi><mo>=</mo><mo>∑</mo><msqrt><mrow><msup><mi>X</mi><mn>2</mn></msup><mo>+</mo><msup><mi>Y</mi><mn>2</mn></msup></mrow></msqrt></mstyle></mrow><annotation encoding=\"application/x-tex\">\\Large Result = \\sum \\sqrt{X^2 + Y^2}</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;\"></span><span class=\"mord mathnormal sizing reset-size6 size8\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathnormal sizing reset-size6 size8\">es</span><span class=\"mord mathnormal sizing reset-size6 size8\">u</span><span class=\"mord mathnormal sizing reset-size6 size8\">lt</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel sizing reset-size6 size8\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:2.3191em;vertical-align:-0.792em;\"></span><span class=\"mop op-symbol large-op sizing reset-size6 size8\" style=\"position:relative;top:0em;\">∑</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord sqrt sizing reset-size6 size8\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.0605em;\"><span class=\"svg-align\" style=\"top:-3.44em;\"><span class=\"pstrut\" style=\"height:3.44em;\"></span><span class=\"mord\" style=\"padding-left:1em;\"><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7365em;\"><span style=\"top:-3.289em;margin-right:0.0347em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size8 size6 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span><span class=\"msupsub\"><span class=\"vlist-t\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.7365em;\"><span style=\"top:-3.289em;margin-right:0.0347em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"sizing reset-size8 size6 mtight\"><span class=\"mord mtight\">2</span></span></span></span></span></span></span></span></span></span><span style=\"top:-3.2605em;\"><span class=\"pstrut\" style=\"height:3.44em;\"></span><span class=\"hide-tail\" style=\"min-width:1.02em;height:1.28em;\"><svg xmlns=\"http://www.w3.org/2000/svg\" width='400em' height='1.28em' viewBox='0 0 400000 1296' preserveAspectRatio='xMinYMin slice'><path d='M263,681c0.7,0,18,39.7,52,119\nc34,79.3,68.167,158.7,102.5,238c34.3,79.3,51.8,119.3,52.5,120\nc340,-704.7,510.7,-1060.3,512,-1067\nl0 -0\nc4.7,-7.3,11,-11,19,-11\nH40000v40H1012.3\ns-271.3,567,-271.3,567c-38.7,80.7,-84,175,-136,283c-52,108,-89.167,185.3,-111.5,232\nc-22.3,46.7,-33.8,70.3,-34.5,71c-4.7,4.7,-12.3,7,-23,7s-12,-1,-12,-1\ns-109,-253,-109,-253c-72.7,-168,-109.3,-252,-110,-252c-10.7,8,-22,16.7,-34,26\nc-22,17.3,-33.3,26,-34,26s-26,-26,-26,-26s76,-59,76,-59s76,-60,76,-60z\nM1001 80h400000v40h-400000z'/></svg></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.1795em;\"><span></span></span></span></span></span></span></span></span></span>","enumerator":"1","key":"aeQ6rOCt8f"},{"type":"paragraph","position":{"start":{"line":4,"column":1},"end":{"line":6,"column":1}},"children":[{"type":"text","value":"where: ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"hReJ8NjyK5"},{"type":"break","key":"h8ot2naq40"},{"type":"text","value":"\n","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"ksvWc4VRKH"},{"type":"inlineMath","value":"Result","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>R</mi><mi>e</mi><mi>s</mi><mi>u</mi><mi>l</mi><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">Result</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.00773em;\">R</span><span class=\"mord mathnormal\">es</span><span class=\"mord mathnormal\">u</span><span class=\"mord mathnormal\">lt</span></span></span></span>","key":"CbuVnkPH5F"},{"type":"text","value":" is the summation result ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"mvRP1Yd5Kq"},{"type":"break","key":"yHY6xtRtHt"},{"type":"text","value":"\n","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"vRlqwsrWuf"},{"type":"inlineMath","value":"X","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>X</mi></mrow><annotation encoding=\"application/x-tex\">X</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.07847em;\">X</span></span></span></span>","key":"qcyi5wr1ny"},{"type":"text","value":" and ","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"BITKhigBF1"},{"type":"inlineMath","value":"Y","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"html":"<span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\"><semantics><mrow><mi>Y</mi></mrow><annotation encoding=\"application/x-tex\">Y</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.6833em;\"></span><span class=\"mord mathnormal\" style=\"margin-right:0.22222em;\">Y</span></span></span></span>","key":"Gbw1DUzhL3"},{"type":"text","value":" are command line argument X command line argument sized matrices","position":{"start":{"line":4,"column":1},"end":{"line":4,"column":1}},"key":"RWE2VQfk8M"}],"key":"Ts47PHuWvk"}],"key":"rwvEk4kwNU"},{"type":"block","kind":"notebook-content","children":[{"type":"code","lang":"fortran","value":"program real32_vs_real64\n    use, intrinsic :: iso_fortran_env, only : error_unit, I8 => INT64, &\n        SP => REAL32, DP => REAL64\n    implicit none\n    integer(kind=I8) :: nr_values\n    real(kind=SP), dimension(:), allocatable :: x_sp, y_sp\n    real(kind=SP) :: result\n    real :: start_time, end_time\n    integer :: status, i\n\n    call get_argument(nr_values)\n\n    ! implicit loops\n    allocate (x_sp(nr_values), y_sp(nr_values), stat=status)\n    if (status /= 0) then\n        write (unit=error_unit, fmt='(A)') 'error: can not allocate x_sp/y_sp'\n        stop 1\n    end if\n    call random_number(x_sp)\n    call random_number(y_sp)\n\n    call cpu_time(start_time)\n    result = sum(sqrt(x_sp**2 + y_sp**2))\n    call cpu_time(end_time)\n    print '(A, F20.8)', 'Implicit loop time [s]: ', end_time - start_time\n    print '(A, F20.8)', 'Summation result: ', result\n    deallocate (x_sp, y_sp)\n\n    ! explicit loops\n    allocate (x_sp(nr_values), y_sp(nr_values), stat=status)\n    if (status /= 0) then\n        write (unit=error_unit, fmt='(A)') 'error: can not allocate x_sp/y_sp'\n        stop 1\n    end if\n    call random_number(x_sp)\n    call random_number(y_sp)\n\n    call cpu_time(start_time)\n    result = 0.0_SP\n    do i = 1, size(x_sp)\n        result = result + sqrt(x_sp(i)**2 + y_sp(i)**2)\n    end do\n    call cpu_time(end_time)\n    print '(A, F20.8)', 'Explicit loop time [s]: ', end_time - start_time\n    print '(A, F20.8)', 'Summation result: ', result\n    deallocate (x_sp, y_sp)\n\ncontains\n\n    subroutine get_argument(nr_values)\n        implicit none\n        integer(Kind=I8), intent(out) :: nr_values\n        character(len=1024) :: buffer, msg\n        integer :: status\n\n        if (command_argument_count() /= 1) then\n            write (unit=error_unit, fmt='(A)') 'error: expect number of values'\n            stop 2\n        end if\n        call get_command_argument(1, buffer)\n        read (buffer, fmt=*, iomsg=msg, iostat=status) nr_values\n        if (status /= 0) then\n            write (unit=error_unit, fmt='(2A)') 'error: ', trim(msg)\n            stop 3\n        end if\n    end subroutine get_argument\n\nend program real32_vs_real64","position":{"start":{"line":1,"column":1},"end":{"line":69,"column":1}},"key":"n7IGDGAZGu"}],"key":"ReUzOsogam"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The above program is compiled and run using Fortran Package Manager (fpm):","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"If5eZ26WE8"}],"key":"rj1Wtbkt4v"}],"key":"ocTgyQLa15"},{"type":"block","kind":"notebook-content","data":{"tags":[]},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Build the Program using FPM (Fortran Package Manager)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sFpNgTMge9"}],"identifier":"build-the-program-using-fpm-fortran-package-manager","label":"Build the Program using FPM (Fortran Package Manager)","html_id":"build-the-program-using-fpm-fortran-package-manager","implicit":true,"key":"OcndbF2Ufi"}],"visibility":"show","key":"xEDJf6p6RO"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import os\nroot_dir = \"\"\nroot_dir = os.getcwd()","key":"ohm5WDYtEr"},{"type":"outputs","id":"brdjYGmxyF2S9zl5E2KBs","children":[],"key":"mK2hsI88Ld"}],"key":"vxjZyWU8HN"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"code_dir = root_dir + \"/\" + \"Fortran_Code/Section_Implicit_vs_Explicit_Loops\"","visibility":"show","key":"qXhCAKAo6Q"},{"type":"outputs","id":"DwIHXmYQjbzSBoA6BPIYc","children":[],"visibility":"show","key":"jZG73qJqO1"}],"visibility":"show","key":"dVcRCI1vOD"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"code_app_dir = code_dir + \"/\" + \"app\"","visibility":"show","key":"Rpw5nvYH63"},{"type":"outputs","id":"dFXzXP9LaCSzLdCpG3liK","children":[],"visibility":"show","key":"QoBBes9jbS"}],"visibility":"remove","key":"mb0GLNNblD"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"os.chdir(code_app_dir)","visibility":"show","key":"VlHnDd3x76"},{"type":"outputs","id":"k7WAzKu3cxqJBybjQ9kvF","children":[],"visibility":"show","key":"upqs1uVpbc"}],"visibility":"remove","key":"rDsfKZnRpD"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"%%capture\n%%writefile section_implicit_vs_explicit_loops.f90\nprogram real32_vs_real64\n    use, intrinsic :: iso_fortran_env, only : error_unit, I8 => INT64, &\n        SP => REAL32, DP => REAL64\n    implicit none\n    integer(kind=I8) :: nr_values\n    real(kind=SP), dimension(:), allocatable :: x_sp, y_sp\n    real(kind=SP) :: result\n    real :: start_time, end_time\n    integer :: status, i\n\n    call get_argument(nr_values)\n\n    ! implicit loops\n    allocate (x_sp(nr_values), y_sp(nr_values), stat=status)\n    if (status /= 0) then\n        write (unit=error_unit, fmt='(A)') 'error: can not allocate x_sp/y_sp'\n        stop 1\n    end if\n    call random_number(x_sp)\n    call random_number(y_sp)\n\n    call cpu_time(start_time)\n    result = sum(sqrt(x_sp**2 + y_sp**2))\n    call cpu_time(end_time)\n    print '(A, F20.8)', 'Implicit loop time [s]: ', end_time - start_time\n    print '(A, F20.8)', 'Summation result: ', result\n    deallocate (x_sp, y_sp)\n\n    ! explicit loops\n    allocate (x_sp(nr_values), y_sp(nr_values), stat=status)\n    if (status /= 0) then\n        write (unit=error_unit, fmt='(A)') 'error: can not allocate x_sp/y_sp'\n        stop 1\n    end if\n    call random_number(x_sp)\n    call random_number(y_sp)\n\n    call cpu_time(start_time)\n    result = 0.0_SP\n    do i = 1, size(x_sp)\n        result = result + sqrt(x_sp(i)**2 + y_sp(i)**2)\n    end do\n    call cpu_time(end_time)\n    print '(A, F20.8)', 'Explicit loop time [s]: ', end_time - start_time\n    print '(A, F20.8)', 'Summation result: ', result\n    deallocate (x_sp, y_sp)\n\ncontains\n\n    subroutine get_argument(nr_values)\n        implicit none\n        integer(Kind=I8), intent(out) :: nr_values\n        character(len=1024) :: buffer, msg\n        integer :: status\n\n        if (command_argument_count() /= 1) then\n            write (unit=error_unit, fmt='(A)') 'error: expect number of values'\n            stop 2\n        end if\n        call get_command_argument(1, buffer)\n        read (buffer, fmt=*, iomsg=msg, iostat=status) nr_values\n        if (status /= 0) then\n            write (unit=error_unit, fmt='(2A)') 'error: ', trim(msg)\n            stop 3\n        end if\n    end subroutine get_argument\n\nend program real32_vs_real64","visibility":"show","key":"thvqPMko0D"},{"type":"outputs","id":"FpYfi4x3WFv3NTkXBCTOe","children":[],"visibility":"show","key":"AmcGyHlVJJ"}],"visibility":"remove","key":"rRi903Wr9a"},{"type":"block","kind":"notebook-code","data":{"tags":[]},"children":[{"type":"code","lang":"python","executable":true,"value":"!bat *.f90","visibility":"show","key":"Udpq3RDWry"},{"type":"outputs","id":"gs3fBh15yWZ6tZ0wNLvyD","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"\u001b[38;5;238m───────┬────────────────────────────────────────────────────────────────────────\u001b[0m\n       \u001b[38;5;238m│ \u001b[0mFile: \u001b[1msection_implicit_vs_explicit_loops.f90\u001b[0m\n\u001b[38;5;238m───────┼────────────────────────────────────────────────────────────────────────\u001b[0m\n\u001b[38;5;238m   1\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;203mprogram\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;149mreal32_vs_real64\u001b[0m\n\u001b[38;5;238m   2\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    use, intrinsic \u001b[0m\u001b[38;5;203m::\u001b[0m\u001b[38;5;231m iso_fortran_env, only : error_unit, I8 \u001b[0m\u001b[38;5;203m=>\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;81mINT64\u001b[0m\u001b[38;5;231m, \u001b[0m\n\u001b[38;5;238m    \u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m&\u001b[0m\n\u001b[38;5;238m   3\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m        SP \u001b[0m\u001b[38;5;203m=>\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;81mREAL32\u001b[0m\u001b[38;5;231m, DP \u001b[0m\u001b[38;5;203m=>\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;81mREAL64\u001b[0m\n\u001b[38;5;238m   4\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mimplicit\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203mnone\u001b[0m\n\u001b[38;5;238m   5\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;231minteger\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;208mkind\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;231mI8\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203m::\u001b[0m\u001b[38;5;231m nr_values\u001b[0m\n\u001b[38;5;238m   6\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;81mreal\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mkind\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;231mSP\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m, \u001b[0m\u001b[38;5;231mdimension\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231m:\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m, allocatable \u001b[0m\u001b[38;5;203m::\u001b[0m\u001b[38;5;231m x_sp, y_sp\u001b[0m\n\u001b[38;5;238m   7\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;81mreal\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mkind\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;231mSP\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203m::\u001b[0m\u001b[38;5;231m result\u001b[0m\n\u001b[38;5;238m   8\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    real \u001b[0m\u001b[38;5;203m::\u001b[0m\u001b[38;5;231m start_time, end_time\u001b[0m\n\u001b[38;5;238m   9\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    integer \u001b[0m\u001b[38;5;203m::\u001b[0m\u001b[38;5;231m status, i\u001b[0m\n\u001b[38;5;238m  10\u001b[0m   \u001b[38;5;238m│\u001b[0m \n\u001b[38;5;238m  11\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mcall\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;81mget_argument\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mnr_values\u001b[0m\u001b[38;5;231m)\u001b[0m\n\u001b[38;5;238m  12\u001b[0m   \u001b[38;5;238m│\u001b[0m \n\u001b[38;5;238m  13\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;242m! implicit loops\u001b[0m\n\u001b[38;5;238m  14\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;81mallocate\u001b[0m\u001b[38;5;231m (\u001b[0m\u001b[38;5;231mx_sp\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mnr_values\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m, \u001b[0m\u001b[38;5;231my_sp\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mnr_values\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m, stat\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;231mstatus)\u001b[0m\n\u001b[38;5;238m  15\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mif\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mstatus \u001b[0m\u001b[38;5;203m/=\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;141m0\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203mthen\u001b[0m\n\u001b[38;5;238m  16\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m        \u001b[0m\u001b[38;5;81mwrite\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;208munit\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;231merror_unit, \u001b[0m\u001b[38;5;208mfmt\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;186m'\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;141mA\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;186m'\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;186m'error: can not allocate x_s\u001b[0m\n\u001b[38;5;238m    \u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;186mp/y_sp'\u001b[0m\n\u001b[38;5;238m  17\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m        \u001b[0m\u001b[38;5;203mstop\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;141m1\u001b[0m\n\u001b[38;5;238m  18\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mend\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203mif\u001b[0m\n\u001b[38;5;238m  19\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mcall\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;81mrandom_number\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mx_sp\u001b[0m\u001b[38;5;231m)\u001b[0m\n\u001b[38;5;238m  20\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mcall\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;81mrandom_number\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231my_sp\u001b[0m\u001b[38;5;231m)\u001b[0m\n\u001b[38;5;238m  21\u001b[0m   \u001b[38;5;238m│\u001b[0m \n\u001b[38;5;238m  22\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mcall\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;81mcpu_time\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mstart_time\u001b[0m\u001b[38;5;231m)\u001b[0m\n\u001b[38;5;238m  23\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    result \u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;81msum\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;81msqrt\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mx_sp\u001b[0m\u001b[38;5;203m**\u001b[0m\u001b[38;5;141m2\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203m+\u001b[0m\u001b[38;5;231m y_sp\u001b[0m\u001b[38;5;203m**\u001b[0m\u001b[38;5;141m2\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m)\u001b[0m\n\u001b[38;5;238m  24\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mcall\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;81mcpu_time\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mend_time\u001b[0m\u001b[38;5;231m)\u001b[0m\n\u001b[38;5;238m  25\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;81mprint\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;186m'\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;141mA\u001b[0m\u001b[38;5;231m, \u001b[0m\u001b[38;5;141mF20.8\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;186m'\u001b[0m\u001b[38;5;231m, \u001b[0m\u001b[38;5;186m'Implicit loop time [s]: '\u001b[0m\u001b[38;5;231m, end_time \u001b[0m\u001b[38;5;203m-\u001b[0m\u001b[38;5;231m start_ti\u001b[0m\n\u001b[38;5;238m    \u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231mme\u001b[0m\n\u001b[38;5;238m  26\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;81mprint\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;186m'\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;141mA\u001b[0m\u001b[38;5;231m, \u001b[0m\u001b[38;5;141mF20.8\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;186m'\u001b[0m\u001b[38;5;231m, \u001b[0m\u001b[38;5;186m'Summation result: '\u001b[0m\u001b[38;5;231m, result\u001b[0m\n\u001b[38;5;238m  27\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;81mdeallocate\u001b[0m\u001b[38;5;231m (\u001b[0m\u001b[38;5;231mx_sp\u001b[0m\u001b[38;5;231m, y_sp)\u001b[0m\n\u001b[38;5;238m  28\u001b[0m   \u001b[38;5;238m│\u001b[0m \n\u001b[38;5;238m  29\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;242m! explicit loops\u001b[0m\n\u001b[38;5;238m  30\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;81mallocate\u001b[0m\u001b[38;5;231m (\u001b[0m\u001b[38;5;231mx_sp\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mnr_values\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m, \u001b[0m\u001b[38;5;231my_sp\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mnr_values\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m, stat\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;231mstatus)\u001b[0m\n\u001b[38;5;238m  31\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mif\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mstatus \u001b[0m\u001b[38;5;203m/=\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;141m0\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203mthen\u001b[0m\n\u001b[38;5;238m  32\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m        \u001b[0m\u001b[38;5;81mwrite\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;208munit\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;231merror_unit, \u001b[0m\u001b[38;5;208mfmt\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;186m'\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;141mA\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;186m'\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;186m'error: can not allocate x_s\u001b[0m\n\u001b[38;5;238m    \u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;186mp/y_sp'\u001b[0m\n\u001b[38;5;238m  33\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m        \u001b[0m\u001b[38;5;203mstop\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;141m1\u001b[0m\n\u001b[38;5;238m  34\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mend\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203mif\u001b[0m\n\u001b[38;5;238m  35\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mcall\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;81mrandom_number\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mx_sp\u001b[0m\u001b[38;5;231m)\u001b[0m\n\u001b[38;5;238m  36\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mcall\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;81mrandom_number\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231my_sp\u001b[0m\u001b[38;5;231m)\u001b[0m\n\u001b[38;5;238m  37\u001b[0m   \u001b[38;5;238m│\u001b[0m \n\u001b[38;5;238m  38\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mcall\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;81mcpu_time\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mstart_time\u001b[0m\u001b[38;5;231m)\u001b[0m\n\u001b[38;5;238m  39\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    result \u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;141m0.0_SP\u001b[0m\n\u001b[38;5;238m  40\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mdo\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;231mi\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;141m1\u001b[0m\u001b[38;5;231m, \u001b[0m\u001b[38;5;81msize\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mx_sp\u001b[0m\u001b[38;5;231m)\u001b[0m\n\u001b[38;5;238m  41\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m        result \u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;231m result \u001b[0m\u001b[38;5;203m+\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;81msqrt\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mx_sp\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mi\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;203m**\u001b[0m\u001b[38;5;141m2\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203m+\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;231my_sp\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mi\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;203m**\u001b[0m\u001b[38;5;141m2\u001b[0m\u001b[38;5;231m)\u001b[0m\n\u001b[38;5;238m  42\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mend\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203mdo\u001b[0m\n\u001b[38;5;238m  43\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mcall\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;81mcpu_time\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mend_time\u001b[0m\u001b[38;5;231m)\u001b[0m\n\u001b[38;5;238m  44\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;81mprint\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;186m'\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;141mA\u001b[0m\u001b[38;5;231m, \u001b[0m\u001b[38;5;141mF20.8\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;186m'\u001b[0m\u001b[38;5;231m, \u001b[0m\u001b[38;5;186m'Explicit loop time [s]: '\u001b[0m\u001b[38;5;231m, end_time \u001b[0m\u001b[38;5;203m-\u001b[0m\u001b[38;5;231m start_ti\u001b[0m\n\u001b[38;5;238m    \u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231mme\u001b[0m\n\u001b[38;5;238m  45\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;81mprint\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;186m'\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;141mA\u001b[0m\u001b[38;5;231m, \u001b[0m\u001b[38;5;141mF20.8\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;186m'\u001b[0m\u001b[38;5;231m, \u001b[0m\u001b[38;5;186m'Summation result: '\u001b[0m\u001b[38;5;231m, result\u001b[0m\n\u001b[38;5;238m  46\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;81mdeallocate\u001b[0m\u001b[38;5;231m (\u001b[0m\u001b[38;5;231mx_sp\u001b[0m\u001b[38;5;231m, y_sp)\u001b[0m\n\u001b[38;5;238m  47\u001b[0m   \u001b[38;5;238m│\u001b[0m \n\u001b[38;5;238m  48\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;203mcontains\u001b[0m\n\u001b[38;5;238m  49\u001b[0m   \u001b[38;5;238m│\u001b[0m \n\u001b[38;5;238m  50\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203msubroutine\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;149mget_argument\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;208mnr_values\u001b[0m\u001b[38;5;231m)\u001b[0m\n\u001b[38;5;238m  51\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m        \u001b[0m\u001b[38;5;203mimplicit\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203mnone\u001b[0m\n\u001b[38;5;238m  52\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m        \u001b[0m\u001b[38;5;231minteger\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;208mKind\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;231mI8\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m, \u001b[0m\u001b[38;5;231mintent\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mout\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203m::\u001b[0m\u001b[38;5;231m nr_values\u001b[0m\n\u001b[38;5;238m  53\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m        \u001b[0m\u001b[38;5;81mcharacter(len=1024)\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203m::\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;231mbuffer\u001b[0m\u001b[38;5;231m, \u001b[0m\u001b[38;5;231mmsg\u001b[0m\n\u001b[38;5;238m  54\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m        integer \u001b[0m\u001b[38;5;203m::\u001b[0m\u001b[38;5;231m status\u001b[0m\n\u001b[38;5;238m  55\u001b[0m   \u001b[38;5;238m│\u001b[0m \n\u001b[38;5;238m  56\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m        \u001b[0m\u001b[38;5;203mif\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mcommand_argument_count\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203m/=\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;141m1\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203mthen\u001b[0m\n\u001b[38;5;238m  57\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m            \u001b[0m\u001b[38;5;81mwrite\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;208munit\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;231merror_unit, \u001b[0m\u001b[38;5;208mfmt\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;186m'\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;141mA\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;186m'\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;186m'error: expect number of\u001b[0m\n\u001b[38;5;238m    \u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;186m values'\u001b[0m\n\u001b[38;5;238m  58\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m            \u001b[0m\u001b[38;5;203mstop\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;141m2\u001b[0m\n\u001b[38;5;238m  59\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m        \u001b[0m\u001b[38;5;203mend\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203mif\u001b[0m\n\u001b[38;5;238m  60\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m        \u001b[0m\u001b[38;5;203mcall\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;81mget_command_argument\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;141m1\u001b[0m\u001b[38;5;231m, buffer\u001b[0m\u001b[38;5;231m)\u001b[0m\n\u001b[38;5;238m  61\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m        \u001b[0m\u001b[38;5;231mread \u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mbuffer\u001b[0m\u001b[38;5;231m,\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;208mfmt\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;203m*\u001b[0m\u001b[38;5;231m,\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;208miomsg\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;231mmsg\u001b[0m\u001b[38;5;231m,\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;208miostat\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;231mstatus\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m nr_values\u001b[0m\n\u001b[38;5;238m  62\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m        \u001b[0m\u001b[38;5;203mif\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mstatus \u001b[0m\u001b[38;5;203m/=\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;141m0\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203mthen\u001b[0m\n\u001b[38;5;238m  63\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m            \u001b[0m\u001b[38;5;81mwrite\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;208munit\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;231merror_unit, \u001b[0m\u001b[38;5;208mfmt\u001b[0m\u001b[38;5;203m=\u001b[0m\u001b[38;5;186m'\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;141m2A\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;186m'\u001b[0m\u001b[38;5;231m)\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;186m'error: '\u001b[0m\u001b[38;5;231m, \u001b[0m\u001b[38;5;81mtrim\u001b[0m\u001b[38;5;231m(\u001b[0m\u001b[38;5;231mmsg\u001b[0m\u001b[38;5;231m)\u001b[0m\n\u001b[38;5;238m  64\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m            \u001b[0m\u001b[38;5;203mstop\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;141m3\u001b[0m\n\u001b[38;5;238m  65\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m        \u001b[0m\u001b[38;5;203mend\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203mif\u001b[0m\n\u001b[38;5;238m  66\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;231m    \u001b[0m\u001b[38;5;203mend\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203msubroutine\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;149mget_argument\u001b[0m\n\u001b[38;5;238m  67\u001b[0m   \u001b[38;5;238m│\u001b[0m \n\u001b[38;5;238m  68\u001b[0m   \u001b[38;5;238m│\u001b[0m \u001b[38;5;203mend\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;203mprogram\u001b[0m\u001b[38;5;231m \u001b[0m\u001b[38;5;149mreal32_vs_real64\u001b[0m\n\u001b[38;5;238m───────┴────────────────────────────────────────────────────────────────────────\u001b[0m\n"},"children":[],"key":"ELjR6rYSWR"}],"visibility":"show","key":"oxW75cP5dc"}],"visibility":"remove","key":"JXMdws5rv6"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"os.chdir(code_dir)","key":"sxNbV3RgnI"},{"type":"outputs","id":"GG7_mtK2tOTvJuYGteQVE","children":[],"key":"DxuO09JFRb"}],"key":"v1setckP76"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"build_status = os.system(\"fpm build 2>/dev/null\")","key":"LZOeLhWDds"},{"type":"outputs","id":"Vmz0lLHT1PmO5ovAJ-w8A","children":[],"key":"xR98yItsOi"}],"key":"ArZPj2noHS"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Run the Program using FPM (Fortran Package Manager)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iHFybtcAHp"}],"identifier":"run-the-program-using-fpm-fortran-package-manager","label":"Run the Program using FPM (Fortran Package Manager)","html_id":"run-the-program-using-fpm-fortran-package-manager","implicit":true,"key":"dX3eNLcep4"}],"key":"eUOgZPyCAT"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"exec_status = os.system(\"fpm run -- 10 2>/dev/null\")","key":"ApzT6tIQKr"},{"type":"outputs","id":"JPL0h5o_J-FUwYjEoY6_S","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Implicit loop time [s]:           0.00000200\nSummation result:           9.57156563\nExplicit loop time [s]:           0.00000100\nSummation result:           8.58767700\n"},"children":[],"key":"xMAw8v1XKr"}],"key":"aCP07TsyLp"}],"key":"CRCfL1baMO"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"exec_status = os.system(\"fpm run -- 100 2>/dev/null\")","key":"iLL7TqwrUH"},{"type":"outputs","id":"h3NpCL6J8kVf5dXXjSzrQ","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Implicit loop time [s]:           0.00000100\nSummation result:          82.67105103\nExplicit loop time [s]:           0.00000100\nSummation result:          78.12156677\n"},"children":[],"key":"sx4kYjatdY"}],"key":"imqOhSE4ZQ"}],"key":"ERFdgeIFfL"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"exec_status = os.system(\"fpm run -- 1000 2>/dev/null\")","key":"qxclHikMZM"},{"type":"outputs","id":"HDQxC9LYUsuGD57CeBx03","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Implicit loop time [s]:           0.00000300\nSummation result:         738.62194824\nExplicit loop time [s]:           0.00000400\nSummation result:         779.73486328\n"},"children":[],"key":"MsvOflqMDI"}],"key":"Hh2qvcj6eW"}],"key":"efvTICA0YC"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"exec_status = os.system(\"fpm run -- 10000 2>/dev/null\")","key":"DleErcYcKJ"},{"type":"outputs","id":"aA8cY5OCg4vLKe6TaXAID","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Implicit loop time [s]:           0.00001100\nSummation result:        7668.53564453\nExplicit loop time [s]:           0.00002200\nSummation result:        7716.35302734\n"},"children":[],"key":"NDy8p0pAtN"}],"key":"p3Kvkgc6tt"}],"key":"G1d45zDsMU"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"exec_status = os.system(\"fpm run -- 100000 2>/dev/null\")","key":"FtzuWQHDyG"},{"type":"outputs","id":"LmyR7HoKqSroOmWCKQsXG","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Implicit loop time [s]:           0.00010800\nSummation result:       76268.64062500\nExplicit loop time [s]:           0.00022100\nSummation result:       76432.85156250\n"},"children":[],"key":"HJcQlrozuK"}],"key":"O9oxCj4zY2"}],"key":"TrqmAwVpRW"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"exec_status = os.system(\"fpm run -- 1000000 2>/dev/null\")","key":"uvRfSX3MU3"},{"type":"outputs","id":"tBfCzgvMnKM6PiuBzfDDl","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Implicit loop time [s]:           0.00211100\nSummation result:      765269.12500000\nExplicit loop time [s]:           0.00220800\nSummation result:      765385.31250000\n"},"children":[],"key":"IDuV12cLQ2"}],"key":"x0ETgBwMHf"}],"key":"ZCSDUaR8ha"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"exec_status = os.system(\"fpm run -- 10000000 2>/dev/null\")","key":"aRrW32Ard9"},{"type":"outputs","id":"1J_xKA28ruNIurcXdRJyo","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Implicit loop time [s]:           0.02267501\nSummation result:     7671492.50000000\nExplicit loop time [s]:           0.02569100\nSummation result:     7669864.50000000\n"},"children":[],"key":"zkAEWxjaLF"}],"key":"o7KKcfDkS3"}],"key":"w9UnsemAQG"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"exec_status = os.system(\"fpm run -- 100000000 2>/dev/null\")","key":"RitYsj4PoL"},{"type":"outputs","id":"v3JliZ_JAHUxfDXQV5cMy","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Implicit loop time [s]:           0.10609502\nSummation result:    33554432.00000000\nExplicit loop time [s]:           0.23883396\nSummation result:    33554432.00000000\n"},"children":[],"key":"L0UoIjTaGq"}],"key":"g6RkrL9VwL"}],"key":"K81ceQWEpw"}],"key":"pBnGEgdCBa"},"references":{"cite":{"order":[],"data":{}}},"footer":{"navigation":{"prev":{"title":"Section: Implicit vs Explicit Loops","url":"/sections/computer-programming/fortran/fortran-mooc/section-implicit-vs-explicit-loops-head","group":"Computer Programming"},"next":{"title":"Section: Block Matrices","url":"/sections/computer-programming/fortran/fortran-mooc/section-block-matrices-head","group":"Computer Programming"}}},"domain":"http://localhost:3005"}