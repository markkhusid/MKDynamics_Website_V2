{"version":3,"kind":"Notebook","sha256":"6e42a84dd75f6dfa153e3dac98ca2d9066c29a14b762aa5734dd597236d2584a","slug":"sections.mcs-projects.mcs-portfolio-project.cse572-project-3","location":"/Sections/MCS_Projects/MCS_Portfolio_Project/CSE572_Project_3.ipynb","dependencies":[],"frontmatter":{"title":"CSE572 Project 3 - Cluster Validation Project","content_includes_title":false,"kernelspec":{"name":"py311_env","display_name":"Python 3.11","language":"python"},"authors":[{"nameParsed":{"literal":"Mark Khusid","given":"Mark","family":"Khusid"},"name":"Mark Khusid","id":"contributors-myst-generated-uid-0"}],"github":"https://github.com/markkhusid/MKDynamics_Website_V2","numbering":{"title":{"offset":3}},"source_url":"https://github.com/markkhusid/MKDynamics_Website_V2/blob/master/Sections/MCS_Projects/MCS_Portfolio_Project/CSE572_Project_3.ipynb","edit_url":"https://github.com/markkhusid/MKDynamics_Website_V2/edit/master/Sections/MCS_Projects/MCS_Portfolio_Project/CSE572_Project_3.ipynb","exports":[{"format":"ipynb","filename":"CSE572_Project_3.ipynb","url":"/CSE572_Project_3-69293ce557d63ff60a5b5ec69a257d62.ipynb"}]},"widgets":{"application/vnd.jupyter.widget-state+json":{"state":{},"version_major":2,"version_minor":0}},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Mark Khusid","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pMginEae68"}],"key":"DuxBJ9TPUK"}],"key":"UPZyJuds9k"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:26.049473Z","iopub.status.busy":"2024-10-20T00:51:26.049275Z","iopub.status.idle":"2024-10-20T00:51:28.209095Z","shell.execute_reply":"2024-10-20T00:51:28.208172Z","shell.execute_reply.started":"2024-10-20T00:51:26.049457Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"import pandas as pd\nimport numpy as np\n\nimport matplotlib.pyplot as plt\nfrom matplotlib.pyplot import get_cmap\n\nfrom scipy.integrate import simpson\n\nfrom sklearn.impute import KNNImputer\nfrom sklearn.cluster import KMeans, DBSCAN\nfrom sklearn.decomposition import PCA\n\nfrom sklearn.preprocessing import StandardScaler","key":"huc7o5KNEU"},{"type":"outputs","id":"UdiA2j-GUlY9hTm36RXPQ","children":[],"key":"hCjlLr4qyp"}],"key":"DGcHibvDbV"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Load the datasets","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cXyeIMhWLT"}],"identifier":"load-the-datasets","label":"Load the datasets","html_id":"load-the-datasets","implicit":true,"key":"yprJ8IWMoL"}],"key":"DTO1Sqzm59"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:28.210505Z","iopub.status.busy":"2024-10-20T00:51:28.210139Z","iopub.status.idle":"2024-10-20T00:51:28.557734Z","shell.execute_reply":"2024-10-20T00:51:28.556112Z","shell.execute_reply.started":"2024-10-20T00:51:28.210484Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"insulin_data = pd.read_csv('InsulinData.csv', low_memory=False)\ncgm_data = pd.read_csv('CGMData.csv', low_memory=False)","key":"bN1I4cJLCq"},{"type":"outputs","id":"9QGFNylQoqgBZvOb7KckG","children":[],"key":"zYLLMYUGjM"}],"key":"uIPzxeRqy6"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"View Dataframes","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"u53eEwcq36"}],"identifier":"view-dataframes","label":"View Dataframes","html_id":"view-dataframes","implicit":true,"key":"KK6DdHKKNQ"}],"key":"Yanqinr8vD"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:28.560464Z","iopub.status.busy":"2024-10-20T00:51:28.560144Z","iopub.status.idle":"2024-10-20T00:51:28.775928Z","shell.execute_reply":"2024-10-20T00:51:28.774675Z","shell.execute_reply.started":"2024-10-20T00:51:28.560445Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"insulin_data","key":"pqgW7VCYiF"},{"type":"outputs","id":"GCZkdz20k5UuznO5WHWe9","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":3,"metadata":{},"data":{"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Index</th>\n      <th>Date</th>\n      <th>Time</th>\n      <th>New Device Time</th>\n      <th>BG Reading (mg/dL)</th>\n      <th>Linked BG Meter ID</th>\n      <th>Basal Rate (U/h)</th>\n      <th>Temp Basal Amount</th>\n      <th>Temp Basal Type</th>\n      <th>Temp Basal Duration (h:mm:ss)</th>\n      <th>...</th>\n      <th>Scroll Step Size</th>\n      <th>Insulin Action Curve Time</th>\n      <th>Sensor Calibration Rejected Reason</th>\n      <th>Preset Bolus</th>\n      <th>Bolus Source</th>\n      <th>Network Device Associated Reason</th>\n      <th>Network Device Disassociated Reason</th>\n      <th>Network Device Disconnected Reason</th>\n      <th>Sensor Exception</th>\n      <th>Preset Temp Basal Name</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>0</td>\n      <td>2/12/2018</td>\n      <td>13:20:53</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>TEMPORARY</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>1</td>\n      <td>2/12/2018</td>\n      <td>13:20:48</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>2</td>\n      <td>2/12/2018</td>\n      <td>13:18:48</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>0.0</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>3</td>\n      <td>2/12/2018</td>\n      <td>13:18:48</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>4</td>\n      <td>2/12/2018</td>\n      <td>13:12:33</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>CLOSED_LOOP_MICRO_BOLUS</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>41430</th>\n      <td>22135</td>\n      <td>7/24/2017</td>\n      <td>19:00:01</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>0.0</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>41431</th>\n      <td>22136</td>\n      <td>7/24/2017</td>\n      <td>18:59:44</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>0.0</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>41432</th>\n      <td>22137</td>\n      <td>7/24/2017</td>\n      <td>18:59:44</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>41433</th>\n      <td>22138</td>\n      <td>7/24/2017</td>\n      <td>18:59:44</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>41434</th>\n      <td>22139</td>\n      <td>7/24/2017</td>\n      <td>18:59:42</td>\n      <td>7/24/2017 18:59</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n  </tbody>\n</table>\n<p>41435 rows × 47 columns</p>\n</div>","content_type":"text/html"},"text/plain":{"content":"       Index       Date      Time  New Device Time  BG Reading (mg/dL)  \\\n0          0  2/12/2018  13:20:53              NaN                 NaN   \n1          1  2/12/2018  13:20:48              NaN                 NaN   \n2          2  2/12/2018  13:18:48              NaN                 NaN   \n3          3  2/12/2018  13:18:48              NaN                 NaN   \n4          4  2/12/2018  13:12:33              NaN                 NaN   \n...      ...        ...       ...              ...                 ...   \n41430  22135  7/24/2017  19:00:01              NaN                 NaN   \n41431  22136  7/24/2017  18:59:44              NaN                 NaN   \n41432  22137  7/24/2017  18:59:44              NaN                 NaN   \n41433  22138  7/24/2017  18:59:44              NaN                 NaN   \n41434  22139  7/24/2017  18:59:42  7/24/2017 18:59                 NaN   \n\n       Linked BG Meter ID  Basal Rate (U/h)  Temp Basal Amount  \\\n0                     NaN               NaN                NaN   \n1                     NaN               NaN                NaN   \n2                     NaN               0.0                NaN   \n3                     NaN               NaN                NaN   \n4                     NaN               NaN                NaN   \n...                   ...               ...                ...   \n41430                 NaN               0.0                NaN   \n41431                 NaN               0.0                NaN   \n41432                 NaN               NaN                NaN   \n41433                 NaN               NaN                NaN   \n41434                 NaN               NaN                NaN   \n\n       Temp Basal Type  Temp Basal Duration (h:mm:ss)  ... Scroll Step Size  \\\n0                  NaN                            NaN  ...              NaN   \n1                  NaN                            NaN  ...              NaN   \n2                  NaN                            NaN  ...              NaN   \n3                  NaN                            NaN  ...              NaN   \n4                  NaN                            NaN  ...              NaN   \n...                ...                            ...  ...              ...   \n41430              NaN                            NaN  ...              NaN   \n41431              NaN                            NaN  ...              NaN   \n41432              NaN                            NaN  ...              NaN   \n41433              NaN                            NaN  ...              NaN   \n41434              NaN                            NaN  ...              NaN   \n\n       Insulin Action Curve Time  Sensor Calibration Rejected Reason  \\\n0                            NaN                                 NaN   \n1                            NaN                                 NaN   \n2                            NaN                                 NaN   \n3                            NaN                                 NaN   \n4                            NaN                                 NaN   \n...                          ...                                 ...   \n41430                        NaN                                 NaN   \n41431                        NaN                                 NaN   \n41432                        NaN                                 NaN   \n41433                        NaN                                 NaN   \n41434                        NaN                                 NaN   \n\n      Preset Bolus             Bolus Source  Network Device Associated Reason  \\\n0              NaN                      NaN                         TEMPORARY   \n1              NaN                      NaN                               NaN   \n2              NaN                      NaN                               NaN   \n3              NaN                      NaN                               NaN   \n4              NaN  CLOSED_LOOP_MICRO_BOLUS                               NaN   \n...            ...                      ...                               ...   \n41430          NaN                      NaN                               NaN   \n41431          NaN                      NaN                               NaN   \n41432          NaN                      NaN                               NaN   \n41433          NaN                      NaN                               NaN   \n41434          NaN                      NaN                               NaN   \n\n      Network Device Disassociated Reason Network Device Disconnected Reason  \\\n0                                     NaN                                NaN   \n1                                     NaN                                NaN   \n2                                     NaN                                NaN   \n3                                     NaN                                NaN   \n4                                     NaN                                NaN   \n...                                   ...                                ...   \n41430                                 NaN                                NaN   \n41431                                 NaN                                NaN   \n41432                                 NaN                                NaN   \n41433                                 NaN                                NaN   \n41434                                 NaN                                NaN   \n\n      Sensor Exception  Preset Temp Basal Name  \n0                  NaN                     NaN  \n1                  NaN                     NaN  \n2                  NaN                     NaN  \n3                  NaN                     NaN  \n4                  NaN                     NaN  \n...                ...                     ...  \n41430              NaN                     NaN  \n41431              NaN                     NaN  \n41432              NaN                     NaN  \n41433              NaN                     NaN  \n41434              NaN                     NaN  \n\n[41435 rows x 47 columns]","content_type":"text/plain"}}},"children":[],"key":"xVwbAqqsqu"}],"key":"qoV3N5Vfd5"}],"key":"r9QZwyOqeh"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:28.777162Z","iopub.status.busy":"2024-10-20T00:51:28.776900Z","iopub.status.idle":"2024-10-20T00:51:28.783342Z","shell.execute_reply":"2024-10-20T00:51:28.781784Z","shell.execute_reply.started":"2024-10-20T00:51:28.777143Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#insulin_data['BWZ Carb Input (grams)']","key":"YRDXuaq77A"},{"type":"outputs","id":"LTSHrxXUAc2UbE-QbjjYr","children":[],"key":"mJcVAWaGUB"}],"key":"rMVpIiW0A7"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:28.784264Z","iopub.status.busy":"2024-10-20T00:51:28.784016Z","iopub.status.idle":"2024-10-20T00:51:29.002079Z","shell.execute_reply":"2024-10-20T00:51:28.941771Z","shell.execute_reply.started":"2024-10-20T00:51:28.784246Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cgm_data","key":"uHSiLfHHum"},{"type":"outputs","id":"A-BF6IMsWIFvBETeWqlYY","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":5,"metadata":{},"data":{"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Index</th>\n      <th>Date</th>\n      <th>Time</th>\n      <th>New Device Time</th>\n      <th>BG Reading (mg/dL)</th>\n      <th>Linked BG Meter ID</th>\n      <th>Basal Rate (U/h)</th>\n      <th>Temp Basal Amount</th>\n      <th>Temp Basal Type</th>\n      <th>Temp Basal Duration (h:mm:ss)</th>\n      <th>...</th>\n      <th>Scroll Step Size</th>\n      <th>Insulin Action Curve Time</th>\n      <th>Sensor Calibration Rejected Reason</th>\n      <th>Preset Bolus</th>\n      <th>Bolus Source</th>\n      <th>Network Device Associated Reason</th>\n      <th>Network Device Disassociated Reason</th>\n      <th>Network Device Disconnected Reason</th>\n      <th>Sensor Exception</th>\n      <th>Preset Temp Basal Name</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>20355</td>\n      <td>2/12/2018</td>\n      <td>13:22:27</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>20356</td>\n      <td>2/12/2018</td>\n      <td>13:17:27</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>20357</td>\n      <td>2/12/2018</td>\n      <td>13:12:27</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>SENSOR_ERROR</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>20358</td>\n      <td>2/12/2018</td>\n      <td>13:07:27</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>SENSOR_ERROR</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>20359</td>\n      <td>2/12/2018</td>\n      <td>13:02:27</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>SENSOR_ERROR</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>55338</th>\n      <td>52855</td>\n      <td>7/25/2017</td>\n      <td>12:28:54</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>55339</th>\n      <td>52856</td>\n      <td>7/25/2017</td>\n      <td>12:23:54</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>55340</th>\n      <td>52857</td>\n      <td>7/25/2017</td>\n      <td>12:18:54</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>55341</th>\n      <td>52858</td>\n      <td>7/25/2017</td>\n      <td>12:13:54</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n    <tr>\n      <th>55342</th>\n      <td>52859</td>\n      <td>7/25/2017</td>\n      <td>12:08:54</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>...</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n      <td>NaN</td>\n    </tr>\n  </tbody>\n</table>\n<p>55343 rows × 47 columns</p>\n</div>","content_type":"text/html"},"text/plain":{"content":"       Index       Date      Time  New Device Time  BG Reading (mg/dL)  \\\n0      20355  2/12/2018  13:22:27              NaN                 NaN   \n1      20356  2/12/2018  13:17:27              NaN                 NaN   \n2      20357  2/12/2018  13:12:27              NaN                 NaN   \n3      20358  2/12/2018  13:07:27              NaN                 NaN   \n4      20359  2/12/2018  13:02:27              NaN                 NaN   \n...      ...        ...       ...              ...                 ...   \n55338  52855  7/25/2017  12:28:54              NaN                 NaN   \n55339  52856  7/25/2017  12:23:54              NaN                 NaN   \n55340  52857  7/25/2017  12:18:54              NaN                 NaN   \n55341  52858  7/25/2017  12:13:54              NaN                 NaN   \n55342  52859  7/25/2017  12:08:54              NaN                 NaN   \n\n       Linked BG Meter ID  Basal Rate (U/h)  Temp Basal Amount  \\\n0                     NaN               NaN                NaN   \n1                     NaN               NaN                NaN   \n2                     NaN               NaN                NaN   \n3                     NaN               NaN                NaN   \n4                     NaN               NaN                NaN   \n...                   ...               ...                ...   \n55338                 NaN               NaN                NaN   \n55339                 NaN               NaN                NaN   \n55340                 NaN               NaN                NaN   \n55341                 NaN               NaN                NaN   \n55342                 NaN               NaN                NaN   \n\n       Temp Basal Type  Temp Basal Duration (h:mm:ss)  ...  Scroll Step Size  \\\n0                  NaN                            NaN  ...               NaN   \n1                  NaN                            NaN  ...               NaN   \n2                  NaN                            NaN  ...               NaN   \n3                  NaN                            NaN  ...               NaN   \n4                  NaN                            NaN  ...               NaN   \n...                ...                            ...  ...               ...   \n55338              NaN                            NaN  ...               NaN   \n55339              NaN                            NaN  ...               NaN   \n55340              NaN                            NaN  ...               NaN   \n55341              NaN                            NaN  ...               NaN   \n55342              NaN                            NaN  ...               NaN   \n\n       Insulin Action Curve Time  Sensor Calibration Rejected Reason  \\\n0                            NaN                                 NaN   \n1                            NaN                                 NaN   \n2                            NaN                                 NaN   \n3                            NaN                                 NaN   \n4                            NaN                                 NaN   \n...                          ...                                 ...   \n55338                        NaN                                 NaN   \n55339                        NaN                                 NaN   \n55340                        NaN                                 NaN   \n55341                        NaN                                 NaN   \n55342                        NaN                                 NaN   \n\n       Preset Bolus  Bolus Source  Network Device Associated Reason  \\\n0               NaN           NaN                               NaN   \n1               NaN           NaN                               NaN   \n2               NaN           NaN                               NaN   \n3               NaN           NaN                               NaN   \n4               NaN           NaN                               NaN   \n...             ...           ...                               ...   \n55338           NaN           NaN                               NaN   \n55339           NaN           NaN                               NaN   \n55340           NaN           NaN                               NaN   \n55341           NaN           NaN                               NaN   \n55342           NaN           NaN                               NaN   \n\n       Network Device Disassociated Reason  \\\n0                                      NaN   \n1                                      NaN   \n2                                      NaN   \n3                                      NaN   \n4                                      NaN   \n...                                    ...   \n55338                                  NaN   \n55339                                  NaN   \n55340                                  NaN   \n55341                                  NaN   \n55342                                  NaN   \n\n       Network Device Disconnected Reason  Sensor Exception  \\\n0                                     NaN               NaN   \n1                                     NaN               NaN   \n2                                     NaN      SENSOR_ERROR   \n3                                     NaN      SENSOR_ERROR   \n4                                     NaN      SENSOR_ERROR   \n...                                   ...               ...   \n55338                                 NaN               NaN   \n55339                                 NaN               NaN   \n55340                                 NaN               NaN   \n55341                                 NaN               NaN   \n55342                                 NaN               NaN   \n\n       Preset Temp Basal Name  \n0                         NaN  \n1                         NaN  \n2                         NaN  \n3                         NaN  \n4                         NaN  \n...                       ...  \n55338                     NaN  \n55339                     NaN  \n55340                     NaN  \n55341                     NaN  \n55342                     NaN  \n\n[55343 rows x 47 columns]","content_type":"text/plain"}}},"children":[],"key":"vefU7c2Nd0"}],"key":"h4vKpMZcMN"}],"key":"kQvfGxoIcx"},{"type":"block","kind":"notebook-content","data":{"execution":{"iopub.execute_input":"2024-09-17T02:57:26.794025Z","iopub.status.busy":"2024-09-17T02:57:26.793587Z","iopub.status.idle":"2024-09-17T02:57:26.837838Z","shell.execute_reply":"2024-09-17T02:57:26.801234Z","shell.execute_reply.started":"2024-09-17T02:57:26.793989Z"}},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"EDA on dataframes","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rlAffRZ1W9"}],"identifier":"eda-on-dataframes","label":"EDA on dataframes","html_id":"eda-on-dataframes","implicit":true,"key":"abvfjvfriw"}],"key":"kyn78PR03b"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:29.035004Z","iopub.status.busy":"2024-10-20T00:51:29.034769Z","iopub.status.idle":"2024-10-20T00:51:29.272362Z","shell.execute_reply":"2024-10-20T00:51:29.164566Z","shell.execute_reply.started":"2024-10-20T00:51:29.034988Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#insulin_data.info()","key":"bz1g1JN12o"},{"type":"outputs","id":"DJlRE_LTlNn21CMDKSIto","children":[],"key":"j822UJJXYB"}],"key":"s9BuhD63XH"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:29.279901Z","iopub.status.busy":"2024-10-20T00:51:29.279698Z","iopub.status.idle":"2024-10-20T00:51:29.519509Z","shell.execute_reply":"2024-10-20T00:51:29.505448Z","shell.execute_reply.started":"2024-10-20T00:51:29.279887Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cgm_data.info()","key":"XhcgEAqG1Q"},{"type":"outputs","id":"AVGeMj5U8nsYSvmHDhyjZ","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"<class 'pandas.core.frame.DataFrame'>\nRangeIndex: 55343 entries, 0 to 55342\nData columns (total 47 columns):\n #   Column                               Non-Null Count  Dtype  \n---  ------                               --------------  -----  \n 0   Index                                55343 non-null  int64  \n 1   Date                                 55343 non-null  object \n 2   Time                                 55343 non-null  object \n 3   New Device Time                      0 non-null      float64\n 4   BG Reading (mg/dL)                   0 non-null      float64\n 5   Linked BG Meter ID                   0 non-null      float64\n 6   Basal Rate (U/h)                     0 non-null      float64\n 7   Temp Basal Amount                    0 non-null      float64\n 8   Temp Basal Type                      0 non-null      float64\n 9   Temp Basal Duration (h:mm:ss)        0 non-null      float64\n 10  Bolus Type                           0 non-null      float64\n 11  Bolus Volume Selected (U)            0 non-null      float64\n 12  Bolus Volume Delivered (U)           0 non-null      float64\n 13  Bolus Duration (h:mm:ss)             0 non-null      float64\n 14  Prime Type                           0 non-null      float64\n 15  Prime Volume Delivered (U)           0 non-null      float64\n 16  Alarm                                0 non-null      float64\n 17  Suspend                              0 non-null      float64\n 18  Rewind                               0 non-null      float64\n 19  BWZ Estimate (U)                     0 non-null      float64\n 20  BWZ Target High BG (mg/dL)           0 non-null      float64\n 21  BWZ Target Low BG (mg/dL)            0 non-null      float64\n 22  BWZ Carb Ratio (g/U)                 0 non-null      float64\n 23  BWZ Insulin Sensitivity (mg/dL/U)    0 non-null      float64\n 24  BWZ Carb Input (grams)               0 non-null      float64\n 25  BWZ BG Input (mg/dL)                 0 non-null      float64\n 26  BWZ Correction Estimate (U)          0 non-null      float64\n 27  BWZ Food Estimate (U)                0 non-null      float64\n 28  BWZ Active Insulin (U)               0 non-null      float64\n 29  Sensor Calibration BG (mg/dL)        0 non-null      float64\n 30  Sensor Glucose (mg/dL)               51175 non-null  float64\n 31  ISIG Value                           51175 non-null  float64\n 32  Event Marker                         1 non-null      object \n 33  Bolus Number                         0 non-null      float64\n 34  Bolus Cancellation Reason            0 non-null      float64\n 35  BWZ Unabsorbed Insulin Total (U)     0 non-null      float64\n 36  Final Bolus Estimate                 0 non-null      float64\n 37  Scroll Step Size                     0 non-null      float64\n 38  Insulin Action Curve Time            0 non-null      float64\n 39  Sensor Calibration Rejected Reason   0 non-null      float64\n 40  Preset Bolus                         0 non-null      float64\n 41  Bolus Source                         0 non-null      float64\n 42  Network Device Associated Reason     0 non-null      float64\n 43  Network Device Disassociated Reason  0 non-null      float64\n 44  Network Device Disconnected Reason   0 non-null      float64\n 45  Sensor Exception                     4167 non-null   object \n 46  Preset Temp Basal Name               0 non-null      float64\ndtypes: float64(42), int64(1), object(4)\nmemory usage: 19.8+ MB\n"},"children":[],"key":"qqqVLC6FHm"}],"key":"ZsQSgaYDnY"}],"key":"dOeHRJtKTR"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Convert ‘Date’ and ‘Time’ columns to datetime format in both datasets for easier manipulation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vTQMygDVjV"}],"identifier":"convert-date-and-time-columns-to-datetime-format-in-both-datasets-for-easier-manipulation","label":"Convert ‘Date’ and ‘Time’ columns to datetime format in both datasets for easier manipulation","html_id":"convert-date-and-time-columns-to-datetime-format-in-both-datasets-for-easier-manipulation","implicit":true,"key":"JOB0Li6duA"}],"key":"jqVWmqCj5V"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:29.526796Z","iopub.status.busy":"2024-10-20T00:51:29.520614Z","iopub.status.idle":"2024-10-20T00:51:29.675739Z","shell.execute_reply":"2024-10-20T00:51:29.626198Z","shell.execute_reply.started":"2024-10-20T00:51:29.526769Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"def preprocess_date(date_string):\n    date_string = date_string.strip()\n    if len(date_string.split()) == 1:\n        return date_string\n    elif len(date_string.split()) == 2:\n        return date_string.split()[0]","key":"AUZukkF2FC"},{"type":"outputs","id":"ej7NdFqlxxZPOzta0o6ml","children":[],"key":"qKQL9n2zLT"}],"key":"yTIs3EVPa0"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:29.703884Z","iopub.status.busy":"2024-10-20T00:51:29.690648Z","iopub.status.idle":"2024-10-20T00:51:29.747664Z","shell.execute_reply":"2024-10-20T00:51:29.746475Z","shell.execute_reply.started":"2024-10-20T00:51:29.703851Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"insulin_data['Date'] = insulin_data['Date'].apply(preprocess_date)","key":"wRkwxJIn4q"},{"type":"outputs","id":"EGL44pfJy1JvJnBTv8KAi","children":[],"key":"JbfYBt6G5U"}],"key":"AUtdr2Ts70"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:29.748816Z","iopub.status.busy":"2024-10-20T00:51:29.748240Z","iopub.status.idle":"2024-10-20T00:51:30.230923Z","shell.execute_reply":"2024-10-20T00:51:30.229855Z","shell.execute_reply.started":"2024-10-20T00:51:29.748797Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"insulin_data['datetime'] = pd.to_datetime(insulin_data['Date'] + ' ' + insulin_data['Time'])\n\ncgm_data['datetime'] = pd.to_datetime(cgm_data['Date'] + ' ' + cgm_data['Time'])","key":"DIzydDRkve"},{"type":"outputs","id":"XnyVVPVcCzTwKUcpMj1pO","children":[],"key":"ug3AnGFZbi"}],"key":"Fx8kpeRT8k"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:30.232038Z","iopub.status.busy":"2024-10-20T00:51:30.231716Z","iopub.status.idle":"2024-10-20T00:51:30.316188Z","shell.execute_reply":"2024-10-20T00:51:30.289373Z","shell.execute_reply.started":"2024-10-20T00:51:30.232020Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"insulin_data[['Date', 'Time', 'datetime']]","key":"PNqntFNhTs"},{"type":"outputs","id":"jKmcwIcNHBrd9wbirHRYU","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":11,"metadata":{},"data":{"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Date</th>\n      <th>Time</th>\n      <th>datetime</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>2/12/2018</td>\n      <td>13:20:53</td>\n      <td>2018-02-12 13:20:53</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>2/12/2018</td>\n      <td>13:20:48</td>\n      <td>2018-02-12 13:20:48</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>2/12/2018</td>\n      <td>13:18:48</td>\n      <td>2018-02-12 13:18:48</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>2/12/2018</td>\n      <td>13:18:48</td>\n      <td>2018-02-12 13:18:48</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>2/12/2018</td>\n      <td>13:12:33</td>\n      <td>2018-02-12 13:12:33</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>41430</th>\n      <td>7/24/2017</td>\n      <td>19:00:01</td>\n      <td>2017-07-24 19:00:01</td>\n    </tr>\n    <tr>\n      <th>41431</th>\n      <td>7/24/2017</td>\n      <td>18:59:44</td>\n      <td>2017-07-24 18:59:44</td>\n    </tr>\n    <tr>\n      <th>41432</th>\n      <td>7/24/2017</td>\n      <td>18:59:44</td>\n      <td>2017-07-24 18:59:44</td>\n    </tr>\n    <tr>\n      <th>41433</th>\n      <td>7/24/2017</td>\n      <td>18:59:44</td>\n      <td>2017-07-24 18:59:44</td>\n    </tr>\n    <tr>\n      <th>41434</th>\n      <td>7/24/2017</td>\n      <td>18:59:42</td>\n      <td>2017-07-24 18:59:42</td>\n    </tr>\n  </tbody>\n</table>\n<p>41435 rows × 3 columns</p>\n</div>","content_type":"text/html"},"text/plain":{"content":"            Date      Time            datetime\n0      2/12/2018  13:20:53 2018-02-12 13:20:53\n1      2/12/2018  13:20:48 2018-02-12 13:20:48\n2      2/12/2018  13:18:48 2018-02-12 13:18:48\n3      2/12/2018  13:18:48 2018-02-12 13:18:48\n4      2/12/2018  13:12:33 2018-02-12 13:12:33\n...          ...       ...                 ...\n41430  7/24/2017  19:00:01 2017-07-24 19:00:01\n41431  7/24/2017  18:59:44 2017-07-24 18:59:44\n41432  7/24/2017  18:59:44 2017-07-24 18:59:44\n41433  7/24/2017  18:59:44 2017-07-24 18:59:44\n41434  7/24/2017  18:59:42 2017-07-24 18:59:42\n\n[41435 rows x 3 columns]","content_type":"text/plain"}}},"children":[],"key":"XPzZ9ZIAot"}],"key":"Af1IslQm8D"}],"key":"OPd0AH3vf0"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:30.327499Z","iopub.status.busy":"2024-10-20T00:51:30.327300Z","iopub.status.idle":"2024-10-20T00:51:30.498384Z","shell.execute_reply":"2024-10-20T00:51:30.495159Z","shell.execute_reply.started":"2024-10-20T00:51:30.327485Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cgm_data[['Date', 'Time', 'datetime']]","key":"Eetp1NZFYn"},{"type":"outputs","id":"ZqG1airCW61-12S5Vo0cS","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":12,"metadata":{},"data":{"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Date</th>\n      <th>Time</th>\n      <th>datetime</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>2/12/2018</td>\n      <td>13:22:27</td>\n      <td>2018-02-12 13:22:27</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>2/12/2018</td>\n      <td>13:17:27</td>\n      <td>2018-02-12 13:17:27</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>2/12/2018</td>\n      <td>13:12:27</td>\n      <td>2018-02-12 13:12:27</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>2/12/2018</td>\n      <td>13:07:27</td>\n      <td>2018-02-12 13:07:27</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>2/12/2018</td>\n      <td>13:02:27</td>\n      <td>2018-02-12 13:02:27</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>55338</th>\n      <td>7/25/2017</td>\n      <td>12:28:54</td>\n      <td>2017-07-25 12:28:54</td>\n    </tr>\n    <tr>\n      <th>55339</th>\n      <td>7/25/2017</td>\n      <td>12:23:54</td>\n      <td>2017-07-25 12:23:54</td>\n    </tr>\n    <tr>\n      <th>55340</th>\n      <td>7/25/2017</td>\n      <td>12:18:54</td>\n      <td>2017-07-25 12:18:54</td>\n    </tr>\n    <tr>\n      <th>55341</th>\n      <td>7/25/2017</td>\n      <td>12:13:54</td>\n      <td>2017-07-25 12:13:54</td>\n    </tr>\n    <tr>\n      <th>55342</th>\n      <td>7/25/2017</td>\n      <td>12:08:54</td>\n      <td>2017-07-25 12:08:54</td>\n    </tr>\n  </tbody>\n</table>\n<p>55343 rows × 3 columns</p>\n</div>","content_type":"text/html"},"text/plain":{"content":"            Date      Time            datetime\n0      2/12/2018  13:22:27 2018-02-12 13:22:27\n1      2/12/2018  13:17:27 2018-02-12 13:17:27\n2      2/12/2018  13:12:27 2018-02-12 13:12:27\n3      2/12/2018  13:07:27 2018-02-12 13:07:27\n4      2/12/2018  13:02:27 2018-02-12 13:02:27\n...          ...       ...                 ...\n55338  7/25/2017  12:28:54 2017-07-25 12:28:54\n55339  7/25/2017  12:23:54 2017-07-25 12:23:54\n55340  7/25/2017  12:18:54 2017-07-25 12:18:54\n55341  7/25/2017  12:13:54 2017-07-25 12:13:54\n55342  7/25/2017  12:08:54 2017-07-25 12:08:54\n\n[55343 rows x 3 columns]","content_type":"text/plain"}}},"children":[],"key":"bxdk9ntBCY"}],"key":"WNyFr9r3VQ"}],"key":"GeBDC3SyMt"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Search for non-zero BMZ Carb Input Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jyNh4fYdXe"}],"identifier":"search-for-non-zero-bmz-carb-input-data","label":"Search for non-zero BMZ Carb Input Data","html_id":"search-for-non-zero-bmz-carb-input-data","implicit":true,"key":"B4jxXzs90e"}],"key":"TyYYkF5IRD"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:30.553111Z","iopub.status.busy":"2024-10-20T00:51:30.513074Z","iopub.status.idle":"2024-10-20T00:51:30.605461Z","shell.execute_reply":"2024-10-20T00:51:30.604369Z","shell.execute_reply.started":"2024-10-20T00:51:30.553076Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# This datetime series contains the start of all non NaN and  positive carb input\n# data from the column BWZ Carb Input (grams)\nmeal_times = \\\n    insulin_data[~insulin_data['BWZ Carb Input (grams)'].isna() & \\\n    (insulin_data['BWZ Carb Input (grams)'] > 0)]['datetime']\nmeal_times","key":"JbB1g8hLFE"},{"type":"outputs","id":"mEYawgzm1IAzUcgLZtG8k","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":13,"metadata":{},"data":{"text/plain":{"content":"48      2018-02-12 09:15:45\n129     2018-02-12 02:30:55\n188     2018-02-11 20:33:18\n207     2018-02-11 18:14:37\n222     2018-02-11 16:27:04\n                ...        \n41265   2017-07-26 11:24:52\n41274   2017-07-26 09:27:16\n41347   2017-07-25 18:31:40\n41393   2017-07-25 10:39:46\n41401   2017-07-25 10:21:19\nName: datetime, Length: 747, dtype: datetime64[ns]","content_type":"text/plain"}}},"children":[],"key":"v3x97b8iDV"}],"key":"PsWIMK9PoU"}],"key":"GXUYbfbxCo"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:30.609838Z","iopub.status.busy":"2024-10-20T00:51:30.607757Z","iopub.status.idle":"2024-10-20T00:51:30.995093Z","shell.execute_reply":"2024-10-20T00:51:30.919162Z","shell.execute_reply.started":"2024-10-20T00:51:30.609812Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_times.index","key":"D7O4B7zkem"},{"type":"outputs","id":"F2foI3SwBXDaJ07t6smtQ","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":14,"metadata":{},"data":{"text/plain":{"content":"Index([   48,   129,   188,   207,   222,   235,   261,   300,   432,   486,\n       ...\n       41139, 41164, 41172, 41214, 41261, 41265, 41274, 41347, 41393, 41401],\n      dtype='int64', length=747)","content_type":"text/plain"}}},"children":[],"key":"jOm5BCdHFF"}],"key":"qYln6KicVB"}],"key":"Y33SIEzNVX"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Extract Meal Carb Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ZuBoX54cuP"}],"identifier":"extract-meal-carb-data","label":"Extract Meal Carb Data","html_id":"extract-meal-carb-data","implicit":true,"key":"Ybh71yJTR6"}],"key":"yheo9FdqND"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Obtain Carb Data At Meal Times","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"M5AgI5PNgC"}],"identifier":"obtain-carb-data-at-meal-times","label":"Obtain Carb Data At Meal Times","html_id":"obtain-carb-data-at-meal-times","implicit":true,"key":"s6bgEOk1zJ"}],"key":"qRwZqHAxI9"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:30.995951Z","iopub.status.busy":"2024-10-20T00:51:30.995766Z","iopub.status.idle":"2024-10-20T00:51:31.079492Z","shell.execute_reply":"2024-10-20T00:51:31.048527Z","shell.execute_reply.started":"2024-10-20T00:51:30.995936Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_carb_data = []\n\nfor i in meal_times.index:\n    meal_carb_data.append(insulin_data['BWZ Carb Input (grams)'].iloc[i])","key":"g7zUqcLUfN"},{"type":"outputs","id":"tVFgbuq172EMTnUpN-tmt","children":[],"key":"kXKz8P86aH"}],"key":"EJRMQuRIZ2"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:31.095314Z","iopub.status.busy":"2024-10-20T00:51:31.095117Z","iopub.status.idle":"2024-10-20T00:51:31.216183Z","shell.execute_reply":"2024-10-20T00:51:31.214921Z","shell.execute_reply.started":"2024-10-20T00:51:31.095299Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"len(meal_carb_data)","key":"hGikqKJxjZ"},{"type":"outputs","id":"VliSVtuxIMkrSSFZBhfrT","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":16,"metadata":{},"data":{"text/plain":{"content":"747","content_type":"text/plain"}}},"children":[],"key":"jX73WiJ88b"}],"key":"BO887ShKwb"}],"key":"fzgCSbptfe"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:31.219386Z","iopub.status.busy":"2024-10-20T00:51:31.218281Z","iopub.status.idle":"2024-10-20T00:51:31.240478Z","shell.execute_reply":"2024-10-20T00:51:31.238376Z","shell.execute_reply.started":"2024-10-20T00:51:31.219361Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_carb_data[0:10]","key":"mQmcuogxKu"},{"type":"outputs","id":"H22lE8IXqPO2cl307WPJn","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":17,"metadata":{},"data":{"text/plain":{"content":"[np.float64(34.0),\n np.float64(15.0),\n np.float64(71.0),\n np.float64(8.0),\n np.float64(40.0),\n np.float64(9.0),\n np.float64(27.0),\n np.float64(10.0),\n np.float64(40.0),\n np.float64(90.0)]","content_type":"text/plain"}}},"children":[],"key":"Cc8qDf16Ie"}],"key":"yf3NC62swC"}],"key":"mDIsI3vzya"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:31.245268Z","iopub.status.busy":"2024-10-20T00:51:31.244889Z","iopub.status.idle":"2024-10-20T00:51:31.435255Z","shell.execute_reply":"2024-10-20T00:51:31.420669Z","shell.execute_reply.started":"2024-10-20T00:51:31.245246Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"len(meal_carb_data)","key":"R6NEzbSUcg"},{"type":"outputs","id":"0pf6oxmIM6nwofTKjp-_S","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":18,"metadata":{},"data":{"text/plain":{"content":"747","content_type":"text/plain"}}},"children":[],"key":"bMeb8467Cw"}],"key":"oX1EAYReOz"}],"key":"UAPFA17dxx"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Bin Calculations","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"cIU1ns3bzz"}],"identifier":"bin-calculations","label":"Bin Calculations","html_id":"bin-calculations","implicit":true,"key":"HZWRyMjA97"}],"key":"YlckVUEdza"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Obtain Max and Min Meal Carbs","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"dlBx5qhjbi"}],"identifier":"obtain-max-and-min-meal-carbs","label":"Obtain Max and Min Meal Carbs","html_id":"obtain-max-and-min-meal-carbs","implicit":true,"key":"wKXSgHdWSz"}],"key":"mtgXUQQ888"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:31.436046Z","iopub.status.busy":"2024-10-20T00:51:31.435861Z","iopub.status.idle":"2024-10-20T00:51:31.658890Z","shell.execute_reply":"2024-10-20T00:51:31.656793Z","shell.execute_reply.started":"2024-10-20T00:51:31.436032Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"max_meal_carbs = np.max(meal_carb_data)\nmax_meal_carbs","key":"ytoXJDevew"},{"type":"outputs","id":"2MpO8Yyg1ZkIIvDZu756o","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":19,"metadata":{},"data":{"text/plain":{"content":"np.float64(129.0)","content_type":"text/plain"}}},"children":[],"key":"AWS9qxiSaf"}],"key":"lrH8p3BMXm"}],"key":"k4PKd7MhIj"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:31.693014Z","iopub.status.busy":"2024-10-20T00:51:31.661310Z","iopub.status.idle":"2024-10-20T00:51:31.926206Z","shell.execute_reply":"2024-10-20T00:51:31.925547Z","shell.execute_reply.started":"2024-10-20T00:51:31.692976Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"min_meal_carbs = np.min(meal_carb_data)\nmin_meal_carbs","key":"j1e9nMSiny"},{"type":"outputs","id":"MAOD6-zn-lVqjFwbCBXUA","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":20,"metadata":{},"data":{"text/plain":{"content":"np.float64(3.0)","content_type":"text/plain"}}},"children":[],"key":"jdzRtYhK1H"}],"key":"UCOrvuLPSw"}],"key":"ZaEiMfLXEx"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Calculate Number of Bins","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UvPnHsoYrT"}],"identifier":"calculate-number-of-bins","label":"Calculate Number of Bins","html_id":"calculate-number-of-bins","implicit":true,"key":"PIMDmUsfZ1"}],"key":"FGxX1HpUGz"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:31.976059Z","iopub.status.busy":"2024-10-20T00:51:31.975693Z","iopub.status.idle":"2024-10-20T00:51:32.180223Z","shell.execute_reply":"2024-10-20T00:51:32.179041Z","shell.execute_reply.started":"2024-10-20T00:51:31.976040Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"bin_size = 20 # grams\n\nnumber_of_bins = int(np.round(((max_meal_carbs - min_meal_carbs) / bin_size), decimals = 0))\nnumber_of_bins","key":"mUZGyMhbzJ"},{"type":"outputs","id":"6ud2rzKOECu0eDmvZ3zhq","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":21,"metadata":{},"data":{"text/plain":{"content":"6","content_type":"text/plain"}}},"children":[],"key":"iAKldtlfiF"}],"key":"r4XJG6bYxm"}],"key":"pseR12XIme"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Create Bins","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"od6AotnUid"}],"identifier":"create-bins","label":"Create Bins","html_id":"create-bins","implicit":true,"key":"BjxVuAL9Id"}],"key":"Fycx32mBG6"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:32.185701Z","iopub.status.busy":"2024-10-20T00:51:32.185464Z","iopub.status.idle":"2024-10-20T00:51:32.379683Z","shell.execute_reply":"2024-10-20T00:51:32.379113Z","shell.execute_reply.started":"2024-10-20T00:51:32.185685Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create 6 bins in the range of the data\nbin_boundaries = np.linspace(min_meal_carbs, max_meal_carbs, 6) \nprint(\"Bin boundaries:\", bin_boundaries)","key":"LxMVYviLS5"},{"type":"outputs","id":"BOYyUwkjniBn2vrftgRd7","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Bin boundaries: [  3.   28.2  53.4  78.6 103.8 129. ]\n"},"children":[],"key":"kgaPDBmwrN"}],"key":"ZGmVLcjDQj"}],"key":"pD0S5NwL8V"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Extract Meal Glucose Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KSAh1MnU6C"}],"identifier":"extract-meal-glucose-data","label":"Extract Meal Glucose Data","html_id":"extract-meal-glucose-data","implicit":true,"key":"EVEoaGRsnj"}],"key":"VLTRyapF55"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Obtain CGM Data based on Length of After-Meal Window","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"eSgyPCiAgM"}],"identifier":"obtain-cgm-data-based-on-length-of-after-meal-window","label":"Obtain CGM Data based on Length of After-Meal Window","html_id":"obtain-cgm-data-based-on-length-of-after-meal-window","implicit":true,"key":"WuPp6zcOwB"}],"key":"Dtl2ymrtRx"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:32.384225Z","iopub.status.busy":"2024-10-20T00:51:32.383955Z","iopub.status.idle":"2024-10-20T00:51:33.764283Z","shell.execute_reply":"2024-10-20T00:51:33.763183Z","shell.execute_reply.started":"2024-10-20T00:51:32.384210Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Initialize meal data list\nmeal_glucose_data = []\nmeal_carb_for_analysis_data = []\n\n# Loop through each meal start time\nfor index, meal_time in meal_times.items():\n    # A meal windows is 2 hours long\n    meal_window = insulin_data[(insulin_data['datetime'] > meal_time) & \n                               (insulin_data['datetime'] <= (meal_time + pd.Timedelta(hours=2)))]\n    #print(meal_window)\n\n    # If that meal window is empty, get corresponding CGM_\n    # data that starts at tm-30 and ends at tm+2hrs\n    if meal_window.empty:\n        # Step 4 condition (a): No meal between tm and tm+2hrs, use this stretch as meal data\n        meal_cgm_data = cgm_data[(cgm_data['datetime'] >= (meal_time - pd.Timedelta(minutes=30))) & \n                                 (cgm_data['datetime'] <= (meal_time + pd.Timedelta(hours=2)))]\n    else:\n        # Step 4 check for condition (b) or (c)\n        next_meal_time = meal_window.iloc[0]['datetime']\n        if next_meal_time < (meal_time + pd.Timedelta(hours=2)):\n            # condition (b): There is a meal at tp between tm and tm+2hrs, use tp data\n            meal_time = next_meal_time\n            meal_cgm_data = cgm_data[(cgm_data['datetime'] >= (meal_time - pd.Timedelta(minutes=30))) & \n                                     (cgm_data['datetime'] <= (meal_time + pd.Timedelta(hours=2)))]\n        # Condition (c): There is a meal exactly at tm+2hrs, use tm+1hr 30min to tm+4hrs\n        elif next_meal_time == (meal_time + pd.Timedelta(hours=2)):\n            meal_cgm_data = cgm_data[(cgm_data['datetime'] >= (meal_time + pd.Timedelta(hours=1, minutes=30))) & \n                                     (cgm_data['datetime'] <= (meal_time + pd.Timedelta(hours=4)))]\n\n    # Check if the extracted data has the correct number of points (30 for meal data)\n    if len(meal_cgm_data) == 30:\n        #print(f\"Meal Time Data {meal_time} has {len(meal_cgm_data)} number of points.\")\n        meal_glucose_data.append(meal_cgm_data['Sensor Glucose (mg/dL)'].values)\n        meal_carb_for_analysis_data.append(insulin_data['BWZ Carb Input (grams)'].iloc[index])","key":"CvxNYPk7Pu"},{"type":"outputs","id":"z_iJf6P5mim8zR6uJyBMG","children":[],"key":"sWx563QILi"}],"key":"c599NwOB5L"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Get Length of Meal Data CGM Values","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IcVPUJ6fH3"}],"identifier":"get-length-of-meal-data-cgm-values","label":"Get Length of Meal Data CGM Values","html_id":"get-length-of-meal-data-cgm-values","implicit":true,"key":"A9pALIsoKV"}],"key":"E9ekUkjVMK"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:33.765254Z","iopub.status.busy":"2024-10-20T00:51:33.764999Z","iopub.status.idle":"2024-10-20T00:51:33.771245Z","shell.execute_reply":"2024-10-20T00:51:33.770547Z","shell.execute_reply.started":"2024-10-20T00:51:33.765236Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"len(meal_glucose_data)","key":"QHNEfmUap2"},{"type":"outputs","id":"8TNTUIq9jvlJ8dX253RM-","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":24,"metadata":{},"data":{"text/plain":{"content":"715","content_type":"text/plain"}}},"children":[],"key":"sSBQdcIyA4"}],"key":"jbM0GyxBop"}],"key":"mGKGICaN5D"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:33.772008Z","iopub.status.busy":"2024-10-20T00:51:33.771798Z","iopub.status.idle":"2024-10-20T00:51:33.888321Z","shell.execute_reply":"2024-10-20T00:51:33.886721Z","shell.execute_reply.started":"2024-10-20T00:51:33.771993Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"len(meal_carb_for_analysis_data)","key":"OkjS942bX5"},{"type":"outputs","id":"iwP3Hn6-uwGW-v6UfTUYG","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":25,"metadata":{},"data":{"text/plain":{"content":"715","content_type":"text/plain"}}},"children":[],"key":"Y01ANbht0g"}],"key":"AteCWSxTuo"}],"key":"fx8XVxzGZA"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Assign Each Meal to a Bin","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vObYrVPqQX"}],"identifier":"assign-each-meal-to-a-bin","label":"Assign Each Meal to a Bin","html_id":"assign-each-meal-to-a-bin","implicit":true,"key":"qdzPsbGkC3"}],"key":"kTOf2fQ4gM"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:33.889456Z","iopub.status.busy":"2024-10-20T00:51:33.889178Z","iopub.status.idle":"2024-10-20T00:51:33.959183Z","shell.execute_reply":"2024-10-20T00:51:33.911882Z","shell.execute_reply.started":"2024-10-20T00:51:33.889434Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_bin_indices = np.digitize(meal_carb_for_analysis_data, bin_boundaries, right=False)\nmeal_bin_indices = meal_bin_indices - 1\nprint(\"Bin indices:\", meal_bin_indices)","key":"RObebl5ZdP"},{"type":"outputs","id":"GuIMo70or3E01kROF-9JD","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Bin indices: [1 0 2 0 1 0 0 1 3 2 0 2 0 1 1 1 0 0 0 2 1 1 0 2 1 1 1 0 1 0 0 0 1 0 2 3 0\n 2 0 0 0 0 3 0 2 0 3 0 0 1 0 2 0 0 0 0 0 0 1 0 1 0 0 2 0 1 0 0 0 0 0 1 0 1\n 1 1 3 1 0 1 1 1 0 1 2 1 1 0 0 1 0 0 1 1 2 1 1 1 0 3 0 0 1 1 0 0 2 1 1 0 0\n 0 1 1 0 1 0 1 0 2 0 1 1 0 1 1 0 0 0 1 1 0 1 0 3 0 1 0 1 0 1 0 1 0 3 0 2 1\n 1 0 0 1 0 0 0 0 0 0 1 1 0 0 0 0 3 0 0 3 0 1 0 0 1 2 0 0 2 0 0 1 0 0 1 0 0\n 1 2 0 1 0 0 0 0 0 2 0 2 0 0 1 0 1 1 0 0 3 0 0 0 0 0 0 3 3 1 2 0 0 2 0 0 1\n 2 0 2 0 0 1 0 2 0 0 0 0 0 2 0 0 1 0 1 0 2 0 3 0 2 1 1 0 0 2 0 2 2 0 0 1 0\n 1 1 0 1 0 1 0 0 1 1 2 1 0 1 2 2 0 1 3 1 0 3 0 1 2 0 1 0 1 2 0 0 0 0 0 0 0\n 0 3 0 0 2 0 1 2 0 2 0 0 2 2 4 0 2 1 1 0 2 1 2 1 0 0 2 2 1 0 0 0 1 2 0 1 0\n 2 2 0 0 1 2 0 0 0 0 2 0 0 0 0 1 1 3 0 3 2 0 0 1 1 0 2 1 2 0 3 0 0 1 2 0 0\n 0 1 0 0 0 1 0 0 1 2 1 1 2 0 1 1 0 2 1 0 1 3 1 0 1 2 0 0 1 0 1 0 0 1 0 3 0\n 0 0 0 2 0 1 2 3 1 3 2 1 2 0 3 0 0 0 0 2 0 0 3 3 0 0 1 1 0 2 0 2 2 0 1 2 2\n 2 0 2 2 2 0 2 2 2 1 0 0 2 0 2 2 2 2 2 2 0 0 1 1 1 0 3 0 2 1 0 2 1 2 2 1 1\n 0 1 0 0 1 1 1 0 1 1 0 1 0 2 1 0 0 0 1 2 1 1 1 2 0 1 1 2 3 1 1 2 3 1 1 1 0\n 1 0 1 2 2 1 2 2 0 1 0 1 0 3 0 1 1 1 3 1 0 1 2 0 3 0 1 0 0 1 3 1 3 2 1 2 0\n 0 0 3 0 2 2 0 1 0 0 1 2 3 2 0 1 3 1 0 1 0 3 4 4 2 1 3 0 0 3 1 1 3 3 1 1 0\n 2 0 1 1 2 3 2 1 1 0 3 1 0 1 1 1 0 0 3 1 1 0 5 0 3 1 0 0 1 0 0 0 0 2 1 0 1\n 1 0 1 1 0 1 0 0 1 0 2 2 0 2 1 2 1 1 2 0 2 0 1 1 0 2 0 0 0 2 0 2 2 3 2 0 1\n 1 1 1 1 2 0 0 0 1 1 2 0 3 1 0 1 1 1 1 1 3 3 2 0 1 0 1 3 1 0 0 4 1 0 3 0 0\n 4 2 2 2 2 1 0 2 2 0 2 4]\n"},"children":[],"key":"OwL4y6CoRa"}],"key":"e764dQUDkL"}],"key":"E5KoTDHYTm"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:33.985769Z","iopub.status.busy":"2024-10-20T00:51:33.972528Z","iopub.status.idle":"2024-10-20T00:51:34.103756Z","shell.execute_reply":"2024-10-20T00:51:34.077349Z","shell.execute_reply.started":"2024-10-20T00:51:33.985731Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"len(meal_bin_indices)","key":"gQEoMb6cQZ"},{"type":"outputs","id":"kCj_qZe_O8JGF2Tw3BWVq","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":27,"metadata":{},"data":{"text/plain":{"content":"715","content_type":"text/plain"}}},"children":[],"key":"dmz4aa73Fm"}],"key":"NKq8uiX8lY"}],"key":"bqdkffnDe7"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:34.114908Z","iopub.status.busy":"2024-10-20T00:51:34.114671Z","iopub.status.idle":"2024-10-20T00:51:34.318248Z","shell.execute_reply":"2024-10-20T00:51:34.305244Z","shell.execute_reply.started":"2024-10-20T00:51:34.114891Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"min(meal_bin_indices)","key":"SrxAWMtIwH"},{"type":"outputs","id":"f6yMAB8MhhMWTzeifBa15","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":28,"metadata":{},"data":{"text/plain":{"content":"np.int64(0)","content_type":"text/plain"}}},"children":[],"key":"u6fgmyec56"}],"key":"v4KyY3eTtL"}],"key":"p4s2mSBS84"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:34.337180Z","iopub.status.busy":"2024-10-20T00:51:34.330620Z","iopub.status.idle":"2024-10-20T00:51:34.872634Z","shell.execute_reply":"2024-10-20T00:51:34.791517Z","shell.execute_reply.started":"2024-10-20T00:51:34.337149Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"max(meal_bin_indices)","key":"r3HZ718HQB"},{"type":"outputs","id":"xst4XbHyPdzC7kGhPbSfb","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":29,"metadata":{},"data":{"text/plain":{"content":"np.int64(5)","content_type":"text/plain"}}},"children":[],"key":"LcXfXsXt8I"}],"key":"ykfQ6pguYx"}],"key":"mkQV8eM53n"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Create Meal Data Matrix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"onLlk99nPR"}],"identifier":"create-meal-data-matrix","label":"Create Meal Data Matrix","html_id":"create-meal-data-matrix","implicit":true,"key":"CHsCuf7iWt"}],"key":"x5yok8tG33"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:34.881101Z","iopub.status.busy":"2024-10-20T00:51:34.880841Z","iopub.status.idle":"2024-10-20T00:51:35.030234Z","shell.execute_reply":"2024-10-20T00:51:34.985835Z","shell.execute_reply.started":"2024-10-20T00:51:34.881086Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_data_matrix = np.vstack(meal_glucose_data)\nmeal_data_matrix","key":"oIec4gSDFb"},{"type":"outputs","id":"qBOJGzAACSS8dOFwQPmdx","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":30,"metadata":{},"data":{"text/plain":{"content":"array([[ nan,  nan, 124., ..., 178., 184., 185.],\n       [121., 120., 115., ...,  86.,  84.,  80.],\n       [287., 288., 289., ..., 201., 189., 162.],\n       ...,\n       [274., 278., 283., ..., 268., 281., 292.],\n       [223., 222., 222., ..., 324., 326., 328.],\n       [ 82.,  85.,  92., ..., 164., 163., 155.]])","content_type":"text/plain"}}},"children":[],"key":"YLninEGe3r"}],"key":"GqSpoQokrT"}],"key":"m8MV2l0DIk"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:35.038745Z","iopub.status.busy":"2024-10-20T00:51:35.036331Z","iopub.status.idle":"2024-10-20T00:51:35.293115Z","shell.execute_reply":"2024-10-20T00:51:35.291824Z","shell.execute_reply.started":"2024-10-20T00:51:35.038720Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_data_matrix.shape","key":"HkvnaA9Xyk"},{"type":"outputs","id":"C-Yc0JwkapYz5EaPa55lI","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":31,"metadata":{},"data":{"text/plain":{"content":"(715, 30)","content_type":"text/plain"}}},"children":[],"key":"T5DiYVxUP4"}],"key":"Z9yBBf73k4"}],"key":"th0co3aLRN"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Handle Missing Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uEU2IEzdI7"}],"identifier":"handle-missing-data","label":"Handle Missing Data","html_id":"handle-missing-data","implicit":true,"key":"mIKSxzXxq1"}],"key":"KteeePAwfd"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We will use a strategy of deleting rows of data that have more than 10% of bad data.  If less than 10%, we will use KNN with a nearest neighbor hyperparameter (K=7).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aLFu9PzXPC"}],"key":"TnsG0d4Eem"}],"key":"LGksGYosSW"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Define Threshold for Dumping Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xlDWxVzIfK"}],"identifier":"define-threshold-for-dumping-data","label":"Define Threshold for Dumping Data","html_id":"define-threshold-for-dumping-data","implicit":true,"key":"pfL8wYPsqV"}],"key":"crQgZbpNVy"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:35.294379Z","iopub.status.busy":"2024-10-20T00:51:35.293835Z","iopub.status.idle":"2024-10-20T00:51:35.370439Z","shell.execute_reply":"2024-10-20T00:51:35.369893Z","shell.execute_reply.started":"2024-10-20T00:51:35.294357Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# 10%\ndump_thresold = 0.1","key":"M5yXSMozYL"},{"type":"outputs","id":"73fwqrZkbc2fe2MTxRVAo","children":[],"key":"RgvuZkjlK0"}],"key":"FweoLAVl7E"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Create KNN Imputer","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SXiGqmdMsW"}],"identifier":"create-knn-imputer","label":"Create KNN Imputer","html_id":"create-knn-imputer","implicit":true,"key":"NoafBuSKyA"}],"key":"txwpLyEaGk"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:35.376129Z","iopub.status.busy":"2024-10-20T00:51:35.375859Z","iopub.status.idle":"2024-10-20T00:51:35.754844Z","shell.execute_reply":"2024-10-20T00:51:35.754206Z","shell.execute_reply.started":"2024-10-20T00:51:35.376113Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"knn_imputer = KNNImputer(n_neighbors=7)","key":"uPKBdC2evA"},{"type":"outputs","id":"Ih07UCZXjcE6nL1wnDvwK","children":[],"key":"gh5iiSjo9k"}],"key":"vfmI3JVAsB"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Parse Meal Data and Handle Missing Values","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"inUyjXfxbw"}],"identifier":"parse-meal-data-and-handle-missing-values","label":"Parse Meal Data and Handle Missing Values","html_id":"parse-meal-data-and-handle-missing-values","implicit":true,"key":"QscM9pDZgR"}],"key":"yLI7rIzUui"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:35.759559Z","iopub.status.busy":"2024-10-20T00:51:35.759156Z","iopub.status.idle":"2024-10-20T00:51:36.038881Z","shell.execute_reply":"2024-10-20T00:51:36.036354Z","shell.execute_reply.started":"2024-10-20T00:51:35.759539Z"},"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_meal_glucose_data = []\ncleaned_meal_bin_indices = []\ncleaned_meal_carb_for_analysis_data = []\n\nfor index, row in enumerate(meal_data_matrix):\n    \n    proportion_missing_data = np.isnan(row).mean()\n\n    if proportion_missing_data > dump_thresold:\n\n        # Ignore this row\n        #print(f\"Ignoring row with {proportion_missing_data*100:.2f}% missing data\")\n        continue\n\n    else:\n        # The data is good, use it\n        cleaned_meal_glucose_data.append(row)\n        cleaned_meal_carb_for_analysis_data.append(meal_carb_for_analysis_data[index])\n        cleaned_meal_bin_indices.append(meal_bin_indices[index])","key":"DxQLLytXtN"},{"type":"outputs","id":"YcpMwml4JTgqSLrMM-LwJ","children":[],"key":"wg9vZLASeB"}],"key":"WO2DOVDKgn"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:36.063813Z","iopub.status.busy":"2024-10-20T00:51:36.058867Z","iopub.status.idle":"2024-10-20T00:51:36.377295Z","shell.execute_reply":"2024-10-20T00:51:36.325618Z","shell.execute_reply.started":"2024-10-20T00:51:36.063786Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"len(cleaned_meal_glucose_data)","key":"gd5FmASu2m"},{"type":"outputs","id":"IQroFu23uSRZFLIiPNc2y","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":35,"metadata":{},"data":{"text/plain":{"content":"619","content_type":"text/plain"}}},"children":[],"key":"EpnPuFfjM3"}],"key":"oI96zBNjeI"}],"key":"FhHR5NiM5s"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:36.422432Z","iopub.status.busy":"2024-10-20T00:51:36.416077Z","iopub.status.idle":"2024-10-20T00:51:36.556960Z","shell.execute_reply":"2024-10-20T00:51:36.552555Z","shell.execute_reply.started":"2024-10-20T00:51:36.422390Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"len(cleaned_meal_bin_indices)","key":"CXjAgYiZtu"},{"type":"outputs","id":"dcQLT9uVDLpZ-AE2p8KAP","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":36,"metadata":{},"data":{"text/plain":{"content":"619","content_type":"text/plain"}}},"children":[],"key":"UNxgr30ION"}],"key":"Fw6jzSGlpc"}],"key":"tyPXMM2qAJ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Convert Cleaned Meal Glucose Data List into a Matrix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UzVe5gxbQz"}],"identifier":"convert-cleaned-meal-glucose-data-list-into-a-matrix","label":"Convert Cleaned Meal Glucose Data List into a Matrix","html_id":"convert-cleaned-meal-glucose-data-list-into-a-matrix","implicit":true,"key":"Fl216xA89Z"}],"key":"fUHzNYK62a"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:36.558479Z","iopub.status.busy":"2024-10-20T00:51:36.558255Z","iopub.status.idle":"2024-10-20T00:51:36.742601Z","shell.execute_reply":"2024-10-20T00:51:36.675852Z","shell.execute_reply.started":"2024-10-20T00:51:36.558461Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_meal_glucose_data_matrix = \\\n    np.array(cleaned_meal_glucose_data)","key":"MunnzNecao"},{"type":"outputs","id":"MrDaPRED4P_PEmJ2vD8Ik","children":[],"key":"qKSkjWY8Zb"}],"key":"kgZ473NbQf"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:36.804769Z","iopub.status.busy":"2024-10-20T00:51:36.783995Z","iopub.status.idle":"2024-10-20T00:51:36.968839Z","shell.execute_reply":"2024-10-20T00:51:36.943293Z","shell.execute_reply.started":"2024-10-20T00:51:36.804721Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_meal_glucose_data_matrix.shape","key":"lYOSqWRBUh"},{"type":"outputs","id":"NUnrDazRycb-7LIxUzetb","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":38,"metadata":{},"data":{"text/plain":{"content":"(619, 30)","content_type":"text/plain"}}},"children":[],"key":"sIARjCZOQO"}],"key":"EiWMZLFuIl"}],"key":"u8U0oPbZmr"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Use KNN to Impute NaNs in Cleaned Meal Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fWNciz4t3V"}],"identifier":"use-knn-to-impute-nans-in-cleaned-meal-data","label":"Use KNN to Impute NaNs in Cleaned Meal Data","html_id":"use-knn-to-impute-nans-in-cleaned-meal-data","implicit":true,"key":"Oc6EwnKuN4"}],"key":"atf0t3Kqjt"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:36.969503Z","iopub.status.busy":"2024-10-20T00:51:36.969296Z","iopub.status.idle":"2024-10-20T00:51:37.402351Z","shell.execute_reply":"2024-10-20T00:51:37.400967Z","shell.execute_reply.started":"2024-10-20T00:51:36.969487Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_meal_glucose_data_matrix = \\\n    knn_imputer.fit_transform(cleaned_meal_glucose_data_matrix)","key":"dF7tPj2MVr"},{"type":"outputs","id":"4BbKHQHzGy3msRmsxfDKo","children":[],"key":"NFan7LLBYf"}],"key":"pedQcqMpBo"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:37.403708Z","iopub.status.busy":"2024-10-20T00:51:37.403385Z","iopub.status.idle":"2024-10-20T00:51:37.499916Z","shell.execute_reply":"2024-10-20T00:51:37.433185Z","shell.execute_reply.started":"2024-10-20T00:51:37.403686Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#cleaned_imputed_meal_glucose_data_matrix[0]","key":"mjiqnm8O4A"},{"type":"outputs","id":"q0X5pLyWcZG0sEF6m_XM-","children":[],"key":"e1uecueovz"}],"key":"UfRDzqEWUk"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Feature Extraction","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wIFMSyl4dZ"}],"identifier":"feature-extraction","label":"Feature Extraction","html_id":"feature-extraction","implicit":true,"key":"UQqQ5P0byd"}],"key":"M4A1ZKrgkF"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Define Feature Extractor Helper Functions","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"IhWeA6orhI"}],"identifier":"define-feature-extractor-helper-functions","label":"Define Feature Extractor Helper Functions","html_id":"define-feature-extractor-helper-functions","implicit":true,"key":"Nb34GVtFXw"}],"key":"xmpt7Ip91j"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:37.505392Z","iopub.status.busy":"2024-10-20T00:51:37.505184Z","iopub.status.idle":"2024-10-20T00:51:37.673907Z","shell.execute_reply":"2024-10-20T00:51:37.661912Z","shell.execute_reply.started":"2024-10-20T00:51:37.505376Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"def compute_first_derivative(glucose_data, delta_t=5):\n    return np.diff(glucose_data) / delta_t","key":"hhpOX88uD4"},{"type":"outputs","id":"xdUdX52hqTnbxInhSMQG3","children":[],"key":"UrCdmpbZ4r"}],"key":"Ra8FasUx95"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:37.684145Z","iopub.status.busy":"2024-10-20T00:51:37.683921Z","iopub.status.idle":"2024-10-20T00:51:38.089887Z","shell.execute_reply":"2024-10-20T00:51:38.005918Z","shell.execute_reply.started":"2024-10-20T00:51:37.684129Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"def compute_second_derivative(glucose_values, delta_t=5):\n    second_derivative = np.zeros(len(glucose_values) - 2)\n    for i in range(1, len(glucose_values) - 1):\n        second_derivative[i - 1] = \\\n            (glucose_values[i + 1] - 2 * glucose_values[i] + glucose_values[i - 1]) / (delta_t ** 2)\n    return second_derivative","key":"mZ4kQH9Dol"},{"type":"outputs","id":"qjMFHPRiieM7RypEJdRkq","children":[],"key":"tdDWFTO8O4"}],"key":"gNqGh6Wr7n"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:38.137553Z","iopub.status.busy":"2024-10-20T00:51:38.137336Z","iopub.status.idle":"2024-10-20T00:51:38.224661Z","shell.execute_reply":"2024-10-20T00:51:38.205959Z","shell.execute_reply.started":"2024-10-20T00:51:38.137537Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"def compute_AUC(glucose_values, delta_t=5):\n    return simpson(glucose_values, dx=delta_t)","key":"cVU3JwvdN2"},{"type":"outputs","id":"hlRY2BHfGLSkJyo8L7SBg","children":[],"key":"J1J9LsKyUJ"}],"key":"EKmo1w0Fy9"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Define Feature Extractor Function","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"j9lbu5HMBI"}],"identifier":"define-feature-extractor-function","label":"Define Feature Extractor Function","html_id":"define-feature-extractor-function","implicit":true,"key":"RjayNoUNc8"}],"key":"ISdbH7szT4"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:38.255135Z","iopub.status.busy":"2024-10-20T00:51:38.241234Z","iopub.status.idle":"2024-10-20T00:51:38.577250Z","shell.execute_reply":"2024-10-20T00:51:38.550438Z","shell.execute_reply.started":"2024-10-20T00:51:38.255104Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"def feature_extractor(data_matrix):\n\n    features = []\n\n    for row in data_matrix:\n        mean_glucose = np.mean(row)\n        std_glucose  = np.std(row)\n        max_glucose  = np.max(row)\n        min_glucose  = np.min(row)\n        \n        first_derivative = compute_first_derivative(row)\n        mean_first_derivate = np.mean(first_derivative)\n\n        if len(row) > 2:\n            second_derivative = compute_second_derivative(row)\n            mean_second_derivative = np.mean(second_derivative)\n        else:\n            mean_second_derivative = 0\n\n        AUC = compute_AUC(row)\n\n        time_to_peak = np.argmax(row)\n\n        features_vector = [\n            mean_glucose,\n            std_glucose,\n            max_glucose,\n            min_glucose,\n            mean_first_derivate,\n            mean_second_derivative,\n            AUC,\n            time_to_peak\n        ]\n\n        features.append(features_vector)\n    \n    return np.array(features)","key":"mccSTZ9d0M"},{"type":"outputs","id":"19cqv3AIeXOmyFNG1uypY","children":[],"key":"X8msGYI8yc"}],"key":"H0kdoMB70w"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Get Feature Matrix for Cleaned Imputed Meal Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"X3UE34hliC"}],"identifier":"get-feature-matrix-for-cleaned-imputed-meal-data","label":"Get Feature Matrix for Cleaned Imputed Meal Data","html_id":"get-feature-matrix-for-cleaned-imputed-meal-data","implicit":true,"key":"EEJuwJ61Tq"}],"key":"y1GW7ArTAZ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:38.577879Z","iopub.status.busy":"2024-10-20T00:51:38.577707Z","iopub.status.idle":"2024-10-20T00:51:38.903269Z","shell.execute_reply":"2024-10-20T00:51:38.902739Z","shell.execute_reply.started":"2024-10-20T00:51:38.577864Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_glucose_features_matrix = \\\n    feature_extractor(cleaned_imputed_meal_glucose_data_matrix)\n#len(meal_gluxose_features_matrix[0])","key":"c5U1QvwJFW"},{"type":"outputs","id":"Wu1FTLMrblaL7tPoF9iZl","children":[],"key":"yr4uiS6shZ"}],"key":"B8TLvpwF5m"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:38.906101Z","iopub.status.busy":"2024-10-20T00:51:38.903629Z","iopub.status.idle":"2024-10-20T00:51:39.021257Z","shell.execute_reply":"2024-10-20T00:51:39.009545Z","shell.execute_reply.started":"2024-10-20T00:51:38.906076Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"len(cleaned_imputed_meal_glucose_data_matrix)","key":"lkYYEWp8wo"},{"type":"outputs","id":"v4uQ6Kovki9AercBUS78j","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":46,"metadata":{},"data":{"text/plain":{"content":"619","content_type":"text/plain"}}},"children":[],"key":"cji42WgGQO"}],"key":"gpYRpA97S6"}],"key":"TfUBWpVZYB"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:39.025519Z","iopub.status.busy":"2024-10-20T00:51:39.025174Z","iopub.status.idle":"2024-10-20T00:51:39.115579Z","shell.execute_reply":"2024-10-20T00:51:39.105010Z","shell.execute_reply.started":"2024-10-20T00:51:39.025502Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"len(meal_glucose_features_matrix)","key":"yezsmbZtPh"},{"type":"outputs","id":"lVyXHYZ6rc-q0nNCS99ak","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":47,"metadata":{},"data":{"text/plain":{"content":"619","content_type":"text/plain"}}},"children":[],"key":"CnDEPetHNw"}],"key":"SmtPl6o43h"}],"key":"n6AXHYW3Vg"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:39.138973Z","iopub.status.busy":"2024-10-20T00:51:39.123424Z","iopub.status.idle":"2024-10-20T00:51:39.249223Z","shell.execute_reply":"2024-10-20T00:51:39.248682Z","shell.execute_reply.started":"2024-10-20T00:51:39.138938Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"len(cleaned_meal_carb_for_analysis_data)","key":"PNBScZGbA2"},{"type":"outputs","id":"oE4f3WLsUiCPev4iX11h_","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":48,"metadata":{},"data":{"text/plain":{"content":"619","content_type":"text/plain"}}},"children":[],"key":"uHXMzVZy58"}],"key":"uHSzCBqH9U"}],"key":"EwSOwUWZud"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:39.251011Z","iopub.status.busy":"2024-10-20T00:51:39.250799Z","iopub.status.idle":"2024-10-20T00:51:39.321692Z","shell.execute_reply":"2024-10-20T00:51:39.321132Z","shell.execute_reply.started":"2024-10-20T00:51:39.250993Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"len(cleaned_meal_bin_indices)","key":"VgoK84IeEe"},{"type":"outputs","id":"lxXaxH8hraxZNpNgxA6Ki","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":49,"metadata":{},"data":{"text/plain":{"content":"619","content_type":"text/plain"}}},"children":[],"key":"qjJ4Tby4Pl"}],"key":"GmJ3icFUzY"}],"key":"ma53f2rQRf"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:39.322394Z","iopub.status.busy":"2024-10-20T00:51:39.322238Z","iopub.status.idle":"2024-10-20T00:51:39.456382Z","shell.execute_reply":"2024-10-20T00:51:39.454985Z","shell.execute_reply.started":"2024-10-20T00:51:39.322381Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_meal_carb_for_analysis_data[0:5]","key":"zbC1LTTuJK"},{"type":"outputs","id":"0Ai937PoRxygp5pJxoarv","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":50,"metadata":{},"data":{"text/plain":{"content":"[np.float64(15.0),\n np.float64(71.0),\n np.float64(8.0),\n np.float64(10.0),\n np.float64(40.0)]","content_type":"text/plain"}}},"children":[],"key":"CuIttNSk8T"}],"key":"tctCDYWuY9"}],"key":"tqjpT6DNmw"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:39.460523Z","iopub.status.busy":"2024-10-20T00:51:39.458246Z","iopub.status.idle":"2024-10-20T00:51:39.717687Z","shell.execute_reply":"2024-10-20T00:51:39.662355Z","shell.execute_reply.started":"2024-10-20T00:51:39.460502Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_meal_bin_indices[0:5]","key":"m89XRS8BYt"},{"type":"outputs","id":"-aMx8QfoBGKxIHCN0xRUg","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":51,"metadata":{},"data":{"text/plain":{"content":"[np.int64(0), np.int64(2), np.int64(0), np.int64(0), np.int64(1)]","content_type":"text/plain"}}},"children":[],"key":"GNmZgAl5M7"}],"key":"dr6iqbu1HN"}],"key":"LrcQQvNMHU"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Normalize the Feature Matrix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JJ24pUXFYs"}],"identifier":"normalize-the-feature-matrix","label":"Normalize the Feature Matrix","html_id":"normalize-the-feature-matrix","implicit":true,"key":"SCjUGZNsWp"}],"key":"ZBePYexfP3"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:39.723134Z","iopub.status.busy":"2024-10-20T00:51:39.722889Z","iopub.status.idle":"2024-10-20T00:51:39.847487Z","shell.execute_reply":"2024-10-20T00:51:39.815940Z","shell.execute_reply.started":"2024-10-20T00:51:39.723115Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"scaler = StandardScaler()\nscaled_meal_glucose_features_matrix = \\\n    scaler.fit_transform(meal_glucose_features_matrix)","key":"k89HtPrCn2"},{"type":"outputs","id":"dePQCGq_wiDxK3K6T2Se2","children":[],"key":"X1dlAc4pjf"}],"key":"SjJebkY4Hj"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:39.859363Z","iopub.status.busy":"2024-10-20T00:51:39.855544Z","iopub.status.idle":"2024-10-20T00:51:40.123616Z","shell.execute_reply":"2024-10-20T00:51:40.106714Z","shell.execute_reply.started":"2024-10-20T00:51:39.859336Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_glucose_features_matrix[0:5]","key":"KHqqa40QcE"},{"type":"outputs","id":"2gCPYCeiSiVRqCWotWd90","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":53,"metadata":{},"data":{"text/plain":{"content":"array([[ 8.98190476e+01,  1.91175360e+01,  1.31000000e+02,\n         4.90000000e+01, -2.82758621e-01, -4.28571429e-03,\n         1.30310714e+04,  9.00000000e+00],\n       [ 2.14033333e+02,  4.45903452e+01,  2.89000000e+02,\n         1.53000000e+02, -8.62068966e-01, -4.00000000e-02,\n         3.10037500e+04,  2.00000000e+00],\n       [ 1.46833333e+02,  2.61484013e+01,  1.89000000e+02,\n         1.00000000e+02, -2.89655172e-01,  5.28571429e-02,\n         2.11329167e+04,  0.00000000e+00],\n       [ 2.01700000e+02,  1.21714146e+01,  2.21000000e+02,\n         1.77000000e+02,  1.51724138e-01,  1.85714286e-02,\n         2.92870833e+04,  1.80000000e+01],\n       [ 8.82000000e+01,  3.36426317e+01,  1.69000000e+02,\n         5.90000000e+01,  6.13793103e-01, -4.28571429e-03,\n         1.26495833e+04,  2.80000000e+01]])","content_type":"text/plain"}}},"children":[],"key":"n4EbmWZpmy"}],"key":"FpVrhvSfCA"}],"key":"fTgUKaSvdQ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:40.154575Z","iopub.status.busy":"2024-10-20T00:51:40.150140Z","iopub.status.idle":"2024-10-20T00:51:40.355030Z","shell.execute_reply":"2024-10-20T00:51:40.326643Z","shell.execute_reply.started":"2024-10-20T00:51:40.154548Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"scaled_meal_glucose_features_matrix[0:5]","key":"ATg3pHIVLi"},{"type":"outputs","id":"hJvjpqjQivJa2HUh7ZtyC","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":54,"metadata":{},"data":{"text/plain":{"content":"array([[-1.35358146, -0.64438944, -1.34072717, -1.28537305, -0.95960069,\n        -0.264903  , -1.34238262, -0.8852873 ],\n       [ 0.90939359,  0.73923035,  1.18551723,  0.73417365, -1.97024273,\n        -2.54215225,  0.89878287, -1.54257823],\n       [-0.31487721, -0.26249029, -0.41337163, -0.29501842, -0.97163214,\n         3.37869579, -0.33209493, -1.73037564],\n       [ 0.68470103, -1.02168552,  0.09827281,  1.20022289, -0.20161916,\n         1.19253652,  0.68471716, -0.04019896],\n       [-1.38307778,  0.14457771, -0.7331494 , -1.09118587,  0.60448818,\n        -0.264903  , -1.3899536 ,  0.89878808]])","content_type":"text/plain"}}},"children":[],"key":"n5DqCWG8FY"}],"key":"vXPwODDRBT"}],"key":"A2Ucjv3H4A"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Cluster the Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"prAGbWt0Ot"}],"identifier":"cluster-the-data","label":"Cluster the Data","html_id":"cluster-the-data","implicit":true,"key":"OPepVwGzG0"}],"key":"iIKVCJwGbb"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Convert Bins List into a Column Matrix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GH79ymZhSe"}],"identifier":"convert-bins-list-into-a-column-matrix","label":"Convert Bins List into a Column Matrix","html_id":"convert-bins-list-into-a-column-matrix","implicit":true,"key":"EwbLKZNlXg"}],"key":"uYaLNn0Swg"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:40.356192Z","iopub.status.busy":"2024-10-20T00:51:40.355792Z","iopub.status.idle":"2024-10-20T00:51:40.366134Z","shell.execute_reply":"2024-10-20T00:51:40.361272Z","shell.execute_reply.started":"2024-10-20T00:51:40.356172Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_bin_indices_column_vector = \\\n    np.array(cleaned_meal_bin_indices).reshape(-1, 1)","key":"thIjyRVqLJ"},{"type":"outputs","id":"9AqyTZB2A4ChAUXc1Leyx","children":[],"key":"ixO72Jtgwg"}],"key":"yFWQeqdla8"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:40.368248Z","iopub.status.busy":"2024-10-20T00:51:40.368064Z","iopub.status.idle":"2024-10-20T00:51:40.531132Z","shell.execute_reply":"2024-10-20T00:51:40.492545Z","shell.execute_reply.started":"2024-10-20T00:51:40.368233Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_bin_indices_column_vector[0:5]","key":"TLD7CHm9cb"},{"type":"outputs","id":"4n-Vc8IBIjQX_7R7FPSUc","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":56,"metadata":{},"data":{"text/plain":{"content":"array([[0],\n       [2],\n       [0],\n       [0],\n       [1]])","content_type":"text/plain"}}},"children":[],"key":"FCDdMG6icG"}],"key":"qOSnSTrc6e"}],"key":"G8uiDiHNYc"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Add Bin Data to Feature Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"BCxemvny1T"}],"identifier":"add-bin-data-to-feature-data","label":"Add Bin Data to Feature Data","html_id":"add-bin-data-to-feature-data","implicit":true,"key":"ATTC8yRVaB"}],"key":"zWlgBlN7rT"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:40.532102Z","iopub.status.busy":"2024-10-20T00:51:40.531831Z","iopub.status.idle":"2024-10-20T00:51:40.625867Z","shell.execute_reply":"2024-10-20T00:51:40.572043Z","shell.execute_reply.started":"2024-10-20T00:51:40.532081Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#combined_feature_bin_data = \\\n#    np.hstack((meal_gluxose_features_matrix, meal_bin_indices_column_vector))\ncombined_feature_bin_data = meal_glucose_features_matrix\n#combined_feature_bin_data = scaled_meal_glucose_features_matrix","key":"EHVyuyZSLO"},{"type":"outputs","id":"MV_v3v7c1lzL69Q7SxIj_","children":[],"key":"b2i9LUvoLj"}],"key":"SHjiZ6ic4F"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:40.659762Z","iopub.status.busy":"2024-10-20T00:51:40.653535Z","iopub.status.idle":"2024-10-20T00:51:40.969245Z","shell.execute_reply":"2024-10-20T00:51:40.951333Z","shell.execute_reply.started":"2024-10-20T00:51:40.659728Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"combined_feature_bin_data[0:5]","key":"NN5XkDavoc"},{"type":"outputs","id":"X2Ky7HIU_qlRSZVQafD81","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":58,"metadata":{},"data":{"text/plain":{"content":"array([[ 8.98190476e+01,  1.91175360e+01,  1.31000000e+02,\n         4.90000000e+01, -2.82758621e-01, -4.28571429e-03,\n         1.30310714e+04,  9.00000000e+00],\n       [ 2.14033333e+02,  4.45903452e+01,  2.89000000e+02,\n         1.53000000e+02, -8.62068966e-01, -4.00000000e-02,\n         3.10037500e+04,  2.00000000e+00],\n       [ 1.46833333e+02,  2.61484013e+01,  1.89000000e+02,\n         1.00000000e+02, -2.89655172e-01,  5.28571429e-02,\n         2.11329167e+04,  0.00000000e+00],\n       [ 2.01700000e+02,  1.21714146e+01,  2.21000000e+02,\n         1.77000000e+02,  1.51724138e-01,  1.85714286e-02,\n         2.92870833e+04,  1.80000000e+01],\n       [ 8.82000000e+01,  3.36426317e+01,  1.69000000e+02,\n         5.90000000e+01,  6.13793103e-01, -4.28571429e-03,\n         1.26495833e+04,  2.80000000e+01]])","content_type":"text/plain"}}},"children":[],"key":"GVWbu7EmeV"}],"key":"CSupPhMdnL"}],"key":"IuwPWkmjS4"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"K-Means Clustering","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SCXhwsXyMD"}],"identifier":"k-means-clustering","label":"K-Means Clustering","html_id":"k-means-clustering","implicit":true,"key":"BWADSzFHc9"}],"key":"AGH2xqUDaZ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:41.033050Z","iopub.status.busy":"2024-10-20T00:51:40.969737Z","iopub.status.idle":"2024-10-20T00:51:41.322754Z","shell.execute_reply":"2024-10-20T00:51:41.294953Z","shell.execute_reply.started":"2024-10-20T00:51:41.033013Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"number_of_bins","key":"jiwURgGZep"},{"type":"outputs","id":"XAFHFmnogbOBKOx6AeRyp","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":59,"metadata":{},"data":{"text/plain":{"content":"6","content_type":"text/plain"}}},"children":[],"key":"nnSQDMUq6z"}],"key":"AsDZD9IjZK"}],"key":"qcHEIv5s33"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:41.353922Z","iopub.status.busy":"2024-10-20T00:51:41.339191Z","iopub.status.idle":"2024-10-20T00:51:41.506828Z","shell.execute_reply":"2024-10-20T00:51:41.473263Z","shell.execute_reply.started":"2024-10-20T00:51:41.353892Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_meal_bin_indices[0:5]","key":"tMKIgWMWSm"},{"type":"outputs","id":"BmpwXntELoIgx4vM_N2iv","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":60,"metadata":{},"data":{"text/plain":{"content":"[np.int64(0), np.int64(2), np.int64(0), np.int64(0), np.int64(1)]","content_type":"text/plain"}}},"children":[],"key":"xijKwKbtPE"}],"key":"gdduyhRjEA"}],"key":"xdKZnQmAzG"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:41.535817Z","iopub.status.busy":"2024-10-20T00:51:41.533339Z","iopub.status.idle":"2024-10-20T00:51:41.634031Z","shell.execute_reply":"2024-10-20T00:51:41.632451Z","shell.execute_reply.started":"2024-10-20T00:51:41.535785Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"max(cleaned_meal_bin_indices)","key":"b47mu0yjuf"},{"type":"outputs","id":"O6FW21MCQUtClhjoLa4fP","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":61,"metadata":{},"data":{"text/plain":{"content":"np.int64(5)","content_type":"text/plain"}}},"children":[],"key":"L0ko1aVgr9"}],"key":"R7ZsXPZYVo"}],"key":"sFpstV6b8L"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:41.641066Z","iopub.status.busy":"2024-10-20T00:51:41.640838Z","iopub.status.idle":"2024-10-20T00:51:41.673000Z","shell.execute_reply":"2024-10-20T00:51:41.672584Z","shell.execute_reply.started":"2024-10-20T00:51:41.641050Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"min(cleaned_meal_bin_indices)","key":"qhCI2RPXdF"},{"type":"outputs","id":"j-llXjOgHJQxFb9XT6rHf","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":62,"metadata":{},"data":{"text/plain":{"content":"np.int64(0)","content_type":"text/plain"}}},"children":[],"key":"eC6vpLw6Hp"}],"key":"NmTgIQL5PE"}],"key":"DBMyGtEKCv"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:41.709125Z","iopub.status.busy":"2024-10-20T00:51:41.704868Z","iopub.status.idle":"2024-10-20T00:51:42.180592Z","shell.execute_reply":"2024-10-20T00:51:42.158113Z","shell.execute_reply.started":"2024-10-20T00:51:41.709093Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Set the number of clusters for K-means\nk = int(number_of_bins)\ny_bins = np.array(cleaned_meal_bin_indices)\n\n# Initialize and fit KMeans\nkmeans = KMeans(n_clusters=k, random_state=123)\ny_kmeans = kmeans.fit_predict(scaled_meal_glucose_features_matrix)","key":"ge7c9qleo3"},{"type":"outputs","id":"NFVN8W0App2_LutCIHgCy","children":[],"key":"kFln52dp23"}],"key":"pgO5psVuHH"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:42.188344Z","iopub.status.busy":"2024-10-20T00:51:42.187937Z","iopub.status.idle":"2024-10-20T00:51:42.375904Z","shell.execute_reply":"2024-10-20T00:51:42.333688Z","shell.execute_reply.started":"2024-10-20T00:51:42.188316Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"y_kmeans[0:5]","key":"yyzpcwQNxK"},{"type":"outputs","id":"zIOK4aw51N3_FDNUBcfeV","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":64,"metadata":{},"data":{"text/plain":{"content":"array([5, 4, 5, 4, 2], dtype=int32)","content_type":"text/plain"}}},"children":[],"key":"P7A3x99qT9"}],"key":"PnVtQQgp9g"}],"key":"SrkgsId3Iu"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:42.376790Z","iopub.status.busy":"2024-10-20T00:51:42.376583Z","iopub.status.idle":"2024-10-20T00:51:42.452575Z","shell.execute_reply":"2024-10-20T00:51:42.451610Z","shell.execute_reply.started":"2024-10-20T00:51:42.376774Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"y_kmeans.shape","key":"pjMftqmffc"},{"type":"outputs","id":"7gtytQkU1r-uZ8NaDorO6","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":65,"metadata":{},"data":{"text/plain":{"content":"(619,)","content_type":"text/plain"}}},"children":[],"key":"zhz5o7NgC1"}],"key":"CJMRwTRIph"}],"key":"s9XZDgE58H"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:42.453580Z","iopub.status.busy":"2024-10-20T00:51:42.453353Z","iopub.status.idle":"2024-10-20T00:51:43.218393Z","shell.execute_reply":"2024-10-20T00:51:43.200797Z","shell.execute_reply.started":"2024-10-20T00:51:42.453564Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Set the number of clusters for K-means\nk = int(number_of_bins)\ny_bins = np.array(cleaned_meal_bin_indices)\n\n# Initialize and fit KMeans\nkmeans = KMeans(n_clusters=k, random_state=123)\ny_kmeans = kmeans.fit_predict(scaled_meal_glucose_features_matrix)\n\n# Get cluster labels and centroids\nkmeans_cluster_labels = kmeans.labels_\ncentroids = kmeans.cluster_centers_\n\npca = PCA(n_components=2)\nX_pca_kmeans = pca.fit_transform(scaled_meal_glucose_features_matrix)\n\n# Plotting the clusters found by k-means\nplt.figure(figsize=(10, 5))\n\n# Get the viridis color map and extract six colors from it\nviridis = get_cmap('viridis', k)\ncolors = [viridis(i) for i in range(k)]\n\n# Subplot 1: Scatter plot by k-means clusters\nplt.subplot(1, 2, 1)\nfor i in range(k):\n    cluster_points = X_pca_kmeans[y_kmeans == i]\n    plt.scatter(cluster_points[:, 0], cluster_points[:, 1], \n                color=colors[i], label=f'Cluster {i + 1}', alpha=0.6, marker='o')\n\n# Plotting the centroids after PCA transformation\ncentroids_pca = pca.transform(centroids)\nplt.scatter(centroids_pca[:, 0], centroids_pca[:, 1], \n            color='red', edgecolor='black', marker='X', s=100, label='Centroids')\n\nplt.title(\"K-Means Clusters\")\nplt.xlabel('PCA Component 1')\nplt.ylabel('PCA Component 2')\nplt.legend()\n\nplt.show()","key":"k4vcR4iBlV"},{"type":"outputs","id":"omdPogMNvvmC-GGOXB5a7","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"314ad239476762aabac2233ebe6b5061","path":"/314ad239476762aabac2233ebe6b5061.png"},"text/plain":{"content":"<Figure size 1000x500 with 1 Axes>","content_type":"text/plain"}}},"children":[],"key":"iAFE94ZNYc"}],"key":"bZ5N5zICJr"}],"key":"ZhKm242f9K"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:43.240328Z","iopub.status.busy":"2024-10-20T00:51:43.240039Z","iopub.status.idle":"2024-10-20T00:51:43.839503Z","shell.execute_reply":"2024-10-20T00:51:43.836589Z","shell.execute_reply.started":"2024-10-20T00:51:43.240307Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Set the number of clusters for K-means\nk = int(number_of_bins)\ny_bins = np.array(cleaned_meal_bin_indices)\n\n# Initialize and fit KMeans\nkmeans = KMeans(n_clusters=k, random_state=123)\ny_kmeans = kmeans.fit_predict(scaled_meal_glucose_features_matrix)\n\n# Get cluster labels and centroids\nkmeans_cluster_labels = kmeans.labels_\ncentroids = kmeans.cluster_centers_\n\npca = PCA(n_components=2)\nX_pca = pca.fit_transform(scaled_meal_glucose_features_matrix)\n\n# Plotting the clusters found by k-means\nplt.figure(figsize=(10, 5))\n\n# Subplot 1: Scatter plot by original bins\nplt.subplot(1, 2, 1)\nplt.scatter(\n    np.arange(0, y_bins.shape[0]),\n    y_bins,\n    c=y_bins,\n    cmap='rainbow',\n    marker='o')\nplt.title(\"Original Bins\")\nplt.xlabel(\"Sample Index\")\nplt.ylabel(\"Bin Label\")\n\n# Subplot 2: Scatter plot by k-means clusters\nplt.subplot(1, 2, 2)\nplt.scatter(\n    np.arange(0, y_kmeans.shape[0]),\n    y_kmeans,\n    c=y_kmeans,\n    cmap='rainbow',\n    marker='o')\nplt.title(\"K-Means Clusters\")\nplt.xlabel(\"Sample Index\")\nplt.ylabel(\"Bin Label\")\n\nplt.show()","key":"XsGDW3GeOv"},{"type":"outputs","id":"m3NM9wXKLijKNDexXN2PT","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"c304de0d0bbb557996f173a0989550f1","path":"/c304de0d0bbb557996f173a0989550f1.png"},"text/plain":{"content":"<Figure size 1000x500 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"vaarhrlh3x"}],"key":"pzZdei2kK7"}],"key":"C17Sf8Tb8A"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Compute K-Means SSE","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"amrMMwhUXF"}],"identifier":"compute-k-means-sse","label":"Compute K-Means SSE","html_id":"compute-k-means-sse","implicit":true,"key":"G73fIWsMIC"}],"key":"ZJYqeHzN88"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:43.840853Z","iopub.status.busy":"2024-10-20T00:51:43.840578Z","iopub.status.idle":"2024-10-20T00:51:44.143120Z","shell.execute_reply":"2024-10-20T00:51:43.996888Z","shell.execute_reply.started":"2024-10-20T00:51:43.840834Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Compute SSE\nSSE_kmeans = np.float64(kmeans.inertia_)\nSSE_kmeans","identifier":"cse572_code_5-code","enumerator":"1","html_id":"cse572-code-5-code","key":"p2YiHhqr2E"},{"type":"outputs","id":"tnaukqxj3L1fDTkpULkAz","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":68,"metadata":{},"data":{"text/plain":{"content":"np.float64(1840.9904638055532)","content_type":"text/plain"}}},"children":[],"identifier":"cse572_code_5-outputs-0","html_id":"cse572-code-5-outputs-0","key":"sF4AEU5Zkw"}],"identifier":"cse572_code_5-outputs","html_id":"cse572-code-5-outputs","key":"CJk4rmklrv"}],"identifier":"cse572_code_5","label":"CSE572_Code_5","html_id":"cse572-code-5","key":"gx9Mp86k4o"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"DBSCAN Clustering","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"O72BCNPqa6"}],"identifier":"dbscan-clustering","label":"DBSCAN Clustering","html_id":"dbscan-clustering","implicit":true,"key":"g06Ol2v6TI"}],"key":"dhnuBU6xMN"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:44.150061Z","iopub.status.busy":"2024-10-20T00:51:44.149762Z","iopub.status.idle":"2024-10-20T00:51:44.982453Z","shell.execute_reply":"2024-10-20T00:51:44.956281Z","shell.execute_reply.started":"2024-10-20T00:51:44.150043Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Set the number of clusters for K-means\nk = int(number_of_bins)\ny_bins = np.array(cleaned_meal_bin_indices)\n\n# Initialize and fit KMeans\nkmeans = KMeans(n_clusters=k, random_state=123)\ny_kmeans = kmeans.fit_predict(scaled_meal_glucose_features_matrix)\n\n# Get cluster labels and centroids\nkmeans_cluster_labels = kmeans.labels_\ncentroids = kmeans.cluster_centers_\n\npca = PCA(n_components=2)\nX_pca = pca.fit_transform(scaled_meal_glucose_features_matrix)\n\n# Plotting the clusters found by k-means\nplt.figure(figsize=(10, 5))\n\n# Get the viridis color map and extract six colors from it\nviridis = get_cmap('viridis', k)\ncolors = [viridis(i) for i in range(k)]\n\n# Subplot 1: Scatter plot by k-means clusters\nplt.subplot(1, 2, 1)\nfor i in range(k):\n    cluster_points = X_pca[y_kmeans == i]\n    plt.scatter(cluster_points[:, 0], cluster_points[:, 1], \n                color=colors[i], label=f'Cluster {i + 1}', alpha=0.6, marker='o')\n\n# Plotting the centroids after PCA transformation\ncentroids_pca = pca.transform(centroids)\nplt.scatter(centroids_pca[:, 0], centroids_pca[:, 1], \n            color='red', edgecolor='black', marker='X', s=100, label='Centroids')\n\nplt.title(\"K-Means Clusters\")\nplt.xlabel('PCA Component 1')\nplt.ylabel('PCA Component 2')\nplt.legend()\n\n# Get axis limits to keep the same scale for the second plot\nx_lim = plt.xlim()\ny_lim = plt.ylim()\n\n# Subplot 2: Scatter plot by DBSCAN clusters\nplt.subplot(1, 2, 2)\n\neps = 280  # Maximum distance between two points to be considered neighbors\nmin_samples = 15  # Minimum number of points in a neighborhood to form a dense region\n\ndbscan = DBSCAN(eps=eps, min_samples=min_samples)\ny_dbscan = dbscan.fit_predict(meal_glucose_features_matrix)\n\n# Create a color palette for the clusters found by DBSCAN, including noise (-1) as black\nunique_labels = set(y_dbscan)\ndbscan_colors = [plt.cm.viridis(float(i) / (max(unique_labels) if max(unique_labels) > 0 else 1))\n                 for i in unique_labels]\n\n# Color each point by DBSCAN cluster, use black for noise points\nfor label in unique_labels:\n    if label == -1:\n        # Noise points are labeled as -1\n        plt.scatter(X_pca[y_dbscan == label, 0], X_pca[y_dbscan == label, 1], \n                    color='black', s=10, label='Noise', alpha=0.6, marker='x')\n    else:\n        plt.scatter(X_pca[y_dbscan == label, 0], X_pca[y_dbscan == label, 1], \n                    color=dbscan_colors[label], label=f'Cluster {label + 1}', alpha=0.6, marker='o')\n\nplt.title(\"DBSCAN Clusters\")\nplt.xlabel('PCA Component 1')\nplt.ylabel('PCA Component 2')\nplt.xlim(x_lim)  # Apply same x-axis limits as K-means plot\nplt.ylim(y_lim)  # Apply same y-axis limits as K-means plot\nplt.legend()\n\nplt.show()","key":"AFzTzJ7n22"},{"type":"outputs","id":"GwHKu8t97PhqdgQ6bkb9H","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"ed96168d639b68c6f4d24814eeecdb9d","path":"/ed96168d639b68c6f4d24814eeecdb9d.png"},"text/plain":{"content":"<Figure size 1000x500 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"OyJT18tUMx"}],"key":"mveduwpQLh"}],"key":"N4nfVC0EBj"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:45.010123Z","iopub.status.busy":"2024-10-20T00:51:45.001363Z","iopub.status.idle":"2024-10-20T00:51:45.437840Z","shell.execute_reply":"2024-10-20T00:51:45.436989Z","shell.execute_reply.started":"2024-10-20T00:51:45.010095Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"y_bins = np.array(cleaned_meal_bin_indices)\n\n# DBSCAN Parameters\neps = 280  # Maximum distance between two points to be considered neighbors\nmin_samples = 15  # Minimum number of points in a neighborhood to form a dense region\n\n# Fit DBSCAN\ndbscan = DBSCAN(eps=eps, min_samples=min_samples)\ny_dbscan = dbscan.fit_predict(meal_glucose_features_matrix)\n\n# Adjust labels to start from 0 (handle noise points separately)\n# Noise points are marked as -1, so we'll make their label `max_label + 1`\nadjusted_y_dbscan = y_dbscan.copy()\nmax_label = y_dbscan.max()\n\n# Replace all noise labels (-1) with a new label which is `max_label + 1`\nadjusted_y_dbscan[adjusted_y_dbscan == -1] = max_label + 1\n\n# Plotting the clusters found by DBSCAN and original bins\nplt.figure(figsize=(10, 5))\n\n# Subplot 1: Scatter plot by original bins\nplt.subplot(1, 2, 1)\nplt.scatter(\n    np.arange(0, y_bins.shape[0]),\n    y_bins,\n    c=y_bins,\n    cmap='rainbow',\n    marker='o')\nplt.title(\"Original Bins\")\nplt.xlabel(\"Sample Index\")\nplt.ylabel(\"Bin Label\")\n\n# Subplot 2: Scatter plot by DBSCAN clusters\nplt.subplot(1, 2, 2)\nplt.scatter(\n    np.arange(0, adjusted_y_dbscan.shape[0]),\n    adjusted_y_dbscan,\n    c=adjusted_y_dbscan,\n    cmap='rainbow',\n    marker='o')\nplt.title(\"DBSCAN Clusters\")\nplt.xlabel(\"Sample Index\")\nplt.ylabel(\"Cluster Label\")\n\nplt.tight_layout()\nplt.show()\n","key":"BxaNBR3j25"},{"type":"outputs","id":"4H-zD9V4vDe6eoNpLm75W","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"6367ecbfbe24a5c604ce31af3284c456","path":"/6367ecbfbe24a5c604ce31af3284c456.png"},"text/plain":{"content":"<Figure size 1000x500 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"cvDOSTTzYo"}],"key":"JBeajtg7Ni"}],"key":"MOpehUbt7z"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Compute DBSCAN SSE","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"R7RtcP9XPK"}],"identifier":"compute-dbscan-sse","label":"Compute DBSCAN SSE","html_id":"compute-dbscan-sse","implicit":true,"key":"XSIHwRMx2c"}],"key":"Hk7qYeI7Q2"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:45.438845Z","iopub.status.busy":"2024-10-20T00:51:45.438574Z","iopub.status.idle":"2024-10-20T00:51:45.492722Z","shell.execute_reply":"2024-10-20T00:51:45.448323Z","shell.execute_reply.started":"2024-10-20T00:51:45.438825Z"},"jupyter":{"source_hidden":true}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Get unique clusters excluding noise (-1)\nunique_clusters = set(y_dbscan) - {-1}\n\n# Initialize SSE\nSSE_dbscan = 0\n\n# Loop over each cluster to compute SSE\nfor cluster in unique_clusters:\n    # Get points in the current cluster\n    cluster_points = meal_glucose_features_matrix[y_dbscan == cluster]\n    \n    # Compute the pseudo-centroid (mean of points in the cluster)\n    pseudo_centroid = np.mean(cluster_points, axis=0)\n    \n    # Compute SSE for this cluster\n    sse_cluster = np.sum((cluster_points - pseudo_centroid) ** 2)\n    \n    # Add the cluster's SSE to the total SSE\n    SSE_dbscan += sse_cluster\n\nprint(f\"Approximate SSE for DBSCAN (excluding noise): {SSE_dbscan}\")","identifier":"cse572_code_6-code","enumerator":"2","html_id":"cse572-code-6-code","key":"LEhSfE1wQP"},{"type":"outputs","id":"sAc8_WW11F9KKvZIiFo4p","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Approximate SSE for DBSCAN (excluding noise): 365871520.5756363\n"},"children":[],"identifier":"cse572_code_6-outputs-0","html_id":"cse572-code-6-outputs-0","key":"t5aZwRKNmt"}],"identifier":"cse572_code_6-outputs","html_id":"cse572-code-6-outputs","key":"oUEYQ3ZEJu"}],"identifier":"cse572_code_6","label":"CSE572_Code_6","html_id":"cse572-code-6","key":"d4c1a2shZy"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Compute Entropy and Purity","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"NACrOdl2p6"}],"identifier":"compute-entropy-and-purity","label":"Compute Entropy and Purity","html_id":"compute-entropy-and-purity","implicit":true,"key":"rbPuSfLytY"}],"key":"OOHOPMzVHr"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"K Means Cluster Bin Matrix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KgDVTUzGVG"}],"identifier":"k-means-cluster-bin-matrix","label":"K Means Cluster Bin Matrix","html_id":"k-means-cluster-bin-matrix","implicit":true,"key":"EAbaJ4uCQK"}],"key":"OLppsbF4BA"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:45.502206Z","iopub.status.busy":"2024-10-20T00:51:45.501952Z","iopub.status.idle":"2024-10-20T00:51:45.658095Z","shell.execute_reply":"2024-10-20T00:51:45.657587Z","shell.execute_reply.started":"2024-10-20T00:51:45.502189Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"df_kmeans_cluster = \\\n    pd.DataFrame(\n        {'Cluster': kmeans_cluster_labels,\n         'Bin': np.array(cleaned_meal_bin_indices)}\n    )\ndf_kmeans_cluster","key":"t97OId0QNv"},{"type":"outputs","id":"MVwRs6Gsg4Q16zeNY6CoV","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":72,"metadata":{},"data":{"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Cluster</th>\n      <th>Bin</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>5</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>4</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>5</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>4</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>2</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>614</th>\n      <td>5</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>615</th>\n      <td>3</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>616</th>\n      <td>4</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>617</th>\n      <td>1</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>618</th>\n      <td>0</td>\n      <td>4</td>\n    </tr>\n  </tbody>\n</table>\n<p>619 rows × 2 columns</p>\n</div>","content_type":"text/html"},"text/plain":{"content":"     Cluster  Bin\n0          5    0\n1          4    2\n2          5    0\n3          4    0\n4          2    1\n..       ...  ...\n614        5    2\n615        3    2\n616        4    0\n617        1    2\n618        0    4\n\n[619 rows x 2 columns]","content_type":"text/plain"}}},"children":[],"key":"TI3rZM3lrh"}],"key":"uflJLnWQbs"}],"key":"gLAFA1Jqwz"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:45.658881Z","iopub.status.busy":"2024-10-20T00:51:45.658651Z","iopub.status.idle":"2024-10-20T00:51:45.992744Z","shell.execute_reply":"2024-10-20T00:51:45.992290Z","shell.execute_reply.started":"2024-10-20T00:51:45.658864Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"df_kmeans_cluster_bin_matrix = \\\n    pd.crosstab(\n        df_kmeans_cluster['Cluster'], \n        df_kmeans_cluster['Bin'])\ndf_kmeans_cluster_bin_matrix","key":"kFf2Hg5pw1"},{"type":"outputs","id":"lwzKTpq_v9VqXq8-zOM_i","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":73,"metadata":{},"data":{"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th>Bin</th>\n      <th>0</th>\n      <th>1</th>\n      <th>2</th>\n      <th>3</th>\n      <th>4</th>\n      <th>5</th>\n    </tr>\n    <tr>\n      <th>Cluster</th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>58</td>\n      <td>46</td>\n      <td>18</td>\n      <td>8</td>\n      <td>2</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>7</td>\n      <td>5</td>\n      <td>5</td>\n      <td>5</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>72</td>\n      <td>36</td>\n      <td>17</td>\n      <td>9</td>\n      <td>1</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>41</td>\n      <td>30</td>\n      <td>24</td>\n      <td>11</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>40</td>\n      <td>39</td>\n      <td>19</td>\n      <td>7</td>\n      <td>1</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>56</td>\n      <td>27</td>\n      <td>25</td>\n      <td>7</td>\n      <td>2</td>\n      <td>0</td>\n    </tr>\n  </tbody>\n</table>\n</div>","content_type":"text/html"},"text/plain":{"content":"Bin       0   1   2   3  4  5\nCluster                      \n0        58  46  18   8  2  1\n1         7   5   5   5  0  0\n2        72  36  17   9  1  0\n3        41  30  24  11  0  0\n4        40  39  19   7  1  0\n5        56  27  25   7  2  0","content_type":"text/plain"}}},"children":[],"key":"b3VrTvMXud"}],"key":"INQNk3tNmu"}],"key":"f68R3Eph9J"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"DBSCAN Cluster Bin Matrix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CFCqD3HOHm"}],"identifier":"dbscan-cluster-bin-matrix","label":"DBSCAN Cluster Bin Matrix","html_id":"dbscan-cluster-bin-matrix","implicit":true,"key":"QXbJhjsLYl"}],"key":"nzdWWW2kC9"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:46.020558Z","iopub.status.busy":"2024-10-20T00:51:45.993128Z","iopub.status.idle":"2024-10-20T00:51:46.282404Z","shell.execute_reply":"2024-10-20T00:51:46.271671Z","shell.execute_reply.started":"2024-10-20T00:51:46.020521Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#y_dbscan","key":"JXWcg9gFrm"},{"type":"outputs","id":"SQt2s3HVjiihdVFFYw-ke","children":[],"key":"ALE7Y7q9JZ"}],"key":"IGGCNXpZ1s"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:46.296212Z","iopub.status.busy":"2024-10-20T00:51:46.295975Z","iopub.status.idle":"2024-10-20T00:51:46.692381Z","shell.execute_reply":"2024-10-20T00:51:46.664338Z","shell.execute_reply.started":"2024-10-20T00:51:46.296196Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"df_dbscan_cluster = \\\n    pd.DataFrame(\n        {'Cluster': y_dbscan,\n         'Bin': np.array(cleaned_meal_bin_indices)}\n    )\n\ndf_dbscan_cluster = \\\n    df_dbscan_cluster[df_dbscan_cluster['Cluster'] != -1]\ndf_dbscan_cluster","key":"Xmh0aXe3ve"},{"type":"outputs","id":"UpXyHYNq7y-VrWXgN7Si7","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":75,"metadata":{},"data":{"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th></th>\n      <th>Cluster</th>\n      <th>Bin</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>2</th>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>1</td>\n      <td>3</td>\n    </tr>\n    <tr>\n      <th>10</th>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>13</th>\n      <td>5</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>15</th>\n      <td>2</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>...</th>\n      <td>...</td>\n      <td>...</td>\n    </tr>\n    <tr>\n      <th>612</th>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>613</th>\n      <td>4</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>614</th>\n      <td>3</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>615</th>\n      <td>1</td>\n      <td>2</td>\n    </tr>\n    <tr>\n      <th>618</th>\n      <td>2</td>\n      <td>4</td>\n    </tr>\n  </tbody>\n</table>\n<p>403 rows × 2 columns</p>\n</div>","content_type":"text/html"},"text/plain":{"content":"     Cluster  Bin\n2          0    0\n5          1    3\n10         1    1\n13         5    0\n15         2    0\n..       ...  ...\n612        1    1\n613        4    0\n614        3    2\n615        1    2\n618        2    4\n\n[403 rows x 2 columns]","content_type":"text/plain"}}},"children":[],"key":"uVpEZIuh5X"}],"key":"ciknzzWfB7"}],"key":"NwTj7qNXPZ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:46.699832Z","iopub.status.busy":"2024-10-20T00:51:46.699597Z","iopub.status.idle":"2024-10-20T00:51:46.889780Z","shell.execute_reply":"2024-10-20T00:51:46.883299Z","shell.execute_reply.started":"2024-10-20T00:51:46.699809Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"df_dbscan_cluster_bin_matrix = \\\n    pd.crosstab(\n        df_dbscan_cluster['Cluster'], \n        df_dbscan_cluster['Bin'])\ndf_dbscan_cluster_bin_matrix","key":"HRxBUYcu53"},{"type":"outputs","id":"nLocPyyj8TiFqC_9LQVXo","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":76,"metadata":{},"data":{"text/html":{"content":"<div>\n<style scoped>\n    .dataframe tbody tr th:only-of-type {\n        vertical-align: middle;\n    }\n\n    .dataframe tbody tr th {\n        vertical-align: top;\n    }\n\n    .dataframe thead th {\n        text-align: right;\n    }\n</style>\n<table border=\"1\" class=\"dataframe\">\n  <thead>\n    <tr style=\"text-align: right;\">\n      <th>Bin</th>\n      <th>0</th>\n      <th>1</th>\n      <th>2</th>\n      <th>3</th>\n      <th>4</th>\n      <th>5</th>\n    </tr>\n    <tr>\n      <th>Cluster</th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n      <th></th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr>\n      <th>0</th>\n      <td>41</td>\n      <td>37</td>\n      <td>19</td>\n      <td>9</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>1</th>\n      <td>43</td>\n      <td>35</td>\n      <td>19</td>\n      <td>7</td>\n      <td>1</td>\n      <td>1</td>\n    </tr>\n    <tr>\n      <th>2</th>\n      <td>16</td>\n      <td>2</td>\n      <td>2</td>\n      <td>4</td>\n      <td>1</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>3</th>\n      <td>65</td>\n      <td>35</td>\n      <td>24</td>\n      <td>6</td>\n      <td>1</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>4</th>\n      <td>10</td>\n      <td>6</td>\n      <td>3</td>\n      <td>1</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n    <tr>\n      <th>5</th>\n      <td>3</td>\n      <td>4</td>\n      <td>4</td>\n      <td>4</td>\n      <td>0</td>\n      <td>0</td>\n    </tr>\n  </tbody>\n</table>\n</div>","content_type":"text/html"},"text/plain":{"content":"Bin       0   1   2  3  4  5\nCluster                     \n0        41  37  19  9  0  0\n1        43  35  19  7  1  1\n2        16   2   2  4  1  0\n3        65  35  24  6  1  0\n4        10   6   3  1  0  0\n5         3   4   4  4  0  0","content_type":"text/plain"}}},"children":[],"key":"QCOpHPhKlt"}],"key":"CoZfDMgnaA"}],"key":"ALzpDIgeuf"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Define Entropy Function","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"XmrKzrYtUQ"}],"identifier":"define-entropy-function","label":"Define Entropy Function","html_id":"define-entropy-function","implicit":true,"key":"qseCXWU6u3"}],"key":"ikShkqWHFN"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:46.919954Z","iopub.status.busy":"2024-10-20T00:51:46.919573Z","iopub.status.idle":"2024-10-20T00:51:47.253904Z","shell.execute_reply":"2024-10-20T00:51:47.253350Z","shell.execute_reply.started":"2024-10-20T00:51:46.919935Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"def entropy(entries):\n    entries = entries[entries > 0]\n    return -np.sum(entries * np.log2(entries))","key":"VjOxEwoflN"},{"type":"outputs","id":"moed5PwUVvBDBCfGQPGRT","children":[],"key":"QTXaaqhlS2"}],"key":"Ycrf76XwaQ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Calculate K Means Row Entropy Values","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WnwKAAF9eN"}],"identifier":"calculate-k-means-row-entropy-values","label":"Calculate K Means Row Entropy Values","html_id":"calculate-k-means-row-entropy-values","implicit":true,"key":"kc3tqVIlFS"}],"key":"ZV38YgRAI9"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:47.276158Z","iopub.status.busy":"2024-10-20T00:51:47.265769Z","iopub.status.idle":"2024-10-20T00:51:47.556813Z","shell.execute_reply":"2024-10-20T00:51:47.556295Z","shell.execute_reply.started":"2024-10-20T00:51:47.276133Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"k_means_entropy_values = \\\n    df_kmeans_cluster_bin_matrix.apply(lambda row: entropy(row / row.sum()), axis=1)\nk_means_entropy_values","key":"ZhaagmCrG6"},{"type":"outputs","id":"-OpLFpVLcKfUGAq9NhlY5","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":78,"metadata":{},"data":{"text/plain":{"content":"Cluster\n0    1.830430\n1    1.983050\n2    1.681496\n3    1.869815\n4    1.828204\n5    1.816162\ndtype: float64","content_type":"text/plain"}}},"children":[],"key":"rG6moLqEwz"}],"key":"KoJD2Cefxu"}],"key":"zXs4q5sHTn"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Calculate DBSCAN Row Entropy Values","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MbhDw1lcl3"}],"identifier":"calculate-dbscan-row-entropy-values","label":"Calculate DBSCAN Row Entropy Values","html_id":"calculate-dbscan-row-entropy-values","implicit":true,"key":"bYwctnSIO8"}],"key":"CLYamxSpFa"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:47.568810Z","iopub.status.busy":"2024-10-20T00:51:47.564326Z","iopub.status.idle":"2024-10-20T00:51:47.912583Z","shell.execute_reply":"2024-10-20T00:51:47.896182Z","shell.execute_reply.started":"2024-10-20T00:51:47.568789Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"dbscan_entropy_values = \\\n    df_dbscan_cluster_bin_matrix.apply(lambda row: entropy(row / row.sum()), axis=1)\ndbscan_entropy_values","key":"GJhLaxv5GQ"},{"type":"outputs","id":"bHYOinwIWqt12wSMx7p0r","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":79,"metadata":{},"data":{"text/plain":{"content":"Cluster\n0    1.806700\n1    1.886256\n2    1.603856\n3    1.716418\n4    1.647731\n5    1.989898\ndtype: float64","content_type":"text/plain"}}},"children":[],"key":"BnrD9AFXI5"}],"key":"a68wHniWsa"}],"key":"v2GxbtMQU3"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Calculate Total Entropy","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Nx3zuVVWUq"}],"identifier":"calculate-total-entropy","label":"Calculate Total Entropy","html_id":"calculate-total-entropy","implicit":true,"key":"ufNjb8G2SK"}],"key":"brkU0UzVHc"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Calculate K Means Cluster Sizes","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"vZhyaihz77"}],"identifier":"calculate-k-means-cluster-sizes","label":"Calculate K Means Cluster Sizes","html_id":"calculate-k-means-cluster-sizes","implicit":true,"key":"ss814jm2XP"}],"key":"GOGAi7jMYw"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:48.004004Z","iopub.status.busy":"2024-10-20T00:51:47.972544Z","iopub.status.idle":"2024-10-20T00:51:48.140275Z","shell.execute_reply":"2024-10-20T00:51:48.105191Z","shell.execute_reply.started":"2024-10-20T00:51:48.003969Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"k_means_cluster_sizes = df_kmeans_cluster_bin_matrix.sum(axis=1)\nk_means_cluster_sizes","key":"sCCWavqOoA"},{"type":"outputs","id":"4gRMCO79dtUlRf8US8xMa","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":80,"metadata":{},"data":{"text/plain":{"content":"Cluster\n0    133\n1     22\n2    135\n3    106\n4    106\n5    117\ndtype: int64","content_type":"text/plain"}}},"children":[],"key":"vTa1tNaOzt"}],"key":"McvCldz314"}],"key":"oLGMelMbJA"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Calculate DBSCAN Cluster Sizes","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aI01d9jiVE"}],"identifier":"calculate-dbscan-cluster-sizes","label":"Calculate DBSCAN Cluster Sizes","html_id":"calculate-dbscan-cluster-sizes","implicit":true,"key":"fGTbqB7s0M"}],"key":"eGCRti8c0x"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:48.185736Z","iopub.status.busy":"2024-10-20T00:51:48.176152Z","iopub.status.idle":"2024-10-20T00:51:48.356180Z","shell.execute_reply":"2024-10-20T00:51:48.311854Z","shell.execute_reply.started":"2024-10-20T00:51:48.185710Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"dbscan_cluster_sizes = df_dbscan_cluster_bin_matrix.sum(axis=1)\ndbscan_cluster_sizes","key":"p6acxQRldS"},{"type":"outputs","id":"Rb9WbFVYqHwsAo1NDC0VJ","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":81,"metadata":{},"data":{"text/plain":{"content":"Cluster\n0    106\n1    106\n2     25\n3    131\n4     20\n5     15\ndtype: int64","content_type":"text/plain"}}},"children":[],"key":"TCK7upAH7X"}],"key":"lODQs6T0dQ"}],"key":"Za2HlonynR"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Total Data Points","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PLu88VzqSj"}],"identifier":"total-data-points","label":"Total Data Points","html_id":"total-data-points","implicit":true,"key":"W44zPhZ6oB"}],"key":"yRs20Oe40T"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:48.361300Z","iopub.status.busy":"2024-10-20T00:51:48.361107Z","iopub.status.idle":"2024-10-20T00:51:48.613623Z","shell.execute_reply":"2024-10-20T00:51:48.586416Z","shell.execute_reply.started":"2024-10-20T00:51:48.361285Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"total_data_points = len(meal_glucose_features_matrix)\ntotal_data_points","key":"VPorFenj0h"},{"type":"outputs","id":"CaMVjh_BGmq5Qq1_h8Gqz","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":82,"metadata":{},"data":{"text/plain":{"content":"619","content_type":"text/plain"}}},"children":[],"key":"ewutd1kILO"}],"key":"JIiG3sBEIC"}],"key":"vb4kPBnYB2"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"K-Means Total Entropy","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"R5xF2TT1eK"}],"identifier":"k-means-total-entropy","label":"K-Means Total Entropy","html_id":"k-means-total-entropy","implicit":true,"key":"SD00SLOPYu"}],"key":"u4bxEdqalv"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:48.614537Z","iopub.status.busy":"2024-10-20T00:51:48.614341Z","iopub.status.idle":"2024-10-20T00:51:48.843676Z","shell.execute_reply":"2024-10-20T00:51:48.812293Z","shell.execute_reply.started":"2024-10-20T00:51:48.614522Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"k_means_total_entropy = \\\n    np.sum(k_means_cluster_sizes * k_means_entropy_values) / total_data_points\nk_means_total_entropy","identifier":"cse572_code_7-code","enumerator":"3","html_id":"cse572-code-7-code","key":"wB58pvvXym"},{"type":"outputs","id":"AGmCnOz0M95BItkhSjKg2","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":83,"metadata":{},"data":{"text/plain":{"content":"np.float64(1.807039149934111)","content_type":"text/plain"}}},"children":[],"identifier":"cse572_code_7-outputs-0","html_id":"cse572-code-7-outputs-0","key":"XoH8NFpl7m"}],"identifier":"cse572_code_7-outputs","html_id":"cse572-code-7-outputs","key":"fquHbokGzs"}],"identifier":"cse572_code_7","label":"CSE572_Code_7","html_id":"cse572-code-7","key":"d4AdZ45Zs4"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"DBSCAN Total Entropy","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rdAeROrcyu"}],"identifier":"dbscan-total-entropy","label":"DBSCAN Total Entropy","html_id":"dbscan-total-entropy","implicit":true,"key":"Sa6Fx0tsMl"}],"key":"xQLYH9HHc7"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:48.844379Z","iopub.status.busy":"2024-10-20T00:51:48.844204Z","iopub.status.idle":"2024-10-20T00:51:49.030549Z","shell.execute_reply":"2024-10-20T00:51:49.010671Z","shell.execute_reply.started":"2024-10-20T00:51:48.844365Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"dbscan_total_entropy = \\\n    np.sum(dbscan_cluster_sizes * dbscan_entropy_values) / total_data_points\ndbscan_total_entropy","identifier":"cse572_code_8-code","enumerator":"4","html_id":"cse572-code-8-code","key":"VzvbozGeGw"},{"type":"outputs","id":"Zrm7G0EPXvGLrxon34JPp","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":84,"metadata":{},"data":{"text/plain":{"content":"np.float64(1.161879812576486)","content_type":"text/plain"}}},"children":[],"identifier":"cse572_code_8-outputs-0","html_id":"cse572-code-8-outputs-0","key":"l5EJDccW0e"}],"identifier":"cse572_code_8-outputs","html_id":"cse572-code-8-outputs","key":"f98ElHNA2e"}],"identifier":"cse572_code_8","label":"CSE572_Code_8","html_id":"cse572-code-8","key":"kWUTXKsiR4"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Calculate Total Purity","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ISFQXaUBKC"}],"identifier":"calculate-total-purity","label":"Calculate Total Purity","html_id":"calculate-total-purity","implicit":true,"key":"QgKkZB3Vxk"}],"key":"G60SyXVx2t"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Calculate K Means Purity Values","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"E84ATjLHDb"}],"identifier":"calculate-k-means-purity-values","label":"Calculate K Means Purity Values","html_id":"calculate-k-means-purity-values","implicit":true,"key":"fMviZadWFN"}],"key":"iaWIiZnxmI"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:49.041769Z","iopub.status.busy":"2024-10-20T00:51:49.033106Z","iopub.status.idle":"2024-10-20T00:51:49.229503Z","shell.execute_reply":"2024-10-20T00:51:49.225722Z","shell.execute_reply.started":"2024-10-20T00:51:49.033267Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"k_means_purity_values = \\\n    df_kmeans_cluster_bin_matrix.apply(lambda row: row.max() / row.sum(), axis=1)\nk_means_purity_values","key":"W3o0dZ48e9"},{"type":"outputs","id":"eeLKipRQcEO4ewvsAEpLu","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":85,"metadata":{},"data":{"text/plain":{"content":"Cluster\n0    0.436090\n1    0.318182\n2    0.533333\n3    0.386792\n4    0.377358\n5    0.478632\ndtype: float64","content_type":"text/plain"}}},"children":[],"key":"NR3XNhtiBn"}],"key":"ikR2yLrNvG"}],"key":"tDyHaQv7WA"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Calculate DBSCAN Purity Values","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UBU23vpTp8"}],"identifier":"calculate-dbscan-purity-values","label":"Calculate DBSCAN Purity Values","html_id":"calculate-dbscan-purity-values","implicit":true,"key":"v3cWUH9x62"}],"key":"DhwjCY3xl2"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:49.230564Z","iopub.status.busy":"2024-10-20T00:51:49.230262Z","iopub.status.idle":"2024-10-20T00:51:49.466258Z","shell.execute_reply":"2024-10-20T00:51:49.465663Z","shell.execute_reply.started":"2024-10-20T00:51:49.230545Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"dbscan_purity_values = \\\n    df_dbscan_cluster_bin_matrix.apply(lambda row: row.max() / row.sum(), axis=1)\ndbscan_purity_values","key":"z20ZdFpi7n"},{"type":"outputs","id":"2IzC9X7axLJTF7_4uS4o5","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":86,"metadata":{},"data":{"text/plain":{"content":"Cluster\n0    0.386792\n1    0.405660\n2    0.640000\n3    0.496183\n4    0.500000\n5    0.266667\ndtype: float64","content_type":"text/plain"}}},"children":[],"key":"tuzeRL6KTu"}],"key":"RfvlUSEd3b"}],"key":"Z8cSrRHD9v"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"K-Means Total Purity","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rlBACXQ0yQ"}],"identifier":"k-means-total-purity","label":"K-Means Total Purity","html_id":"k-means-total-purity","implicit":true,"key":"eW1Ebb3JAz"}],"key":"xn2YthYTdJ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:49.474016Z","iopub.status.busy":"2024-10-20T00:51:49.467194Z","iopub.status.idle":"2024-10-20T00:51:49.590313Z","shell.execute_reply":"2024-10-20T00:51:49.589644Z","shell.execute_reply.started":"2024-10-20T00:51:49.473995Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"k_means_total_purity = \\\n    np.sum(k_means_cluster_sizes * k_means_purity_values) / total_data_points\nk_means_total_purity","identifier":"cse572_code_9-code","enumerator":"5","html_id":"cse572-code-9-code","key":"QlyEC7A4qH"},{"type":"outputs","id":"uwzbtef7KEBPOhX5cCQ_k","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":87,"metadata":{},"data":{"text/plain":{"content":"np.float64(0.44264943457189015)","content_type":"text/plain"}}},"children":[],"identifier":"cse572_code_9-outputs-0","html_id":"cse572-code-9-outputs-0","key":"ORh2ys4fWl"}],"identifier":"cse572_code_9-outputs","html_id":"cse572-code-9-outputs","key":"A1Qfc4ucrR"}],"identifier":"cse572_code_9","label":"CSE572_Code_9","html_id":"cse572-code-9","key":"wicyaX7SC6"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"DBSCAN Total Purity","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"R9hielKVIZ"}],"identifier":"dbscan-total-purity","label":"DBSCAN Total Purity","html_id":"dbscan-total-purity","implicit":true,"key":"EsSfxd5Qo9"}],"key":"bIVLEwVbbI"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:49.611583Z","iopub.status.busy":"2024-10-20T00:51:49.611318Z","iopub.status.idle":"2024-10-20T00:51:49.856254Z","shell.execute_reply":"2024-10-20T00:51:49.855531Z","shell.execute_reply.started":"2024-10-20T00:51:49.611567Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"dbscan_total_purity = \\\n    np.sum(dbscan_cluster_sizes * dbscan_purity_values) / total_data_points\ndbscan_total_purity","identifier":"cse572_code_10-code","enumerator":"6","html_id":"cse572-code-10-code","key":"JfZcvJ2Qy2"},{"type":"outputs","id":"yEn85J6p3mmyyfSPZHq2Z","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":88,"metadata":{},"data":{"text/plain":{"content":"np.float64(0.28917609046849757)","content_type":"text/plain"}}},"children":[],"identifier":"cse572_code_10-outputs-0","html_id":"cse572-code-10-outputs-0","key":"dGMigj7vLV"}],"identifier":"cse572_code_10-outputs","html_id":"cse572-code-10-outputs","key":"o4SEGbZp8M"}],"identifier":"cse572_code_10","label":"CSE572_Code_10","html_id":"cse572-code-10","key":"nrevKuuCXX"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Create Results File","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rS3lhdvWpN"}],"identifier":"create-results-file","label":"Create Results File","html_id":"create-results-file","implicit":true,"key":"P3dZ4IEyQQ"}],"key":"BHJ3L1UuPc"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:49.898312Z","iopub.status.busy":"2024-10-20T00:51:49.898090Z","iopub.status.idle":"2024-10-20T00:51:50.076984Z","shell.execute_reply":"2024-10-20T00:51:50.027159Z","shell.execute_reply.started":"2024-10-20T00:51:49.898298Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"results = [\n    SSE_kmeans,\n    SSE_dbscan,\n    k_means_total_entropy,\n    dbscan_total_entropy,\n    k_means_total_purity,\n    dbscan_total_purity\n]\nresults","key":"ndeeZKuClq"},{"type":"outputs","id":"oVHD0gFuKxK2fLRMT03D0","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":89,"metadata":{},"data":{"text/plain":{"content":"[np.float64(1840.9904638055532),\n np.float64(365871520.5756363),\n np.float64(1.807039149934111),\n np.float64(1.161879812576486),\n np.float64(0.44264943457189015),\n np.float64(0.28917609046849757)]","content_type":"text/plain"}}},"children":[],"key":"c9YYPFJLd4"}],"key":"ESd48hN2eA"}],"key":"N0cRMxZezq"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:50.078121Z","iopub.status.busy":"2024-10-20T00:51:50.077812Z","iopub.status.idle":"2024-10-20T00:51:50.287981Z","shell.execute_reply":"2024-10-20T00:51:50.274534Z","shell.execute_reply.started":"2024-10-20T00:51:50.078095Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"results_matrix_1x6 = np.array(results).reshape(1, 6)\nresults_matrix_1x6","key":"FnA63zQtex"},{"type":"outputs","id":"orZosmlEraYH22FnQx0ur","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":90,"metadata":{},"data":{"text/plain":{"content":"array([[1.84099046e+03, 3.65871521e+08, 1.80703915e+00, 1.16187981e+00,\n        4.42649435e-01, 2.89176090e-01]])","content_type":"text/plain"}}},"children":[],"key":"Bs2rXJMsdo"}],"key":"QwPOOh2z7V"}],"key":"fTjD1e4SM9"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-20T00:51:50.309398Z","iopub.status.busy":"2024-10-20T00:51:50.308633Z","iopub.status.idle":"2024-10-20T00:51:50.443480Z","shell.execute_reply":"2024-10-20T00:51:50.428802Z","shell.execute_reply.started":"2024-10-20T00:51:50.309366Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"np.savetxt('Result.csv', results_matrix_1x6, delimiter=',', fmt='%10.5f')","key":"StBY4ZIC1p"},{"type":"outputs","id":"0uCBNkUBm4n9ustStUu73","children":[],"key":"BHKRewq1Jx"}],"key":"b6gD0MIqta"}],"key":"yoDkhLwWOa"},"references":{"cite":{"order":[],"data":{}}}}