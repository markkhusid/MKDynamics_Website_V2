{"version":3,"kind":"Article","sha256":"03cb6047f3637e6252a89c6509011de6b4b327989f9dcdc691c9c1c6ef22900d","slug":"sections.cybersecurity.disassembling-binaries.fortran.arm64.mod-int.mod-int","location":"/Sections/Cybersecurity/Disassembling_Binaries/Fortran/ARM64/MOD_INT/mod_int.md","dependencies":[],"frontmatter":{"title":"Fortran - ARM 64-Bit Platform - Modulo Two Integers","content_includes_title":false,"authors":[{"nameParsed":{"literal":"Mark Khusid","given":"Mark","family":"Khusid"},"name":"Mark Khusid","id":"contributors-myst-generated-uid-0"}],"github":"https://github.com/markkhusid/MKDynamics_Website_V2","numbering":{"title":{"offset":5}},"source_url":"https://github.com/markkhusid/MKDynamics_Website_V2/blob/master/Sections/Cybersecurity/Disassembling_Binaries/Fortran/ARM64/MOD_INT/mod_int.md","edit_url":"https://github.com/markkhusid/MKDynamics_Website_V2/edit/master/Sections/Cybersecurity/Disassembling_Binaries/Fortran/ARM64/MOD_INT/mod_int.md","thumbnail":"/mod_int_Fortran_ARM6-0205747aefc22cc51e86a818a418c733.png","thumbnailOptimized":"/mod_int_Fortran_ARM6-0205747aefc22cc51e86a818a418c733.webp","exports":[{"format":"md","filename":"mod_int.md","url":"/mod_int-e83d46e86fd2ff13bc42483bc83650b6.md"}]},"mdast":{"type":"root","children":[{"type":"block","children":[{"type":"image","url":"/mod_int_Fortran_ARM6-0205747aefc22cc51e86a818a418c733.png","height":"600","width":"800","align":"center","key":"jrGO5bNpUA","urlSource":"images/mod_int_Fortran_ARM64_splash.png","urlOptimized":"/mod_int_Fortran_ARM6-0205747aefc22cc51e86a818a418c733.webp"},{"type":"heading","depth":2,"position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"children":[{"type":"text","value":"Introduction","position":{"start":{"line":8,"column":1},"end":{"line":8,"column":1}},"key":"uFqDZYc6XB"}],"identifier":"introduction","label":"Introduction","html_id":"introduction","implicit":true,"key":"OW9ZlIGbe5"},{"type":"paragraph","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"children":[{"type":"text","value":"In this section we will be disassembling simple binaries generated by the Fortran high-level language compiled for the 64-bit ARM platform.","position":{"start":{"line":10,"column":1},"end":{"line":10,"column":1}},"key":"MQ3ixEyVmU"}],"key":"QJ48VCMakk"},{"type":"paragraph","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"Project code for this section is contained in my ","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"kNJlOUXp5e"},{"type":"link","url":"https://github.com/markkhusid/Disassembling-Binaries/tree/master/Fortran/ARM_architecture/ARM64","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"children":[{"type":"text","value":"https://​github​.com​/markkhusid​/Disassembling​-Binaries​/tree​/master​/Fortran​/ARM​_architecture​/ARM64","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"z5tpknol3b"}],"urlSource":"https://github.com/markkhusid/Disassembling-Binaries/tree/master/Fortran/ARM_architecture/ARM64","error":true,"key":"B3j8n9DGTw"},{"type":"text","value":".","position":{"start":{"line":12,"column":1},"end":{"line":12,"column":1}},"key":"EMkmcTzgII"}],"key":"X97hvKq2eU"},{"type":"thematicBreak","position":{"start":{"line":14,"column":1},"end":{"line":14,"column":1}},"key":"hAQtDwHcMy"},{"type":"heading","depth":2,"position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"The program ","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"eTzkKb5GeA"},{"type":"emphasis","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"children":[{"type":"text","value":"mod_int.f08","position":{"start":{"line":16,"column":1},"end":{"line":16,"column":1}},"key":"RnlNMfteZU"}],"key":"KW8ZichXxz"}],"identifier":"the-program-mod-int-f08","label":"The program mod_int.f08","html_id":"the-program-mod-int-f08","implicit":true,"key":"qUCr2BPKWJ"},{"type":"include","file":"code/mod_int.f08","literal":true,"children":[{"type":"code","value":"program mod_int\n\n        implicit none\n\n        integer         :: a, b, c\n\n        a = 10\n        b = 4\n\n        c = MOD(a, b)\n\nend program mod_int\n\n","lang":"fortran","filename":"mod_int.f08","key":"RsRdQfxo01"}],"key":"L9BZZFWAwa"},{"type":"paragraph","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"The program displays the contents of the program ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"B9yB5VdSx1"},{"type":"emphasis","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"children":[{"type":"text","value":"mod_int.f08","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"w3ivLy3Azu"}],"key":"b6nAUoKQab"},{"type":"text","value":". The program creates three integers: a, b, and c. ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"B0jG06aYyK"},{"type":"inlineCode","value":"a","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"SPUYxALMVp"},{"type":"text","value":" is assigned the value of 10, ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"bZbkqc2Uol"},{"type":"inlineCode","value":"b","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"OhxZLk2wqY"},{"type":"text","value":" is assigned the value of 4, and ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"ZUT0KH4s0Z"},{"type":"inlineCode","value":"c","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"qmaxbqCW34"},{"type":"text","value":" is assigned the result of the operation ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"udDbuzAoj0"},{"type":"inlineCode","value":"MOD(a, b)","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"siwt4c29g9"},{"type":"text","value":".  MOD() is a Fortran intrinsic function that returns the remainder of the division of ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"hDiXblLYjq"},{"type":"inlineCode","value":"a","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"MO3NbXrTU1"},{"type":"text","value":" by ","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"mRzNM6rZ2I"},{"type":"inlineCode","value":"b","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"CPN35VzgQK"},{"type":"text","value":".","position":{"start":{"line":22,"column":1},"end":{"line":22,"column":1}},"key":"MIbkocLtSi"}],"key":"pTWY22vAoU"},{"type":"paragraph","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"children":[{"type":"text","value":"The program is obviously very simple, with no inputs and outputs. The idea is to generate the binary and look at the disassembly to learn about the workings of the 64-bit ARM processor platform.","position":{"start":{"line":24,"column":1},"end":{"line":24,"column":1}},"key":"wXEY6aLvru"}],"key":"KoK9JWCoGU"},{"type":"paragraph","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"children":[{"type":"text","value":"The chosen test system is my trusty Samsung Chromebook Plus V2, which has a 64-bit ARMv8 processor. This is a very convenient platform for this exercise due to its availability and ease of access from multiple remote systems via SSH.","position":{"start":{"line":26,"column":1},"end":{"line":26,"column":1}},"key":"TkAWub0BfF"}],"key":"q8aUGD4mWn"},{"type":"paragraph","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"children":[{"type":"text","value":"The program is compiled with the GNU Fortran compiler, ","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"RVg1denKIh"},{"type":"inlineCode","value":"gfortran","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"FV8rXDcAT6"},{"type":"text","value":", which is available on the ARM platform. The program is compiled with debugging information using the ","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"qtdtgEUPj5"},{"type":"inlineCode","value":"-ggdb3","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"Y4yUlRFGIf"},{"type":"text","value":" option, which allows us to debug the program in GDB and see the source code interspersed with the assembly instructions.","position":{"start":{"line":28,"column":1},"end":{"line":28,"column":1}},"key":"auWX8ExApy"}],"key":"bXYCtz1KYG"},{"type":"paragraph","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"children":[{"type":"text","value":"The program is compiled with:","position":{"start":{"line":30,"column":1},"end":{"line":30,"column":1}},"key":"jQnYKd8Ry4"}],"key":"aFMmfaZfIH"},{"type":"code","lang":"bash","value":"$ gfortran -ggdb3 mod_int.f08 -o mod_int_Fortran_aarch64_ggdb3","position":{"start":{"line":32,"column":1},"end":{"line":34,"column":1}},"key":"FHVaQsKQ8N"},{"type":"paragraph","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"children":[{"type":"text","value":"For general edification, we also have ","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"kBwqRubnU4"},{"type":"inlineCode","value":"gfortran","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"TtIOx3pdU3"},{"type":"text","value":" produce generic assembly with the ","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"p4sgrP2aXS"},{"type":"inlineCode","value":"-S","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"qAFUcQSWGz"},{"type":"text","value":" option, an object file with the ","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"OCqM392qXQ"},{"type":"inlineCode","value":"-o","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"k2VWyHT2F7"},{"type":"text","value":" option, and object dumps of the object and executable files.","position":{"start":{"line":36,"column":1},"end":{"line":36,"column":1}},"key":"FCGF5NeiWO"}],"key":"V9VmSZMqnI"},{"type":"paragraph","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"children":[{"type":"text","value":"The generic assembly is generated by using the ","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"xEePBZImcz"},{"type":"inlineCode","value":"-S","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"gH7N7hnCsN"},{"type":"text","value":" (assembly) option:","position":{"start":{"line":38,"column":1},"end":{"line":38,"column":1}},"key":"HviNE0JESH"}],"key":"vzpg2uy3UW"},{"type":"code","lang":"bash","value":"$ gfortran -S -ggdb3 mod_int.f08 -o mod_int.s","position":{"start":{"line":40,"column":1},"end":{"line":42,"column":1}},"key":"OjolgnzRqn"},{"type":"paragraph","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"children":[{"type":"text","value":"The object file is generated by using the ","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"R0Fk5eRga5"},{"type":"inlineCode","value":"-c","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"Lvf3fH09J6"},{"type":"text","value":" (compile) option:","position":{"start":{"line":44,"column":1},"end":{"line":44,"column":1}},"key":"CFrHx6dgcN"}],"key":"jqSM4iNQjE"},{"type":"code","lang":"bash","value":"$ gfortran -c -ggdb3 mod_int.s -o mod_int.o","position":{"start":{"line":46,"column":1},"end":{"line":48,"column":1}},"key":"kvOldX3fvq"},{"type":"paragraph","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"children":[{"type":"text","value":"The objdump files are generated by using the following command and options:","position":{"start":{"line":50,"column":1},"end":{"line":50,"column":1}},"key":"H2TMJRlKxF"}],"key":"EbaEPOk8zk"},{"type":"code","lang":"bash","value":"$ objdump -x -D -S -s -g -t mod_int.o > objdump_of_dot_o.txt\n$ objdump -x -D -S -s -g -t mod_int_Fortran_aarch64_ggdb3 > objdump_of_dot_exe.txt","position":{"start":{"line":52,"column":1},"end":{"line":55,"column":1}},"key":"cl9sfxGOot"},{"type":"paragraph","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"children":[{"type":"text","value":"A rundown of the objdump options is shown here:","position":{"start":{"line":57,"column":1},"end":{"line":57,"column":1}},"key":"uJG9tQ19Kb"}],"key":"KWEgrXWKBh"},{"type":"code","lang":"bash","value":"$objdump \nUsage: objdump <option(s)> <file(s)>\n Display information from object <file(s)>.\n At least one of the following switches must be given:\n  -a, --archive-headers    Display archive header information\n  -f, --file-headers       Display the contents of the overall file header\n  -p, --private-headers    Display object format specific file header contents\n  -P, --private=OPT,OPT... Display object format specific contents\n  -h, --[section-]headers  Display the contents of the section headers\n  -x, --all-headers        Display the contents of all headers\n  -d, --disassemble        Display assembler contents of executable sections\n  -D, --disassemble-all    Display assembler contents of all sections\n      --disassemble=<sym>  Display assembler contents from <sym>\n  -S, --source             Intermix source code with disassembly\n      --source-comment[=<txt>] Prefix lines of source code with <txt>\n  -s, --full-contents      Display the full contents of all sections requested\n  -g, --debugging          Display debug information in object file\n  -e, --debugging-tags     Display debug information using ctags style\n  -G, --stabs              Display (in raw form) any STABS info in the file\n  -W, --dwarf[a/=abbrev, A/=addr, r/=aranges, c/=cu_index, L/=decodedline,\n              f/=frames, F/=frames-interp, g/=gdb_index, i/=info, o/=loc,\n              m/=macro, p/=pubnames, t/=pubtypes, R/=Ranges, l/=rawline,\n              s/=str, O/=str-offsets, u/=trace_abbrev, T/=trace_aranges,\n              U/=trace_info]\n                           Display the contents of DWARF debug sections\n  -Wk,--dwarf=links        Display the contents of sections that link to\n                            separate debuginfo files\n  -WK,--dwarf=follow-links\n                           Follow links to separate debug info files (default)\n  -WN,--dwarf=no-follow-links\n                           Do not follow links to separate debug info files\n  -L, --process-links      Display the contents of non-debug sections in\n                            separate debuginfo files.  (Implies -WK)\n      --ctf[=SECTION]      Display CTF info from SECTION, (default `.ctf')\n      --sframe[=SECTION]   Display SFrame info from SECTION, (default '.sframe')\n  -t, --syms               Display the contents of the symbol table(s)\n  -T, --dynamic-syms       Display the contents of the dynamic symbol table\n  -r, --reloc              Display the relocation entries in the file\n  -R, --dynamic-reloc      Display the dynamic relocation entries in the file\n  @<file>                  Read options from <file>\n  -v, --version            Display this program's version number\n  -i, --info               List object formats and architectures supported\n  -H, --help               Display this information","position":{"start":{"line":59,"column":1},"end":{"line":103,"column":1}},"key":"fGT0c32zkr"},{"type":"paragraph","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"children":[{"type":"text","value":"In our case, we want ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"o7YUCwhCsI"},{"type":"inlineCode","value":"-x","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"o0ohtgzD5r"},{"type":"text","value":" (all headers), ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"q1UFA6AryU"},{"type":"inlineCode","value":"-D","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"UaFbStrfKm"},{"type":"text","value":" (disassemble all), ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"exNKy9ObGz"},{"type":"inlineCode","value":"-S","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"v7502r2Wvi"},{"type":"text","value":" (display source code with assembly), ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"GcSqEYvzvm"},{"type":"inlineCode","value":"-s","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"YtBFMF5fI4"},{"type":"text","value":" (full contents of all sections), ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"dBXKVk3psR"},{"type":"inlineCode","value":"-g","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"vzlHQc6iid"},{"type":"text","value":" (debug info), and finally, ","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"sCWPtorEMd"},{"type":"inlineCode","value":"-t","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"dLWQcPfttu"},{"type":"text","value":" (display contents of the symbol tables).","position":{"start":{"line":105,"column":1},"end":{"line":105,"column":1}},"key":"ntwML1TK6w"}],"key":"I9pKuLZXEf"},{"type":"paragraph","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"children":[{"type":"text","value":"We will now disassemble this program on the 64-bit ARM platform and step through the assembly instructions.","position":{"start":{"line":107,"column":1},"end":{"line":107,"column":1}},"key":"Voizi7uqNk"}],"key":"lcV0PJJnSs"},{"type":"thematicBreak","position":{"start":{"line":109,"column":1},"end":{"line":109,"column":1}},"key":"RVtqJi8gfw"},{"type":"heading","depth":2,"position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"children":[{"type":"text","value":"Disassembling ","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"terbsn9hAO"},{"type":"emphasis","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"children":[{"type":"text","value":"mod_int_Fortran_aarch64_ggdb3","position":{"start":{"line":111,"column":1},"end":{"line":111,"column":1}},"key":"ZNPpRuv9Or"}],"key":"VBwZd5fH9U"}],"identifier":"disassembling-mod-int-fortran-aarch64-ggdb3","label":"Disassembling mod_int_Fortran_aarch64_ggdb3","html_id":"disassembling-mod-int-fortran-aarch64-ggdb3","implicit":true,"key":"PoK02mhrfF"},{"type":"paragraph","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"children":[{"type":"text","value":"When we look at the executable’s objdump, we notice that there are two functions of interest, one is ","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"rvCAOGnak4"},{"type":"inlineCode","value":"main","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"yDWt751E2w"},{"type":"text","value":", and the other is ","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"Yd4lMBIIZy"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"u5sXE8VGk6"},{"type":"text","value":". The Fortran compiler sets up the program arguments and options in ","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"vZgn3ZL0gn"},{"type":"inlineCode","value":"main","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"Ky1YeQfxHz"},{"type":"text","value":", while the actual program is contained within ","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"SKEDU8qLNt"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"w7uFeuIC2R"},{"type":"text","value":" (that is capital MAIN followed by two underscores).","position":{"start":{"line":113,"column":1},"end":{"line":113,"column":1}},"key":"QuokRjUEd9"}],"key":"Fr7qjgK6j1"},{"type":"paragraph","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"children":[{"type":"text","value":"The following text from the executable’s objdump illustrates this:","position":{"start":{"line":115,"column":1},"end":{"line":115,"column":1}},"key":"niraVrRNoV"}],"key":"GM9DuL2aXZ"},{"type":"code","lang":"objdump","value":"Disassembly of section .text:\n\n0000000000000814 <MAIN__>:\nprogram mod_int\n 814:\td10043ff \tsub\tsp, sp, #0x10\n\n        implicit none\n\n        integer         :: a, b, c\n\n        a = 10\n 818:\t52800140 \tmov\tw0, #0xa                   \t// #10\n 81c:\tb9000fe0 \tstr\tw0, [sp, #12]\n        b = 4\n 820:\t52800080 \tmov\tw0, #0x4                   \t// #4\n 824:\tb9000be0 \tstr\tw0, [sp, #8]\n\n        c = MOD(a, b)\n 828:\tb9400fe0 \tldr\tw0, [sp, #12]\n 82c:\tb9400be1 \tldr\tw1, [sp, #8]\n 830:\t1ac10c02 \tsdiv\tw2, w0, w1\n 834:\tb9400be1 \tldr\tw1, [sp, #8]\n 838:\t1b017c41 \tmul\tw1, w2, w1\n 83c:\t4b010000 \tsub\tw0, w0, w1\n 840:\tb90007e0 \tstr\tw0, [sp, #4]\n\nend program mod_int\n 844:\td503201f \tnop\n 848:\t910043ff \tadd\tsp, sp, #0x10\n 84c:\td65f03c0 \tret\n\n0000000000000850 <main>:\n 850:\ta9be7bfd \tstp\tx29, x30, [sp, #-32]!\n 854:\t910003fd \tmov\tx29, sp\n 858:\tb9001fe0 \tstr\tw0, [sp, #28]\n 85c:\tf9000be1 \tstr\tx1, [sp, #16]\n 860:\tf9400be1 \tldr\tx1, [sp, #16]\n 864:\tb9401fe0 \tldr\tw0, [sp, #28]\n 868:\t97ffffa2 \tbl\t6f0 <_gfortran_set_args@plt>\n 86c:\t90000000 \tadrp\tx0, 0 <_init-0x660>\n 870:\t9124c001 \tadd\tx1, x0, #0x930\n 874:\t528000e0 \tmov\tw0, #0x7                   \t// #7\n 878:\t97ffff9a \tbl\t6e0 <_gfortran_set_options@plt>\n 87c:\t97ffffe6 \tbl\t814 <MAIN__>\n 880:\t52800000 \tmov\tw0, #0x0                   \t// #0\n 884:\ta8c27bfd \tldp\tx29, x30, [sp], #32\n 888:\td65f03c0 \tret\n 88c:\td503201f \tnop","position":{"start":{"line":117,"column":1},"end":{"line":166,"column":1}},"key":"DxU4mZBRSQ"},{"type":"heading","depth":2,"position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"children":[{"type":"text","value":"Explaining the Dissassembly by ChatGPT 4o","position":{"start":{"line":168,"column":1},"end":{"line":168,"column":1}},"key":"g8IN1BZrxv"}],"identifier":"explaining-the-dissassembly-by-chatgpt-4o","label":"Explaining the Dissassembly by ChatGPT 4o","html_id":"explaining-the-dissassembly-by-chatgpt-4o","implicit":true,"key":"OMzqIzIY96"},{"type":"paragraph","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"children":[{"type":"text","value":"This disassembly represents the ARM AArch64 machine code for a ","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"UEY7G4gL7x"},{"type":"strong","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"children":[{"type":"text","value":"Fortran program that performs an integer modulus operation using ","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"Q38bkTCqxo"},{"type":"inlineCode","value":"MOD(a, b)","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"qO7wwNYJJQ"}],"key":"F90rHcB35P"},{"type":"text","value":". In AArch64, there is ","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"oMG0BdyDkx"},{"type":"strong","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"children":[{"type":"text","value":"no single instruction for modulo","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"BnIOHrqp4X"}],"key":"PyRMghF6dC"},{"type":"text","value":", so the operation must be implemented using multiple primitive instructions.","position":{"start":{"line":170,"column":1},"end":{"line":170,"column":1}},"key":"bE6pTwlkOj"}],"key":"W2BmUYVbw4"},{"type":"paragraph","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"text","value":"Let’s examine in great detail ","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"Pz8yDhelHu"},{"type":"strong","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"text","value":"why","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"KukwxnyY34"}],"key":"ZkAhd95XwF"},{"type":"text","value":" and ","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"xvbZFzPuUK"},{"type":"strong","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"children":[{"type":"text","value":"how","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"upvCOlknuu"}],"key":"WpnuCKzQ45"},{"type":"text","value":" the compiler synthesizes ","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"aZQy1reVMV"},{"type":"inlineCode","value":"MOD(a, b)","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"aSAKmdvVSw"},{"type":"text","value":" using multiple instructions.","position":{"start":{"line":172,"column":1},"end":{"line":172,"column":1}},"key":"rcQTaZ2Zpj"}],"key":"CeKCVxShQA"},{"type":"thematicBreak","position":{"start":{"line":174,"column":1},"end":{"line":174,"column":1}},"key":"KwLGhUhvpo"},{"type":"heading","depth":2,"position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"children":[{"type":"text","value":"High-Level Fortran Code","position":{"start":{"line":176,"column":1},"end":{"line":176,"column":1}},"key":"HFUIipRALj"}],"identifier":"high-level-fortran-code","label":"High-Level Fortran Code","html_id":"high-level-fortran-code","implicit":true,"key":"l80SgkTDWp"},{"type":"code","lang":"fortran","value":"program mod_int\n  implicit none\n  integer :: a, b, c\n\n  a = 10\n  b = 4\n  c = MOD(a, b)\nend program mod_int","position":{"start":{"line":178,"column":1},"end":{"line":187,"column":1}},"key":"UPXIVBAiju"},{"type":"thematicBreak","position":{"start":{"line":189,"column":1},"end":{"line":189,"column":1}},"key":"M7VuBQiGfT"},{"type":"heading","depth":2,"position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"children":[{"type":"text","value":"Disassembly Overview","position":{"start":{"line":191,"column":1},"end":{"line":191,"column":1}},"key":"J9dwiAPanA"}],"identifier":"disassembly-overview","label":"Disassembly Overview","html_id":"disassembly-overview","implicit":true,"key":"U3AeiJTLTX"},{"type":"code","lang":"","value":"0000000000000814 <MAIN__>:","position":{"start":{"line":193,"column":1},"end":{"line":195,"column":1}},"key":"n0PqSEVCig"},{"type":"paragraph","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"children":[{"type":"text","value":"This is the Fortran-compiled ","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"pqxXQJoSNu"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"O1sbJrt2gI"},{"type":"text","value":" subroutine. Let’s go through it line by line, especially focusing on the ","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"OUM3glODFm"},{"type":"inlineCode","value":"MOD","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"R7JGTnlsAN"},{"type":"text","value":" operation.","position":{"start":{"line":197,"column":1},"end":{"line":197,"column":1}},"key":"CfhAbsS4eR"}],"key":"HzMoeTTeEc"},{"type":"thematicBreak","position":{"start":{"line":199,"column":1},"end":{"line":199,"column":1}},"key":"lsauZO89GJ"},{"type":"heading","depth":3,"position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"children":[{"type":"text","value":"1. Stack Frame Setup","position":{"start":{"line":201,"column":1},"end":{"line":201,"column":1}},"key":"WwgJb49wNt"}],"identifier":"id-1-stack-frame-setup","label":"1. Stack Frame Setup","html_id":"id-1-stack-frame-setup","implicit":true,"key":"yd9YYb2gle"},{"type":"code","lang":"asm","value":"814:\td10043ff \tsub\tsp, sp, #0x10","position":{"start":{"line":203,"column":1},"end":{"line":205,"column":1}},"key":"Wcmiyx1p9X"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":207,"column":1},"end":{"line":208,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":207,"column":1},"end":{"line":208,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Allocate 16 bytes on the stack for local variables ","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"dqcwN6sptP"},{"type":"inlineCode","value":"a","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"anN6Tz0Dbg"},{"type":"text","value":", ","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"lE7oslJIwh"},{"type":"inlineCode","value":"b","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"oMg6nJl2Yn"},{"type":"text","value":", and ","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"NY2DQevKga"},{"type":"inlineCode","value":"c","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"HBNLS4BvwT"},{"type":"text","value":".","position":{"start":{"line":207,"column":1},"end":{"line":207,"column":1}},"key":"oyVzh3fKxu"}],"key":"zfs77ygd9U"}],"key":"Y8U4ON0mzK"}],"key":"G01gyToA1v"},{"type":"thematicBreak","position":{"start":{"line":209,"column":1},"end":{"line":209,"column":1}},"key":"nRTfAcrN03"},{"type":"heading","depth":3,"position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"children":[{"type":"text","value":"2. Initialize ","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"aDDtvoyldP"},{"type":"inlineCode","value":"a = 10","position":{"start":{"line":211,"column":1},"end":{"line":211,"column":1}},"key":"teOfLOtoCi"}],"identifier":"id-2-initialize-a-10","label":"2. Initialize a = 10","html_id":"id-2-initialize-a-10","implicit":true,"key":"v3bbx8wD61"},{"type":"code","lang":"asm","value":"818:\t52800140 \tmov\tw0, #0xa           // w0 = 10\n81c:\tb9000fe0 \tstr\tw0, [sp, #12]      // store a at sp+12","position":{"start":{"line":213,"column":1},"end":{"line":216,"column":1}},"key":"sjDilecfq3"},{"type":"thematicBreak","position":{"start":{"line":218,"column":1},"end":{"line":218,"column":1}},"key":"FNvdzGOygy"},{"type":"heading","depth":3,"position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"children":[{"type":"text","value":"3. Initialize ","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"YEG4QRBUPF"},{"type":"inlineCode","value":"b = 4","position":{"start":{"line":220,"column":1},"end":{"line":220,"column":1}},"key":"pEBcEKkK91"}],"identifier":"id-3-initialize-b-4","label":"3. Initialize b = 4","html_id":"id-3-initialize-b-4","implicit":true,"key":"HKiUMHF6yP"},{"type":"code","lang":"asm","value":"820:\t52800080 \tmov\tw0, #0x4           // w0 = 4\n824:\tb9000be0 \tstr\tw0, [sp, #8]       // store b at sp+8","position":{"start":{"line":222,"column":1},"end":{"line":225,"column":1}},"key":"cP7zIX8cqg"},{"type":"thematicBreak","position":{"start":{"line":227,"column":1},"end":{"line":227,"column":1}},"key":"C7HRAYhRre"},{"type":"heading","depth":2,"position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"children":[{"type":"text","value":"4. Perform ","position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"key":"Qc8w7ckzhH"},{"type":"inlineCode","value":"c = MOD(a, b)","position":{"start":{"line":229,"column":1},"end":{"line":229,"column":1}},"key":"C1JwS1MqBv"}],"identifier":"id-4-perform-c-mod-a-b","label":"4. Perform c = MOD(a, b)","html_id":"id-4-perform-c-mod-a-b","implicit":true,"key":"dugqYvaP4X"},{"type":"paragraph","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"children":[{"type":"text","value":"Here is the key section of interest:","position":{"start":{"line":231,"column":1},"end":{"line":231,"column":1}},"key":"gzEEpTFREg"}],"key":"OHj1vygLZf"},{"type":"code","lang":"asm","value":"828:\tb9400fe0 \tldr\tw0, [sp, #12]      // load a into w0\n82c:\tb9400be1 \tldr\tw1, [sp, #8]       // load b into w1\n830:\t1ac10c02 \tsdiv\tw2, w0, w1         // w2 = a / b (integer division)\n834:\tb9400be1 \tldr\tw1, [sp, #8]       // reload b into w1\n838:\t1b017c41 \tmul\tw1, w2, w1         // w1 = (a / b) * b\n83c:\t4b010000 \tsub\tw0, w0, w1         // w0 = a - (a / b) * b = MOD(a, b)\n840:\tb90007e0 \tstr\tw0, [sp, #4]       // store result in c","position":{"start":{"line":233,"column":1},"end":{"line":241,"column":1}},"key":"GggMSY4S0i"},{"type":"heading","depth":3,"position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"children":[{"type":"text","value":"Step-by-step Breakdown of ","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"key":"hQI5mUir24"},{"type":"inlineCode","value":"MOD(a, b)","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"key":"f4GlOMJutf"},{"type":"text","value":":","position":{"start":{"line":243,"column":1},"end":{"line":243,"column":1}},"key":"zxlPmaXY14"}],"identifier":"step-by-step-breakdown-of-mod-a-b","label":"Step-by-step Breakdown of MOD(a, b):","html_id":"step-by-step-breakdown-of-mod-a-b","implicit":true,"key":"NqtyBpaPyW"},{"type":"paragraph","position":{"start":{"line":245,"column":1},"end":{"line":245,"column":1}},"children":[{"type":"strong","position":{"start":{"line":245,"column":1},"end":{"line":245,"column":1}},"children":[{"type":"text","value":"The formula implemented is:","position":{"start":{"line":245,"column":1},"end":{"line":245,"column":1}},"key":"nEsq8tKc5R"}],"key":"uu9y9ZsJgM"}],"key":"xafjKNuTXC"},{"type":"math","value":"\\text{MOD}(a, b) = a - \\left(\\left\\lfloor \\frac{a}{b} \\right\\rfloor \\times b\\right)","position":{"start":{"line":247,"column":1},"end":{"line":249,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mtext>MOD</mtext><mo stretchy=\"false\">(</mo><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>a</mi><mo>−</mo><mrow><mo fence=\"true\">(</mo><mrow><mo fence=\"true\">⌊</mo><mfrac><mi>a</mi><mi>b</mi></mfrac><mo fence=\"true\">⌋</mo></mrow><mo>×</mo><mi>b</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">\\text{MOD}(a, b) = a - \\left(\\left\\lfloor \\frac{a}{b} \\right\\rfloor \\times b\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord text\"><span class=\"mord\">MOD</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.836em;vertical-align:-0.686em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">(</span></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">⌊</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1076em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">⌋</span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">)</span></span></span></span></span></span></span>","enumerator":"1","key":"HXOXhGwWDV"},{"type":"paragraph","position":{"start":{"line":251,"column":1},"end":{"line":251,"column":1}},"children":[{"type":"text","value":"In ARM64:","position":{"start":{"line":251,"column":1},"end":{"line":251,"column":1}},"key":"j07RH4IrWs"}],"key":"SJQFlGluV2"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":253,"column":1},"end":{"line":259,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"children":[{"type":"text","value":"No ","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"mDEKWv5oFr"},{"type":"inlineCode","value":"mod","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"dyWYUxU5KU"},{"type":"text","value":" or ","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"QTxFNBH6xN"},{"type":"inlineCode","value":"remainder","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"u7H9xZE1ef"},{"type":"text","value":" instruction exists.","position":{"start":{"line":253,"column":1},"end":{"line":253,"column":1}},"key":"MYJcJk2P7H"}],"key":"ckhJt25Zn6"}],"key":"ISwHsoyFiC"},{"type":"listItem","spread":true,"position":{"start":{"line":254,"column":1},"end":{"line":259,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"children":[{"type":"text","value":"We must ","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"key":"DrgF2KTWyS"},{"type":"strong","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"children":[{"type":"text","value":"simulate","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"key":"D9XDDzeyDP"}],"key":"zRkiAtY9BT"},{"type":"text","value":" the modulus using:","position":{"start":{"line":254,"column":1},"end":{"line":254,"column":1}},"key":"MJ0KfYbo4h"}],"key":"KZvRqZ2wnu"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":256,"column":1},"end":{"line":259,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"children":[{"type":"text","value":"Signed integer division","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"key":"pJKIhBsPsW"}],"key":"WkLIoojfE0"},{"type":"text","value":": ","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"key":"Ig75CmCcWq"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":256,"column":1},"end":{"line":256,"column":1}},"key":"fHnaxKD9Wv"}],"key":"cAuHwThRsj"}],"key":"NLuNE41zAt"},{"type":"listItem","spread":true,"position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"children":[{"type":"text","value":"Multiplication","position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"key":"G8fpMIbO8b"}],"key":"BV04PPtgNU"},{"type":"text","value":": ","position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"key":"eh5cnLGsOw"},{"type":"inlineCode","value":"mul","position":{"start":{"line":257,"column":1},"end":{"line":257,"column":1}},"key":"lbGIeZxmci"}],"key":"ZNSY8Ni9dr"}],"key":"oluF3O358l"},{"type":"listItem","spread":true,"position":{"start":{"line":258,"column":1},"end":{"line":259,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"children":[{"type":"text","value":"Subtraction","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"key":"uGjtBTnztG"}],"key":"j0gSFSSdA5"},{"type":"text","value":": ","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"key":"rHxjBSpOMf"},{"type":"inlineCode","value":"sub","position":{"start":{"line":258,"column":1},"end":{"line":258,"column":1}},"key":"UBsk2Elct7"}],"key":"LVa2PUH7pz"}],"key":"tyOhBDnDbL"}],"key":"cp9ZcUluM5"}],"key":"PmG7uKbUpb"}],"key":"p7AOxKBHOP"},{"type":"thematicBreak","position":{"start":{"line":260,"column":1},"end":{"line":260,"column":1}},"key":"u0F10eExkD"},{"type":"heading","depth":3,"position":{"start":{"line":262,"column":1},"end":{"line":262,"column":1}},"children":[{"type":"text","value":"Why multiple operations?","position":{"start":{"line":262,"column":1},"end":{"line":262,"column":1}},"key":"TC7rQcfiAH"}],"identifier":"why-multiple-operations","label":"Why multiple operations?","html_id":"why-multiple-operations","implicit":true,"key":"fYD9xPbHSk"},{"type":"heading","depth":4,"position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"children":[{"type":"text","value":"There’s no native ","position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"key":"sQ5O6Upt5d"},{"type":"inlineCode","value":"mod","position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"key":"RCAepW3YWh"},{"type":"text","value":" instruction","position":{"start":{"line":264,"column":1},"end":{"line":264,"column":1}},"key":"KWdw2McWvJ"}],"identifier":"theres-no-native-mod-instruction","label":"There’s no native mod instruction","html_id":"theres-no-native-mod-instruction","implicit":true,"key":"H03vKJQZnV"},{"type":"paragraph","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"children":[{"type":"text","value":"Unlike some architectures (e.g., x86 with ","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"b8cXq4LmGp"},{"type":"inlineCode","value":"idiv","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"fpaSG5PLOF"},{"type":"text","value":" producing remainder), ","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"OLhDSAxLLl"},{"type":"strong","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"children":[{"type":"text","value":"ARM AArch64 has only ","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"YdBk1GD7tu"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"qhJLTD7WrD"}],"key":"aBMS27OkW0"},{"type":"text","value":", which gives you:","position":{"start":{"line":266,"column":1},"end":{"line":266,"column":1}},"key":"Agl8ADIp4b"}],"key":"Hxr0eEa8E4"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":268,"column":1},"end":{"line":269,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":268,"column":1},"end":{"line":269,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"The ","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"rkBDWNYzYo"},{"type":"strong","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"children":[{"type":"text","value":"quotient","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"UlwG06r8DC"}],"key":"dGZthPcgR2"},{"type":"text","value":", but not the ","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"ODkf5D0YDp"},{"type":"strong","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"children":[{"type":"text","value":"remainder","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"kKFsZ2C7tI"}],"key":"M80aqxDGYH"},{"type":"text","value":".","position":{"start":{"line":268,"column":1},"end":{"line":268,"column":1}},"key":"OyXlx8yMvR"}],"key":"GGA9tgA9JS"}],"key":"Jh49ePTt4H"}],"key":"aef8EZDCcH"},{"type":"paragraph","position":{"start":{"line":270,"column":1},"end":{"line":270,"column":1}},"children":[{"type":"text","value":"To compute the modulus, we must do:","position":{"start":{"line":270,"column":1},"end":{"line":270,"column":1}},"key":"ZdEZOQB784"}],"key":"ZC95jiyZEZ"},{"type":"math","value":"\\text{MOD}(a, b) = a - \\left(\\left( \\text{a div b} \\right) \\cdot b\\right)","position":{"start":{"line":272,"column":1},"end":{"line":274,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mtext>MOD</mtext><mo stretchy=\"false\">(</mo><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>a</mi><mo>−</mo><mrow><mo fence=\"true\">(</mo><mrow><mo fence=\"true\">(</mo><mtext>a div b</mtext><mo fence=\"true\">)</mo></mrow><mo>⋅</mo><mi>b</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">\\text{MOD}(a, b) = a - \\left(\\left( \\text{a div b} \\right) \\cdot b\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord text\"><span class=\"mord\">MOD</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\">(</span><span class=\"mord text\"><span class=\"mord\">a div b</span></span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose delimcenter\" style=\"top:0em;\">)</span></span></span></span></span></span>","enumerator":"2","key":"srS3W92oW6"},{"type":"paragraph","position":{"start":{"line":276,"column":1},"end":{"line":276,"column":1}},"children":[{"type":"text","value":"This is mathematically sound because:","position":{"start":{"line":276,"column":1},"end":{"line":276,"column":1}},"key":"MuJVCTDiVn"}],"key":"G3O6hQhpiJ"},{"type":"math","value":"a = (a \\div b) \\cdot b + (a \\mod b)\n\\Rightarrow\na \\mod b = a - (a \\div b) \\cdot b","position":{"start":{"line":278,"column":1},"end":{"line":282,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mi>a</mi><mo>=</mo><mo stretchy=\"false\">(</mo><mi>a</mi><mo>÷</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>⋅</mo><mi>b</mi><mo>+</mo><mo stretchy=\"false\">(</mo><mi>a</mi><mspace></mspace><mspace width=\"1em\"/><mrow><mi mathvariant=\"normal\">m</mi><mi mathvariant=\"normal\">o</mi><mi mathvariant=\"normal\">d</mi></mrow><mtext> </mtext><mtext> </mtext><mi>b</mi><mo stretchy=\"false\">)</mo><mo>⇒</mo><mi>a</mi><mspace></mspace><mspace width=\"1em\"/><mrow><mi mathvariant=\"normal\">m</mi><mi mathvariant=\"normal\">o</mi><mi mathvariant=\"normal\">d</mi></mrow><mtext> </mtext><mtext> </mtext><mi>b</mi><mo>=</mo><mi>a</mi><mo>−</mo><mo stretchy=\"false\">(</mo><mi>a</mi><mo>÷</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>⋅</mo><mi>b</mi></mrow><annotation encoding=\"application/x-tex\">a = (a \\div b) \\cdot b + (a \\mod b)\n\\Rightarrow\na \\mod b = a - (a \\div b) \\cdot b</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">÷</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.7778em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">+</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mspace allowbreak\"></span><span class=\"mspace\" style=\"margin-right:1em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">mod</span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">⇒</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.4306em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace allowbreak\"></span><span class=\"mspace\" style=\"margin-right:1em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord\"><span class=\"mord\"><span class=\"mord mathrm\">mod</span></span></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">÷</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">⋅</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6944em;\"></span><span class=\"mord mathnormal\">b</span></span></span></span></span>","enumerator":"3","key":"AJb9eTZtkS"},{"type":"thematicBreak","position":{"start":{"line":284,"column":1},"end":{"line":284,"column":1}},"key":"RkmwbxWuk3"},{"type":"heading","depth":3,"position":{"start":{"line":286,"column":1},"end":{"line":286,"column":1}},"children":[{"type":"text","value":"Instruction-by-instruction: ","position":{"start":{"line":286,"column":1},"end":{"line":286,"column":1}},"key":"LLF7PSjnES"},{"type":"inlineCode","value":"MOD(a, b)","position":{"start":{"line":286,"column":1},"end":{"line":286,"column":1}},"key":"X0oO3sMYVy"}],"identifier":"instruction-by-instruction-mod-a-b","label":"Instruction-by-instruction: MOD(a, b)","html_id":"instruction-by-instruction-mod-a-b","implicit":true,"key":"vHdSJ8peUU"},{"type":"heading","depth":4,"position":{"start":{"line":288,"column":1},"end":{"line":288,"column":1}},"children":[{"type":"text","value":"Load values:","position":{"start":{"line":288,"column":1},"end":{"line":288,"column":1}},"key":"bov8QLdDs7"}],"identifier":"load-values","label":"Load values:","html_id":"load-values","implicit":true,"key":"zxIu8GDcqi"},{"type":"code","lang":"asm","value":"828:\tb9400fe0 \tldr\tw0, [sp, #12]      // w0 = a = 10\n82c:\tb9400be1 \tldr\tw1, [sp, #8]       // w1 = b = 4","position":{"start":{"line":290,"column":1},"end":{"line":293,"column":1}},"key":"PwyDNOe6Yn"},{"type":"heading","depth":4,"position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"children":[{"type":"text","value":"Integer Division:","position":{"start":{"line":295,"column":1},"end":{"line":295,"column":1}},"key":"exfohM8jKN"}],"identifier":"integer-division","label":"Integer Division:","html_id":"integer-division","implicit":true,"key":"MZcW5BBKDy"},{"type":"code","lang":"asm","value":"830:\t1ac10c02 \tsdiv\tw2, w0, w1         // w2 = w0 / w1 = 10 / 4 = 2","position":{"start":{"line":297,"column":1},"end":{"line":299,"column":1}},"key":"AUK5yBqx6t"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":301,"column":1},"end":{"line":302,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":301,"column":1},"end":{"line":302,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Signed division: result in ","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"jq6q9t7hb5"},{"type":"inlineCode","value":"w2 = 2","position":{"start":{"line":301,"column":1},"end":{"line":301,"column":1}},"key":"NKwilnZqBK"}],"key":"eE3AV0LHMB"}],"key":"mJG23kYRBX"}],"key":"mbLIJdgxPt"},{"type":"heading","depth":4,"position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"children":[{"type":"text","value":"Reload ","position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"key":"DMSIdqoCN9"},{"type":"inlineCode","value":"b","position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"key":"RUPF3LdILu"},{"type":"text","value":":","position":{"start":{"line":303,"column":1},"end":{"line":303,"column":1}},"key":"PZqud4KsIy"}],"identifier":"reload-b","label":"Reload b:","html_id":"reload-b","implicit":true,"key":"rArQagmBTL"},{"type":"code","lang":"asm","value":"834:\tb9400be1 \tldr\tw1, [sp, #8]       // w1 = b = 4","position":{"start":{"line":305,"column":1},"end":{"line":307,"column":1}},"key":"rI80ts1uI8"},{"type":"heading","depth":4,"position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"children":[{"type":"text","value":"Multiply quotient × b:","position":{"start":{"line":309,"column":1},"end":{"line":309,"column":1}},"key":"jcFC1LkZAO"}],"identifier":"multiply-quotient-b","label":"Multiply quotient × b:","html_id":"multiply-quotient-b","implicit":true,"key":"nF1CdCsX5I"},{"type":"code","lang":"asm","value":"838:\t1b017c41 \tmul\tw1, w2, w1         // w1 = 2 * 4 = 8","position":{"start":{"line":311,"column":1},"end":{"line":313,"column":1}},"key":"jzeoBWPBHI"},{"type":"heading","depth":4,"position":{"start":{"line":315,"column":1},"end":{"line":315,"column":1}},"children":[{"type":"text","value":"Subtract to get modulus:","position":{"start":{"line":315,"column":1},"end":{"line":315,"column":1}},"key":"x5FXmbd2HJ"}],"identifier":"subtract-to-get-modulus","label":"Subtract to get modulus:","html_id":"subtract-to-get-modulus","implicit":true,"key":"Tgq3dejexR"},{"type":"code","lang":"asm","value":"83c:\t4b010000 \tsub\tw0, w0, w1         // w0 = 10 - 8 = 2","position":{"start":{"line":317,"column":1},"end":{"line":319,"column":1}},"key":"qrepBTBQp4"},{"type":"heading","depth":4,"position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"children":[{"type":"text","value":"Store result:","position":{"start":{"line":321,"column":1},"end":{"line":321,"column":1}},"key":"HwrghLDCvY"}],"identifier":"store-result","label":"Store result:","html_id":"store-result","implicit":true,"key":"hWOjtTY53n"},{"type":"code","lang":"asm","value":"840:\tb90007e0 \tstr\tw0, [sp, #4]       // store c = 2","position":{"start":{"line":323,"column":1},"end":{"line":325,"column":1}},"key":"qAHtVPOZFa"},{"type":"thematicBreak","position":{"start":{"line":327,"column":1},"end":{"line":327,"column":1}},"key":"BiuWwhYjQF"},{"type":"heading","depth":2,"position":{"start":{"line":329,"column":1},"end":{"line":329,"column":1}},"children":[{"type":"text","value":"Function Epilogue","position":{"start":{"line":329,"column":1},"end":{"line":329,"column":1}},"key":"v4iXvtRDQp"}],"identifier":"function-epilogue","label":"Function Epilogue","html_id":"function-epilogue","implicit":true,"key":"XOcVD6HYCb"},{"type":"code","lang":"asm","value":"844:\td503201f \tnop\n848:\t910043ff \tadd\tsp, sp, #0x10      // restore original stack pointer\n84c:\td65f03c0 \tret                   // return","position":{"start":{"line":331,"column":1},"end":{"line":335,"column":1}},"key":"FCCBDI5wSa"},{"type":"thematicBreak","position":{"start":{"line":337,"column":1},"end":{"line":337,"column":1}},"key":"hh3XFn2430"},{"type":"heading","depth":2,"position":{"start":{"line":339,"column":1},"end":{"line":339,"column":1}},"children":[{"type":"text","value":"Final Stack Layout","position":{"start":{"line":339,"column":1},"end":{"line":339,"column":1}},"key":"YBqAmNG0P5"}],"identifier":"final-stack-layout","label":"Final Stack Layout","html_id":"final-stack-layout","implicit":true,"key":"Ng7zs6GlJu"},{"type":"table","position":{"start":{"line":341,"column":1},"end":{"line":345,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"children":[{"type":"text","value":"Offset","position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"key":"qWLzGcs0va"}],"key":"dDv7qUgBNQ"},{"type":"tableCell","header":true,"position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"children":[{"type":"text","value":"Variable","position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"key":"jFUdpPp0hh"}],"key":"HmnwDTRz3B"},{"type":"tableCell","header":true,"position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"children":[{"type":"text","value":"Value","position":{"start":{"line":341,"column":1},"end":{"line":341,"column":1}},"key":"X7RkbXTwhV"}],"key":"lF2UnPv7Y9"}],"key":"GqCD6AWlqI"},{"type":"tableRow","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"children":[{"type":"text","value":"+12","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"key":"yEWeRBQ1GY"}],"key":"HZltOvBphF"},{"type":"tableCell","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"children":[{"type":"inlineCode","value":"a","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"key":"fwJ1QAyVbN"}],"key":"Hadro7jfog"},{"type":"tableCell","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"children":[{"type":"text","value":"10","position":{"start":{"line":343,"column":1},"end":{"line":343,"column":1}},"key":"bFNkIrBeE9"}],"key":"fG0QXpmd6M"}],"key":"XiWg57I2BN"},{"type":"tableRow","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"children":[{"type":"text","value":"+8","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"key":"bCQSYtBvL0"}],"key":"ytSOfXldeQ"},{"type":"tableCell","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"children":[{"type":"inlineCode","value":"b","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"key":"qj8MYRtI1E"}],"key":"UtcecQgjZK"},{"type":"tableCell","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"children":[{"type":"text","value":"4","position":{"start":{"line":344,"column":1},"end":{"line":344,"column":1}},"key":"lIflRpQCKy"}],"key":"PabTZTP6lb"}],"key":"gSL4HgsdQN"},{"type":"tableRow","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"children":[{"type":"text","value":"+4","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"key":"wRM3yR2KWY"}],"key":"b8zb40Np0v"},{"type":"tableCell","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"children":[{"type":"inlineCode","value":"c","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"key":"telTb1mfnU"}],"key":"EnLhIdUg4A"},{"type":"tableCell","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"children":[{"type":"text","value":"2","position":{"start":{"line":345,"column":1},"end":{"line":345,"column":1}},"key":"pO4QvclrIC"}],"key":"Wyh6EK3jTl"}],"key":"KL90Mprjy4"}],"key":"iBtzvb2TG0"},{"type":"thematicBreak","position":{"start":{"line":347,"column":1},"end":{"line":347,"column":1}},"key":"rReEPHQjst"},{"type":"heading","depth":2,"position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"children":[{"type":"text","value":"Summary: Why Multiple Instructions Are Needed for ","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"key":"PAOxq2EECV"},{"type":"inlineCode","value":"MOD","position":{"start":{"line":349,"column":1},"end":{"line":349,"column":1}},"key":"jJCdvImuEI"}],"identifier":"summary-why-multiple-instructions-are-needed-for-mod","label":"Summary: Why Multiple Instructions Are Needed for MOD","html_id":"summary-why-multiple-instructions-are-needed-for-mod","implicit":true,"key":"seRgJ24RCj"},{"type":"table","position":{"start":{"line":351,"column":1},"end":{"line":355,"column":1}},"children":[{"type":"tableRow","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"children":[{"type":"tableCell","header":true,"position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"children":[{"type":"text","value":"Operation","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"afZ294hlHz"}],"key":"o0CyYDzH43"},{"type":"tableCell","header":true,"position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"children":[{"type":"text","value":"ARM64 Instruction","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"rSLZqgWTEm"}],"key":"Jp3ZOaXHA6"},{"type":"tableCell","header":true,"position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"children":[{"type":"text","value":"Purpose","position":{"start":{"line":351,"column":1},"end":{"line":351,"column":1}},"key":"iYZFOVOKbp"}],"key":"hfJHDWtAbb"}],"key":"qqjK13zsJ5"},{"type":"tableRow","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"children":[{"type":"text","value":"Integer Division","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"key":"GXdPUicViB"}],"key":"J871xuoLX0"},{"type":"tableCell","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"children":[{"type":"inlineCode","value":"sdiv","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"key":"ck3Fz78G4i"}],"key":"rXf8Yz7Hoh"},{"type":"tableCell","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"children":[{"type":"text","value":"Compute quotient","position":{"start":{"line":353,"column":1},"end":{"line":353,"column":1}},"key":"y86jXRvbFo"}],"key":"WMmYy241Mx"}],"key":"EtgC4FGuuR"},{"type":"tableRow","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"children":[{"type":"text","value":"Multiply","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"key":"l2Yl58ech3"}],"key":"T4X3Vfn9w9"},{"type":"tableCell","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"children":[{"type":"inlineCode","value":"mul","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"key":"JNA66jPOGL"}],"key":"iu7Yph6IHX"},{"type":"tableCell","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"children":[{"type":"text","value":"Compute ","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"key":"P3oybbeb5u"},{"type":"inlineCode","value":"(a / b) * b","position":{"start":{"line":354,"column":1},"end":{"line":354,"column":1}},"key":"yqM3QPTevG"}],"key":"jHNIEaqd5c"}],"key":"Gfl8AO9rzQ"},{"type":"tableRow","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"children":[{"type":"tableCell","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"children":[{"type":"text","value":"Subtract","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"key":"AG1OzhJZbG"}],"key":"hrtaL0XkXs"},{"type":"tableCell","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"children":[{"type":"inlineCode","value":"sub","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"key":"KZwtTEuoE6"}],"key":"RqTDDeV6Ut"},{"type":"tableCell","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"children":[{"type":"text","value":"Get remainder: ","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"key":"S5QIhZ99MU"},{"type":"inlineCode","value":"a - (a / b) * b","position":{"start":{"line":355,"column":1},"end":{"line":355,"column":1}},"key":"MezpGuv8GM"}],"key":"oVAf2viz1k"}],"key":"VVEE10Uob8"}],"key":"QoQC8Jcqlf"},{"type":"heading","depth":3,"position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"children":[{"type":"text","value":"Because ARM64 lacks a direct ","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"pt0qCiGlra"},{"type":"inlineCode","value":"mod","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"lxZsCcEcqT"},{"type":"text","value":" instruction, the compiler ","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"BH9bQuDHPd"},{"type":"strong","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"children":[{"type":"text","value":"emulates","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"C536pRd2Uf"}],"key":"cDCuiKMOtu"},{"type":"text","value":" it via:","position":{"start":{"line":357,"column":1},"end":{"line":357,"column":1}},"key":"dOsFCVaiZb"}],"identifier":"because-arm64-lacks-a-direct-mod-instruction-the-compiler-emulates-it-via","label":"Because ARM64 lacks a direct mod instruction, the compiler emulates it via:","html_id":"because-arm64-lacks-a-direct-mod-instruction-the-compiler-emulates-it-via","implicit":true,"key":"rXtoqbvo4p"},{"type":"math","value":"\\text{MOD}(a, b) = a - \\left(\\left\\lfloor \\frac{a}{b} \\right\\rfloor \\times b\\right)","position":{"start":{"line":359,"column":1},"end":{"line":361,"column":1}},"html":"<span class=\"katex-display\"><span class=\"katex\"><span class=\"katex-mathml\"><math xmlns=\"http://www.w3.org/1998/Math/MathML\" display=\"block\"><semantics><mrow><mtext>MOD</mtext><mo stretchy=\"false\">(</mo><mi>a</mi><mo separator=\"true\">,</mo><mi>b</mi><mo stretchy=\"false\">)</mo><mo>=</mo><mi>a</mi><mo>−</mo><mrow><mo fence=\"true\">(</mo><mrow><mo fence=\"true\">⌊</mo><mfrac><mi>a</mi><mi>b</mi></mfrac><mo fence=\"true\">⌋</mo></mrow><mo>×</mo><mi>b</mi><mo fence=\"true\">)</mo></mrow></mrow><annotation encoding=\"application/x-tex\">\\text{MOD}(a, b) = a - \\left(\\left\\lfloor \\frac{a}{b} \\right\\rfloor \\times b\\right)</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"base\"><span class=\"strut\" style=\"height:1em;vertical-align:-0.25em;\"></span><span class=\"mord text\"><span class=\"mord\">MOD</span></span><span class=\"mopen\">(</span><span class=\"mord mathnormal\">a</span><span class=\"mpunct\">,</span><span class=\"mspace\" style=\"margin-right:0.1667em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose\">)</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span><span class=\"mrel\">=</span><span class=\"mspace\" style=\"margin-right:0.2778em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:0.6667em;vertical-align:-0.0833em;\"></span><span class=\"mord mathnormal\">a</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">−</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span></span><span class=\"base\"><span class=\"strut\" style=\"height:1.836em;vertical-align:-0.686em;\"></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">(</span></span><span class=\"minner\"><span class=\"mopen delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">⌊</span></span><span class=\"mord\"><span class=\"mopen nulldelimiter\"></span><span class=\"mfrac\"><span class=\"vlist-t vlist-t2\"><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:1.1076em;\"><span style=\"top:-2.314em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">b</span></span></span><span style=\"top:-3.23em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"frac-line\" style=\"border-bottom-width:0.04em;\"></span></span><span style=\"top:-3.677em;\"><span class=\"pstrut\" style=\"height:3em;\"></span><span class=\"mord\"><span class=\"mord mathnormal\">a</span></span></span></span><span class=\"vlist-s\">​</span></span><span class=\"vlist-r\"><span class=\"vlist\" style=\"height:0.686em;\"><span></span></span></span></span></span><span class=\"mclose nulldelimiter\"></span></span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">⌋</span></span></span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mbin\">×</span><span class=\"mspace\" style=\"margin-right:0.2222em;\"></span><span class=\"mord mathnormal\">b</span><span class=\"mclose delimcenter\" style=\"top:0em;\"><span class=\"delimsizing size2\">)</span></span></span></span></span></span></span>","enumerator":"4","key":"SIUeWLvJuv"},{"type":"thematicBreak","position":{"start":{"line":363,"column":1},"end":{"line":363,"column":1}},"key":"gI06Ek0HmO"},{"type":"paragraph","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"children":[{"type":"text","value":"Let me know if you’d like a version that works with ","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"IUnCh4n6Jf"},{"type":"strong","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"children":[{"type":"text","value":"negative numbers","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"JsvYRU4LOw"}],"key":"EL1r1P3rJw"},{"type":"text","value":" or Fortran’s ","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"X7d0sQLC6f"},{"type":"inlineCode","value":"MODULO()","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"Hi0vAIpXku"},{"type":"text","value":" semantics (which differ subtly from ","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"Ew6m8ZWYIr"},{"type":"inlineCode","value":"MOD","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"t1WO0ZGxJw"},{"type":"text","value":").","position":{"start":{"line":365,"column":1},"end":{"line":365,"column":1}},"key":"DDN1BMRZgE"}],"key":"FWm5hsMqhV"},{"type":"heading","depth":2,"position":{"start":{"line":368,"column":1},"end":{"line":368,"column":1}},"children":[{"type":"text","value":"Explaining the Disassembly by Grok 4","position":{"start":{"line":368,"column":1},"end":{"line":368,"column":1}},"key":"ZvvbnUHyxN"}],"identifier":"explaining-the-disassembly-by-grok-4","label":"Explaining the Disassembly by Grok 4","html_id":"explaining-the-disassembly-by-grok-4","implicit":true,"key":"LTB3JOJ2Gk"},{"type":"heading","depth":3,"position":{"start":{"line":370,"column":1},"end":{"line":370,"column":1}},"children":[{"type":"text","value":"Overview of the Disassembly","position":{"start":{"line":370,"column":1},"end":{"line":370,"column":1}},"key":"LIeE02676O"}],"identifier":"overview-of-the-disassembly","label":"Overview of the Disassembly","html_id":"overview-of-the-disassembly","implicit":true,"key":"cHZMCGIwwn"},{"type":"paragraph","position":{"start":{"line":371,"column":1},"end":{"line":371,"column":1}},"children":[{"type":"text","value":"This disassembly is in ARM64 (AArch64) assembly language, representing the machine code generated from a simple Fortran program named ","position":{"start":{"line":371,"column":1},"end":{"line":371,"column":1}},"key":"rUc4N8qHfv"},{"type":"inlineCode","value":"mod_int","position":{"start":{"line":371,"column":1},"end":{"line":371,"column":1}},"key":"F0xy6qSMiP"},{"type":"text","value":". The Fortran source is provided inline for context:","position":{"start":{"line":371,"column":1},"end":{"line":371,"column":1}},"key":"lWL7q0Pc15"}],"key":"XCut8dfInf"},{"type":"code","lang":"fortran","value":"program mod_int\n    implicit none\n    integer :: a, b, c\n    a = 10\n    b = 4\n    c = MOD(a, b)\nend program mod_int","position":{"start":{"line":372,"column":1},"end":{"line":380,"column":1}},"key":"sMbT5UVYjd"},{"type":"paragraph","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"children":[{"type":"text","value":"This program declares three 32-bit integers (","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"rBhYOs845v"},{"type":"inlineCode","value":"a","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"xe8Nh5ldGJ"},{"type":"text","value":", ","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"IE9ZQ8WlRq"},{"type":"inlineCode","value":"b","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"ryIjL6RU8M"},{"type":"text","value":", ","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"S3uISNbWUR"},{"type":"inlineCode","value":"c","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"bdK3RN4tkT"},{"type":"text","value":"), assigns ","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"qKSj8qEecN"},{"type":"inlineCode","value":"a = 10","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"VlHe7teV5U"},{"type":"text","value":" and ","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"CjmYICk1zo"},{"type":"inlineCode","value":"b = 4","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"lHvATNoky0"},{"type":"text","value":", and computes ","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"XjKt2R7CQB"},{"type":"inlineCode","value":"c = MOD(10, 4)","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"FjRafUwMFl"},{"type":"text","value":", which should yield ","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"IlQdFvwN5s"},{"type":"inlineCode","value":"2","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"TBdeqSW1gk"},{"type":"text","value":" (the remainder of 10 divided by 4). The result is stored but not used further (e.g., no printing or return value), so the program has no visible side effects when run—it simply computes and exits.","position":{"start":{"line":381,"column":1},"end":{"line":381,"column":1}},"key":"Z4iMFMOpwb"}],"key":"YL39bUvggD"},{"type":"paragraph","position":{"start":{"line":383,"column":1},"end":{"line":383,"column":1}},"children":[{"type":"text","value":"The disassembly consists of two main functions:","position":{"start":{"line":383,"column":1},"end":{"line":383,"column":1}},"key":"MCl1pRvpsQ"}],"key":"L1NhHwWBQF"},{"type":"list","ordered":true,"start":1,"spread":false,"position":{"start":{"line":384,"column":1},"end":{"line":386,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":384,"column":1},"end":{"line":384,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":384,"column":1},"end":{"line":384,"column":1}},"children":[{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":384,"column":1},"end":{"line":384,"column":1}},"key":"goR7UcuRHX"},{"type":"text","value":" at address ","position":{"start":{"line":384,"column":1},"end":{"line":384,"column":1}},"key":"nlHU2S8sAh"},{"type":"inlineCode","value":"0x814","position":{"start":{"line":384,"column":1},"end":{"line":384,"column":1}},"key":"f3uW0cKCUD"}],"key":"Pvb3Us364S"},{"type":"text","value":": This is the compiler-generated name for the Fortran program’s body (common in gfortran). It allocates stack space for the three integers, performs the assignments and modulo operation, and returns.","position":{"start":{"line":384,"column":1},"end":{"line":384,"column":1}},"key":"LO4WkNNz7z"}],"key":"OCh49ObRyA"}],"key":"Ls4Ku8fI9J"},{"type":"listItem","spread":true,"position":{"start":{"line":385,"column":1},"end":{"line":386,"column":1}},"children":[{"type":"paragraph","children":[{"type":"strong","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"children":[{"type":"inlineCode","value":"main","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"pzo0yVcVRd"},{"type":"text","value":" at address ","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"XYOon7qP97"},{"type":"inlineCode","value":"0x850","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"PxdFhFeRNa"}],"key":"mCRZz911UW"},{"type":"text","value":": The C-style entry point for the executable, which handles command-line arguments, initializes the GNU Fortran (gfortran) runtime library, calls ","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"YEByNrpMY6"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"HY2gQZ8kLi"},{"type":"text","value":", and exits with status 0.","position":{"start":{"line":385,"column":1},"end":{"line":385,"column":1}},"key":"HojQouXZCB"}],"key":"OR9BvEfBnw"}],"key":"wt8zvjHvjU"}],"key":"Sfz1IyrWTn"},{"type":"paragraph","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"children":[{"type":"text","value":"This code was likely compiled with gfortran (evident from calls to ","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"xV0e7aRe7v"},{"type":"inlineCode","value":"_gfortran_set_args","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"wV370cGZ6B"},{"type":"text","value":" and ","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"pT2krXQKcZ"},{"type":"inlineCode","value":"_gfortran_set_options","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"exv0EibJ47"},{"type":"text","value":"). It’s unoptimized, as seen in redundant loads (e.g., reloading ","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"hueCypsbrb"},{"type":"inlineCode","value":"b","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"yIjHLr4inU"},{"type":"text","value":" after division). The program uses 32-bit operations (","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"viSp3XU5Wt"},{"type":"inlineCode","value":"w","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"W5nuAW4kxw"},{"type":"text","value":" registers) for integers, matching Fortran’s default ","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"hlrLRZ5egZ"},{"type":"inlineCode","value":"INTEGER","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"OUnpHDkBDz"},{"type":"text","value":" type.","position":{"start":{"line":387,"column":1},"end":{"line":387,"column":1}},"key":"qoW93QTOAg"}],"key":"Q0PaMXLBaT"},{"type":"paragraph","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"children":[{"type":"text","value":"A key focus is the ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"dbhZLPWZDs"},{"type":"inlineCode","value":"MOD(a, b)","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"h0CPJ0eTk8"},{"type":"text","value":" operation, which requires multiple instructions because ARM64 lacks a direct signed modulo instruction. Instead, the compiler implements it using signed division (","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"tCWf4Posdp"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"xEgXkQuTxH"},{"type":"text","value":"), multiplication (","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"fqs4jHY3N9"},{"type":"inlineCode","value":"mul","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"rvc5t7OJoL"},{"type":"text","value":"), and subtraction (","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"Y0CxG3NWKC"},{"type":"inlineCode","value":"sub","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"jxunmyD6ql"},{"type":"text","value":"). This is a standard software emulation of modulo: ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"FZ2NxG4T8z"},{"type":"inlineCode","value":"a % b = a - ((a / b) * b)","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"peKceYUMZm"},{"type":"text","value":", where ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"zHZwJ4sPyK"},{"type":"inlineCode","value":"/","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"CHOXug302B"},{"type":"text","value":" is integer division. This approach ensures correct handling of signed integers (e.g., negative values, though not used here), but it’s less efficient than a hypothetical hardware modulo. ARM64 does have unsigned divide-with-remainder (","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"u2TjfOAyT5"},{"type":"inlineCode","value":"udiv","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"dcfBq8aIIp"},{"type":"text","value":" + ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"MLCuKGhXvZ"},{"type":"inlineCode","value":"msub","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"omfETYAwbG"},{"type":"text","value":" for multiply-subtract), but for signed operations like Fortran’s ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"JJ0tCNG4Ij"},{"type":"inlineCode","value":"MOD","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"UGEyyKkVQs"},{"type":"text","value":", the compiler opts for this sequence to handle signs properly (using ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"LYACyWEwQZ"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"UpvlWXiDSw"},{"type":"text","value":" for signed division). If optimization were enabled (e.g., ","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"bOEvoDpheN"},{"type":"inlineCode","value":"-O2","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"NwSimUYgnR"},{"type":"text","value":"), the compiler might inline constants or reduce redundancies, but here it’s straightforward.","position":{"start":{"line":389,"column":1},"end":{"line":389,"column":1}},"key":"DcRZG2UWdv"}],"key":"RgiVG3G9cs"},{"type":"paragraph","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"children":[{"type":"text","value":"I’ll explain each instruction in detail, including opcode, semantics, context, and binary encoding. ARM64 conventions: Registers ","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"YWC8T4FhhC"},{"type":"inlineCode","value":"x0","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"aUBoheo8Z3"},{"type":"text","value":"-","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"gHhxUfdUGE"},{"type":"inlineCode","value":"x30","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"G9nLfd3wcX"},{"type":"text","value":" (64-bit), ","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"mV4oFWHvgO"},{"type":"inlineCode","value":"w0","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"LhytgwWQ2S"},{"type":"text","value":"-","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"AnIROxskRO"},{"type":"inlineCode","value":"w30","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"Bllbo6QXzw"},{"type":"text","value":" (lower 32 bits); stack grows downward; ABI uses ","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"fdAw9zw38G"},{"type":"inlineCode","value":"x0-x7","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"bLYh1z81xk"},{"type":"text","value":" for params, ","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"ZK7ofz7fhX"},{"type":"inlineCode","value":"x0","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"LN6OXmtQ1W"},{"type":"text","value":" for returns, ","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"mBla70J9EX"},{"type":"inlineCode","value":"x29","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"ZdJFykSARY"},{"type":"text","value":" for frame pointer, ","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"fbGrikvHGO"},{"type":"inlineCode","value":"x30","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"PXSSqhaurs"},{"type":"text","value":" for link register.","position":{"start":{"line":391,"column":1},"end":{"line":391,"column":1}},"key":"GLTUNIV6WM"}],"key":"m1oBzrPCP7"},{"type":"heading","depth":3,"position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"children":[{"type":"text","value":"Detailed Explanation of ","position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"key":"uxS8lMWZGr"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"key":"ZhR0mZ31Z9"},{"type":"text","value":" (Fortran Program Logic)","position":{"start":{"line":393,"column":1},"end":{"line":393,"column":1}},"key":"enixO9Eg3T"}],"identifier":"detailed-explanation-of-main-fortran-program-logic","label":"Detailed Explanation of MAIN__ (Fortran Program Logic)","html_id":"detailed-explanation-of-main-fortran-program-logic","implicit":true,"key":"k6R9nRTqRx"},{"type":"paragraph","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"children":[{"type":"text","value":"This function allocates 16 bytes on the stack (for three 4-byte integers, padded for 16-byte alignment), assigns values to ","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"Rq0Effo3OC"},{"type":"inlineCode","value":"a","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"l7gTy6Ay4V"},{"type":"text","value":" and ","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"hmyfZHkCvJ"},{"type":"inlineCode","value":"b","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"kdPK8nFJ6p"},{"type":"text","value":", computes ","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"Wgg8Uq0V7N"},{"type":"inlineCode","value":"c = MOD(a, b)","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"GKNhCGKLss"},{"type":"text","value":" via the multi-step sequence, and cleans up. The ","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"gSYJz5jb9b"},{"type":"inlineCode","value":"nop","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"GMbmxV8S44"},{"type":"text","value":" is likely for alignment.","position":{"start":{"line":394,"column":1},"end":{"line":394,"column":1}},"key":"cuyBBfOyKx"}],"key":"SsywEyZBZ3"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":396,"column":1},"end":{"line":475,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":396,"column":1},"end":{"line":400,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":396,"column":1},"end":{"line":399,"column":1}},"children":[{"type":"strong","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"children":[{"type":"inlineCode","value":"814: d10043ff sub sp, sp, #0x10","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"uTSWMpvgRS"}],"key":"Y5tfXoYTF1"},{"type":"break","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"bnogUHYNwL"},{"type":"strong","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"bvZKTNIUhP"}],"key":"I0NeZ61Zol"},{"type":"text","value":": ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"yRvBMGKpZ6"},{"type":"inlineCode","value":"d1 00 43 ff","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"AmaYQdFYs5"},{"type":"break","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"Qsl3E5p6F0"},{"type":"strong","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"fc9BTcWvKP"}],"key":"ifUqE40za7"},{"type":"text","value":": Subtracts ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"lPONiGxz7U"},{"type":"inlineCode","value":"0x10","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"M6M5YiTzCc"},{"type":"text","value":" (16 decimal) from the stack pointer ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"U7zp4RWtyW"},{"type":"inlineCode","value":"sp","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"l0CtKu9039"},{"type":"text","value":", allocating 16 bytes of local stack space. Result written back to ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"WCoHS8jMVO"},{"type":"inlineCode","value":"sp","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"Vb76tJrvLR"},{"type":"text","value":". ARM64 requires manual stack management; allocations must be 16-byte aligned.","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"E08cCw9xtV"},{"type":"break","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"IOE1wlPZsW"},{"type":"strong","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"DhDbzrSfJF"}],"key":"XNq6Yglha7"},{"type":"text","value":": Function prologue. Reserves space for ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"uVx93s9Vk2"},{"type":"inlineCode","value":"a","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"UHfWLcalhD"},{"type":"text","value":" at ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"yxM0yyXGue"},{"type":"inlineCode","value":"sp+12","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"xMR0l1nqUP"},{"type":"text","value":" (4 bytes), ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"F9ttHK0rHt"},{"type":"inlineCode","value":"b","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"bOtz2ERLAG"},{"type":"text","value":" at ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"nN2w1ot5Hv"},{"type":"inlineCode","value":"sp+8","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"NNe2Rw07SM"},{"type":"text","value":", ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"BBRDLguNcs"},{"type":"inlineCode","value":"c","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"iBdKXDEYxB"},{"type":"text","value":" at ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"RNREr0A1lx"},{"type":"inlineCode","value":"sp+4","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"cU6heYcsEk"},{"type":"text","value":", with padding at ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"uLnUsZWiF9"},{"type":"inlineCode","value":"sp+0","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"KAiEDFwNRW"},{"type":"text","value":" for alignment. After this, ","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"SHJqlEPVv6"},{"type":"inlineCode","value":"sp","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"apL5yNpKr7"},{"type":"text","value":" points to the frame base.","position":{"start":{"line":396,"column":1},"end":{"line":396,"column":1}},"key":"e74poj6kFp"}],"key":"hPEtpVquQc"}],"key":"BldNrtFhvP"},{"type":"listItem","spread":true,"position":{"start":{"line":401,"column":1},"end":{"line":405,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":401,"column":1},"end":{"line":404,"column":1}},"children":[{"type":"strong","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"children":[{"type":"inlineCode","value":"818: 52800140 mov w0, #0xa","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"VyBlTXnW4u"}],"key":"Zjaog5IV4c"},{"type":"break","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"pHxc72bYdY"},{"type":"strong","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"MlJgTE78bn"}],"key":"SRRFb8HSSw"},{"type":"text","value":": ","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"uR1m2CRI91"},{"type":"inlineCode","value":"52 80 01 40","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"RqvCHgwemd"},{"type":"break","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"hGCmGA6Qb0"},{"type":"strong","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"oAgx8Ac3sw"}],"key":"lOXzJXvdF8"},{"type":"text","value":": Moves immediate ","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"BkR4OaLFax"},{"type":"inlineCode","value":"0xa","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"bsOJsfMqaW"},{"type":"text","value":" (10 decimal) into ","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"hQaIUQYPZx"},{"type":"inlineCode","value":"w0","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"uyxaQJRIUr"},{"type":"text","value":" (lower 32 bits of ","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"pfB2dwdljh"},{"type":"inlineCode","value":"x0","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"d3b6DGzvEC"},{"type":"text","value":"; upper bits zeroed). This is a 32-bit move immediate.","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"zogPaxxUuM"},{"type":"break","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"ziQlpato0Y"},{"type":"strong","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"Zc8FlzaUbR"}],"key":"IpoSQ6Fc86"},{"type":"text","value":": Initializes a temporary for ","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"Anh8vTnG31"},{"type":"inlineCode","value":"a = 10","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"uViB3SdXyO"},{"type":"text","value":". Constants are loaded into registers before storing to memory.","position":{"start":{"line":401,"column":1},"end":{"line":401,"column":1}},"key":"lzuurKSIbA"}],"key":"xu8MXxd7q8"}],"key":"YngMnKfiKT"},{"type":"listItem","spread":true,"position":{"start":{"line":406,"column":1},"end":{"line":410,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":406,"column":1},"end":{"line":409,"column":1}},"children":[{"type":"strong","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"children":[{"type":"inlineCode","value":"81c: b9000fe0 str w0, [sp, #12]","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"mHO5XOjn6N"}],"key":"JNcVRr5DBV"},{"type":"break","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"jIVDe143o2"},{"type":"strong","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"Hv30p41Dd0"}],"key":"Wqyfybgby2"},{"type":"text","value":": ","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"OyjwI3pci6"},{"type":"inlineCode","value":"b9 00 0f e0","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"V0YGHycvSF"},{"type":"break","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"JKEXf9PTKE"},{"type":"strong","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"MiYrAwuhcT"}],"key":"pwC0yroMzU"},{"type":"text","value":": Stores 32-bit ","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"F2AwCU19Hr"},{"type":"inlineCode","value":"w0","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"zCbXTOvS9U"},{"type":"text","value":" (10) to memory at ","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"W6TL2nqqKQ"},{"type":"inlineCode","value":"sp + 12","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"jloD94cOZv"},{"type":"text","value":". ","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"YaaFw4dXBp"},{"type":"inlineCode","value":"str","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"qDRiaPogH9"},{"type":"text","value":" is “store register”.","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"ncBx4FECmz"},{"type":"break","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"JhGLlLYEKf"},{"type":"strong","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"YdqtJl8AdV"}],"key":"h2JOOXVVXj"},{"type":"text","value":": Assigns to ","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"EvvrAQhfSp"},{"type":"inlineCode","value":"a","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"QluXX7vodQ"},{"type":"text","value":" on the stack. Stack offsets are positive from current ","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"dS3IFfa5x1"},{"type":"inlineCode","value":"sp","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"lKCq6iSViT"},{"type":"text","value":".","position":{"start":{"line":406,"column":1},"end":{"line":406,"column":1}},"key":"zyEG5SkgVu"}],"key":"h9m3kca8ot"}],"key":"Ubg9yiIRWm"},{"type":"listItem","spread":true,"position":{"start":{"line":411,"column":1},"end":{"line":415,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":411,"column":1},"end":{"line":414,"column":1}},"children":[{"type":"strong","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"children":[{"type":"inlineCode","value":"820: 52800080 mov w0, #0x4","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"BuGbhqOcP8"}],"key":"oyRtSGWBdy"},{"type":"break","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"RH4YNOn7nN"},{"type":"strong","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"rktBdCTt5y"}],"key":"CNlV8TSJ79"},{"type":"text","value":": ","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"REJ7YpFPLU"},{"type":"inlineCode","value":"52 80 00 80","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"jI4BtNBzLI"},{"type":"break","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"FdgSEjeeDG"},{"type":"strong","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"KSaFUaVbxU"}],"key":"oAZDxguobK"},{"type":"text","value":": Moves ","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"Dquk7eUA44"},{"type":"inlineCode","value":"0x4","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"XvkrcKv7nC"},{"type":"text","value":" (4) into ","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"Idx0si4mwD"},{"type":"inlineCode","value":"w0","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"ysYbcsA5jI"},{"type":"text","value":", overwriting previous value.","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"Cel3g6P37u"},{"type":"break","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"RBftos9jgL"},{"type":"strong","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"kYhCDScmcd"}],"key":"zjLFVsUCWN"},{"type":"text","value":": Initializes temporary for ","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"vD8mGBUSWG"},{"type":"inlineCode","value":"b = 4","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"PN77XchMf1"},{"type":"text","value":".","position":{"start":{"line":411,"column":1},"end":{"line":411,"column":1}},"key":"rvTfzxPNk7"}],"key":"FzsmTnuO6w"}],"key":"UDMOV8dqmv"},{"type":"listItem","spread":true,"position":{"start":{"line":416,"column":1},"end":{"line":420,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":416,"column":1},"end":{"line":419,"column":1}},"children":[{"type":"strong","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"children":[{"type":"inlineCode","value":"824: b9000be0 str w0, [sp, #8]","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"N0VXC1Ukl7"}],"key":"tmv68iZaxf"},{"type":"break","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"mbQz01jnrv"},{"type":"strong","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"hnQAgZ0pjm"}],"key":"rC6gRd9n9Z"},{"type":"text","value":": ","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"COrRFISrKx"},{"type":"inlineCode","value":"b9 00 0b e0","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"eMex9sAyrn"},{"type":"break","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"HwLmV6hEai"},{"type":"strong","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"IoQNOSXoqj"}],"key":"eLwtk1D0M2"},{"type":"text","value":": Stores ","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"WT2KB9J5zj"},{"type":"inlineCode","value":"w0","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"Fkm1UJsWQG"},{"type":"text","value":" (4) at ","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"sJsYY9HZXf"},{"type":"inlineCode","value":"sp + 8","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"g71Q50D3SC"},{"type":"text","value":".","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"uSelHmZXWR"},{"type":"break","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"tuUOpoJSn7"},{"type":"strong","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"FkROW6OR57"}],"key":"mWtGC9JCIU"},{"type":"text","value":": Assigns to ","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"H0isLklkEI"},{"type":"inlineCode","value":"b","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"qWr40Cug44"},{"type":"text","value":".","position":{"start":{"line":416,"column":1},"end":{"line":416,"column":1}},"key":"vAYIEGxPZe"}],"key":"fNuqAOdp4I"}],"key":"MhKrDesbQi"},{"type":"listItem","spread":true,"position":{"start":{"line":421,"column":1},"end":{"line":425,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":421,"column":1},"end":{"line":424,"column":1}},"children":[{"type":"strong","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"children":[{"type":"inlineCode","value":"828: b9400fe0 ldr w0, [sp, #12]","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"NbJWmnPcry"}],"key":"xYZTxtzEQs"},{"type":"break","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"sv5CZfYOla"},{"type":"strong","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"zlj1ErHgW8"}],"key":"cQ2diQBDhe"},{"type":"text","value":": ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"mmLw7zvcnZ"},{"type":"inlineCode","value":"b9 40 0f e0","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"DGvf33fRLn"},{"type":"break","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"PebJX57UYG"},{"type":"strong","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"hyP5kECpKQ"}],"key":"uUGYKbJyXq"},{"type":"text","value":": Loads 32-bit value from ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"IaPu52Ad2T"},{"type":"inlineCode","value":"sp + 12","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"KjKMny8UWL"},{"type":"text","value":" (10, value of ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"eyQJEsuL94"},{"type":"inlineCode","value":"a","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"R6ZXBzTQXH"},{"type":"text","value":") into ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"JJl8y4R0cq"},{"type":"inlineCode","value":"w0","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"dOuuhAddGi"},{"type":"text","value":". ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"XtgSt0Lcr0"},{"type":"inlineCode","value":"ldr","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"JUOr5gkMlb"},{"type":"text","value":" is “load register”.","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"o9F7JMXLkv"},{"type":"break","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"v26slvxWKD"},{"type":"strong","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"f8NxeLF6ij"}],"key":"xDTxo8OBG1"},{"type":"text","value":": Loads ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"LU1DKDLq5F"},{"type":"inlineCode","value":"a","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"iBkgseEreY"},{"type":"text","value":" into ","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"U25rBbj3id"},{"type":"inlineCode","value":"w0","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"Vf6LvKVOA0"},{"type":"text","value":" as the dividend for the modulo operation.","position":{"start":{"line":421,"column":1},"end":{"line":421,"column":1}},"key":"PTZR8hL2lp"}],"key":"uLxjPS9mlm"}],"key":"jNiRuSR0Fy"},{"type":"listItem","spread":true,"position":{"start":{"line":426,"column":1},"end":{"line":430,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":426,"column":1},"end":{"line":429,"column":1}},"children":[{"type":"strong","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"children":[{"type":"inlineCode","value":"82c: b9400be1 ldr w1, [sp, #8]","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"SmI5BAtE1L"}],"key":"hthcfj7Clp"},{"type":"break","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"NyE8Ec7GSp"},{"type":"strong","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"BsYEVqizns"}],"key":"I6s99bhIs9"},{"type":"text","value":": ","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"tRXIGJX4t5"},{"type":"inlineCode","value":"b9 40 0b e1","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"KeRjKlxNDk"},{"type":"break","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"rR86DxdRvg"},{"type":"strong","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"OziPhjhfar"}],"key":"zzZfFJve36"},{"type":"text","value":": Loads from ","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"cglpCrjDMx"},{"type":"inlineCode","value":"sp + 8","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"H7eznoK5uf"},{"type":"text","value":" (4, value of ","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"if30MwoE10"},{"type":"inlineCode","value":"b","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"v4Sz3z7xwN"},{"type":"text","value":") into ","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"l0X7lN6z09"},{"type":"inlineCode","value":"w1","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"J3b3SkkTX1"},{"type":"text","value":".","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"RDp3tgtRpv"},{"type":"break","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"rcE9TFhc5F"},{"type":"strong","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"fkYkiXSNNy"}],"key":"LyaDBHzX9j"},{"type":"text","value":": Loads ","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"ls9ZaOReB4"},{"type":"inlineCode","value":"b","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"Z6NlxW3o59"},{"type":"text","value":" into ","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"uTyTthvEtu"},{"type":"inlineCode","value":"w1","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"YR3OAv54iH"},{"type":"text","value":" as the divisor.","position":{"start":{"line":426,"column":1},"end":{"line":426,"column":1}},"key":"yDTFA17qDP"}],"key":"JDnyexjzqo"}],"key":"UCC8q3uZ74"},{"type":"listItem","spread":true,"position":{"start":{"line":431,"column":1},"end":{"line":435,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":431,"column":1},"end":{"line":434,"column":1}},"children":[{"type":"strong","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"children":[{"type":"inlineCode","value":"830: 1ac10c02 sdiv w2, w0, w1","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"xXrSpT0zAf"}],"key":"QdA7EobHeZ"},{"type":"break","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"lDu01GgOy5"},{"type":"strong","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"Ulk0lmSKaw"}],"key":"Oz2sC5fybh"},{"type":"text","value":": ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"xnUSVIu7TD"},{"type":"inlineCode","value":"1a c1 0c 02","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"xtOAuVhzdq"},{"type":"break","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"gBp8VbER1E"},{"type":"strong","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"EkuRZk39MG"}],"key":"AyxMhkGa7T"},{"type":"text","value":": Performs signed integer division: ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"upsZOFsEay"},{"type":"inlineCode","value":"w2 = w0 / w1","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"kLZZOrcPaZ"},{"type":"text","value":" (10 / 4 = 2). ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"ssKq3fpo42"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"pxDCcaHZ9P"},{"type":"text","value":" handles negative numbers by rounding toward zero (Fortran ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"izfQ1WBQap"},{"type":"inlineCode","value":"MOD","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"JFZDOydJyI"},{"type":"text","value":" semantics require this for consistency with positive/negative remainders). No remainder is produced directly.","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"pP2EjkKVtb"},{"type":"break","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"vCUJsiWKxu"},{"type":"strong","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"rJSPXpAi4c"}],"key":"gKLkQeyyZF"},{"type":"text","value":": First step of modulo: Compute quotient ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"YMTkJOwXXy"},{"type":"inlineCode","value":"q = a / b","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"xvKPat7CpO"},{"type":"text","value":" (stored in ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"Lt58TuDRv3"},{"type":"inlineCode","value":"w2","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"f3IRqmd6ew"},{"type":"text","value":"). This is necessary because ARM64 has no single-instruction signed modulo. ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"JeUd6Msfi0"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"V033PTKe6U"},{"type":"text","value":" is used over ","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"NpWh6w9kGT"},{"type":"inlineCode","value":"udiv","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"Lz9DZ2Yvlk"},{"type":"text","value":" (unsigned) to match Fortran’s signed integer behavior.","position":{"start":{"line":431,"column":1},"end":{"line":431,"column":1}},"key":"nmcAoClOiI"}],"key":"ftunIN1Qw3"}],"key":"JcmU9ACiAT"},{"type":"listItem","spread":true,"position":{"start":{"line":436,"column":1},"end":{"line":440,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":436,"column":1},"end":{"line":439,"column":1}},"children":[{"type":"strong","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"children":[{"type":"inlineCode","value":"834: b9400be1 ldr w1, [sp, #8]","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"zRbv2KdCM4"}],"key":"b0qcirefmq"},{"type":"break","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"gfzfxr21dk"},{"type":"strong","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"NpLEALMZ86"}],"key":"Ts3uRXiI78"},{"type":"text","value":": ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"hinQ988EgV"},{"type":"inlineCode","value":"b9 40 0b e1","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"RINdSCghyW"},{"type":"break","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"VFfNMXoJh9"},{"type":"strong","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"OmgOCf62e8"}],"key":"LbBqWXJbJD"},{"type":"text","value":": Reloads ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"o7BaK5A9WH"},{"type":"inlineCode","value":"b","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"ZY3OBlz2va"},{"type":"text","value":" (4) from ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"rtGXNsiYrp"},{"type":"inlineCode","value":"sp + 8","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"OHW8DO97L0"},{"type":"text","value":" into ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"v6YXXltlmZ"},{"type":"inlineCode","value":"w1","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"NXLt5BZ7iG"},{"type":"text","value":".","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"pLySCsHav3"},{"type":"break","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"OR6IH0C7l0"},{"type":"strong","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"dcOxXImGLb"}],"key":"noOWK5W561"},{"type":"text","value":": Prepares ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"A9xGJxXGn8"},{"type":"inlineCode","value":"b","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"GXXlYiCy7E"},{"type":"text","value":" for multiplication. This reload is redundant (","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"t4Dtwoe9t4"},{"type":"inlineCode","value":"w1","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"LA8EHRXh4G"},{"type":"text","value":" already held ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"H1RD07aJMW"},{"type":"inlineCode","value":"b","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"EUKPIITPRs"},{"type":"text","value":" before ","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"ECp4GgHmJS"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"NULBWodNdX"},{"type":"text","value":"), likely due to no optimization; an optimized build might eliminate it.","position":{"start":{"line":436,"column":1},"end":{"line":436,"column":1}},"key":"Gf9JgK5fxP"}],"key":"wQlpDlSy7j"}],"key":"oXY5mYQRFz"},{"type":"listItem","spread":true,"position":{"start":{"line":441,"column":1},"end":{"line":445,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":441,"column":1},"end":{"line":444,"column":1}},"children":[{"type":"strong","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"children":[{"type":"inlineCode","value":"838: 1b017c41 mul w1, w2, w1","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"IamaSJXFc6"}],"key":"DQCws739sY"},{"type":"break","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"OpnwMzey8s"},{"type":"strong","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"fAo8FO5qa8"}],"key":"jvHGSUUxcj"},{"type":"text","value":": ","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"xqyqRbshP2"},{"type":"inlineCode","value":"1b 01 7c 41","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"MZ5ioiRVKz"},{"type":"break","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"B6W68k0pKd"},{"type":"strong","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"nJtaYczVQq"}],"key":"WdxkBpxlDo"},{"type":"text","value":": Multiplies ","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"kMGlTjJPOV"},{"type":"inlineCode","value":"w1 = w2 * w1","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"uQoPzuZ6d6"},{"type":"text","value":" (2 * 4 = 8). ","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"EJfiuVevLB"},{"type":"inlineCode","value":"mul","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"GkVbSGLAGw"},{"type":"text","value":" is integer multiplication, with overflow wrapping (but no issue here).","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"WegQwtystt"},{"type":"break","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"hkOjOsEoSJ"},{"type":"strong","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"wAX6ll68tL"}],"key":"Rv2FDKsDJs"},{"type":"text","value":": Second step of modulo: Compute ","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"zmx8s0ArZ1"},{"type":"inlineCode","value":"q * b","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"o33nReyeZw"},{"type":"text","value":" (quotient times divisor). This reconstructs the largest multiple of ","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"Bo0YHMSmJa"},{"type":"inlineCode","value":"b","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"IfOLMh2rLG"},{"type":"text","value":" less than or equal to ","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"Z43cZd7c4j"},{"type":"inlineCode","value":"a","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"TaLEvgDAE2"},{"type":"text","value":" (for positive values).","position":{"start":{"line":441,"column":1},"end":{"line":441,"column":1}},"key":"zYaPlpwGRS"}],"key":"gHxr9f2yaO"}],"key":"HXDVM7uvnb"},{"type":"listItem","spread":true,"position":{"start":{"line":446,"column":1},"end":{"line":455,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":446,"column":1},"end":{"line":449,"column":1}},"children":[{"type":"strong","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"children":[{"type":"inlineCode","value":"83c: 4b010000 sub w0, w0, w1","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"mqqFQitGgN"}],"key":"ML4ElTuwPW"},{"type":"break","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"B9JpUzRc8h"},{"type":"strong","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"BO4PQC7our"}],"key":"cLS1C9IXyl"},{"type":"text","value":": ","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"ZrUE21ui2p"},{"type":"inlineCode","value":"4b 01 00 00","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"Aj71fMAlKf"},{"type":"break","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"gQqmGZsiUJ"},{"type":"strong","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"cizstGfxS4"}],"key":"IWMBhDHzm6"},{"type":"text","value":": Subtracts ","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"ZROXiH2yWg"},{"type":"inlineCode","value":"w0 = w0 - w1","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"qmQ5OmDuMR"},{"type":"text","value":" (10 - 8 = 2). Integer subtraction without borrow flags checked.","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"bfPCPsOgCO"},{"type":"break","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"RLGuH8EH66"},{"type":"strong","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"jwHD3mSrUk"}],"key":"UTKc3gvOcm"},{"type":"text","value":": Final step of modulo: Remainder ","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"hqKX6DxIiY"},{"type":"inlineCode","value":"r = a - (q * b)","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"Oq6TtqGVsF"},{"type":"text","value":". This yields the modulo result (2). The multi-step process is needed because:","position":{"start":{"line":446,"column":1},"end":{"line":446,"column":1}},"key":"COijwJwU1r"}],"key":"gwyl8badI8"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":450,"column":1},"end":{"line":455,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"ARM64’s integer division instructions (","position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"key":"vNl1wEBWkg"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"key":"nX4OE4e60D"},{"type":"text","value":", ","position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"key":"x7mooLKGD1"},{"type":"inlineCode","value":"udiv","position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"key":"sJNYczaxLA"},{"type":"text","value":") only produce the quotient, not the remainder.","position":{"start":{"line":450,"column":1},"end":{"line":450,"column":1}},"key":"XK4oPFAJPM"}],"key":"f4hfzmOSXJ"}],"key":"iEvgrdBtiG"},{"type":"listItem","spread":true,"position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"For signed modulo, the compiler must ensure the remainder has the sign of the dividend (Fortran ","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"XfNxpQqdzz"},{"type":"inlineCode","value":"MOD","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"LqU1Lo2AZs"},{"type":"text","value":" rule: remainder same sign as ","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"Btl6StQAGp"},{"type":"inlineCode","value":"a","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"iusnwAbuez"},{"type":"text","value":"), which ","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"YWbNBEJPc0"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"Zec74L1xSK"},{"type":"text","value":" + ","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"EViREN7bEN"},{"type":"inlineCode","value":"mul","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"USpccKpPvr"},{"type":"text","value":" + ","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"FLg2rt2Zqw"},{"type":"inlineCode","value":"sub","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"vf8z1j9ZKf"},{"type":"text","value":" achieves.","position":{"start":{"line":451,"column":1},"end":{"line":451,"column":1}},"key":"ICLZX1XL1x"}],"key":"D98Xo1DbpW"}],"key":"mTVGi6MSxI"},{"type":"listItem","spread":true,"position":{"start":{"line":452,"column":1},"end":{"line":452,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Hardware support for remainder exists in some forms (e.g., ","position":{"start":{"line":452,"column":1},"end":{"line":452,"column":1}},"key":"vKPUNd7Hfb"},{"type":"inlineCode","value":"msub","position":{"start":{"line":452,"column":1},"end":{"line":452,"column":1}},"key":"F4jpMujTrd"},{"type":"text","value":" for multiply-subtract in unsigned contexts), but for signed ops, this sequence is portable and safe.","position":{"start":{"line":452,"column":1},"end":{"line":452,"column":1}},"key":"E568t6VAHg"}],"key":"NuLoVomFcB"}],"key":"lvIn3WBJUY"},{"type":"listItem","spread":true,"position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Alternatives like bit manipulation or loops aren’t efficient for general cases. If ","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"iWU0AuO8QL"},{"type":"inlineCode","value":"b","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"yERgSJk3CO"},{"type":"text","value":" were a power of 2, the compiler might optimize to AND (e.g., ","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"ZX4YHQQmWE"},{"type":"inlineCode","value":"MOD(a, 4) = a & 3","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"Z2K7UkDhSs"},{"type":"text","value":"), but here ","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"bf9bf8b0FB"},{"type":"inlineCode","value":"b=4","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"KCLQX8zQCS"},{"type":"text","value":" is constant—unoptimized code doesn’t exploit that.","position":{"start":{"line":453,"column":1},"end":{"line":453,"column":1}},"key":"pbmtBXjRDZ"}],"key":"PoNjCAgM4o"}],"key":"WKztYjLCBB"},{"type":"listItem","spread":true,"position":{"start":{"line":454,"column":1},"end":{"line":455,"column":1}},"children":[{"type":"paragraph","children":[{"type":"text","value":"Edge cases (e.g., ","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"aCLMlDgadB"},{"type":"inlineCode","value":"b=0","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"JpIXVwJLoL"},{"type":"text","value":" causes divide-by-zero trap in ","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"EtVtENZVoy"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"WrPmyWhweN"},{"type":"text","value":"; negative ","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"E83ueZQ2kF"},{"type":"inlineCode","value":"a","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"weTENQpPd3"},{"type":"text","value":" or ","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"ud7ga3yXKy"},{"type":"inlineCode","value":"b","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"igXg7iJonz"},{"type":"text","value":") are handled implicitly by ","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"jP3YSlebWX"},{"type":"inlineCode","value":"sdiv","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"erNN5uN7Eu"},{"type":"text","value":"’s signed semantics.","position":{"start":{"line":454,"column":1},"end":{"line":454,"column":1}},"key":"iBbA11SgkA"}],"key":"Wm4CKDNEMG"}],"key":"kgQ7IrCNfC"}],"key":"vHrH5trbka"}],"key":"eR6AXYxLxG"},{"type":"listItem","spread":true,"position":{"start":{"line":456,"column":1},"end":{"line":460,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":456,"column":1},"end":{"line":459,"column":1}},"children":[{"type":"strong","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"children":[{"type":"inlineCode","value":"840: b90007e0 str w0, [sp, #4]","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"ITyQqs8FpU"}],"key":"Z0CdtzPWq5"},{"type":"break","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"lpB3BObhUn"},{"type":"strong","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"MT2LxYw9UR"}],"key":"rHlLSEpHtx"},{"type":"text","value":": ","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"aBCCr0SM3s"},{"type":"inlineCode","value":"b9 00 07 e0","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"uIpXSxek4t"},{"type":"break","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"XNzX1Dxsgm"},{"type":"strong","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"FXvIwmaPMq"}],"key":"KNUDxXA5un"},{"type":"text","value":": Stores ","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"dvopFK7aHE"},{"type":"inlineCode","value":"w0","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"tkMeztk37A"},{"type":"text","value":" (2) at ","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"m6FxFekzNl"},{"type":"inlineCode","value":"sp + 4","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"FDVxSOXu3X"},{"type":"text","value":".","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"TWioSwWrHG"},{"type":"break","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"GjfPOgkATA"},{"type":"strong","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"D9Xt59bRlx"}],"key":"Ml13wa9sqx"},{"type":"text","value":": Assigns result to ","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"XDYzoOgbOD"},{"type":"inlineCode","value":"c","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"G3raInqIsr"},{"type":"text","value":". Stored but unused—Fortran doesn’t require using variables.","position":{"start":{"line":456,"column":1},"end":{"line":456,"column":1}},"key":"byVsPiQv69"}],"key":"n0DjnBfrR0"}],"key":"dvBwemXYBG"},{"type":"listItem","spread":true,"position":{"start":{"line":461,"column":1},"end":{"line":465,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":461,"column":1},"end":{"line":464,"column":1}},"children":[{"type":"strong","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"children":[{"type":"inlineCode","value":"844: d503201f nop","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"z7QX5OlfcP"}],"key":"g35AquVEG2"},{"type":"break","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"vbBTaBUsHo"},{"type":"strong","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"v9LouHbata"}],"key":"wqEWpsOmPH"},{"type":"text","value":": ","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"XLqD2HrjVV"},{"type":"inlineCode","value":"d5 03 20 1f","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"N9r9MQupMv"},{"type":"break","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"Jt8GBaWCbI"},{"type":"strong","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"QtXbjKKA4E"}],"key":"zHbdMSwyY0"},{"type":"text","value":": No operation—advances program counter without effect. Often for alignment (instructions 4-byte aligned) or padding.","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"ZofLSKWR0A"},{"type":"break","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"jExqhoHgzy"},{"type":"strong","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"VSnz0vZcIJ"}],"key":"U6dIfsu0TH"},{"type":"text","value":": Compiler-inserted; no functional role, possibly after inlining checks.","position":{"start":{"line":461,"column":1},"end":{"line":461,"column":1}},"key":"gRjcTxBnkh"}],"key":"IvWfUPjpo2"}],"key":"flyDLa4p50"},{"type":"listItem","spread":true,"position":{"start":{"line":466,"column":1},"end":{"line":470,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":466,"column":1},"end":{"line":469,"column":1}},"children":[{"type":"strong","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"children":[{"type":"inlineCode","value":"848: 910043ff add sp, sp, #0x10","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"QzUtffDGBz"}],"key":"jsCno5r21t"},{"type":"break","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"kvnR0pbbvc"},{"type":"strong","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"R7gxGkMoAS"}],"key":"UrL5SOhWLr"},{"type":"text","value":": ","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"VaiSUhs3j5"},{"type":"inlineCode","value":"91 00 43 ff","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"n0T60BjnV5"},{"type":"break","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"Xirfnemvow"},{"type":"strong","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"OtHxrqAHzE"}],"key":"FMl4OgoXDc"},{"type":"text","value":": Adds ","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"bC7z3Ju0Si"},{"type":"inlineCode","value":"0x10","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"R7UzQNCS22"},{"type":"text","value":" to ","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"qNwpN0pSqM"},{"type":"inlineCode","value":"sp","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"gw8C65dR5N"},{"type":"text","value":", deallocating the frame.","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"OmdKTnq2QB"},{"type":"break","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"oYl2aIge0x"},{"type":"strong","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"geEGm4ZhGE"}],"key":"uDNAFeENUS"},{"type":"text","value":": Epilogue—restores caller’s stack.","position":{"start":{"line":466,"column":1},"end":{"line":466,"column":1}},"key":"KmXLlSCTmz"}],"key":"bo2gjXhdwv"}],"key":"pyEDAD1U5J"},{"type":"listItem","spread":true,"position":{"start":{"line":471,"column":1},"end":{"line":475,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":471,"column":1},"end":{"line":474,"column":1}},"children":[{"type":"strong","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"children":[{"type":"inlineCode","value":"84c: d65f03c0 ret","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"dGWUfyGkwW"}],"key":"V0HsU7COe5"},{"type":"break","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"L8X3kHDcxq"},{"type":"strong","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"children":[{"type":"text","value":"Binary","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"ia006dLySe"}],"key":"JYQ5XIUo4i"},{"type":"text","value":": ","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"LolQddk3tX"},{"type":"inlineCode","value":"d6 5f 03 c0","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"irE5zswBC1"},{"type":"break","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"zdq85w19pv"},{"type":"strong","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"GCDWDhWV4G"}],"key":"A0ZSJcWzQD"},{"type":"text","value":": Returns by jumping to ","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"F3kyO9Afil"},{"type":"inlineCode","value":"x30","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"jzM6ir0czP"},{"type":"text","value":" (link register). No explicit return value.","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"JUd0e8lH9o"},{"type":"break","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"oZ5hJWT1Zk"},{"type":"strong","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"FQb5pU8ktx"}],"key":"CW44W6RAoN"},{"type":"text","value":": Ends ","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"RfXU3bPMVl"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"CEl8FUGC8K"},{"type":"text","value":".","position":{"start":{"line":471,"column":1},"end":{"line":471,"column":1}},"key":"DmRiwYMIKK"}],"key":"NqlNyE42jb"}],"key":"Ben53SI75s"}],"key":"HUrMBOf1ab"},{"type":"heading","depth":3,"position":{"start":{"line":476,"column":1},"end":{"line":476,"column":1}},"children":[{"type":"text","value":"Detailed Explanation of ","position":{"start":{"line":476,"column":1},"end":{"line":476,"column":1}},"key":"jSpcuBbidr"},{"type":"inlineCode","value":"main","position":{"start":{"line":476,"column":1},"end":{"line":476,"column":1}},"key":"XKGqoSAMAC"},{"type":"text","value":" (Program Entry Point)","position":{"start":{"line":476,"column":1},"end":{"line":476,"column":1}},"key":"hQ4pMZqEkt"}],"identifier":"detailed-explanation-of-main-program-entry-point","label":"Detailed Explanation of main (Program Entry Point)","html_id":"detailed-explanation-of-main-program-entry-point","implicit":true,"key":"VWIPBNCEkv"},{"type":"paragraph","position":{"start":{"line":477,"column":1},"end":{"line":477,"column":1}},"children":[{"type":"text","value":"This is the runtime wrapper for Fortran executables. It processes args, sets up gfortran, calls ","position":{"start":{"line":477,"column":1},"end":{"line":477,"column":1}},"key":"qkM2KUcOiy"},{"type":"inlineCode","value":"MAIN__","position":{"start":{"line":477,"column":1},"end":{"line":477,"column":1}},"key":"mOEaDhK2eC"},{"type":"text","value":", and exits. Similar to the previous disassembly, with minor address differences.","position":{"start":{"line":477,"column":1},"end":{"line":477,"column":1}},"key":"cuySn393D6"}],"key":"nbovw8vEE7"},{"type":"list","ordered":false,"spread":false,"position":{"start":{"line":479,"column":1},"end":{"line":541,"column":1}},"children":[{"type":"listItem","spread":true,"position":{"start":{"line":479,"column":1},"end":{"line":482,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":479,"column":1},"end":{"line":481,"column":1}},"children":[{"type":"strong","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"children":[{"type":"inlineCode","value":"850: a9be7bfd stp x29, x30, [sp, #-32]!","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"UnvfErm5yc"}],"key":"tWsOSmJyq8"},{"type":"break","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"cgvbrnada3"},{"type":"strong","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"t9qXfhIxx8"}],"key":"am7aLLluKs"},{"type":"text","value":": Allocates 32 bytes (pre-index subtract), stores frame pointer ","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"DiChAZF48i"},{"type":"inlineCode","value":"x29","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"tXmklINhVo"},{"type":"text","value":" and link ","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"Vp6dwzu3Th"},{"type":"inlineCode","value":"x30","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"U9Cpenp6uD"},{"type":"text","value":" at new ","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"F55oVuRgvn"},{"type":"inlineCode","value":"sp","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"bGPNXqExAF"},{"type":"text","value":".","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"hFVUzdt15y"},{"type":"break","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"rtyCguozij"},{"type":"strong","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"aZztd9jEXB"}],"key":"EE1nI3NDTI"},{"type":"text","value":": Prologue—saves caller state, allocates for locals (argc at +28, argv at +16).","position":{"start":{"line":479,"column":1},"end":{"line":479,"column":1}},"key":"NgLDHFTlli"}],"key":"ZPGxNEsz8L"}],"key":"WPnWZS9xwp"},{"type":"listItem","spread":true,"position":{"start":{"line":483,"column":1},"end":{"line":486,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":483,"column":1},"end":{"line":485,"column":1}},"children":[{"type":"strong","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"children":[{"type":"inlineCode","value":"854: 910003fd mov x29, sp","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"FDNMyZg92D"}],"key":"ljjTT0sXeM"},{"type":"break","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"HurQNZ9hyY"},{"type":"strong","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"DZWbNZ5zYT"}],"key":"oQLmy9LvXQ"},{"type":"text","value":": Sets ","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"n6n1H0GlJh"},{"type":"inlineCode","value":"x29","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"YIr5fLpIL9"},{"type":"text","value":" to current ","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"gBl3fwxXhJ"},{"type":"inlineCode","value":"sp","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"IVDgO9syG4"},{"type":"text","value":" for frame-relative access.","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"NJts7OeAQ6"},{"type":"break","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"dujCEMdU5H"},{"type":"strong","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"FMtMrMLcpg"}],"key":"KLUIIBtgkQ"},{"type":"text","value":": ABI frame pointer setup.","position":{"start":{"line":483,"column":1},"end":{"line":483,"column":1}},"key":"jWjxino76P"}],"key":"kB80GClLEZ"}],"key":"fsoza2hCnX"},{"type":"listItem","spread":true,"position":{"start":{"line":487,"column":1},"end":{"line":490,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":487,"column":1},"end":{"line":489,"column":1}},"children":[{"type":"strong","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"children":[{"type":"inlineCode","value":"858: b9001fe0 str w0, [sp, #28]","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"MxxplBRuqw"}],"key":"jcZKLBXOXa"},{"type":"break","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"Xd1gS2JnQ8"},{"type":"strong","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"oyHAYDJ4CX"}],"key":"X319oAakea"},{"type":"text","value":": Stores ","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"xdE6Ai49GF"},{"type":"inlineCode","value":"w0","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"S7vY8ExQZ3"},{"type":"text","value":" (argc) locally.","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"ODkVoCMR9S"},{"type":"break","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"SSdEb6VYG0"},{"type":"strong","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"Iz6g3IDm2y"}],"key":"hFJwcUT53U"},{"type":"text","value":": Saves argument count.","position":{"start":{"line":487,"column":1},"end":{"line":487,"column":1}},"key":"fQRfwCUXIW"}],"key":"pNg0la0A0r"}],"key":"RJ3hJhf0Fm"},{"type":"listItem","spread":true,"position":{"start":{"line":491,"column":1},"end":{"line":494,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":491,"column":1},"end":{"line":493,"column":1}},"children":[{"type":"strong","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"children":[{"type":"inlineCode","value":"85c: f9000be1 str x1, [sp, #16]","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"SRs56AkLmu"}],"key":"pRaF0b46zh"},{"type":"break","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"TnzRmZ0rjY"},{"type":"strong","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"unifdoZ6g9"}],"key":"V9glvUSXLs"},{"type":"text","value":": Stores ","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"b6SlrbOrqV"},{"type":"inlineCode","value":"x1","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"R2NNGXfIcI"},{"type":"text","value":" (argv) locally.","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"X8ulyKzvmi"},{"type":"break","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"VqpkntHYBy"},{"type":"strong","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"bY4UAoqFBm"}],"key":"pO3NrpiAG4"},{"type":"text","value":": Saves argument vector.","position":{"start":{"line":491,"column":1},"end":{"line":491,"column":1}},"key":"ONFh2Tf2Gj"}],"key":"TewDbAiSyd"}],"key":"feiHQiMWlV"},{"type":"listItem","spread":true,"position":{"start":{"line":495,"column":1},"end":{"line":498,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":495,"column":1},"end":{"line":497,"column":1}},"children":[{"type":"strong","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"children":[{"type":"inlineCode","value":"860: f9400be1 ldr x1, [sp, #16]","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"KINVlNPScj"}],"key":"f6jzpBZ3Z1"},{"type":"break","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"TcxyKux5c2"},{"type":"strong","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"DDEu1bu00b"}],"key":"hovLdCpCp3"},{"type":"text","value":": Loads argv into ","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"d7l60557MJ"},{"type":"inlineCode","value":"x1","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"ockqOBudv1"},{"type":"text","value":" for call.","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"SUSJlhcTaR"},{"type":"break","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"oVYCkiPSxW"},{"type":"strong","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"F20dqqH6Bz"}],"key":"KlM1lcM4lg"},{"type":"text","value":": Prepares second arg for runtime.","position":{"start":{"line":495,"column":1},"end":{"line":495,"column":1}},"key":"VgA0w7tifX"}],"key":"F6El6vOJfA"}],"key":"u9n2sWUDyT"},{"type":"listItem","spread":true,"position":{"start":{"line":499,"column":1},"end":{"line":502,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":499,"column":1},"end":{"line":501,"column":1}},"children":[{"type":"strong","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"children":[{"type":"inlineCode","value":"864: b9401fe0 ldr w0, [sp, #28]","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"obMd7lM1Rn"}],"key":"nAD36fzLXU"},{"type":"break","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"zFIcUnpai2"},{"type":"strong","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"x7rICprOCV"}],"key":"CQqqRmfHf7"},{"type":"text","value":": Loads argc into ","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"Yj2GLB2mFY"},{"type":"inlineCode","value":"w0","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"fdgLlmJViw"},{"type":"text","value":".","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"FuQSIkP9yb"},{"type":"break","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"DIwKPw4Ukw"},{"type":"strong","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"UmQwMPedMJ"}],"key":"JLyIOltxiZ"},{"type":"text","value":": Prepares first arg.","position":{"start":{"line":499,"column":1},"end":{"line":499,"column":1}},"key":"Jo756IG4tL"}],"key":"dMhniM5632"}],"key":"jhFGW1Y47E"},{"type":"listItem","spread":true,"position":{"start":{"line":503,"column":1},"end":{"line":506,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":503,"column":1},"end":{"line":505,"column":1}},"children":[{"type":"strong","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"children":[{"type":"inlineCode","value":"868: 97ffffa2 bl 6f0 <_gfortran_set_args@plt>","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"MNZNDEsJ88"}],"key":"WLb5f4I4U9"},{"type":"break","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"ZMO7FHtPYO"},{"type":"strong","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"J3TucKwOTh"}],"key":"Q2I53g0B41"},{"type":"text","value":": Calls gfortran arg setup via PLT (dynamic link).","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"v25ti4XH96"},{"type":"break","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"DpGlDD3Edr"},{"type":"strong","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"VbtlIEXfXP"}],"key":"gUBV0YdUs7"},{"type":"text","value":": Passes args to Fortran runtime for handling (e.g., if program used ","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"Sdk2Vx4JQ3"},{"type":"inlineCode","value":"COMMAND_ARGUMENT_COUNT","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"gU5TZV0upf"},{"type":"text","value":").","position":{"start":{"line":503,"column":1},"end":{"line":503,"column":1}},"key":"uC5j5xkEDq"}],"key":"Hp517JuLyZ"}],"key":"NirOW7pZQP"},{"type":"listItem","spread":true,"position":{"start":{"line":507,"column":1},"end":{"line":510,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":507,"column":1},"end":{"line":509,"column":1}},"children":[{"type":"strong","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"children":[{"type":"inlineCode","value":"86c: 90000000 adrp x0, 0","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"N5L2gZjlee"}],"key":"WC3aqokIH0"},{"type":"break","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"d7fiv2pOZG"},{"type":"strong","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"MnilWdyLlE"}],"key":"YHDaDVdQuS"},{"type":"text","value":": Loads page base (0 here) into ","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"LSS8jmgzO1"},{"type":"inlineCode","value":"x0","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"pCKJldno6r"},{"type":"text","value":".","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"nuxHXs5Ziz"},{"type":"break","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"IsHSRDHMFa"},{"type":"strong","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"FxXraDFs51"}],"key":"TqhTzVaCHU"},{"type":"text","value":": Prepares for options address computation.","position":{"start":{"line":507,"column":1},"end":{"line":507,"column":1}},"key":"PhpOwnUoQT"}],"key":"euXRotJXH8"}],"key":"AtXSpB0e3T"},{"type":"listItem","spread":true,"position":{"start":{"line":511,"column":1},"end":{"line":514,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":511,"column":1},"end":{"line":513,"column":1}},"children":[{"type":"strong","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"children":[{"type":"inlineCode","value":"870: 9124c001 add x1, x0, #0x930","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"Maj6WgbbpM"}],"key":"g7UoQAF8z4"},{"type":"break","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"s5tbaHEyej"},{"type":"strong","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"eIfNMOgJAe"}],"key":"hGbcsIG9YY"},{"type":"text","value":": Adds ","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"VTNzGxGUYD"},{"type":"inlineCode","value":"0x930","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"sZzeU6becQ"},{"type":"text","value":" (2352) to ","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"bj5sZv8dTj"},{"type":"inlineCode","value":"x0","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"wNpd1w4Z1h"},{"type":"text","value":", result in ","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"PRXZXzHk3n"},{"type":"inlineCode","value":"x1","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"eU7g3jUTLM"},{"type":"text","value":" (points to options data).","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"jtCz0rZfm7"},{"type":"break","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"rO6odCuLis"},{"type":"strong","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"GkexpFOyuW"}],"key":"xUB0rpyoJd"},{"type":"text","value":": Address of gfortran options array.","position":{"start":{"line":511,"column":1},"end":{"line":511,"column":1}},"key":"QdueJV3O07"}],"key":"mMiqmmPwWG"}],"key":"XHGJg1PpeX"},{"type":"listItem","spread":true,"position":{"start":{"line":515,"column":1},"end":{"line":518,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":515,"column":1},"end":{"line":517,"column":1}},"children":[{"type":"strong","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"children":[{"type":"inlineCode","value":"874: 528000e0 mov w0, #0x7","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"KpTmT869Qe"}],"key":"BcLtDlneuv"},{"type":"break","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"jBmIzY0gsu"},{"type":"strong","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"zW6XeuwU20"}],"key":"jKP0zja4hX"},{"type":"text","value":": Moves 7 into ","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"Q4uimaybu7"},{"type":"inlineCode","value":"w0","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"NWMMdwLEI7"},{"type":"text","value":" (likely option count).","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"u0rmyyiSuc"},{"type":"break","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"IhgwhtDUs4"},{"type":"strong","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"HYbuqBiSXX"}],"key":"wGkwBXJlMV"},{"type":"text","value":": Arg for options call.","position":{"start":{"line":515,"column":1},"end":{"line":515,"column":1}},"key":"nh7NUgdQQz"}],"key":"r9DL3WRdWp"}],"key":"vGqYqpro28"},{"type":"listItem","spread":true,"position":{"start":{"line":519,"column":1},"end":{"line":522,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":519,"column":1},"end":{"line":521,"column":1}},"children":[{"type":"strong","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"children":[{"type":"inlineCode","value":"878: 97ffff9a bl 6e0 <_gfortran_set_options@plt>","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"sYMedYuTdj"}],"key":"RXR7uw8moH"},{"type":"break","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"t83GYvOnaF"},{"type":"strong","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"GzJ0KX09ao"}],"key":"AYd2pD1McU"},{"type":"text","value":": Calls gfortran options setup.","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"KGEm7d9IB3"},{"type":"break","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"SC7b4wtSzm"},{"type":"strong","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"SyEg8fyHml"}],"key":"lHG0dDDj5v"},{"type":"text","value":": Configures runtime (e.g., error modes, precision).","position":{"start":{"line":519,"column":1},"end":{"line":519,"column":1}},"key":"aiT1Ir5wln"}],"key":"meyzhD0PK0"}],"key":"w7Fxd2wLVR"},{"type":"listItem","spread":true,"position":{"start":{"line":523,"column":1},"end":{"line":526,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":523,"column":1},"end":{"line":525,"column":1}},"children":[{"type":"strong","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"children":[{"type":"inlineCode","value":"87c: 97ffffe6 bl 814 <MAIN__>","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"E2cGzB1stI"}],"key":"CKelubRSds"},{"type":"break","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"MJsa0uqD33"},{"type":"strong","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"iHtKSuBfeY"}],"key":"qgdXMzOSvs"},{"type":"text","value":": Calls Fortran body.","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"s7h7RsYFux"},{"type":"break","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"WOs6HOOyhL"},{"type":"strong","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"y7X4NLlndg"}],"key":"pOPCnRbTT6"},{"type":"text","value":": Executes the program.","position":{"start":{"line":523,"column":1},"end":{"line":523,"column":1}},"key":"fEM3LBqXY3"}],"key":"fbOmRvifGX"}],"key":"bV62RKdFLF"},{"type":"listItem","spread":true,"position":{"start":{"line":527,"column":1},"end":{"line":530,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":527,"column":1},"end":{"line":529,"column":1}},"children":[{"type":"strong","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"children":[{"type":"inlineCode","value":"880: 52800000 mov w0, #0x0","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"GNWh2PGSgY"}],"key":"h3Bu6U7Qoo"},{"type":"break","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"eCIYvWoT95"},{"type":"strong","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"iGRWnshfK3"}],"key":"a2jrb0jvgs"},{"type":"text","value":": Sets ","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"tGYVD5UHho"},{"type":"inlineCode","value":"w0","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"neVQvQMRIL"},{"type":"text","value":" to 0 (exit success).","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"naMLcsRZ0N"},{"type":"break","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"wpxgMJdxU1"},{"type":"strong","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"gNzX4z5Hy9"}],"key":"TQyPOq0QzE"},{"type":"text","value":": Prepares exit code.","position":{"start":{"line":527,"column":1},"end":{"line":527,"column":1}},"key":"y5n9y778qu"}],"key":"mZrUP4M36r"}],"key":"GmRsgGApHm"},{"type":"listItem","spread":true,"position":{"start":{"line":531,"column":1},"end":{"line":534,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":531,"column":1},"end":{"line":533,"column":1}},"children":[{"type":"strong","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"children":[{"type":"inlineCode","value":"884: a8c27bfd ldp x29, x30, [sp], #32","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"rn6R6iNsUf"}],"key":"L8ACWPr9Wa"},{"type":"break","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"SfRYSZM5S0"},{"type":"strong","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"TXcOQpjFzF"}],"key":"TDDH4Vy1KP"},{"type":"text","value":": Loads ","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"nzqcDrXm77"},{"type":"inlineCode","value":"x29/x30","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"vFFnFausKy"},{"type":"text","value":", deallocates 32 bytes (post-index add).","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"TXQeDgjeqW"},{"type":"break","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"cxndBZDzi3"},{"type":"strong","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"hEZZdYnFCX"}],"key":"QdD0yPJ4vG"},{"type":"text","value":": Epilogue—restores state.","position":{"start":{"line":531,"column":1},"end":{"line":531,"column":1}},"key":"nydKIiEB9N"}],"key":"SZe2df4ZzL"}],"key":"wpYAsvpWKy"},{"type":"listItem","spread":true,"position":{"start":{"line":535,"column":1},"end":{"line":538,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":535,"column":1},"end":{"line":537,"column":1}},"children":[{"type":"strong","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"children":[{"type":"inlineCode","value":"888: d65f03c0 ret","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"o945oZiuNV"}],"key":"wmJ0Ygv63E"},{"type":"break","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"MBTaheRXXE"},{"type":"strong","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"K01Cpn9WBx"}],"key":"wvWsqejhOf"},{"type":"text","value":": Returns to OS with code 0.","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"c3Q8iWBMFr"},{"type":"break","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"WrEKpU300n"},{"type":"strong","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"children":[{"type":"text","value":"Context","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"SRYa5526XQ"}],"key":"yWfBBSEGsF"},{"type":"text","value":": Program end.","position":{"start":{"line":535,"column":1},"end":{"line":535,"column":1}},"key":"PaqzgV4D3c"}],"key":"VtBu091Cu1"}],"key":"dSSsOaMF6U"},{"type":"listItem","spread":true,"position":{"start":{"line":539,"column":1},"end":{"line":541,"column":1}},"children":[{"type":"paragraph","position":{"start":{"line":539,"column":1},"end":{"line":540,"column":1}},"children":[{"type":"strong","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"children":[{"type":"inlineCode","value":"88c: d503201f nop","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"key":"q4oZCLewIY"}],"key":"YsPzBbXPt5"},{"type":"break","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"key":"g1r2knYqix"},{"type":"strong","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"children":[{"type":"text","value":"Semantics","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"key":"PiBtSv57xu"}],"key":"nfSVMhIaH6"},{"type":"text","value":": Padding nop, possibly for section alignment.","position":{"start":{"line":539,"column":1},"end":{"line":539,"column":1}},"key":"DrJXY93c8u"}],"key":"CvYTB8PXV8"}],"key":"vMs6LtXrbK"}],"key":"ZNVFVTY0mp"},{"type":"paragraph","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"children":[{"type":"text","value":"Overall, the program computes but discards the modulo result. Running it produces no output. The multi-op modulo is a compiler choice for correctness and portability on ARM64.","position":{"start":{"line":542,"column":1},"end":{"line":542,"column":1}},"key":"tIlko80eFR"}],"key":"waOYgUGKio"}],"key":"Hw16xJFY1i"}],"key":"uW6lF0TZre"},"references":{"cite":{"order":[],"data":{}}}}