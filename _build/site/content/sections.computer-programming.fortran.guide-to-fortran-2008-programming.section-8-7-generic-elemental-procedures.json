{"version":3,"kind":"Notebook","sha256":"51614da58bffcc3427b8a785128d49cd75785e8e852f693cc92e784d4a690314","slug":"sections.computer-programming.fortran.guide-to-fortran-2008-programming.section-8-7-generic-elemental-procedures","location":"/Sections/Computer_Programming/Fortran/Guide_to_Fortran_2008_Programming/Section_8_7_Generic_Elemental_Procedures.ipynb","dependencies":[],"frontmatter":{"title":"Section 8.7: Generic Elemental Procedures","content_includes_title":false,"kernelspec":{"name":"python3","display_name":"Python 3.9.2 64-bit","language":"python"},"authors":[{"nameParsed":{"literal":"Mark Khusid","given":"Mark","family":"Khusid"},"name":"Mark Khusid","id":"contributors-myst-generated-uid-0"}],"github":"https://github.com/markkhusid/MKDynamics_Website_V2","numbering":{"title":{"offset":4}},"source_url":"https://github.com/markkhusid/MKDynamics_Website_V2/blob/master/Sections/Computer_Programming/Fortran/Guide_to_Fortran_2008_Programming/Section_8_7_Generic_Elemental_Procedures.ipynb","edit_url":"https://github.com/markkhusid/MKDynamics_Website_V2/edit/master/Sections/Computer_Programming/Fortran/Guide_to_Fortran_2008_Programming/Section_8_7_Generic_Elemental_Procedures.ipynb","exports":[{"format":"ipynb","filename":"Section_8_7_Generic_Elemental_Procedures.ipynb","url":"/Section_8_7_Generic_-793b815b6e815e1c3dcdab30afa93269.ipynb"}]},"widgets":{},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Adapted from: “Guide to Fortran 2008 Programming” by Walter S. Brainerd (Springer 2015)","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"JtKfWkb87a"}],"key":"vB3ka59Xae"}],"key":"Uu2qYySt06"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Program to demonstrate the generic elemental procedures.","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rpppWpbSO6"}],"identifier":"program-to-demonstrate-the-generic-elemental-procedures","label":"Program to demonstrate the generic elemental procedures.","html_id":"program-to-demonstrate-the-generic-elemental-procedures","implicit":true,"key":"TL0o1ozN8h"}],"key":"p5cRvWc0Ux"},{"type":"block","kind":"notebook-content","children":[{"type":"code","lang":"fortran","value":"module swap_module\n\n    implicit none\n\n    public          :: swap\n    private         :: swap_reals, swap_integers\n\n    interface swap\n        procedure swap_reals, swap_integers\n    end interface\n\ncontains\n\n    elemental subroutine swap_reals (a, b)\n        real, intent (in out)   :: a, b\n        real                    :: temp\n        temp = a\n        a = b\n        b = temp\n    end subroutine swap_reals\n\n    elemental subroutine swap_integers (a, b)\n        integer, intent (in out)    :: a, b\n        integer                     :: temp\n        temp = a\n        a = b\n        b = temp\n    end subroutine swap_integers\n\nend module swap_module\n\nprogram generic_elemental_procedures\n\n    use swap_module\n    implicit none\n    integer, dimension (3)          :: &\n        i = [1, 2, 3], &\n        j = [7, 8, 9]\n\n    real, dimension (3)             :: &\n        a = [1.1, 2.2, 3.3], &\n        b = [7.7, 8.8, 9.9]\n\n    print *\n\n    write (*, '(a, 3i5)') \"[*] The array i is: \", i\n    write (*, '(a, 3i5)') \"[*] The array j is: \", j\n    \n    print *\n\n    write (*, '(a)') \"[*] Now calling swap on the integer arrays....\"\n    print *\n\n    call swap(i, j)\n\n    write (*, '(a, 3i5)') \"[*] After swapping, the array i is: \", i\n    write (*, '(a, 3i5)') \"[*] After swapping, the array j is: \", j\n\n    print *\n\n    write (*, '(a, 3f5.1)') \"[*] The array a is: \", a\n    write (*, '(a, 3f5.1)') \"[*] The array b is: \", b\n\n    print *\n\n    write (*, '(a)') \"[*] Now calling swap on the real arrays....\"\n    print *\n\n    call swap(a, b)\n\n    write (*, '(a, 3f5.1)') \"[*] After swapping, the array a is: \", a\n    write (*, '(a, 3f5.1)') \"[*] After swapping, the array b is: \", b\n\nend program generic_elemental_procedures","position":{"start":{"line":1,"column":1},"end":{"line":76,"column":1}},"key":"ASpSXZIGgO"}],"key":"lkI8hNXWgD"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"The above program is compiled and run using Fortran Package Manager (fpm):","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"w8JFm0py2n"}],"key":"FQjZ5hPsCT"}],"key":"qGJYZD8y4r"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"import os\nroot_dir = os.getcwd()","key":"I3EbUNyBwz"},{"type":"outputs","id":"vyT-U7PRfI6G1d94tPDm_","children":[],"key":"QCFMzTMt6U"}],"key":"MSYxellw3Y"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"code_dir = root_dir + \"/\" + \"Fortran_Code/Section_8_7_Generic_Elemental_Procedures\"","key":"Cmm8ELUhSH"},{"type":"outputs","id":"CVbJn-uzVYVWfCwWEFoHw","children":[],"key":"Ddgeyod6MX"}],"key":"aM1H0muwKT"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"os.chdir(code_dir)","key":"fUlmKxhi1g"},{"type":"outputs","id":"OG0WwzQ_H8unmsD2M5jxH","children":[],"key":"QpzkdvIXtN"}],"key":"nnIEZsEoL0"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"build_status = os.system(\"fpm build 2>/dev/null\")","key":"qVFjIYFHGg"},{"type":"outputs","id":"CuUUDWoQHZhabtMjRJRlT","children":[],"key":"wS2NS6iMvJ"}],"key":"VAUZM9BZs9"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"exec_status = os.system(\"fpm run 2>/dev/null\")","key":"lPguYjJNwi"},{"type":"outputs","id":"3xRdxJdHc4ZGKRrJVJuqB","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"\n[*] The array i is:     1    2    3\n[*] The array j is:     7    8    9\n\n[*] Now calling swap on the integer arrays....\n\n[*] After swapping, the array i is:     7    8    9\n[*] After swapping, the array j is:     1    2    3\n\n[*] The array a is:   1.1  2.2  3.3\n[*] The array b is:   7.7  8.8  9.9\n\n[*] Now calling swap on the real arrays....\n\n[*] After swapping, the array a is:   7.7  8.8  9.9\n[*] After swapping, the array b is:   1.1  2.2  3.3\n"},"children":[],"key":"IUIIYvULiT"}],"key":"GWYqFat01Y"}],"key":"VTM3ui6E7a"}],"key":"H5LegVwuL1"},"references":{"cite":{"order":[],"data":{}}}}