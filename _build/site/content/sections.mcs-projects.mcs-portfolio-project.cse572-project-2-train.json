{"version":3,"kind":"Notebook","sha256":"5c5002aaef6e15e3b54b1172a4727c12e4f42381be92e8469108925acc920bef","slug":"sections.mcs-projects.mcs-portfolio-project.cse572-project-2-train","location":"/Sections/MCS_Projects/MCS_Portfolio_Project/CSE572_Project_2_train.ipynb","dependencies":[],"frontmatter":{"title":"CSE572 Project 2 - Model Training","content_includes_title":false,"kernelspec":{"name":"py311_env","display_name":"Python 3.11","language":"python"},"authors":[{"nameParsed":{"literal":"Mark Khusid","given":"Mark","family":"Khusid"},"name":"Mark Khusid","id":"contributors-myst-generated-uid-0"}],"github":"https://github.com/markkhusid/MKDynamics_Website_V2","numbering":{"title":{"offset":3}},"source_url":"https://github.com/markkhusid/MKDynamics_Website_V2/blob/master/Sections/MCS_Projects/MCS_Portfolio_Project/CSE572_Project_2_train.ipynb","edit_url":"https://github.com/markkhusid/MKDynamics_Website_V2/edit/master/Sections/MCS_Projects/MCS_Portfolio_Project/CSE572_Project_2_train.ipynb","exports":[{"format":"ipynb","filename":"CSE572_Project_2_train.ipynb","url":"/CSE572_Project_2_tra-1fce57515f221134d3c95f3f90aba6a3.ipynb"}]},"widgets":{"application/vnd.jupyter.widget-state+json":{"state":{},"version_major":2,"version_minor":0}},"mdast":{"type":"root","children":[{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Mark Khusid","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"z5MXnOB5ue"}],"key":"GyOPRWnd6r"}],"key":"fwsDFSi0qL"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-22T01:37:44.962334Z","iopub.status.busy":"2024-10-22T01:37:44.954588Z","iopub.status.idle":"2024-10-22T01:37:45.077308Z","shell.execute_reply":"2024-10-22T01:37:45.047004Z","shell.execute_reply.started":"2024-10-22T01:37:44.962297Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"import pandas as pd\nimport numpy as np\n\nfrom mpl_toolkits.mplot3d import Axes3D\nimport matplotlib.pyplot as plt\nimport seaborn as sns\n\nimport pickle\n\nfrom scipy.integrate import simpson\nfrom scipy.ndimage import uniform_filter1d\nfrom scipy.signal import find_peaks\n\nfrom sklearn.impute import KNNImputer\n\nfrom sklearn.svm import SVC\n\nfrom sklearn.decomposition import PCA\n\nfrom sklearn.model_selection import train_test_split\nfrom sklearn.model_selection import cross_val_score\n\nfrom sklearn.preprocessing import StandardScaler\n\nfrom sklearn.metrics import confusion_matrix\nfrom sklearn.metrics import accuracy_score, recall_score, precision_score, f1_score","key":"FfQuSJL06p"},{"type":"outputs","id":"8iKU7qnn8DvIHyphwOYEX","children":[],"key":"xVdGX5PdCy"}],"key":"vypL2xgnRY"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Load the datasets","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wcwuEbq55w"}],"identifier":"load-the-datasets","label":"Load the datasets","html_id":"load-the-datasets","implicit":true,"key":"dvmuBqsPpv"}],"key":"Dn98MfWK87"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:45.305803Z","iopub.status.busy":"2024-10-21T11:06:45.305404Z","iopub.status.idle":"2024-10-21T11:06:45.955969Z","shell.execute_reply":"2024-10-21T11:06:45.953391Z","shell.execute_reply.started":"2024-10-21T11:06:45.305786Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"insulin_data_1 = pd.read_csv('InsulinData.csv', low_memory=False)\ninsulin_data_2 = pd.read_csv('Insulin_patient2.csv', low_memory=False)\ncgm_data_1 = pd.read_csv('CGMData.csv', low_memory=False)\ncgm_data_2 = pd.read_csv('CGM_patient2.csv', low_memory=False)","key":"WZRd3AqMNw"},{"type":"outputs","id":"CHT-KmdVyXS3ZAFMAakx4","children":[],"key":"ZpGpsJ20mK"}],"key":"bW1pKQGPRG"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"View Dataframes","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"D2gV5njUO5"}],"identifier":"view-dataframes","label":"View Dataframes","html_id":"view-dataframes","implicit":true,"key":"oGrkNc4bPq"}],"key":"nBJEXTzrDf"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:45.957258Z","iopub.status.busy":"2024-10-21T11:06:45.956785Z","iopub.status.idle":"2024-10-21T11:06:45.971331Z","shell.execute_reply":"2024-10-21T11:06:45.966661Z","shell.execute_reply.started":"2024-10-21T11:06:45.957232Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#insulin_data_1","key":"AddSafhLER"},{"type":"outputs","id":"Zbs5DyD-J1QqGhCiIynNr","children":[],"key":"OIZxMcGPxD"}],"key":"jJW7D5FTml"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:45.973345Z","iopub.status.busy":"2024-10-21T11:06:45.973160Z","iopub.status.idle":"2024-10-21T11:06:45.989960Z","shell.execute_reply":"2024-10-21T11:06:45.988622Z","shell.execute_reply.started":"2024-10-21T11:06:45.973330Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#cgm_data_1","key":"cLv6G84mZt"},{"type":"outputs","id":"vI3W818Bz8GZuTTm-yF49","children":[],"key":"bNKgaJPRmn"}],"key":"MnnjFLXbAi"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:45.991505Z","iopub.status.busy":"2024-10-21T11:06:45.991265Z","iopub.status.idle":"2024-10-21T11:06:46.001274Z","shell.execute_reply":"2024-10-21T11:06:45.999957Z","shell.execute_reply.started":"2024-10-21T11:06:45.991485Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#insulin_data_2","key":"OoM2HLOGSW"},{"type":"outputs","id":"UwOHQ4UU0FGQKO5dpLJFZ","children":[],"key":"mJyP22Uo2m"}],"key":"RrOsuDSEZ3"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:46.013957Z","iopub.status.busy":"2024-10-21T11:06:46.010415Z","iopub.status.idle":"2024-10-21T11:06:46.261790Z","shell.execute_reply":"2024-10-21T11:06:46.231129Z","shell.execute_reply.started":"2024-10-21T11:06:46.013913Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#cgm_data_2","key":"ZI4UgqHVzQ"},{"type":"outputs","id":"dUrQ5ud00iixV9BqLvFjU","children":[],"key":"RGRaTdFNUi"}],"key":"Qru4xYkTAb"},{"type":"block","kind":"notebook-content","data":{"execution":{"iopub.execute_input":"2024-09-17T02:57:26.794025Z","iopub.status.busy":"2024-09-17T02:57:26.793587Z","iopub.status.idle":"2024-09-17T02:57:26.837838Z","shell.execute_reply":"2024-09-17T02:57:26.801234Z","shell.execute_reply.started":"2024-09-17T02:57:26.793989Z"}},"children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"EDA on dataframes","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KuCWV4FZHD"}],"identifier":"eda-on-dataframes","label":"EDA on dataframes","html_id":"eda-on-dataframes","implicit":true,"key":"dPjO3RAwiC"}],"key":"gkzySgv4VT"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:46.262465Z","iopub.status.busy":"2024-10-21T11:06:46.262293Z","iopub.status.idle":"2024-10-21T11:06:46.412542Z","shell.execute_reply":"2024-10-21T11:06:46.411743Z","shell.execute_reply.started":"2024-10-21T11:06:46.262451Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#insulin_data_1.info()","key":"eVx7FOwGJb"},{"type":"outputs","id":"nvfbOlb5L6Nqf9F5pprVU","children":[],"key":"OWTRT1IA4F"}],"key":"Ar6JF5kfFa"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:46.413552Z","iopub.status.busy":"2024-10-21T11:06:46.413316Z","iopub.status.idle":"2024-10-21T11:06:46.507906Z","shell.execute_reply":"2024-10-21T11:06:46.507065Z","shell.execute_reply.started":"2024-10-21T11:06:46.413534Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#cgm_data_1.info()","key":"SBMzSg6eCb"},{"type":"outputs","id":"XRDMgvDZ-R2ENTHId55cn","children":[],"key":"o05OXcNyaq"}],"key":"h3cpGjtmTe"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:46.508666Z","iopub.status.busy":"2024-10-21T11:06:46.508506Z","iopub.status.idle":"2024-10-21T11:06:46.625005Z","shell.execute_reply":"2024-10-21T11:06:46.603891Z","shell.execute_reply.started":"2024-10-21T11:06:46.508652Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#insulin_data_2.info()","key":"WlVuxxa34P"},{"type":"outputs","id":"NNh3h8agL37F4UySnS7LW","children":[],"key":"do2T3I4IJS"}],"key":"ZyjqNh3nJM"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:46.652642Z","iopub.status.busy":"2024-10-21T11:06:46.647709Z","iopub.status.idle":"2024-10-21T11:06:47.016334Z","shell.execute_reply":"2024-10-21T11:06:46.936754Z","shell.execute_reply.started":"2024-10-21T11:06:46.652611Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#cgm_data_2.info()","key":"W6Bb80DhdC"},{"type":"outputs","id":"l5lJGSfeNf79QiqS5_cas","children":[],"key":"bLaUq72V5B"}],"key":"nEoXJvtKkx"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Convert ‘Date’ and ‘Time’ columns to datetime format in both datasets for easier manipulation","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CFSjqj6wUT"}],"identifier":"convert-date-and-time-columns-to-datetime-format-in-both-datasets-for-easier-manipulation","label":"Convert ‘Date’ and ‘Time’ columns to datetime format in both datasets for easier manipulation","html_id":"convert-date-and-time-columns-to-datetime-format-in-both-datasets-for-easier-manipulation","implicit":true,"key":"WawM2tu9vQ"}],"key":"oaqPI5Tb6h"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:47.021222Z","iopub.status.busy":"2024-10-21T11:06:47.021031Z","iopub.status.idle":"2024-10-21T11:06:47.323478Z","shell.execute_reply":"2024-10-21T11:06:47.234244Z","shell.execute_reply.started":"2024-10-21T11:06:47.021207Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"def preprocess_date(date_string):\n    date_string = date_string.strip()\n    if len(date_string.split()) == 1:\n        return date_string\n    elif len(date_string.split()) == 2:\n        return date_string.split()[0]","key":"KLUpjSArQT"},{"type":"outputs","id":"EDTWeLsnoiQqqEZD47HBX","children":[],"key":"xoeFRxN6NZ"}],"key":"bOi6VV1JS8"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:47.338302Z","iopub.status.busy":"2024-10-21T11:06:47.338094Z","iopub.status.idle":"2024-10-21T11:06:47.559916Z","shell.execute_reply":"2024-10-21T11:06:47.535113Z","shell.execute_reply.started":"2024-10-21T11:06:47.338286Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"insulin_data_1['Date'] = insulin_data_1['Date'].apply(preprocess_date)\ninsulin_data_2['Date'] = insulin_data_2['Date'].apply(preprocess_date)","key":"sc90rQMBD3"},{"type":"outputs","id":"EbgaoHR-cz98jSU3g5Uu3","children":[],"key":"UixSTYsIMK"}],"key":"NtIXFjpFGF"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:47.563558Z","iopub.status.busy":"2024-10-21T11:06:47.563304Z","iopub.status.idle":"2024-10-21T11:06:48.440204Z","shell.execute_reply":"2024-10-21T11:06:48.418838Z","shell.execute_reply.started":"2024-10-21T11:06:47.563541Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"insulin_data_1['datetime'] = pd.to_datetime(insulin_data_1['Date'] + ' ' + insulin_data_1['Time'])\ninsulin_data_2['datetime'] = pd.to_datetime(insulin_data_2['Date'] + ' ' + insulin_data_2['Time'])\n\ncgm_data_1['datetime'] = pd.to_datetime(cgm_data_1['Date'] + ' ' + cgm_data_1['Time'])\ncgm_data_2['datetime'] = pd.to_datetime(cgm_data_2['Date'] + ' ' + cgm_data_2['Time'])","key":"rBIBkcQqal"},{"type":"outputs","id":"qNLjn178vPwCFt--LXdU7","children":[],"key":"CkHYZQHdfj"}],"key":"io43tlfLMs"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:48.443489Z","iopub.status.busy":"2024-10-21T11:06:48.440683Z","iopub.status.idle":"2024-10-21T11:06:48.534614Z","shell.execute_reply":"2024-10-21T11:06:48.489351Z","shell.execute_reply.started":"2024-10-21T11:06:48.443466Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#insulin_data_1[['Date', 'Time', 'datetime']]","key":"kqDSj1LiUT"},{"type":"outputs","id":"VW1_KFO_78YlCJC_-7fye","children":[],"key":"mdAgXRStnl"}],"key":"pc9ZoCp7wn"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:48.552664Z","iopub.status.busy":"2024-10-21T11:06:48.552455Z","iopub.status.idle":"2024-10-21T11:06:48.689249Z","shell.execute_reply":"2024-10-21T11:06:48.684405Z","shell.execute_reply.started":"2024-10-21T11:06:48.552648Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#insulin_data_2[['Date', 'Time', 'datetime']]","key":"aJByTLeTbe"},{"type":"outputs","id":"KFBzqmSOhbX1hveV7ZOJ7","children":[],"key":"xNU2HU2EXR"}],"key":"vw4MvOweNI"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:48.704048Z","iopub.status.busy":"2024-10-21T11:06:48.703878Z","iopub.status.idle":"2024-10-21T11:06:48.944844Z","shell.execute_reply":"2024-10-21T11:06:48.932951Z","shell.execute_reply.started":"2024-10-21T11:06:48.704033Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#cgm_data_1[['Date', 'Time', 'datetime']]","key":"VYUItRoRrk"},{"type":"outputs","id":"v29cAF0Zb6L2CZP_6Wm0O","children":[],"key":"HNVETD1osW"}],"key":"OHGxTX9EX1"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:48.946385Z","iopub.status.busy":"2024-10-21T11:06:48.945931Z","iopub.status.idle":"2024-10-21T11:06:49.047232Z","shell.execute_reply":"2024-10-21T11:06:49.046594Z","shell.execute_reply.started":"2024-10-21T11:06:48.946359Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#cgm_data_2[['Date', 'Time', 'datetime']]","key":"cq253npcQW"},{"type":"outputs","id":"K3yU2zn0DNrRiCDEWA4U_","children":[],"key":"GtGbwJsWNo"}],"key":"D7T4Ehgr5L"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Search for non-zero BWZ Carb Input Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"RFu49vBBsX"}],"identifier":"search-for-non-zero-bwz-carb-input-data","label":"Search for non-zero BWZ Carb Input Data","html_id":"search-for-non-zero-bwz-carb-input-data","implicit":true,"key":"s596lte1ST"}],"key":"Jz38l4WA9i"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:49.070586Z","iopub.status.busy":"2024-10-21T11:06:49.070368Z","iopub.status.idle":"2024-10-21T11:06:49.480357Z","shell.execute_reply":"2024-10-21T11:06:49.449443Z","shell.execute_reply.started":"2024-10-21T11:06:49.070571Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# This datetime series contains the start of all non NaN and  positive carb input\n# data from the column BWZ Carb Input (grams)\nmeal_times_1 = \\\n    insulin_data_1[~insulin_data_1['BWZ Carb Input (grams)'].isna() & \\\n    (insulin_data_1['BWZ Carb Input (grams)'] > 0)]['datetime']\nmeal_times_1","key":"iOtucehdnm"},{"type":"outputs","id":"RIGCkZqyI3aGwCcOYHiML","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":18,"metadata":{},"data":{"text/plain":{"content":"48      2018-02-12 09:15:45\n129     2018-02-12 02:30:55\n188     2018-02-11 20:33:18\n207     2018-02-11 18:14:37\n222     2018-02-11 16:27:04\n                ...        \n41265   2017-07-26 11:24:52\n41274   2017-07-26 09:27:16\n41347   2017-07-25 18:31:40\n41393   2017-07-25 10:39:46\n41401   2017-07-25 10:21:19\nName: datetime, Length: 747, dtype: datetime64[ns]","content_type":"text/plain"}}},"children":[],"key":"V5wn9ctEKa"}],"key":"SY8GGZVF4n"}],"key":"qB1pt6mnzM"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:49.523585Z","iopub.status.busy":"2024-10-21T11:06:49.507641Z","iopub.status.idle":"2024-10-21T11:06:49.786356Z","shell.execute_reply":"2024-10-21T11:06:49.735494Z","shell.execute_reply.started":"2024-10-21T11:06:49.523540Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# This datetime series contains the start of all non NaN and  positive carb input\n# data from the column BWZ Carb Input (grams)\nmeal_times_2 = \\\n    insulin_data_2[~insulin_data_2['BWZ Carb Input (grams)'].isna() & \\\n    (insulin_data_2['BWZ Carb Input (grams)'] > 0)]['datetime']\n#meal_times_2","key":"mwjkDg4YIy"},{"type":"outputs","id":"k3_sgTs2fwDSssmxCXI3B","children":[],"key":"IBCVpMQkGF"}],"key":"oKVEwOU1yI"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Extract Meal Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"diDWKfNBcD"}],"identifier":"extract-meal-data","label":"Extract Meal Data","html_id":"extract-meal-data","implicit":true,"key":"GhNmmaNqju"}],"key":"cqjgWgVaZ4"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Obtain CGM Data based on Length of After-Meal Window","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bRoaYplEcI"}],"identifier":"obtain-cgm-data-based-on-length-of-after-meal-window","label":"Obtain CGM Data based on Length of After-Meal Window","html_id":"obtain-cgm-data-based-on-length-of-after-meal-window","implicit":true,"key":"AoTn7kcqZc"}],"key":"VfAFyTAbAd"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:49.788868Z","iopub.status.busy":"2024-10-21T11:06:49.788637Z","iopub.status.idle":"2024-10-21T11:06:51.067708Z","shell.execute_reply":"2024-10-21T11:06:51.067218Z","shell.execute_reply.started":"2024-10-21T11:06:49.788852Z"},"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"# Initialize meal data list\nmeal_data_1 = []\n\n# Loop through each meal start time\nfor meal_time in meal_times_1:\n    # A meal windows is 2 hours long\n    meal_window = insulin_data_1[(insulin_data_1['datetime'] > meal_time) & \n                               (insulin_data_1['datetime'] <= (meal_time + pd.Timedelta(hours=2)))]\n    #print(meal_window)\n\n    # If that meal window is empty, get corresponding CGM_\n    # data that starts at tm-30 and ends at tm+2hrs\n    if meal_window.empty:\n        # Step 4 condition (a): No meal between tm and tm+2hrs, use this stretch as meal data\n        meal_cgm_data_1 = cgm_data_1[(cgm_data_1['datetime'] >= (meal_time - pd.Timedelta(minutes=30))) & \n                                 (cgm_data_1['datetime'] <= (meal_time + pd.Timedelta(hours=2)))]\n    else:\n        # Step 4 check for condition (b) or (c)\n        next_meal_time = meal_window.iloc[0]['datetime']\n        if next_meal_time < (meal_time + pd.Timedelta(hours=2)):\n            # condition (b): There is a meal at tp between tm and tm+2hrs, use tp data\n            meal_time = next_meal_time\n            meal_cgm_data_1 = cgm_data_1[(cgm_data_1['datetime'] >= (meal_time - pd.Timedelta(minutes=30))) & \n                                     (cgm_data_1['datetime'] <= (meal_time + pd.Timedelta(hours=2)))]\n        # Condition (c): There is a meal exactly at tm+2hrs, use tm+1hr 30min to tm+4hrs\n        elif next_meal_time == (meal_time + pd.Timedelta(hours=2)):\n            meal_cgm_data_1 = cgm_data_1[(cgm_data_1['datetime'] >= (meal_time + pd.Timedelta(hours=1, minutes=30))) & \n                                     (cgm_data_1['datetime'] <= (meal_time + pd.Timedelta(hours=4)))]\n\n    # Check if the extracted data has the correct number of points (30 for meal data)\n    if len(meal_cgm_data_1) == 30:\n        #print(f\"Meal Time Data {meal_time} has {len(meal_cgm_data)} number of points.\")\n        meal_data_1.append(meal_cgm_data_1['Sensor Glucose (mg/dL)'].values)","key":"TkEEUtUAdo"},{"type":"outputs","id":"i-xsdDRQQyGLFRyC9UbJQ","children":[],"key":"XkvZnQKFNt"}],"key":"DuApiseej5"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:51.068483Z","iopub.status.busy":"2024-10-21T11:06:51.068280Z","iopub.status.idle":"2024-10-21T11:06:51.525565Z","shell.execute_reply":"2024-10-21T11:06:51.524806Z","shell.execute_reply.started":"2024-10-21T11:06:51.068467Z"},"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"# Initialize meal data list\nmeal_data_2 = []\n\n# Loop through each meal start time\nfor meal_time in meal_times_2:\n    # A meal windows is 2 hours long\n    meal_window = insulin_data_2[(insulin_data_2['datetime'] > meal_time) & \n                               (insulin_data_2['datetime'] <= (meal_time + pd.Timedelta(hours=2)))]\n    #print(meal_window)\n\n    # If that meal window is empty, get corresponding CGM_\n    # data that starts at tm-30 and ends at tm+2hrs\n    if meal_window.empty:\n        # Step 4 condition (a): No meal between tm and tm+2hrs, use this stretch as meal data\n        meal_cgm_data_2 = cgm_data_2[(cgm_data_2['datetime'] >= (meal_time - pd.Timedelta(minutes=30))) & \n                                 (cgm_data_2['datetime'] <= (meal_time + pd.Timedelta(hours=2)))]\n    else:\n        # Step 4 check for condition (b) or (c)\n        next_meal_time = meal_window.iloc[0]['datetime']\n        if next_meal_time < (meal_time + pd.Timedelta(hours=2)):\n            # condition (b): There is a meal at tp between tm and tm+2hrs, use tp data\n            meal_time = next_meal_time\n            meal_cgm_data_2 = cgm_data_2[(cgm_data_2['datetime'] >= (meal_time - pd.Timedelta(minutes=30))) & \n                                     (cgm_data_2['datetime'] <= (meal_time + pd.Timedelta(hours=2)))]\n        # Condition (c): There is a meal exactly at tm+2hrs, use tm+1hr 30min to tm+4hrs\n        elif next_meal_time == (meal_time + pd.Timedelta(hours=2)):\n            meal_cgm_data_2 = cgm_data_2[(cgm_data_2['datetime'] >= (meal_time + pd.Timedelta(hours=1, minutes=30))) & \n                                     (cgm_data_2['datetime'] <= (meal_time + pd.Timedelta(hours=4)))]\n\n    # Check if the extracted data has the correct number of points (30 for meal data)\n    if len(meal_cgm_data_2) == 30:\n        #print(f\"Meal Time Data {meal_time} has {len(meal_cgm_data)} number of points.\")\n        meal_data_2.append(meal_cgm_data_2['Sensor Glucose (mg/dL)'].values)","key":"lOP3hJpzpU"},{"type":"outputs","id":"WfRSYOO_UihzyuUmFbXZZ","children":[],"key":"bepMRyW9Ko"}],"key":"XQolxDDrKw"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Get Length of Meal Data CGM Values","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"nW1rsAQyke"}],"identifier":"get-length-of-meal-data-cgm-values","label":"Get Length of Meal Data CGM Values","html_id":"get-length-of-meal-data-cgm-values","implicit":true,"key":"at8bz5YjYW"}],"key":"Br2jjhd9A4"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:51.526539Z","iopub.status.busy":"2024-10-21T11:06:51.526274Z","iopub.status.idle":"2024-10-21T11:06:51.545317Z","shell.execute_reply":"2024-10-21T11:06:51.544525Z","shell.execute_reply.started":"2024-10-21T11:06:51.526523Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"len(meal_data_1)","key":"idXRHXvkSk"},{"type":"outputs","id":"W8lOzg0sK8acZlvZbmt9o","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":22,"metadata":{},"data":{"text/plain":{"content":"715","content_type":"text/plain"}}},"children":[],"key":"bveeDUrgRA"}],"key":"CZkAwmbv6j"}],"key":"Elr60YFUhF"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:51.546117Z","iopub.status.busy":"2024-10-21T11:06:51.545908Z","iopub.status.idle":"2024-10-21T11:06:51.626653Z","shell.execute_reply":"2024-10-21T11:06:51.609859Z","shell.execute_reply.started":"2024-10-21T11:06:51.546102Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"len(meal_data_2)","key":"jy5btE6DcZ"},{"type":"outputs","id":"4Nxyyntmh7NJ9OuCss31k","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":23,"metadata":{},"data":{"text/plain":{"content":"372","content_type":"text/plain"}}},"children":[],"key":"ReQhmPynyZ"}],"key":"xfflzvfIiF"}],"key":"AcXE0UNucF"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:51.631611Z","iopub.status.busy":"2024-10-21T11:06:51.631383Z","iopub.status.idle":"2024-10-21T11:06:51.671928Z","shell.execute_reply":"2024-10-21T11:06:51.669961Z","shell.execute_reply.started":"2024-10-21T11:06:51.631595Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_data_1[0:5]","key":"DVpMvCxZ8F"},{"type":"outputs","id":"RyJMeLnaws9O4w7p9ybez","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":24,"metadata":{},"data":{"text/plain":{"content":"[array([ nan,  nan, 124., 126., 127., 128., 130., 137., 140.,  nan, 150.,\n        140., 131., 130., 134., 148.,  nan, 159., 157., 140., 146., 148.,\n        151., 150., 162., 174., 180., 178., 184., 185.]),\n array([121., 120., 115., 110., 106., 103., 103., 101.,  nan, 131., 109.,\n         82.,  74.,  66.,  73.,  82.,  87.,  90.,  83.,  73.,  49.,  58.,\n         69.,  79.,  nan,  93.,  92.,  86.,  84.,  80.]),\n array([287., 288., 289., 279., 260., 262., 259., 250., 245., 250., 247.,\n        243., 227., 213., 205., 182., 175., 170., 166., 164., 165., 158.,\n        153., 161., 177., 194., 200., 201., 189., 162.]),\n array([189., 162., 166., 173., 176., 169., 167., 166., 168., 180., 182.,\n        178., 171., 160., 145., 138., 132., 120., 127., 129., 132., 123.,\n        104., 100., 107., 106., 123., 128., 137., 147.]),\n array([107., 106., 123., 128., 137., 147., 145., 142.,  nan,  nan,  nan,\n         nan,  nan,  nan,  nan,  nan,  nan,  nan,  nan,  nan,  nan,  nan,\n         nan,  nan,  nan,  nan,  nan,  nan,  nan,  nan])]","content_type":"text/plain"}}},"children":[],"key":"azyMLeELvX"}],"key":"OqadGxWtFG"}],"key":"VaIw448V7v"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:51.687301Z","iopub.status.busy":"2024-10-21T11:06:51.685863Z","iopub.status.idle":"2024-10-21T11:06:51.702752Z","shell.execute_reply":"2024-10-21T11:06:51.701346Z","shell.execute_reply.started":"2024-10-21T11:06:51.687273Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#meal_data_2[0:5]","key":"Ldy5CD0nNl"},{"type":"outputs","id":"fg1hdbGKJnLkF-PgzaGTd","children":[],"key":"o3erHS1it1"}],"key":"hlP2V70sY9"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Create Meal Data Matrix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"USqkAIsFXQ"}],"identifier":"create-meal-data-matrix","label":"Create Meal Data Matrix","html_id":"create-meal-data-matrix","implicit":true,"key":"qZ48KfdcoZ"}],"key":"jErRa8oA4f"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:51.703804Z","iopub.status.busy":"2024-10-21T11:06:51.703287Z","iopub.status.idle":"2024-10-21T11:06:51.891231Z","shell.execute_reply":"2024-10-21T11:06:51.836646Z","shell.execute_reply.started":"2024-10-21T11:06:51.703786Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_data_matrix_1 = np.array(meal_data_1)\nmeal_data_matrix_1","key":"ZJjaWDExPo"},{"type":"outputs","id":"8akbYmlfdEUvGIfHuhQki","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":26,"metadata":{},"data":{"text/plain":{"content":"array([[ nan,  nan, 124., ..., 178., 184., 185.],\n       [121., 120., 115., ...,  86.,  84.,  80.],\n       [287., 288., 289., ..., 201., 189., 162.],\n       ...,\n       [274., 278., 283., ..., 268., 281., 292.],\n       [223., 222., 222., ..., 324., 326., 328.],\n       [ 82.,  85.,  92., ..., 164., 163., 155.]])","content_type":"text/plain"}}},"children":[],"key":"t1Wcm5mxWo"}],"key":"w29TUMbSvP"}],"key":"UukOo5peOS"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:51.891955Z","iopub.status.busy":"2024-10-21T11:06:51.891786Z","iopub.status.idle":"2024-10-21T11:06:52.129153Z","shell.execute_reply":"2024-10-21T11:06:52.128606Z","shell.execute_reply.started":"2024-10-21T11:06:51.891941Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_data_matrix_1.shape","key":"GOfKhTwnSm"},{"type":"outputs","id":"IcWXHYiPs3hr2TZf9MseM","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":27,"metadata":{},"data":{"text/plain":{"content":"(715, 30)","content_type":"text/plain"}}},"children":[],"key":"Bq13ZX9JPO"}],"key":"fFBx9vRHii"}],"key":"SM1AXZx5cq"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:52.139991Z","iopub.status.busy":"2024-10-21T11:06:52.139805Z","iopub.status.idle":"2024-10-21T11:06:52.470191Z","shell.execute_reply":"2024-10-21T11:06:52.443496Z","shell.execute_reply.started":"2024-10-21T11:06:52.139977Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_data_matrix_2 = np.array(meal_data_2)\nmeal_data_matrix_2","key":"YwHxTMawzF"},{"type":"outputs","id":"mKc960NKr5NCy6aD5X2rh","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":28,"metadata":{},"data":{"text/plain":{"content":"array([[390., 391., 389., ..., 165., 139., 133.],\n       [116., 113., 110., ..., 248., 233., 222.],\n       [130., 129., 126., ..., 153., 147., 147.],\n       ...,\n       [174., 181., 191., ..., 126., 129., 128.],\n       [174., 181., 191., ..., 126., 129., 128.],\n       [102.,  94.,  92., ..., 169., 180., 186.]])","content_type":"text/plain"}}},"children":[],"key":"fqL5h8wlCA"}],"key":"SfjpuYJbqr"}],"key":"icojngbHCQ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:52.496056Z","iopub.status.busy":"2024-10-21T11:06:52.486493Z","iopub.status.idle":"2024-10-21T11:06:52.796622Z","shell.execute_reply":"2024-10-21T11:06:52.777291Z","shell.execute_reply.started":"2024-10-21T11:06:52.496012Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_data_matrix_2.shape","key":"oFMnkZDAq5"},{"type":"outputs","id":"BfVEdteuLVuzI5sWor7_g","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":29,"metadata":{},"data":{"text/plain":{"content":"(372, 30)","content_type":"text/plain"}}},"children":[],"key":"IEpS8RDbqz"}],"key":"P7uiZJoHbJ"}],"key":"PVn5ps6jmx"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"xkfak7ciUV"}],"identifier":"visualize-meal-data-matrix-1","label":"Visualize Meal Data Matrix 1","html_id":"visualize-meal-data-matrix-1","implicit":true,"key":"z6vzxpomFI"}],"key":"zQ1axnTQWb"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Heatmap of Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"q2Q42LZOku"}],"identifier":"heatmap-of-meal-data-matrix-1","label":"Heatmap of Meal Data Matrix 1","html_id":"heatmap-of-meal-data-matrix-1","implicit":true,"key":"hlahlQ4GI9"}],"key":"OAo9G9C4gg"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:52.821616Z","iopub.status.busy":"2024-10-21T11:06:52.817008Z","iopub.status.idle":"2024-10-21T11:06:54.250078Z","shell.execute_reply":"2024-10-21T11:06:54.248849Z","shell.execute_reply.started":"2024-10-21T11:06:52.821577Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the heatmap\nsampled_meal_data_matrix_1 = meal_data_matrix_1[np.random.choice(meal_data_matrix_1.shape[0], 200, replace=False)]\nplt.figure(figsize=(30, 30))\nsns.heatmap(sampled_meal_data_matrix_1, cmap='YlGnBu', linewidths=0.5, annot=False, vmin=None, vmax=None)\nplt.title('Heatmap of Meal Data Matrix 1')\nplt.xlabel('Time Points')\nplt.ylabel('Meals (Samples)')\nplt.show()","key":"DUmBulh2Ij"},{"type":"outputs","id":"Dc8aQHAdhU64rafzhfxdB","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"a1f685b6fd0b25da1985e1bc18c26ec1","path":"/a1f685b6fd0b25da1985e1bc18c26ec1.png"},"text/plain":{"content":"<Figure size 3000x3000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"IAvcyXmCNR"}],"key":"jozsbMEquW"}],"key":"Gorh8FmYaV"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Surface Plot of Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ghy1EVKvO4"}],"identifier":"surface-plot-of-meal-data-matrix-1","label":"Surface Plot of Meal Data Matrix 1","html_id":"surface-plot-of-meal-data-matrix-1","implicit":true,"key":"i8kkYW46sH"}],"key":"qBKsAaTAP2"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:54.251236Z","iopub.status.busy":"2024-10-21T11:06:54.250929Z","iopub.status.idle":"2024-10-21T11:06:54.257296Z","shell.execute_reply":"2024-10-21T11:06:54.256325Z","shell.execute_reply.started":"2024-10-21T11:06:54.251218Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create X, Y meshgrid\nX = np.arange(meal_data_matrix_1.shape[1])\nY = np.arange(meal_data_matrix_1.shape[0])\ntime_points = np.linspace(-30, 120, 30)  # X-axis: from -30 minutes to +120 minutes (30 time points)\nmeal_numbers = np.arange(1, len(meal_data_1) + 1)\nX, Y = np.meshgrid(time_points, Y)\n#X, Y = np.meshgrid(time_points, meal_numbers)","key":"AzejiFjgZj"},{"type":"outputs","id":"8UAvu21L9cAkXhtIixK6Y","children":[],"key":"hpixonFNFJ"}],"key":"qdNl0T04cK"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:54.258422Z","iopub.status.busy":"2024-10-21T11:06:54.258200Z","iopub.status.idle":"2024-10-21T11:06:54.349852Z","shell.execute_reply":"2024-10-21T11:06:54.346121Z","shell.execute_reply.started":"2024-10-21T11:06:54.258398Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X","key":"XMQJyvR4aX"},{"type":"outputs","id":"eGvRkqSStj4co5wGmlI4e","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":32,"metadata":{},"data":{"text/plain":{"content":"array([[-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       ...,\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ]])","content_type":"text/plain"}}},"children":[],"key":"je92ROSMZa"}],"key":"LduEZeXfjA"}],"key":"nROzV1Uey1"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:54.351018Z","iopub.status.busy":"2024-10-21T11:06:54.350759Z","iopub.status.idle":"2024-10-21T11:06:54.442287Z","shell.execute_reply":"2024-10-21T11:06:54.441885Z","shell.execute_reply.started":"2024-10-21T11:06:54.350997Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X.shape","key":"L1tsFHKeuX"},{"type":"outputs","id":"YKoFhkwOUkzbgzMtBFwnn","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":33,"metadata":{},"data":{"text/plain":{"content":"(715, 30)","content_type":"text/plain"}}},"children":[],"key":"sYKIMQ5p3b"}],"key":"AGY2wEDHYa"}],"key":"WGjTHrodGT"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:54.442959Z","iopub.status.busy":"2024-10-21T11:06:54.442759Z","iopub.status.idle":"2024-10-21T11:06:54.543278Z","shell.execute_reply":"2024-10-21T11:06:54.525032Z","shell.execute_reply.started":"2024-10-21T11:06:54.442944Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y","key":"Okydl2BJlQ"},{"type":"outputs","id":"y6QT9OxRQFQ80MoI6qGRb","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":34,"metadata":{},"data":{"text/plain":{"content":"array([[  0,   0,   0, ...,   0,   0,   0],\n       [  1,   1,   1, ...,   1,   1,   1],\n       [  2,   2,   2, ...,   2,   2,   2],\n       ...,\n       [712, 712, 712, ..., 712, 712, 712],\n       [713, 713, 713, ..., 713, 713, 713],\n       [714, 714, 714, ..., 714, 714, 714]])","content_type":"text/plain"}}},"children":[],"key":"DhUP9L8Q3F"}],"key":"wD1KWXUICI"}],"key":"o9K26r9zT5"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:54.551508Z","iopub.status.busy":"2024-10-21T11:06:54.551322Z","iopub.status.idle":"2024-10-21T11:06:54.588165Z","shell.execute_reply":"2024-10-21T11:06:54.578904Z","shell.execute_reply.started":"2024-10-21T11:06:54.551493Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Fill NaNs using forward fill, then backward fill\nmeal_data_matrix_1_df = pd.DataFrame(meal_data_matrix_1)\nmeal_data_matrix_1_filled = meal_data_matrix_1_df.ffill().bfill().values","key":"cUJBhXekxA"},{"type":"outputs","id":"SJ7QYQC46xQ0bpjm2Luc8","children":[],"key":"hsiY2vVA7S"}],"key":"mTdswd6A5f"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:54.609143Z","iopub.status.busy":"2024-10-21T11:06:54.598895Z","iopub.status.idle":"2024-10-21T11:06:54.800289Z","shell.execute_reply":"2024-10-21T11:06:54.784350Z","shell.execute_reply.started":"2024-10-21T11:06:54.609121Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Apply a moving average smoothing to each row\nwindow_size = 5  # Choose a window size for smoothing\nsmoothed_meal_data_matrix_1 = np.array([uniform_filter1d(row, size=window_size) for row in meal_data_matrix_1_filled])","key":"S8F2dUA5gN"},{"type":"outputs","id":"r_LBLy3NDhLKes4sNV8EH","children":[],"key":"MBoyCVXPA1"}],"key":"ly2RjjOprx"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:54.813055Z","iopub.status.busy":"2024-10-21T11:06:54.808854Z","iopub.status.idle":"2024-10-21T11:06:55.789632Z","shell.execute_reply":"2024-10-21T11:06:55.733617Z","shell.execute_reply.started":"2024-10-21T11:06:54.813028Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the plot\nfig = plt.figure(figsize=(10, 8))\nax = fig.add_subplot(111, projection='3d')\nstride = 100\n\n# Plot the surface\nsurface_plot = ax.plot_surface(X[::stride], Y[::stride], smoothed_meal_data_matrix_1[::stride], cmap='viridis', edgecolor='none')\nax.set_title('3D Surface Plot of Smoothed Averaged Meal Glucose Levels', y=0.985)\nax.set_xlabel('Time Relative to Start of Meal [minutes]', labelpad=10)\nax.set_ylabel('Meal Samples', labelpad=10)\n#ax.set_zlabel('Glucose Level (mg/dL)', labelpad=30)\n\n#ax.set_xticks(np.linspace(-30, 120, 7))\n\n# Adjust axis limits to create a zoom-out effect\n#ax.set_xlim(-30, 120)\nax.set_ylim(0, 800)\nax.set_zlim(0, 300)\n\nfig.colorbar(surface_plot, ax=ax, shrink=0.5, aspect=10, label='Glucose Level (mg/dL)')\n\n#plt.tight_layout()\nfig.subplots_adjust(left=0.01, right=1, top=0.9, bottom=0.1)\n\nax.view_init(elev=25, azim=-55)\n\nplt.show()","key":"ZG0LrjHZPZ"},{"type":"outputs","id":"JSdoxe9wi2Spt8o32r7QB","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"a358ab8cc88548f7c8f091f310422644","path":"/a358ab8cc88548f7c8f091f310422644.png"},"text/plain":{"content":"<Figure size 1000x800 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"MJntT9kUWW"}],"key":"pRr2GYsK6a"}],"key":"AmwnPyvpb2"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Contour Plot of Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"l1n2EnfwXN"}],"identifier":"contour-plot-of-meal-data-matrix-1","label":"Contour Plot of Meal Data Matrix 1","html_id":"contour-plot-of-meal-data-matrix-1","implicit":true,"key":"lX831whKYe"}],"key":"hylzHBNzXd"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:55.800430Z","iopub.status.busy":"2024-10-21T11:06:55.794685Z","iopub.status.idle":"2024-10-21T11:06:56.476424Z","shell.execute_reply":"2024-10-21T11:06:56.475366Z","shell.execute_reply.started":"2024-10-21T11:06:55.800382Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the contour plot\nplt.figure(figsize=(15, 10))\nplt.contourf(X, Y, meal_data_matrix_1_df, cmap='viridis', levels=30)\nplt.colorbar(label='Glucose Level (mg/dL)')\nplt.title('Contour Plot of Meal Glucose Levels')\nplt.xlabel('Time Points')\nplt.ylabel('Meal Samples')\nplt.show()","key":"OSzzuE58Yq"},{"type":"outputs","id":"Pk6fosxP4MH-lOKQxeah-","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"126ddca12ae9dc0fcc519551eb88c0b8","path":"/126ddca12ae9dc0fcc519551eb88c0b8.png"},"text/plain":{"content":"<Figure size 1500x1000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"zLSTMqHfz5"}],"key":"kLg1XxBz5R"}],"key":"mhRHJWNxv9"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WtitPqKH4B"}],"identifier":"visualize-meal-data-matrix-2","label":"Visualize Meal Data Matrix 2","html_id":"visualize-meal-data-matrix-2","implicit":true,"key":"XYSSu897fE"}],"key":"oyuFHxIUw4"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Heatmap of Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"I5ajbtG93I"}],"identifier":"heatmap-of-meal-data-matrix-2","label":"Heatmap of Meal Data Matrix 2","html_id":"heatmap-of-meal-data-matrix-2","implicit":true,"key":"eQwmy5KeaF"}],"key":"tNuP6855ax"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:56.477674Z","iopub.status.busy":"2024-10-21T11:06:56.477456Z","iopub.status.idle":"2024-10-21T11:06:57.429684Z","shell.execute_reply":"2024-10-21T11:06:57.428450Z","shell.execute_reply.started":"2024-10-21T11:06:56.477659Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the heatmap\nsampled_meal_data_matrix_2 = meal_data_matrix_2[np.random.choice(meal_data_matrix_2.shape[0], 200, replace=False)]\nplt.figure(figsize=(30, 30))\nsns.heatmap(sampled_meal_data_matrix_2, cmap='YlGnBu', linewidths=0.5, annot=False, vmin=None, vmax=None)\nplt.title('Heatmap of Meal Data Matrix 2')\nplt.xlabel('Time Points')\nplt.ylabel('Meals (Samples)')\nplt.show()","key":"ZddnUYFXfR"},{"type":"outputs","id":"F7zFbWJzCc2eJRAEgtlHj","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"82f82fc0c9bba17c87599c06cd8e4f27","path":"/82f82fc0c9bba17c87599c06cd8e4f27.png"},"text/plain":{"content":"<Figure size 3000x3000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"xpspB1YSGc"}],"key":"SsokWxfPxr"}],"key":"cEEZ8pGNBQ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Surface Plot of Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iektK2Pzzc"}],"identifier":"surface-plot-of-meal-data-matrix-2","label":"Surface Plot of Meal Data Matrix 2","html_id":"surface-plot-of-meal-data-matrix-2","implicit":true,"key":"ranbEzQCAR"}],"key":"hHLFEDZTR3"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:57.436058Z","iopub.status.busy":"2024-10-21T11:06:57.435849Z","iopub.status.idle":"2024-10-21T11:06:57.454491Z","shell.execute_reply":"2024-10-21T11:06:57.453341Z","shell.execute_reply.started":"2024-10-21T11:06:57.436042Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create X, Y meshgrid\nX = np.arange(meal_data_matrix_2.shape[1])\nY = np.arange(meal_data_matrix_2.shape[0])\ntime_points = np.linspace(-30, 120, 30)  # X-axis: from -30 minutes to +120 minutes (30 time points)\nmeal_numbers = np.arange(1, len(meal_data_2) + 1)\nX, Y = np.meshgrid(time_points, Y)\n#X, Y = np.meshgrid(time_points, meal_numbers)","key":"kdHEkxix5R"},{"type":"outputs","id":"sUYQ8XMFj2O5RYvITOtjs","children":[],"key":"UVpmXLGrH2"}],"key":"MMOadMr2kS"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:57.455531Z","iopub.status.busy":"2024-10-21T11:06:57.455271Z","iopub.status.idle":"2024-10-21T11:06:57.526317Z","shell.execute_reply":"2024-10-21T11:06:57.515783Z","shell.execute_reply.started":"2024-10-21T11:06:57.455512Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X","key":"FBie7GAkbY"},{"type":"outputs","id":"plAJoUUc12YHY7fMMK01i","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":41,"metadata":{},"data":{"text/plain":{"content":"array([[-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       ...,\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ]])","content_type":"text/plain"}}},"children":[],"key":"kTCNmgwVrR"}],"key":"xMgQSyW68r"}],"key":"nSobQxa3Bo"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:57.537374Z","iopub.status.busy":"2024-10-21T11:06:57.527167Z","iopub.status.idle":"2024-10-21T11:06:57.547896Z","shell.execute_reply":"2024-10-21T11:06:57.547018Z","shell.execute_reply.started":"2024-10-21T11:06:57.537338Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X.shape","key":"WFLJ6bPgLN"},{"type":"outputs","id":"tQpRfe-qysd-mS4qyCLYS","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":42,"metadata":{},"data":{"text/plain":{"content":"(372, 30)","content_type":"text/plain"}}},"children":[],"key":"eeD7NyXMf9"}],"key":"K0l2Rjf58g"}],"key":"f4piL8yrxX"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:57.549986Z","iopub.status.busy":"2024-10-21T11:06:57.549764Z","iopub.status.idle":"2024-10-21T11:06:57.560589Z","shell.execute_reply":"2024-10-21T11:06:57.559735Z","shell.execute_reply.started":"2024-10-21T11:06:57.549970Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y","key":"iWilEg4SjK"},{"type":"outputs","id":"QZ_7-NygkL4QIrGJorTrG","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":43,"metadata":{},"data":{"text/plain":{"content":"array([[  0,   0,   0, ...,   0,   0,   0],\n       [  1,   1,   1, ...,   1,   1,   1],\n       [  2,   2,   2, ...,   2,   2,   2],\n       ...,\n       [369, 369, 369, ..., 369, 369, 369],\n       [370, 370, 370, ..., 370, 370, 370],\n       [371, 371, 371, ..., 371, 371, 371]])","content_type":"text/plain"}}},"children":[],"key":"BnFuIbbodw"}],"key":"NeDpbZ8Om0"}],"key":"KX500FM81u"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:57.564133Z","iopub.status.busy":"2024-10-21T11:06:57.563915Z","iopub.status.idle":"2024-10-21T11:06:57.586578Z","shell.execute_reply":"2024-10-21T11:06:57.585679Z","shell.execute_reply.started":"2024-10-21T11:06:57.564118Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Fill NaNs using forward fill, then backward fill\nmeal_data_matrix_2_df = pd.DataFrame(meal_data_matrix_2)\nmeal_data_matrix_2_filled = meal_data_matrix_2_df.ffill().bfill().values","key":"o2OAtQu6qj"},{"type":"outputs","id":"SmWiwqdjcaWBNOOHFHrWu","children":[],"key":"YLcHAkP1Z8"}],"key":"nW5GNupUHV"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:57.587640Z","iopub.status.busy":"2024-10-21T11:06:57.587388Z","iopub.status.idle":"2024-10-21T11:06:57.623610Z","shell.execute_reply":"2024-10-21T11:06:57.620891Z","shell.execute_reply.started":"2024-10-21T11:06:57.587624Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Apply a moving average smoothing to each row\nwindow_size = 5  # Choose a window size for smoothing\nsmoothed_meal_data_matrix_2 = np.array([uniform_filter1d(row, size=window_size) for row in meal_data_matrix_2_filled])","key":"bN5mUY5PTz"},{"type":"outputs","id":"sc--2sDn7Kn76k9DHmNWq","children":[],"key":"E5fG2sDtfk"}],"key":"DXPkxxbF0w"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:57.636602Z","iopub.status.busy":"2024-10-21T11:06:57.629841Z","iopub.status.idle":"2024-10-21T11:06:58.072001Z","shell.execute_reply":"2024-10-21T11:06:58.031354Z","shell.execute_reply.started":"2024-10-21T11:06:57.636518Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the plot\nfig = plt.figure(figsize=(10, 8))\nax = fig.add_subplot(111, projection='3d')\nstride = 100\n\n# Plot the surface\nsurface_plot = ax.plot_surface(X[::stride], Y[::stride], smoothed_meal_data_matrix_2[::stride], cmap='viridis', edgecolor='none')\nax.set_title('3D Surface Plot of Smoothed Averaged Meal Glucose Levels', y=0.985)\nax.set_xlabel('Time Relative to Start of Meal [minutes]', labelpad=10)\nax.set_ylabel('Meal Samples', labelpad=10)\n#ax.set_zlabel('Glucose Level (mg/dL)', labelpad=30)\n\n#ax.set_xticks(np.linspace(-30, 120, 7))\n\n# Adjust axis limits to create a zoom-out effect\n#ax.set_xlim(-30, 120)\n#ax.set_ylim(0, 800)\nax.set_zlim(0, 400)\n\nfig.colorbar(surface_plot, ax=ax, shrink=0.5, aspect=10, label='Glucose Level (mg/dL)')\n\n#plt.tight_layout()\nfig.subplots_adjust(left=0.01, right=1, top=0.9, bottom=0.1)\n\nax.view_init(elev=25, azim=-55)\n\nplt.show()","key":"Z87ojsMX9V"},{"type":"outputs","id":"ZpIcF_GAeFdlvuGYSpNSB","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"70c826f5eb335eac4570cc114495306f","path":"/70c826f5eb335eac4570cc114495306f.png"},"text/plain":{"content":"<Figure size 1000x800 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"amwtJxkDT7"}],"key":"PA1M9ncwyK"}],"key":"PDQqDZ8P2B"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Contour Plot of Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"QEU6TTmUdZ"}],"identifier":"contour-plot-of-meal-data-matrix-2","label":"Contour Plot of Meal Data Matrix 2","html_id":"contour-plot-of-meal-data-matrix-2","implicit":true,"key":"MuCB9vLXz4"}],"key":"X5n7hkLP0K"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:58.072973Z","iopub.status.busy":"2024-10-21T11:06:58.072781Z","iopub.status.idle":"2024-10-21T11:06:59.000914Z","shell.execute_reply":"2024-10-21T11:06:58.998362Z","shell.execute_reply.started":"2024-10-21T11:06:58.072958Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the contour plot\nplt.figure(figsize=(15, 10))\nplt.contourf(X, Y, meal_data_matrix_2_df, cmap='viridis', levels=30)\nplt.colorbar(label='Glucose Level (mg/dL)')\nplt.title('Contour Plot of Meal Glucose Levels')\nplt.xlabel('Time Points')\nplt.ylabel('Meal Samples')\nplt.show()","key":"gsYxQruj3d"},{"type":"outputs","id":"yxqO2g3aSCBq-JI7c6dtb","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"23f4cbe824596a683b003752d28acd7d","path":"/23f4cbe824596a683b003752d28acd7d.png"},"text/plain":{"content":"<Figure size 1500x1000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"Dnohh4t8JW"}],"key":"HDW7F2oAtu"}],"key":"IrJHhnIIZY"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Extract No - Meal Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"iuPJK2M6BP"}],"identifier":"extract-no-meal-data","label":"Extract No - Meal Data","html_id":"extract-no-meal-data","implicit":true,"key":"UdGiflHwPe"}],"key":"k6gnWfpkAV"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:06:59.012803Z","iopub.status.busy":"2024-10-21T11:06:59.001886Z","iopub.status.idle":"2024-10-21T11:07:00.218713Z","shell.execute_reply":"2024-10-21T11:07:00.192075Z","shell.execute_reply.started":"2024-10-21T11:06:59.012766Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Initialize meal data list\nno_meal_data_1 = []\n    \n# Loop through each meal start time to find valid post - absorbtive windows\nfor meal_time in meal_times_1:\n    # Define the post-absorptive period: starts from tm+2 hours\n    # and lasts 2 hours (i.e to four hours)\n    post_absorptive_start = meal_time + pd.Timedelta(hours=2)\n    post_absorptive_end = meal_time + pd.Timedelta(hours=4)\n    \n    # Check for meals in the post-absorptive period\n    post_absorptive_meals = insulin_data_1[(insulin_data_1['datetime'] >= post_absorptive_start) &\n                                         (insulin_data_1['datetime'] <= post_absorptive_end)]\n    \n    # Step 2 Condition (a): If any non-zero, non-NaN meal is found in the\n    # post-absorptive period, skip this stretch\n    if not post_absorptive_meals.empty:\n        # Check if any of the meals have a non-zero carb input\n        if (post_absorptive_meals['BWZ Carb Input (grams)'] > 0).any():\n            # Skip this stretch, as there is a meal found in the post-absorptive period\n            continue\n    \n    # Step 2 condition (b): If meal values are 0 or NaN, ignore and consider the stretch\n    # Extract the corresponding 2-hour CGM data\n    no_meal_cgm_data_1 = cgm_data_1[(cgm_data_1['datetime'] >= post_absorptive_start) & \n                                (cgm_data_1['datetime'] <= post_absorptive_end)]\n    \n    # Check if the extracted data has the correct number of points (24 for no meal data)\n    if len(no_meal_cgm_data_1) == 24:\n        no_meal_data_1.append(no_meal_cgm_data_1['Sensor Glucose (mg/dL)'].values)","key":"O2oWSr6he7"},{"type":"outputs","id":"IRevpnbS8ATpb_uRfS5Sq","children":[],"key":"rjjv7sygk9"}],"key":"zoJ2cdkHqr"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:00.226448Z","iopub.status.busy":"2024-10-21T11:07:00.226256Z","iopub.status.idle":"2024-10-21T11:07:00.797814Z","shell.execute_reply":"2024-10-21T11:07:00.796869Z","shell.execute_reply.started":"2024-10-21T11:07:00.226432Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Initialize meal data list\nno_meal_data_2 = []\n    \n# Loop through each meal start time to find valid post - absorbtive windows\nfor meal_time in meal_times_2:\n    # Define the post-absorptive period: starts from tm+2 hours\n    # and lasts 2 hours (i.e to four hours)\n    post_absorptive_start = meal_time + pd.Timedelta(hours=2)\n    post_absorptive_end = meal_time + pd.Timedelta(hours=4)\n    \n    # Check for meals in the post-absorptive period\n    post_absorptive_meals = insulin_data_2[(insulin_data_2['datetime'] >= post_absorptive_start) &\n                                         (insulin_data_2['datetime'] <= post_absorptive_end)]\n    \n    # Step 2 Condition (a): If any non-zero, non-NaN meal is found in the\n    # post-absorptive period, skip this stretch\n    if not post_absorptive_meals.empty:\n        # Check if any of the meals have a non-zero carb input\n        if (post_absorptive_meals['BWZ Carb Input (grams)'] > 0).any():\n            # Skip this stretch, as there is a meal found in the post-absorptive period\n            continue\n    \n    # Step 2 condition (b): If meal values are 0 or NaN, ignore and consider the stretch\n    # Extract the corresponding 2-hour CGM data\n    no_meal_cgm_data_2 = cgm_data_2[(cgm_data_2['datetime'] >= post_absorptive_start) & \n                                (cgm_data_2['datetime'] <= post_absorptive_end)]\n    \n    # Check if the extracted data has the correct number of points (24 for no meal data)\n    if len(no_meal_cgm_data_2) == 24:\n        no_meal_data_2.append(no_meal_cgm_data_2['Sensor Glucose (mg/dL)'].values)","key":"bCuAQSoTer"},{"type":"outputs","id":"hx0Ka5GHBJ_LsDty-rsIS","children":[],"key":"K4JFPz0l1a"}],"key":"doa7089JhL"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:00.798515Z","iopub.status.busy":"2024-10-21T11:07:00.798298Z","iopub.status.idle":"2024-10-21T11:07:00.875166Z","shell.execute_reply":"2024-10-21T11:07:00.873447Z","shell.execute_reply.started":"2024-10-21T11:07:00.798499Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"len(no_meal_data_1)","key":"anoBl2A81F"},{"type":"outputs","id":"_6iEkQb5yX5YGf9g6Fg75","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":50,"metadata":{},"data":{"text/plain":{"content":"510","content_type":"text/plain"}}},"children":[],"key":"WgTowElZFp"}],"key":"Qyor8atVTQ"}],"key":"tq4Kvnal03"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:00.876103Z","iopub.status.busy":"2024-10-21T11:07:00.875856Z","iopub.status.idle":"2024-10-21T11:07:00.940095Z","shell.execute_reply":"2024-10-21T11:07:00.928972Z","shell.execute_reply.started":"2024-10-21T11:07:00.876087Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"len(no_meal_data_2)","key":"KnnlyL5LjJ"},{"type":"outputs","id":"x7tjAllrVWdoWYfU7NB36","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":51,"metadata":{},"data":{"text/plain":{"content":"325","content_type":"text/plain"}}},"children":[],"key":"HObbOchHuZ"}],"key":"eFBftDcLok"}],"key":"ymHq2JE0XS"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:00.942879Z","iopub.status.busy":"2024-10-21T11:07:00.942051Z","iopub.status.idle":"2024-10-21T11:07:00.951145Z","shell.execute_reply":"2024-10-21T11:07:00.948375Z","shell.execute_reply.started":"2024-10-21T11:07:00.942857Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#no_meal_data_1[0:5]","key":"Z9j2bvNE9g"},{"type":"outputs","id":"49ojniuXQwpRJOz4RHn29","children":[],"key":"yx8Vmgwy9J"}],"key":"ZAEIkVH3Ep"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:00.958835Z","iopub.status.busy":"2024-10-21T11:07:00.952316Z","iopub.status.idle":"2024-10-21T11:07:01.119642Z","shell.execute_reply":"2024-10-21T11:07:01.094880Z","shell.execute_reply.started":"2024-10-21T11:07:00.958812Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"#no_meal_data_2[0:5]","key":"JkLpbx2LSQ"},{"type":"outputs","id":"5YU4kBm30UeFF6n0iduF0","children":[],"key":"ANivddJwXE"}],"key":"ChrVBtY5I9"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Create No Meal Data Matrix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"g7nI1g6s6O"}],"identifier":"create-no-meal-data-matrix","label":"Create No Meal Data Matrix","html_id":"create-no-meal-data-matrix","implicit":true,"key":"tnbob3OFOB"}],"key":"MeZ16lUdox"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:01.133371Z","iopub.status.busy":"2024-10-21T11:07:01.128104Z","iopub.status.idle":"2024-10-21T11:07:01.183398Z","shell.execute_reply":"2024-10-21T11:07:01.182874Z","shell.execute_reply.started":"2024-10-21T11:07:01.133345Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"no_meal_data_matrix_1 = np.array(no_meal_data_1)\n#no_meal_data_matrix_1","key":"HYHo0ujz7B"},{"type":"outputs","id":"kL9oubxRNI3boKz4dJRcH","children":[],"key":"eyu3so4GqY"}],"key":"k6HhmpBBMQ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:01.199336Z","iopub.status.busy":"2024-10-21T11:07:01.199133Z","iopub.status.idle":"2024-10-21T11:07:01.442974Z","shell.execute_reply":"2024-10-21T11:07:01.358041Z","shell.execute_reply.started":"2024-10-21T11:07:01.199322Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"no_meal_data_matrix_2 = np.array(no_meal_data_2)\n#no_meal_data_matrix_2","key":"iWmeTrfNar"},{"type":"outputs","id":"Udqf08Zk0yeXHnnq1kzL_","children":[],"key":"tnCQtsvWAN"}],"key":"wD1yiOaXxF"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:01.449540Z","iopub.status.busy":"2024-10-21T11:07:01.449338Z","iopub.status.idle":"2024-10-21T11:07:01.851249Z","shell.execute_reply":"2024-10-21T11:07:01.816597Z","shell.execute_reply.started":"2024-10-21T11:07:01.449526Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"no_meal_data_matrix_1.shape","key":"aeapzP9sTg"},{"type":"outputs","id":"zH8ARqAS69WROl0Zwktvx","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":56,"metadata":{},"data":{"text/plain":{"content":"(510, 24)","content_type":"text/plain"}}},"children":[],"key":"KjA36TbNXi"}],"key":"fILZ6VA9xY"}],"key":"EqB1zgK8ts"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:01.869668Z","iopub.status.busy":"2024-10-21T11:07:01.864443Z","iopub.status.idle":"2024-10-21T11:07:02.008543Z","shell.execute_reply":"2024-10-21T11:07:01.975723Z","shell.execute_reply.started":"2024-10-21T11:07:01.869639Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"no_meal_data_matrix_2.shape","key":"mo3intrAoB"},{"type":"outputs","id":"3DbAgr89g2mpB-oyLRoWH","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":57,"metadata":{},"data":{"text/plain":{"content":"(325, 24)","content_type":"text/plain"}}},"children":[],"key":"xCPLfUA7yL"}],"key":"bm42RJ6ELi"}],"key":"Cfi2GulwKN"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize No Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"FAgY9bHCT6"}],"identifier":"visualize-no-meal-data-matrix-1","label":"Visualize No Meal Data Matrix 1","html_id":"visualize-no-meal-data-matrix-1","implicit":true,"key":"ezuh1yopqg"}],"key":"MmCN0lAmPW"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Heatmap of No Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"D2XdjEBAuw"}],"identifier":"heatmap-of-no-meal-data-matrix-1","label":"Heatmap of No Meal Data Matrix 1","html_id":"heatmap-of-no-meal-data-matrix-1","implicit":true,"key":"AinSX2TMzw"}],"key":"qaYFOsW0L2"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:02.038134Z","iopub.status.busy":"2024-10-21T11:07:02.033827Z","iopub.status.idle":"2024-10-21T11:07:03.425254Z","shell.execute_reply":"2024-10-21T11:07:03.424126Z","shell.execute_reply.started":"2024-10-21T11:07:02.038104Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the heatmap\nsampled_no_meal_data_matrix_1 = no_meal_data_matrix_1[np.random.choice(no_meal_data_matrix_1.shape[0], 200, replace=False)]\nplt.figure(figsize=(30, 30))\nsns.heatmap(sampled_no_meal_data_matrix_1, cmap='YlGnBu', linewidths=0.5, annot=False, vmin=None, vmax=None)\nplt.title('Heatmap of No Meal Data Matrix 1')\nplt.xlabel('Time Points')\nplt.ylabel('Meals (Samples)')\nplt.show()","key":"mtTVlWPFLA"},{"type":"outputs","id":"JYaYy6DDUevsSbU9dPENi","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"b0cde087ebdd9a43dde2e268f39de683","path":"/b0cde087ebdd9a43dde2e268f39de683.png"},"text/plain":{"content":"<Figure size 3000x3000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"IuzO8AXlvY"}],"key":"sOPPu3126L"}],"key":"tHNUrnCaPA"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Surface Plot of No Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"PPcQIoJ5GW"}],"identifier":"surface-plot-of-no-meal-data-matrix-1","label":"Surface Plot of No Meal Data Matrix 1","html_id":"surface-plot-of-no-meal-data-matrix-1","implicit":true,"key":"itjM39KB8f"}],"key":"AovqYMMwrb"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:03.426430Z","iopub.status.busy":"2024-10-21T11:07:03.426143Z","iopub.status.idle":"2024-10-21T11:07:03.441691Z","shell.execute_reply":"2024-10-21T11:07:03.440757Z","shell.execute_reply.started":"2024-10-21T11:07:03.426402Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"time_points = np.linspace(-30, 120, 24)\nprint(time_points)\nprint(time_points.shape)","key":"WXm6TEWobw"},{"type":"outputs","id":"7-vfiJpy_NZXHmhGTaUn9","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"[-30.         -23.47826087 -16.95652174 -10.43478261  -3.91304348\n   2.60869565   9.13043478  15.65217391  22.17391304  28.69565217\n  35.2173913   41.73913043  48.26086957  54.7826087   61.30434783\n  67.82608696  74.34782609  80.86956522  87.39130435  93.91304348\n 100.43478261 106.95652174 113.47826087 120.        ]\n(24,)\n"},"children":[],"key":"ZaMjXKoyIl"}],"key":"w9G0BuF876"}],"key":"mG8qF5P6jg"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:03.443126Z","iopub.status.busy":"2024-10-21T11:07:03.442534Z","iopub.status.idle":"2024-10-21T11:07:03.459704Z","shell.execute_reply":"2024-10-21T11:07:03.458555Z","shell.execute_reply.started":"2024-10-21T11:07:03.443105Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create X, Y meshgrid\nX = np.arange(no_meal_data_matrix_1.shape[1])\nY = np.arange(no_meal_data_matrix_1.shape[0])\ntime_points = np.linspace(-30, 120, 24)  # X-axis: from -30 minutes to +120 minutes (24 time points)\nmeal_numbers = np.arange(1, len(no_meal_data_1) + 1)\nX, Y = np.meshgrid(time_points, Y)\n#X, Y = np.meshgrid(time_points, meal_numbers)","key":"VtG4IAvbSB"},{"type":"outputs","id":"tSUOU1F5SuK3QurVwCTbG","children":[],"key":"KSGfSqwNMj"}],"key":"X6WImnVzCq"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:03.460932Z","iopub.status.busy":"2024-10-21T11:07:03.460631Z","iopub.status.idle":"2024-10-21T11:07:03.486124Z","shell.execute_reply":"2024-10-21T11:07:03.485260Z","shell.execute_reply.started":"2024-10-21T11:07:03.460906Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X","key":"epug0NRYpi"},{"type":"outputs","id":"BeN_nXNwXElsM8wHbC_cI","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":61,"metadata":{},"data":{"text/plain":{"content":"array([[-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ],\n       [-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ],\n       [-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ],\n       ...,\n       [-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ],\n       [-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ],\n       [-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ]])","content_type":"text/plain"}}},"children":[],"key":"AErLKU8Q9E"}],"key":"vqrEAQ3PkJ"}],"key":"zEnjA6Fzyw"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:03.487241Z","iopub.status.busy":"2024-10-21T11:07:03.486813Z","iopub.status.idle":"2024-10-21T11:07:03.500183Z","shell.execute_reply":"2024-10-21T11:07:03.499409Z","shell.execute_reply.started":"2024-10-21T11:07:03.487224Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X.shape","key":"fxw69nb8bo"},{"type":"outputs","id":"GAvxLIgBbk6B3x0XEC17u","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":62,"metadata":{},"data":{"text/plain":{"content":"(510, 24)","content_type":"text/plain"}}},"children":[],"key":"vwyL9p6ZtZ"}],"key":"knv31TNycN"}],"key":"lHJTOWzh3X"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:03.501860Z","iopub.status.busy":"2024-10-21T11:07:03.501600Z","iopub.status.idle":"2024-10-21T11:07:03.547255Z","shell.execute_reply":"2024-10-21T11:07:03.546077Z","shell.execute_reply.started":"2024-10-21T11:07:03.501844Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y","key":"CPFmBPYdfN"},{"type":"outputs","id":"tabwt-xcucM3jRaUAmT46","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":63,"metadata":{},"data":{"text/plain":{"content":"array([[  0,   0,   0, ...,   0,   0,   0],\n       [  1,   1,   1, ...,   1,   1,   1],\n       [  2,   2,   2, ...,   2,   2,   2],\n       ...,\n       [507, 507, 507, ..., 507, 507, 507],\n       [508, 508, 508, ..., 508, 508, 508],\n       [509, 509, 509, ..., 509, 509, 509]])","content_type":"text/plain"}}},"children":[],"key":"cDMQuZBUbL"}],"key":"Vvoa3U46Yz"}],"key":"DnSSDV9Es3"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:03.550086Z","iopub.status.busy":"2024-10-21T11:07:03.549515Z","iopub.status.idle":"2024-10-21T11:07:03.603141Z","shell.execute_reply":"2024-10-21T11:07:03.566734Z","shell.execute_reply.started":"2024-10-21T11:07:03.550062Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y.shape","key":"Od6MrB0vJO"},{"type":"outputs","id":"fR2QZvIKDHd_O9DlFBQz3","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":64,"metadata":{},"data":{"text/plain":{"content":"(510, 24)","content_type":"text/plain"}}},"children":[],"key":"nuWBeuE7kA"}],"key":"n9Gt6xqx2s"}],"key":"P6kqJfV5P4"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:03.618250Z","iopub.status.busy":"2024-10-21T11:07:03.613381Z","iopub.status.idle":"2024-10-21T11:07:03.624859Z","shell.execute_reply":"2024-10-21T11:07:03.623405Z","shell.execute_reply.started":"2024-10-21T11:07:03.618212Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Fill NaNs using forward fill, then backward fill\nno_meal_data_matrix_1_df = pd.DataFrame(no_meal_data_matrix_1)\nno_meal_data_matrix_1_filled = no_meal_data_matrix_1_df.ffill().bfill().values","key":"n41zN5MVgw"},{"type":"outputs","id":"z8F_bVx5c7x_aApCGrg8V","children":[],"key":"aEQfWczTTu"}],"key":"lnKrI2OqW2"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:03.625995Z","iopub.status.busy":"2024-10-21T11:07:03.625764Z","iopub.status.idle":"2024-10-21T11:07:03.674045Z","shell.execute_reply":"2024-10-21T11:07:03.654483Z","shell.execute_reply.started":"2024-10-21T11:07:03.625979Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Apply a moving average smoothing to each row\nwindow_size = 5  # Choose a window size for smoothing\nsmoothed_no_meal_data_matrix_1 = np.array([uniform_filter1d(row, size=window_size) for row in no_meal_data_matrix_1_filled])","key":"weM2W6MLQT"},{"type":"outputs","id":"Y9AapL-lRz33QRmVOvy0M","children":[],"key":"HYZJ994wBP"}],"key":"rLvMGePlq5"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:03.679463Z","iopub.status.busy":"2024-10-21T11:07:03.679143Z","iopub.status.idle":"2024-10-21T11:07:04.576064Z","shell.execute_reply":"2024-10-21T11:07:04.562132Z","shell.execute_reply.started":"2024-10-21T11:07:03.679447Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the plot\nfig = plt.figure(figsize=(10, 8))\nax = fig.add_subplot(111, projection='3d')\nstride = 100\n\n# Plot the surface\nsurface_plot = ax.plot_surface(X[::stride], Y[::stride], smoothed_no_meal_data_matrix_1[::stride], cmap='viridis', edgecolor='none')\nax.set_title('3D Surface Plot of Smoothed Averaged No Meal Glucose Levels', y=0.985)\nax.set_xlabel('Time Relative to End of Meal [minutes]', labelpad=10)\nax.set_ylabel('Meal Samples', labelpad=10)\n#ax.set_zlabel('Glucose Level (mg/dL)', labelpad=30)\n\n#ax.set_xticks(np.linspace(-30, 120, 7))\n\n# Adjust axis limits to create a zoom-out effect\n#ax.set_xlim(-30, 120)\n#ax.set_ylim(0, 800)\n#ax.set_zlim(0, 300)\n\nfig.colorbar(surface_plot, ax=ax, shrink=0.5, aspect=10, label='Glucose Level (mg/dL)')\n\n#plt.tight_layout()\nfig.subplots_adjust(left=0.01, right=1, top=0.9, bottom=0.1)\n\nax.view_init(elev=25, azim=-55)\n\nplt.show()","key":"Mm9ROHPq6d"},{"type":"outputs","id":"mO4d36yQ4tvMNIfoS7v4s","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"852e2b3b38614cf71d1db9b868b4224f","path":"/852e2b3b38614cf71d1db9b868b4224f.png"},"text/plain":{"content":"<Figure size 1000x800 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"XSBO5d7QUv"}],"key":"q1PNLKBBpV"}],"key":"pYuP36Tl0N"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Contour Plot of No Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"g7N0ICMVl7"}],"identifier":"contour-plot-of-no-meal-data-matrix-1","label":"Contour Plot of No Meal Data Matrix 1","html_id":"contour-plot-of-no-meal-data-matrix-1","implicit":true,"key":"enCO8dhkbL"}],"key":"eYoDpINUBr"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:04.589769Z","iopub.status.busy":"2024-10-21T11:07:04.579959Z","iopub.status.idle":"2024-10-21T11:07:05.245658Z","shell.execute_reply":"2024-10-21T11:07:05.244445Z","shell.execute_reply.started":"2024-10-21T11:07:04.589743Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the contour plot\nplt.figure(figsize=(15, 10))\nplt.contourf(X, Y, no_meal_data_matrix_1_df, cmap='viridis', levels=30)\nplt.colorbar(label='Glucose Level (mg/dL)')\nplt.title('Contour Plot of No Meal Glucose Levels')\nplt.xlabel('Time Points')\nplt.ylabel('Meal Samples')\nplt.show()","key":"pYpYgMzc3c"},{"type":"outputs","id":"4U46X_KIY9J1oe5gs6FsV","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"fd34e6f01e7c7e3e118f37add522c9b2","path":"/fd34e6f01e7c7e3e118f37add522c9b2.png"},"text/plain":{"content":"<Figure size 1500x1000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"kPCg30AI0d"}],"key":"cPfRjXFp8W"}],"key":"pfNWuvSTrx"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize No Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"CYzxg0Mc2P"}],"identifier":"visualize-no-meal-data-matrix-2","label":"Visualize No Meal Data Matrix 2","html_id":"visualize-no-meal-data-matrix-2","implicit":true,"key":"jE1IWJnoNi"}],"key":"w14i6Iwa3c"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Heatmap of No Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"e6Y5GQ8Dv5"}],"identifier":"heatmap-of-no-meal-data-matrix-2","label":"Heatmap of No Meal Data Matrix 2","html_id":"heatmap-of-no-meal-data-matrix-2","implicit":true,"key":"JYkSw8XKyg"}],"key":"vJsow4cG5n"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:05.252411Z","iopub.status.busy":"2024-10-21T11:07:05.249774Z","iopub.status.idle":"2024-10-21T11:07:06.525790Z","shell.execute_reply":"2024-10-21T11:07:06.524877Z","shell.execute_reply.started":"2024-10-21T11:07:05.252386Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the heatmap\nsampled_no_meal_data_matrix_2 = no_meal_data_matrix_2[np.random.choice(no_meal_data_matrix_2.shape[0], 200, replace=False)]\nplt.figure(figsize=(30, 30))\nsns.heatmap(sampled_meal_data_matrix_2, cmap='YlGnBu', linewidths=0.5, annot=False, vmin=None, vmax=None)\nplt.title('Heatmap of No Meal Data Matrix 1')\nplt.xlabel('Time Points')\nplt.ylabel('Meals (Samples)')\nplt.show()","key":"TT3oD4tj8s"},{"type":"outputs","id":"nRb3WbdFl4U02N5xUiPh3","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"38dbc59a10c3bb9ea4ce45782e7631d0","path":"/38dbc59a10c3bb9ea4ce45782e7631d0.png"},"text/plain":{"content":"<Figure size 3000x3000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"MPj9A8s0x3"}],"key":"zDAgMM1MjS"}],"key":"GXjmUiZurX"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Surface Plot of No Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UjR7MMxsuU"}],"identifier":"surface-plot-of-no-meal-data-matrix-2","label":"Surface Plot of No Meal Data Matrix 2","html_id":"surface-plot-of-no-meal-data-matrix-2","implicit":true,"key":"BwMo0S76bJ"}],"key":"dc3KC1xjaq"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:06.526634Z","iopub.status.busy":"2024-10-21T11:07:06.526391Z","iopub.status.idle":"2024-10-21T11:07:06.546387Z","shell.execute_reply":"2024-10-21T11:07:06.545483Z","shell.execute_reply.started":"2024-10-21T11:07:06.526618Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"time_points = np.linspace(-30, 120, 24)\nprint(time_points)\nprint(time_points.shape)","key":"gIPAKlf2AB"},{"type":"outputs","id":"Z9mZNZ0IRb9kIJdgV_vWJ","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"[-30.         -23.47826087 -16.95652174 -10.43478261  -3.91304348\n   2.60869565   9.13043478  15.65217391  22.17391304  28.69565217\n  35.2173913   41.73913043  48.26086957  54.7826087   61.30434783\n  67.82608696  74.34782609  80.86956522  87.39130435  93.91304348\n 100.43478261 106.95652174 113.47826087 120.        ]\n(24,)\n"},"children":[],"key":"yDRQ46atK0"}],"key":"mpJLI3X5fd"}],"key":"Sk5RBDqmzH"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:06.548131Z","iopub.status.busy":"2024-10-21T11:07:06.547905Z","iopub.status.idle":"2024-10-21T11:07:06.607281Z","shell.execute_reply":"2024-10-21T11:07:06.590343Z","shell.execute_reply.started":"2024-10-21T11:07:06.548116Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create X, Y meshgrid\nX = np.arange(no_meal_data_matrix_2.shape[1])\nY = np.arange(no_meal_data_matrix_2.shape[0])\ntime_points = np.linspace(-30, 120, 24)  # X-axis: from -30 minutes to +120 minutes (24 time points)\nmeal_numbers = np.arange(1, len(no_meal_data_2) + 1)\nX, Y = np.meshgrid(time_points, Y)\n#X, Y = np.meshgrid(time_points, meal_numbers)","key":"KxRRWP9E40"},{"type":"outputs","id":"3_NF9atZZGEFA29gX8cup","children":[],"key":"z62dT6sOXd"}],"key":"qhcGfuKQkd"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:06.633173Z","iopub.status.busy":"2024-10-21T11:07:06.609795Z","iopub.status.idle":"2024-10-21T11:07:06.732116Z","shell.execute_reply":"2024-10-21T11:07:06.731013Z","shell.execute_reply.started":"2024-10-21T11:07:06.633147Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X","key":"IyEqjEMDoI"},{"type":"outputs","id":"-lravh9ZRv01kN7BMTxoK","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":72,"metadata":{},"data":{"text/plain":{"content":"array([[-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ],\n       [-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ],\n       [-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ],\n       ...,\n       [-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ],\n       [-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ],\n       [-30.        , -23.47826087, -16.95652174, ..., 106.95652174,\n        113.47826087, 120.        ]])","content_type":"text/plain"}}},"children":[],"key":"LrsRtwUGKT"}],"key":"yC47KcsNQ9"}],"key":"TUrgeKQLyd"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:06.733023Z","iopub.status.busy":"2024-10-21T11:07:06.732828Z","iopub.status.idle":"2024-10-21T11:07:06.749450Z","shell.execute_reply":"2024-10-21T11:07:06.748702Z","shell.execute_reply.started":"2024-10-21T11:07:06.733005Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X.shape","key":"bbPp29XlcN"},{"type":"outputs","id":"D8eUeLVApHDsKOcj7CTer","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":73,"metadata":{},"data":{"text/plain":{"content":"(325, 24)","content_type":"text/plain"}}},"children":[],"key":"bP4R9aXvRS"}],"key":"vhCTr0izj4"}],"key":"p8aibHMNFL"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:06.750494Z","iopub.status.busy":"2024-10-21T11:07:06.750027Z","iopub.status.idle":"2024-10-21T11:07:07.012762Z","shell.execute_reply":"2024-10-21T11:07:06.993735Z","shell.execute_reply.started":"2024-10-21T11:07:06.750478Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y","key":"diTpt6WvxW"},{"type":"outputs","id":"WH2cPKwMnf4XQ4lb6oiHW","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":74,"metadata":{},"data":{"text/plain":{"content":"array([[  0,   0,   0, ...,   0,   0,   0],\n       [  1,   1,   1, ...,   1,   1,   1],\n       [  2,   2,   2, ...,   2,   2,   2],\n       ...,\n       [322, 322, 322, ..., 322, 322, 322],\n       [323, 323, 323, ..., 323, 323, 323],\n       [324, 324, 324, ..., 324, 324, 324]])","content_type":"text/plain"}}},"children":[],"key":"FF8EDVwLWD"}],"key":"of5HNHdnz4"}],"key":"Tg3uBA35zG"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:07.037017Z","iopub.status.busy":"2024-10-21T11:07:07.023280Z","iopub.status.idle":"2024-10-21T11:07:07.275682Z","shell.execute_reply":"2024-10-21T11:07:07.232825Z","shell.execute_reply.started":"2024-10-21T11:07:07.036987Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y.shape","key":"w4xUWO2one"},{"type":"outputs","id":"NQZKayoANB6ufiDohPs3V","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":75,"metadata":{},"data":{"text/plain":{"content":"(325, 24)","content_type":"text/plain"}}},"children":[],"key":"XVo4i0YUME"}],"key":"eed3xezQ2t"}],"key":"EozTfvuUgy"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:07.292033Z","iopub.status.busy":"2024-10-21T11:07:07.276196Z","iopub.status.idle":"2024-10-21T11:07:07.437586Z","shell.execute_reply":"2024-10-21T11:07:07.422987Z","shell.execute_reply.started":"2024-10-21T11:07:07.291975Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Fill NaNs using forward fill, then backward fill\nno_meal_data_matrix_2_df = pd.DataFrame(no_meal_data_matrix_2)\nno_meal_data_matrix_2_filled = no_meal_data_matrix_2_df.ffill().bfill().values","key":"cItRQdHjKX"},{"type":"outputs","id":"c3uTBUb7J_q-A69sk90Z2","children":[],"key":"fkdfqxeiTV"}],"key":"Q450qr2VD2"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:07.461209Z","iopub.status.busy":"2024-10-21T11:07:07.449834Z","iopub.status.idle":"2024-10-21T11:07:07.785792Z","shell.execute_reply":"2024-10-21T11:07:07.780485Z","shell.execute_reply.started":"2024-10-21T11:07:07.461162Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Apply a moving average smoothing to each row\nwindow_size = 5  # Choose a window size for smoothing\nsmoothed_no_meal_data_matrix_2 = np.array([uniform_filter1d(row, size=window_size) for row in no_meal_data_matrix_2_filled])","key":"UhbRMRncgI"},{"type":"outputs","id":"pL6tifJlLPyiYCtSzmQ6c","children":[],"key":"unzxIJUMrn"}],"key":"Zspf7757xk"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:07.827137Z","iopub.status.busy":"2024-10-21T11:07:07.808332Z","iopub.status.idle":"2024-10-21T11:07:08.585468Z","shell.execute_reply":"2024-10-21T11:07:08.561271Z","shell.execute_reply.started":"2024-10-21T11:07:07.827103Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the plot\nfig = plt.figure(figsize=(10, 8))\nax = fig.add_subplot(111, projection='3d')\nstride = 100\n\n# Plot the surface\nsurface_plot = ax.plot_surface(X[::stride], Y[::stride], smoothed_no_meal_data_matrix_2[::stride], cmap='viridis', edgecolor='none')\nax.set_title('3D Surface Plot of Smoothed Averaged No Meal Glucose Levels', y=0.985)\nax.set_xlabel('Time Relative to End of Meal [minutes]', labelpad=10)\nax.set_ylabel('Meal Samples', labelpad=10)\n#ax.set_zlabel('Glucose Level (mg/dL)', labelpad=30)\n\n#ax.set_xticks(np.linspace(-30, 120, 7))\n\n# Adjust axis limits to create a zoom-out effect\n#ax.set_xlim(-30, 120)\n#ax.set_ylim(0, 800)\n#ax.set_zlim(0, 300)\n\nfig.colorbar(surface_plot, ax=ax, shrink=0.5, aspect=10, label='Glucose Level (mg/dL)')\n\n#plt.tight_layout()\nfig.subplots_adjust(left=0.01, right=1, top=0.9, bottom=0.1)\n\nax.view_init(elev=25, azim=-55)\n\nplt.show()","key":"AEcBOcVnz4"},{"type":"outputs","id":"IFyiLnAs_RaKF-s2OaYk1","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"53f8e67ddb84bce4df19d06f417ac1e8","path":"/53f8e67ddb84bce4df19d06f417ac1e8.png"},"text/plain":{"content":"<Figure size 1000x800 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"J0bi9680nx"}],"key":"liGsSb79Sf"}],"key":"u7WZL6twJm"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Contour Plot of No Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ERakbBJcyt"}],"identifier":"contour-plot-of-no-meal-data-matrix-2","label":"Contour Plot of No Meal Data Matrix 2","html_id":"contour-plot-of-no-meal-data-matrix-2","implicit":true,"key":"sbvDSuoDIs"}],"key":"WoQ0JhmzpC"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:08.586534Z","iopub.status.busy":"2024-10-21T11:07:08.586284Z","iopub.status.idle":"2024-10-21T11:07:09.209790Z","shell.execute_reply":"2024-10-21T11:07:09.208448Z","shell.execute_reply.started":"2024-10-21T11:07:08.586515Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the contour plot\nplt.figure(figsize=(15, 10))\nplt.contourf(X, Y, no_meal_data_matrix_2_df, cmap='viridis', levels=30)\nplt.colorbar(label='Glucose Level (mg/dL)')\nplt.title('Contour Plot of No Meal Glucose Levels')\nplt.xlabel('Time Points')\nplt.ylabel('Meal Samples')\nplt.show()","key":"hUtJXcqefZ"},{"type":"outputs","id":"aCR4RZEOy_mGs8b3yZjIK","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"51695a6d9698fcaf8b0a3f4f05b11c79","path":"/51695a6d9698fcaf8b0a3f4f05b11c79.png"},"text/plain":{"content":"<Figure size 1500x1000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"CiF8qRRddu"}],"key":"z2vKNQD7tI"}],"key":"N6vRnvVKvc"},{"type":"block","kind":"notebook-code","children":[{"type":"code","lang":"python","executable":true,"value":"","key":"DMptgQgu0t"},{"type":"outputs","id":"mpwcfcEtimzNZNvMCZc5q","children":[],"key":"BzeyGmOTOV"}],"key":"TfZyO8AHQq"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Handle Missing Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"a97sR0fjUg"}],"identifier":"handle-missing-data","label":"Handle Missing Data","html_id":"handle-missing-data","implicit":true,"key":"TygsHC1Akq"}],"key":"cj4dGwWksg"},{"type":"block","kind":"notebook-content","children":[{"type":"paragraph","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"We will use a strategy of deleting rows of data that have more than 10% of bad data.  If less than 10%, we will use KNN with a nearest neighbor hyperparameter (K=7).","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kNKS1KgKao"}],"key":"vpQWpqXcvi"}],"key":"I0epYh1OY7"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Define Threshold for Dumping Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gIYs8wSykl"}],"identifier":"define-threshold-for-dumping-data","label":"Define Threshold for Dumping Data","html_id":"define-threshold-for-dumping-data","implicit":true,"key":"H1XoS6pdg6"}],"key":"aSfOXLbllt"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:09.211210Z","iopub.status.busy":"2024-10-21T11:07:09.210917Z","iopub.status.idle":"2024-10-21T11:07:09.281513Z","shell.execute_reply":"2024-10-21T11:07:09.245711Z","shell.execute_reply.started":"2024-10-21T11:07:09.211183Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# 10%\ndump_thresold = 0.1","key":"dZJTFH6mVC"},{"type":"outputs","id":"1DJ5i-UWYLGaHvcVzYbmK","children":[],"key":"YW4HN8dCEp"}],"key":"x8Iwvk3RDW"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Create KNN Imputer","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"j0KCQPrRZZ"}],"identifier":"create-knn-imputer","label":"Create KNN Imputer","html_id":"create-knn-imputer","implicit":true,"key":"RvV7Px43wL"}],"key":"Q3oqxS87M4"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:09.290697Z","iopub.status.busy":"2024-10-21T11:07:09.290445Z","iopub.status.idle":"2024-10-21T11:07:09.451749Z","shell.execute_reply":"2024-10-21T11:07:09.450751Z","shell.execute_reply.started":"2024-10-21T11:07:09.290680Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"knn_imputer = KNNImputer(n_neighbors=7)","key":"bABTG83XtU"},{"type":"outputs","id":"d7WbRs6bFi91OnjFep0i4","children":[],"key":"jFVJ9OiIgf"}],"key":"s6WFfVEyvT"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Parse Meal Data and Handle Missing Values","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mnrCYQTzIn"}],"identifier":"parse-meal-data-and-handle-missing-values","label":"Parse Meal Data and Handle Missing Values","html_id":"parse-meal-data-and-handle-missing-values","implicit":true,"key":"vHpaioThwU"}],"key":"edhDHSWPQs"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:09.468673Z","iopub.status.busy":"2024-10-21T11:07:09.463761Z","iopub.status.idle":"2024-10-21T11:07:09.582230Z","shell.execute_reply":"2024-10-21T11:07:09.581269Z","shell.execute_reply.started":"2024-10-21T11:07:09.468640Z"},"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_meal_data_1 = []\nfor row in meal_data_matrix_1:\n\n    proportion_missing_data = np.isnan(row).mean()\n\n    if proportion_missing_data > dump_thresold:\n\n        # Ignore this row\n        print(f\"Ignoring row with {proportion_missing_data*100:.2f}% missing data\")\n        continue\n\n    else:\n        # The data is good, use it\n        cleaned_meal_data_1.append(row)","key":"BXXL5RvaVP"},{"type":"outputs","id":"GCuNcgV5Wwk0kxgup43oo","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Ignoring row with 13.33% missing data\nIgnoring row with 73.33% missing data\nIgnoring row with 66.67% missing data\nIgnoring row with 13.33% missing data\nIgnoring row with 30.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 23.33% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 26.67% missing data\nIgnoring row with 30.00% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 73.33% missing data\nIgnoring row with 63.33% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 33.33% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 60.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 36.67% missing data\nIgnoring row with 43.33% missing data\nIgnoring row with 13.33% missing data\nIgnoring row with 13.33% missing data\nIgnoring row with 60.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 53.33% missing data\nIgnoring row with 33.33% missing data\nIgnoring row with 13.33% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 83.33% missing data\nIgnoring row with 86.67% missing data\nIgnoring row with 70.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 43.33% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 63.33% missing data\nIgnoring row with 63.33% missing data\nIgnoring row with 26.67% missing data\nIgnoring row with 60.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 33.33% missing data\nIgnoring row with 96.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 80.00% missing data\nIgnoring row with 43.33% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 70.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 83.33% missing data\nIgnoring row with 83.33% missing data\nIgnoring row with 30.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 30.00% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 76.67% missing data\nIgnoring row with 73.33% missing data\nIgnoring row with 70.00% missing data\nIgnoring row with 36.67% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 36.67% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 63.33% missing data\nIgnoring row with 13.33% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 26.67% missing data\nIgnoring row with 90.00% missing data\nIgnoring row with 23.33% missing data\nIgnoring row with 33.33% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 80.00% missing data\nIgnoring row with 33.33% missing data\nIgnoring row with 30.00% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 33.33% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 13.33% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 16.67% missing data\n"},"children":[],"key":"qR2FJcQE9I"}],"key":"SKKbHuLIEL"}],"key":"Z6rdfw3TlJ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:09.583143Z","iopub.status.busy":"2024-10-21T11:07:09.582811Z","iopub.status.idle":"2024-10-21T11:07:09.670381Z","shell.execute_reply":"2024-10-21T11:07:09.667037Z","shell.execute_reply.started":"2024-10-21T11:07:09.583127Z"},"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_meal_data_2 = []\nfor row in meal_data_matrix_2:\n\n    proportion_missing_data = np.isnan(row).mean()\n\n    if proportion_missing_data > dump_thresold:\n\n        # Ignore this row\n        print(f\"Ignoring row with {proportion_missing_data*100:.2f}% missing data\")\n        continue\n\n    else:\n        # The data is good, use it\n        cleaned_meal_data_2.append(row)","key":"AxhKyBo0rY"},{"type":"outputs","id":"-R7-JhXfs4XLz10_Bk5QH","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Ignoring row with 43.33% missing data\nIgnoring row with 43.33% missing data\nIgnoring row with 30.00% missing data\nIgnoring row with 63.33% missing data\nIgnoring row with 36.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 66.67% missing data\nIgnoring row with 26.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 56.67% missing data\nIgnoring row with 53.33% missing data\nIgnoring row with 70.00% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 13.33% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 60.00% missing data\nIgnoring row with 80.00% missing data\nIgnoring row with 36.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 56.67% missing data\nIgnoring row with 63.33% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 26.67% missing data\nIgnoring row with 13.33% missing data\nIgnoring row with 73.33% missing data\nIgnoring row with 36.67% missing data\nIgnoring row with 23.33% missing data\nIgnoring row with 13.33% missing data\nIgnoring row with 13.33% missing data\nIgnoring row with 13.33% missing data\nIgnoring row with 36.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 26.67% missing data\nIgnoring row with 26.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 20.00% missing data\nIgnoring row with 20.00% missing data\n"},"children":[],"key":"qAcrvJTqaj"}],"key":"PIC1vEEvkj"}],"key":"mhH0hcY4CM"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:09.682496Z","iopub.status.busy":"2024-10-21T11:07:09.682185Z","iopub.status.idle":"2024-10-21T11:07:09.735377Z","shell.execute_reply":"2024-10-21T11:07:09.734493Z","shell.execute_reply.started":"2024-10-21T11:07:09.682479Z"},"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_meal_data_1[0]","key":"BvRj3NoWaP"},{"type":"outputs","id":"IFBE_AJRTH6eoC8S1sFM7","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":84,"metadata":{},"data":{"text/plain":{"content":"array([121., 120., 115., 110., 106., 103., 103., 101.,  nan, 131., 109.,\n        82.,  74.,  66.,  73.,  82.,  87.,  90.,  83.,  73.,  49.,  58.,\n        69.,  79.,  nan,  93.,  92.,  86.,  84.,  80.])","content_type":"text/plain"}}},"children":[],"key":"uaKHOgBZ89"}],"key":"BmJj9L61wp"}],"key":"GsMTgDbtEl"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:09.738166Z","iopub.status.busy":"2024-10-21T11:07:09.737977Z","iopub.status.idle":"2024-10-21T11:07:09.944610Z","shell.execute_reply":"2024-10-21T11:07:09.943697Z","shell.execute_reply.started":"2024-10-21T11:07:09.738151Z"},"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_meal_data_2[0]","key":"hDihbIlM1g"},{"type":"outputs","id":"h1S0SzE-bK1ePQfhbORbb","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":85,"metadata":{},"data":{"text/plain":{"content":"array([390., 391., 389., 383., 375., 368., 357., 349., 336., 326., 315.,\n       305., 295., 286., 279., 273., 268., 259., 252., 246., 238., 229.,\n       218., 206., 195., 192., 181., 165., 139., 133.])","content_type":"text/plain"}}},"children":[],"key":"yBZK51GgWX"}],"key":"Ji58nirqtf"}],"key":"XgYk42Dyhc"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Convert Cleaned Meal Data List into a Matrix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"H7pjasIZsx"}],"identifier":"convert-cleaned-meal-data-list-into-a-matrix","label":"Convert Cleaned Meal Data List into a Matrix","html_id":"convert-cleaned-meal-data-list-into-a-matrix","implicit":true,"key":"vLsX81jWDM"}],"key":"FPE3TwriXp"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:09.945870Z","iopub.status.busy":"2024-10-21T11:07:09.945567Z","iopub.status.idle":"2024-10-21T11:07:10.024160Z","shell.execute_reply":"2024-10-21T11:07:10.017134Z","shell.execute_reply.started":"2024-10-21T11:07:09.945851Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_meal_data_matrix_1 = \\\n    np.array(cleaned_meal_data_1)","key":"lh5rTVItFD"},{"type":"outputs","id":"-jF7AF0dP1BcDejMudf09","children":[],"key":"BvriUfTA2c"}],"key":"vmCZ5tTRGm"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:10.025075Z","iopub.status.busy":"2024-10-21T11:07:10.024831Z","iopub.status.idle":"2024-10-21T11:07:10.155121Z","shell.execute_reply":"2024-10-21T11:07:10.115892Z","shell.execute_reply.started":"2024-10-21T11:07:10.025057Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_meal_data_matrix_2 = \\\n    np.array(cleaned_meal_data_2)","key":"mPQIfwoKpd"},{"type":"outputs","id":"UUje06156eVfzHOkvQeLi","children":[],"key":"LWqWItKDAj"}],"key":"G3WqXcjCRp"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Use KNN to Impute NaNs in Cleaned Meal Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"hugaNgPwFL"}],"identifier":"use-knn-to-impute-nans-in-cleaned-meal-data","label":"Use KNN to Impute NaNs in Cleaned Meal Data","html_id":"use-knn-to-impute-nans-in-cleaned-meal-data","implicit":true,"key":"Xg3RMfG0SU"}],"key":"cmIjJhZ8B3"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:10.160459Z","iopub.status.busy":"2024-10-21T11:07:10.160218Z","iopub.status.idle":"2024-10-21T11:07:10.438649Z","shell.execute_reply":"2024-10-21T11:07:10.411096Z","shell.execute_reply.started":"2024-10-21T11:07:10.160441Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_meal_matrix_1 = knn_imputer.fit_transform(cleaned_meal_data_matrix_1)","key":"JSSqerPsF7"},{"type":"outputs","id":"UcSK1N75aYo-jbSaoTvyN","children":[],"key":"fgWmOBRCMb"}],"key":"KlrnVVoHc2"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:10.472565Z","iopub.status.busy":"2024-10-21T11:07:10.455666Z","iopub.status.idle":"2024-10-21T11:07:10.592694Z","shell.execute_reply":"2024-10-21T11:07:10.560999Z","shell.execute_reply.started":"2024-10-21T11:07:10.472528Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_meal_matrix_2 = knn_imputer.fit_transform(cleaned_meal_data_matrix_2)","key":"qiiTFxl6lp"},{"type":"outputs","id":"l59hOUJ4LBqefgeLNH7Hh","children":[],"key":"BiMnO1nvaE"}],"key":"rMPnrX8o7H"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:10.646843Z","iopub.status.busy":"2024-10-21T11:07:10.636911Z","iopub.status.idle":"2024-10-21T11:07:10.828102Z","shell.execute_reply":"2024-10-21T11:07:10.827390Z","shell.execute_reply.started":"2024-10-21T11:07:10.646805Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_meal_matrix_1[0]","key":"bkQTpzwJSc"},{"type":"outputs","id":"8OYZ86S0Eyn6V9bWE3jT1","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":90,"metadata":{},"data":{"text/plain":{"content":"array([121.        , 120.        , 115.        , 110.        ,\n       106.        , 103.        , 103.        , 101.        ,\n        99.71428571, 131.        , 109.        ,  82.        ,\n        74.        ,  66.        ,  73.        ,  82.        ,\n        87.        ,  90.        ,  83.        ,  73.        ,\n        49.        ,  58.        ,  69.        ,  79.        ,\n        75.85714286,  93.        ,  92.        ,  86.        ,\n        84.        ,  80.        ])","content_type":"text/plain"}}},"children":[],"key":"TxokEx1IDF"}],"key":"oIBbKGFdbg"}],"key":"abU8BAWgbY"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:10.849184Z","iopub.status.busy":"2024-10-21T11:07:10.843613Z","iopub.status.idle":"2024-10-21T11:07:11.070925Z","shell.execute_reply":"2024-10-21T11:07:11.070441Z","shell.execute_reply.started":"2024-10-21T11:07:10.849152Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_meal_matrix_1.shape","key":"cZF5SEc416"},{"type":"outputs","id":"3P5ncAyhx2p4Hkw6AwkxD","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":91,"metadata":{},"data":{"text/plain":{"content":"(619, 30)","content_type":"text/plain"}}},"children":[],"key":"Xq86vsrJ4A"}],"key":"KVDmZHEUlT"}],"key":"KHErezDMtE"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:11.071604Z","iopub.status.busy":"2024-10-21T11:07:11.071357Z","iopub.status.idle":"2024-10-21T11:07:11.126669Z","shell.execute_reply":"2024-10-21T11:07:11.122625Z","shell.execute_reply.started":"2024-10-21T11:07:11.071582Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_meal_matrix_2[0]","key":"ZUMtj2QNA6"},{"type":"outputs","id":"_KjEEzAU88YiEWUatXU8z","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":92,"metadata":{},"data":{"text/plain":{"content":"array([390., 391., 389., 383., 375., 368., 357., 349., 336., 326., 315.,\n       305., 295., 286., 279., 273., 268., 259., 252., 246., 238., 229.,\n       218., 206., 195., 192., 181., 165., 139., 133.])","content_type":"text/plain"}}},"children":[],"key":"Y5aK0WtGhA"}],"key":"b9yY1ip5xQ"}],"key":"Qbve0vHjYK"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:11.136212Z","iopub.status.busy":"2024-10-21T11:07:11.135861Z","iopub.status.idle":"2024-10-21T11:07:11.366609Z","shell.execute_reply":"2024-10-21T11:07:11.349997Z","shell.execute_reply.started":"2024-10-21T11:07:11.136192Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_meal_matrix_2.shape","key":"Zo4b5iqNcg"},{"type":"outputs","id":"-b--xcwStAyxGVniA3YeY","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":93,"metadata":{},"data":{"text/plain":{"content":"(325, 30)","content_type":"text/plain"}}},"children":[],"key":"nx0e4jFZIR"}],"key":"ne4cn1JlNU"}],"key":"Dfi7MDtZob"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Parse No Meal Data and Handle Missing Values","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GNizDNPeyt"}],"identifier":"parse-no-meal-data-and-handle-missing-values","label":"Parse No Meal Data and Handle Missing Values","html_id":"parse-no-meal-data-and-handle-missing-values","implicit":true,"key":"V2E9n6moby"}],"key":"mKEr8ivrsO"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:11.380451Z","iopub.status.busy":"2024-10-21T11:07:11.380094Z","iopub.status.idle":"2024-10-21T11:07:11.579719Z","shell.execute_reply":"2024-10-21T11:07:11.579069Z","shell.execute_reply.started":"2024-10-21T11:07:11.380432Z"},"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_no_meal_data_1 = []\nfor row in no_meal_data_matrix_1:\n\n    proportion_missing_data = np.isnan(row).mean()\n\n    if proportion_missing_data > dump_thresold:\n\n        # Ignore this row\n        print(f\"Ignoring row with {proportion_missing_data*100:.2f}% missing data\")\n        continue\n\n    else:\n        # The data is good, use it\n        cleaned_no_meal_data_1.append(row)","key":"R3NKNSWSaP"},{"type":"outputs","id":"y964ltBhfvKAAfMtUxMZK","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Ignoring row with 20.83% missing data\nIgnoring row with 58.33% missing data\nIgnoring row with 12.50% missing data\nIgnoring row with 33.33% missing data\nIgnoring row with 12.50% missing data\nIgnoring row with 41.67% missing data\nIgnoring row with 79.17% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 66.67% missing data\nIgnoring row with 50.00% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 29.17% missing data\nIgnoring row with 12.50% missing data\nIgnoring row with 66.67% missing data\nIgnoring row with 83.33% missing data\nIgnoring row with 12.50% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 20.83% missing data\nIgnoring row with 54.17% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 91.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 12.50% missing data\nIgnoring row with 12.50% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 12.50% missing data\nIgnoring row with 12.50% missing data\nIgnoring row with 79.17% missing data\nIgnoring row with 62.50% missing data\nIgnoring row with 54.17% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 12.50% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 50.00% missing data\nIgnoring row with 12.50% missing data\nIgnoring row with 37.50% missing data\nIgnoring row with 91.67% missing data\nIgnoring row with 87.50% missing data\nIgnoring row with 66.67% missing data\nIgnoring row with 41.67% missing data\nIgnoring row with 87.50% missing data\nIgnoring row with 41.67% missing data\nIgnoring row with 87.50% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 12.50% missing data\nIgnoring row with 41.67% missing data\nIgnoring row with 29.17% missing data\nIgnoring row with 100.00% missing data\n"},"children":[],"key":"LNEdmgZFib"}],"key":"UwF5VWhhgD"}],"key":"h9tV49yRym"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:11.592373Z","iopub.status.busy":"2024-10-21T11:07:11.584622Z","iopub.status.idle":"2024-10-21T11:07:11.814637Z","shell.execute_reply":"2024-10-21T11:07:11.810072Z","shell.execute_reply.started":"2024-10-21T11:07:11.592341Z"},"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_no_meal_data_2 = []\nfor row in no_meal_data_matrix_2:\n\n    proportion_missing_data = np.isnan(row).mean()\n\n    if proportion_missing_data > dump_thresold:\n\n        # Ignore this row\n        print(f\"Ignoring row with {proportion_missing_data*100:.2f}% missing data\")\n        continue\n\n    else:\n        # The data is good, use it\n        cleaned_no_meal_data_2.append(row)","key":"EgYP3msNWf"},{"type":"outputs","id":"DEOHgrCbyV1V8azrSyS1x","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Ignoring row with 54.17% missing data\nIgnoring row with 54.17% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 83.33% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 58.33% missing data\nIgnoring row with 37.50% missing data\nIgnoring row with 50.00% missing data\nIgnoring row with 37.50% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 70.83% missing data\nIgnoring row with 29.17% missing data\nIgnoring row with 45.83% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 79.17% missing data\nIgnoring row with 75.00% missing data\nIgnoring row with 62.50% missing data\nIgnoring row with 16.67% missing data\nIgnoring row with 91.67% missing data\nIgnoring row with 20.83% missing data\nIgnoring row with 29.17% missing data\nIgnoring row with 20.83% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 33.33% missing data\nIgnoring row with 37.50% missing data\nIgnoring row with 100.00% missing data\nIgnoring row with 45.83% missing data\nIgnoring row with 16.67% missing data\n"},"children":[],"key":"csT9Vt4Nhr"}],"key":"L6g4uoLyeo"}],"key":"LBaBXttCJE"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:11.826774Z","iopub.status.busy":"2024-10-21T11:07:11.824273Z","iopub.status.idle":"2024-10-21T11:07:12.156206Z","shell.execute_reply":"2024-10-21T11:07:12.155619Z","shell.execute_reply.started":"2024-10-21T11:07:11.826746Z"},"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_no_meal_data_1[0]","key":"zM6btrWz9q"},{"type":"outputs","id":"KJx-kupKHUi2AL8hatOFC","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":96,"metadata":{},"data":{"text/plain":{"content":"array([121., 120., 115., 110., 106., 103., 103., 101.,  nan, 131., 109.,\n        82.,  74.,  66.,  73.,  82.,  87.,  90.,  83.,  73.,  49.,  58.,\n        69.,  79.])","content_type":"text/plain"}}},"children":[],"key":"Ulej88B1XT"}],"key":"YU5n9qmA3q"}],"key":"fcpg0qGsPt"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:12.179393Z","iopub.status.busy":"2024-10-21T11:07:12.173540Z","iopub.status.idle":"2024-10-21T11:07:12.376963Z","shell.execute_reply":"2024-10-21T11:07:12.359823Z","shell.execute_reply.started":"2024-10-21T11:07:12.179361Z"},"scrolled":true},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_no_meal_data_2[0]","key":"MkLNBeujTu"},{"type":"outputs","id":"dmk_ZmShXIrA9yHIgGtmq","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":97,"metadata":{},"data":{"text/plain":{"content":"array([390., 391., 389., 383., 375., 368., 357., 349., 336., 326., 315.,\n       305., 295., 286., 279., 273., 268., 259., 252., 246., 238., 229.,\n       218., 206.])","content_type":"text/plain"}}},"children":[],"key":"GSLZLhGUmq"}],"key":"mchaEKlFat"}],"key":"berrw1Ca9W"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:12.386673Z","iopub.status.busy":"2024-10-21T11:07:12.386355Z","iopub.status.idle":"2024-10-21T11:07:12.574130Z","shell.execute_reply":"2024-10-21T11:07:12.570258Z","shell.execute_reply.started":"2024-10-21T11:07:12.386655Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_no_meal_data_1[0].shape","key":"pYYrKm9Evo"},{"type":"outputs","id":"CDXJoSK3Y-RNrXfabwUk7","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":98,"metadata":{},"data":{"text/plain":{"content":"(24,)","content_type":"text/plain"}}},"children":[],"key":"y400GVkH4G"}],"key":"LnCbOQX08s"}],"key":"aDIZOPWEFg"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:12.594698Z","iopub.status.busy":"2024-10-21T11:07:12.594369Z","iopub.status.idle":"2024-10-21T11:07:12.984825Z","shell.execute_reply":"2024-10-21T11:07:12.926401Z","shell.execute_reply.started":"2024-10-21T11:07:12.594679Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_no_meal_data_2[0].shape","key":"Cts4aWSwTa"},{"type":"outputs","id":"JAJPPi3DVz81xKFOMHUDL","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":99,"metadata":{},"data":{"text/plain":{"content":"(24,)","content_type":"text/plain"}}},"children":[],"key":"emA7hOXGaC"}],"key":"YyNa53o0aX"}],"key":"XY8KkFdh9f"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Convert Cleaned No Meal Data List into a Matrix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"l0ilDk9jMX"}],"identifier":"convert-cleaned-no-meal-data-list-into-a-matrix","label":"Convert Cleaned No Meal Data List into a Matrix","html_id":"convert-cleaned-no-meal-data-list-into-a-matrix","implicit":true,"key":"QzGXgMXUWm"}],"key":"hV08fMUuiv"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:12.986614Z","iopub.status.busy":"2024-10-21T11:07:12.986284Z","iopub.status.idle":"2024-10-21T11:07:13.048927Z","shell.execute_reply":"2024-10-21T11:07:13.048484Z","shell.execute_reply.started":"2024-10-21T11:07:12.986591Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_no_meal_data_matrix_1 = \\\n    np.array(cleaned_no_meal_data_1)","key":"yZBrMHKUhd"},{"type":"outputs","id":"4oh1SmIjQ1rueLXQ5gJZU","children":[],"key":"WSdZNbZ3Fq"}],"key":"yqAD7jki3t"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:13.049441Z","iopub.status.busy":"2024-10-21T11:07:13.049305Z","iopub.status.idle":"2024-10-21T11:07:13.160145Z","shell.execute_reply":"2024-10-21T11:07:13.156969Z","shell.execute_reply.started":"2024-10-21T11:07:13.049427Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_no_meal_data_matrix_2 = \\\n    np.array(cleaned_no_meal_data_2)","key":"WqBUOLGbr8"},{"type":"outputs","id":"INXJ5h9tchehf0-27PDwn","children":[],"key":"CrYUqje0CY"}],"key":"WgYYkfspFl"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Use KNN to Impute NaNs in Cleaned No Meal Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"oEa54WevAO"}],"identifier":"use-knn-to-impute-nans-in-cleaned-no-meal-data","label":"Use KNN to Impute NaNs in Cleaned No Meal Data","html_id":"use-knn-to-impute-nans-in-cleaned-no-meal-data","implicit":true,"key":"TqRl83dHI4"}],"key":"PIRrPTUNzC"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:13.166264Z","iopub.status.busy":"2024-10-21T11:07:13.160586Z","iopub.status.idle":"2024-10-21T11:07:13.404472Z","shell.execute_reply":"2024-10-21T11:07:13.400854Z","shell.execute_reply.started":"2024-10-21T11:07:13.166227Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_no_meal_matrix_1 = knn_imputer.fit_transform(cleaned_no_meal_data_matrix_1)","key":"pgsUxDX4mH"},{"type":"outputs","id":"jOknWj47evsQAV80Pf9h5","children":[],"key":"aznRFRuqCh"}],"key":"g3pnP4L5uE"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:13.416435Z","iopub.status.busy":"2024-10-21T11:07:13.416191Z","iopub.status.idle":"2024-10-21T11:07:13.814093Z","shell.execute_reply":"2024-10-21T11:07:13.812235Z","shell.execute_reply.started":"2024-10-21T11:07:13.416418Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_no_meal_matrix_2 = knn_imputer.fit_transform(cleaned_no_meal_data_matrix_2)","key":"rirEnJ9B9y"},{"type":"outputs","id":"PrTm2ySpdzteM4cGYHhaf","children":[],"key":"EkOQKvP0Os"}],"key":"jSg1EExsuT"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:13.816091Z","iopub.status.busy":"2024-10-21T11:07:13.815844Z","iopub.status.idle":"2024-10-21T11:07:13.976786Z","shell.execute_reply":"2024-10-21T11:07:13.973756Z","shell.execute_reply.started":"2024-10-21T11:07:13.816074Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_no_meal_matrix_1[0]","key":"VzhVv64be0"},{"type":"outputs","id":"wRdfXOQqQBBPPxjSqhAKp","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":104,"metadata":{},"data":{"text/plain":{"content":"array([121.        , 120.        , 115.        , 110.        ,\n       106.        , 103.        , 103.        , 101.        ,\n       103.85714286, 131.        , 109.        ,  82.        ,\n        74.        ,  66.        ,  73.        ,  82.        ,\n        87.        ,  90.        ,  83.        ,  73.        ,\n        49.        ,  58.        ,  69.        ,  79.        ])","content_type":"text/plain"}}},"children":[],"key":"jLY3zG5LMG"}],"key":"X3SJrNXgQ8"}],"key":"YuRpqWwiAu"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:14.005079Z","iopub.status.busy":"2024-10-21T11:07:13.996352Z","iopub.status.idle":"2024-10-21T11:07:14.380468Z","shell.execute_reply":"2024-10-21T11:07:14.319703Z","shell.execute_reply.started":"2024-10-21T11:07:14.005045Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_no_meal_matrix_2[0]","key":"aTZWyMqT7d"},{"type":"outputs","id":"ZskUq_DZ_2ng59k7AgxEG","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":105,"metadata":{},"data":{"text/plain":{"content":"array([390., 391., 389., 383., 375., 368., 357., 349., 336., 326., 315.,\n       305., 295., 286., 279., 273., 268., 259., 252., 246., 238., 229.,\n       218., 206.])","content_type":"text/plain"}}},"children":[],"key":"RT4MtMUWd4"}],"key":"sKcoGMk2gW"}],"key":"JZvATuKKNF"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize Cleaned Imputed Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"M7yJqKqEQL"}],"identifier":"visualize-cleaned-imputed-data","label":"Visualize Cleaned Imputed Data","html_id":"visualize-cleaned-imputed-data","implicit":true,"key":"IgILB8G3O5"}],"key":"Iicpx3TTdY"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize Cleaned Imputed Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sRQVmKREpX"}],"identifier":"visualize-cleaned-imputed-meal-data-matrix-1","label":"Visualize Cleaned Imputed Meal Data Matrix 1","html_id":"visualize-cleaned-imputed-meal-data-matrix-1","implicit":true,"key":"CNinhYeg5J"}],"key":"a1DkVIHGa0"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Heatmap of Cleaned Imputed Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sPmrutGfje"}],"identifier":"heatmap-of-cleaned-imputed-meal-data-matrix-1","label":"Heatmap of Cleaned Imputed Meal Data Matrix 1","html_id":"heatmap-of-cleaned-imputed-meal-data-matrix-1","implicit":true,"key":"x9iga3DEcP"}],"key":"hX7SRu55rm"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:14.390191Z","iopub.status.busy":"2024-10-21T11:07:14.387313Z","iopub.status.idle":"2024-10-21T11:07:16.521261Z","shell.execute_reply":"2024-10-21T11:07:16.506412Z","shell.execute_reply.started":"2024-10-21T11:07:14.390167Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the heatmap\nsampled_meal_data_matrix_1 = cleaned_imputed_meal_matrix_1[np.random.choice(cleaned_imputed_meal_matrix_1.shape[0], 200, replace=False)]\nplt.figure(figsize=(30, 30))\nsns.heatmap(sampled_meal_data_matrix_1, cmap='YlGnBu', linewidths=0.5, annot=False, vmin=None, vmax=None)\nplt.title('Heatmap of Meal Data Matrix 1', fontsize=30)\nplt.xlabel('Time Points', fontsize=26)\nplt.ylabel('Meals (Samples)', fontsize=26)\n\n# Change font properties for the x and y tick labels\nplt.xticks(fontsize=16)\nplt.yticks(fontsize=16)\n\nplt.show()","key":"HZnGopyQy6"},{"type":"outputs","id":"bCQrDECtANG9igSDqHsdp","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"afc0f68d7cc75c3160f17cbdfd91b534","path":"/afc0f68d7cc75c3160f17cbdfd91b534.png"},"text/plain":{"content":"<Figure size 3000x3000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"LejuJ5czsc"}],"key":"ws4hkPJZq3"}],"key":"VcmtenjP8s"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Surface Plot of Cleaned Imputed Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"KiZYyGKlqI"}],"identifier":"surface-plot-of-cleaned-imputed-meal-data-matrix-1","label":"Surface Plot of Cleaned Imputed Meal Data Matrix 1","html_id":"surface-plot-of-cleaned-imputed-meal-data-matrix-1","implicit":true,"key":"s11DQKru3E"}],"key":"F363uOJ1PS"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:16.521958Z","iopub.status.busy":"2024-10-21T11:07:16.521770Z","iopub.status.idle":"2024-10-21T11:07:16.560167Z","shell.execute_reply":"2024-10-21T11:07:16.559631Z","shell.execute_reply.started":"2024-10-21T11:07:16.521941Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create X, Y meshgrid\nX = np.arange(cleaned_imputed_meal_matrix_1.shape[1])\nY = np.arange(cleaned_imputed_meal_matrix_1.shape[0])\ntime_points = np.linspace(-30, 120, 30)  # X-axis: from -30 minutes to +120 minutes (30 time points)\nmeal_numbers = np.arange(1, len(meal_data_1) + 1)\nX, Y = np.meshgrid(time_points, Y)\n#X, Y = np.meshgrid(time_points, meal_numbers)","key":"tOtHUgjbYr"},{"type":"outputs","id":"uoOMkWz7Z8f7ZLvac0Tbs","children":[],"key":"zAUifTjAvD"}],"key":"sb6bJ4VD8S"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:16.590091Z","iopub.status.busy":"2024-10-21T11:07:16.584539Z","iopub.status.idle":"2024-10-21T11:07:17.000422Z","shell.execute_reply":"2024-10-21T11:07:16.950769Z","shell.execute_reply.started":"2024-10-21T11:07:16.590062Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X","key":"c6EXw8ttE7"},{"type":"outputs","id":"TGyb76DZiIQZu990dC4Rm","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":108,"metadata":{},"data":{"text/plain":{"content":"array([[-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       ...,\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ]])","content_type":"text/plain"}}},"children":[],"key":"z8KQKEdVSt"}],"key":"vtN4AJPsE2"}],"key":"LxSKaJTk5w"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:17.006160Z","iopub.status.busy":"2024-10-21T11:07:17.005961Z","iopub.status.idle":"2024-10-21T11:07:17.236860Z","shell.execute_reply":"2024-10-21T11:07:17.196229Z","shell.execute_reply.started":"2024-10-21T11:07:17.006145Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X.shape","key":"sC2fr1LJ64"},{"type":"outputs","id":"LAyNE8i4iGzbJa565H5YR","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":109,"metadata":{},"data":{"text/plain":{"content":"(619, 30)","content_type":"text/plain"}}},"children":[],"key":"JZPaJ5kjac"}],"key":"dY0tulzP8q"}],"key":"b8pv9VLtfY"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:17.266998Z","iopub.status.busy":"2024-10-21T11:07:17.266772Z","iopub.status.idle":"2024-10-21T11:07:17.676789Z","shell.execute_reply":"2024-10-21T11:07:17.637874Z","shell.execute_reply.started":"2024-10-21T11:07:17.266983Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y","key":"lpnuNUZQxb"},{"type":"outputs","id":"xHdYEzjZEHCTY6LQQI181","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":110,"metadata":{},"data":{"text/plain":{"content":"array([[  0,   0,   0, ...,   0,   0,   0],\n       [  1,   1,   1, ...,   1,   1,   1],\n       [  2,   2,   2, ...,   2,   2,   2],\n       ...,\n       [616, 616, 616, ..., 616, 616, 616],\n       [617, 617, 617, ..., 617, 617, 617],\n       [618, 618, 618, ..., 618, 618, 618]])","content_type":"text/plain"}}},"children":[],"key":"PgljV5fxur"}],"key":"pJnSUq733z"}],"key":"AzNNuj7afR"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:17.691647Z","iopub.status.busy":"2024-10-21T11:07:17.687149Z","iopub.status.idle":"2024-10-21T11:07:17.980177Z","shell.execute_reply":"2024-10-21T11:07:17.945367Z","shell.execute_reply.started":"2024-10-21T11:07:17.691612Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Fill NaNs using forward fill, then backward fill\nmeal_data_matrix_1_df = pd.DataFrame(cleaned_imputed_meal_matrix_1)\nmeal_data_matrix_1_filled = meal_data_matrix_1_df.ffill().bfill().values","key":"jJb1Ipf9fM"},{"type":"outputs","id":"C-0EfhCu8bEsk4Av8St9z","children":[],"key":"sXryN6ptYK"}],"key":"LogysVK3Uv"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:17.981069Z","iopub.status.busy":"2024-10-21T11:07:17.980888Z","iopub.status.idle":"2024-10-21T11:07:18.164150Z","shell.execute_reply":"2024-10-21T11:07:18.159501Z","shell.execute_reply.started":"2024-10-21T11:07:17.981054Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Apply a moving average smoothing to each row\nwindow_size = 3  # Choose a window size for smoothing\nsmoothed_meal_data_matrix_1 = np.array([uniform_filter1d(row, size=window_size) for row in meal_data_matrix_1_filled])","key":"Hx4TsbYq7f"},{"type":"outputs","id":"nAdZe6_98W6yyl8H-ZLF1","children":[],"key":"EXBN3T0LiZ"}],"key":"OjJCbnkRrn"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:18.175454Z","iopub.status.busy":"2024-10-21T11:07:18.175211Z","iopub.status.idle":"2024-10-21T11:07:18.863375Z","shell.execute_reply":"2024-10-21T11:07:18.862774Z","shell.execute_reply.started":"2024-10-21T11:07:18.175438Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the plot\nfig = plt.figure(figsize=(10, 8))\nax = fig.add_subplot(111, projection='3d')\nstride = 100\n\n# Plot the surface\nsurface_plot = ax.plot_surface(X[::stride], Y[::stride], smoothed_meal_data_matrix_1[::stride], cmap='viridis', edgecolor='none')\nax.set_title('3D Surface Plot of Smoothed Averaged Meal Glucose Levels', y=0.985)\nax.set_xlabel('Time Relative to Start of Meal [minutes]', labelpad=10)\nax.set_ylabel('Meal Samples', labelpad=10)\n#ax.set_zlabel('Glucose Level (mg/dL)', labelpad=30)\n\n#ax.set_xticks(np.linspace(-30, 120, 7))\n\n# Adjust axis limits to create a zoom-out effect\n#ax.set_xlim(-30, 120)\nax.set_ylim(0, 800)\nax.set_zlim(0, 300)\n\nfig.colorbar(surface_plot, ax=ax, shrink=0.5, aspect=10, label='Glucose Level (mg/dL)')\n\n#plt.tight_layout()\nfig.subplots_adjust(left=0.01, right=1, top=0.9, bottom=0.1)\n\nax.view_init(elev=25, azim=-55)\n\nplt.show()","key":"fMCgEkdNrd"},{"type":"outputs","id":"3Rf3ejurlZVRcPDmjmnBd","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"8610e5d8597ff50c90111088edaf6301","path":"/8610e5d8597ff50c90111088edaf6301.png"},"text/plain":{"content":"<Figure size 1000x800 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"oNQgHacaF9"}],"key":"w9OaZfC6z8"}],"key":"Te0mIZMCr2"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Contour Plot of Cleaned Imputed Meal Data Matrix 1","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"VQ6NEzF0sQ"}],"identifier":"contour-plot-of-cleaned-imputed-meal-data-matrix-1","label":"Contour Plot of Cleaned Imputed Meal Data Matrix 1","html_id":"contour-plot-of-cleaned-imputed-meal-data-matrix-1","implicit":true,"key":"Oe20xvH0cF"}],"key":"WJrqmYX9zi"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:18.864585Z","iopub.status.busy":"2024-10-21T11:07:18.864309Z","iopub.status.idle":"2024-10-21T11:07:19.688716Z","shell.execute_reply":"2024-10-21T11:07:19.634419Z","shell.execute_reply.started":"2024-10-21T11:07:18.864567Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the contour plot\nplt.figure(figsize=(15, 10))\nplt.contourf(X, Y, meal_data_matrix_1_df, cmap='viridis', levels=30)\nplt.colorbar(label='Glucose Level (mg/dL)')\nplt.title('Contour Plot of Meal Glucose Levels')\nplt.xlabel('Time Points')\nplt.ylabel('Meal Samples')\nplt.show()","key":"ZORZkYgyAV"},{"type":"outputs","id":"-GhAVEYKlXW-fXD645Qsd","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"8e605683861157585e3303ec82708e7f","path":"/8e605683861157585e3303ec82708e7f.png"},"text/plain":{"content":"<Figure size 1500x1000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"DjDXpNI3Vz"}],"key":"Ewksc7wx6L"}],"key":"QgMQBHcqLr"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize Cleaned Imputed Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"HGiNMXiD7b"}],"identifier":"visualize-cleaned-imputed-meal-data-matrix-2","label":"Visualize Cleaned Imputed Meal Data Matrix 2","html_id":"visualize-cleaned-imputed-meal-data-matrix-2","implicit":true,"key":"LPqXBDLBCm"}],"key":"J45AzENtzL"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Heatmap of Cleaned Imputed Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"bUDetFGMYA"}],"identifier":"heatmap-of-cleaned-imputed-meal-data-matrix-2","label":"Heatmap of Cleaned Imputed Meal Data Matrix 2","html_id":"heatmap-of-cleaned-imputed-meal-data-matrix-2","implicit":true,"key":"yVVEQAx2Wr"}],"key":"CTsGik8wmF"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:19.689949Z","iopub.status.busy":"2024-10-21T11:07:19.689752Z","iopub.status.idle":"2024-10-21T11:07:20.979051Z","shell.execute_reply":"2024-10-21T11:07:20.974200Z","shell.execute_reply.started":"2024-10-21T11:07:19.689933Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the heatmap\nsampled_meal_data_matrix_2 = cleaned_imputed_meal_matrix_1[np.random.choice(cleaned_imputed_meal_matrix_2.shape[0], 200, replace=False)]\nplt.figure(figsize=(30, 30))\nsns.heatmap(sampled_meal_data_matrix_2, cmap='YlGnBu', linewidths=0.5, annot=False, vmin=None, vmax=None)\nplt.title('Heatmap of Meal Data Matrix 1')\nplt.xlabel('Time Points')\nplt.ylabel('Meals (Samples)')\nplt.show()","key":"TD0aE6DIc0"},{"type":"outputs","id":"MGq5bHySw2oNO398_nJ-6","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"1e0a4d3bdbd027698eb4faf198a9fae8","path":"/1e0a4d3bdbd027698eb4faf198a9fae8.png"},"text/plain":{"content":"<Figure size 3000x3000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"nvuvTFy1ZL"}],"key":"KANwOy8Wj8"}],"key":"MPGfQ2Zlgf"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Surface Plot of Cleaned Imputed Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"DpFYREZgs9"}],"identifier":"surface-plot-of-cleaned-imputed-meal-data-matrix-2","label":"Surface Plot of Cleaned Imputed Meal Data Matrix 2","html_id":"surface-plot-of-cleaned-imputed-meal-data-matrix-2","implicit":true,"key":"j7jXFcpmPG"}],"key":"BAgMZlp5dQ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:20.980568Z","iopub.status.busy":"2024-10-21T11:07:20.980078Z","iopub.status.idle":"2024-10-21T11:07:21.140417Z","shell.execute_reply":"2024-10-21T11:07:21.104576Z","shell.execute_reply.started":"2024-10-21T11:07:20.980549Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create X, Y meshgrid\nX = np.arange(cleaned_imputed_meal_matrix_2.shape[1])\nY = np.arange(cleaned_imputed_meal_matrix_2.shape[0])\ntime_points = np.linspace(-30, 120, 30)  # X-axis: from -30 minutes to +120 minutes (30 time points)\nmeal_numbers = np.arange(1, len(meal_data_2) + 1)\nX, Y = np.meshgrid(time_points, Y)\n#X, Y = np.meshgrid(time_points, meal_numbers)","key":"RlRDcbcqjw"},{"type":"outputs","id":"b9HvwtDIK9JutNSXDE-7H","children":[],"key":"R3vsPiDtFi"}],"key":"gSoyTrTOn9"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:21.145141Z","iopub.status.busy":"2024-10-21T11:07:21.144950Z","iopub.status.idle":"2024-10-21T11:07:21.267925Z","shell.execute_reply":"2024-10-21T11:07:21.267432Z","shell.execute_reply.started":"2024-10-21T11:07:21.145126Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X","key":"nLOS9tMw9L"},{"type":"outputs","id":"LLRjnmqWdcEliKTUhJ_cy","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":117,"metadata":{},"data":{"text/plain":{"content":"array([[-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       ...,\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ],\n       [-30.        , -24.82758621, -19.65517241, ..., 109.65517241,\n        114.82758621, 120.        ]])","content_type":"text/plain"}}},"children":[],"key":"tZp6Gp7iZr"}],"key":"r7k4k24Bjk"}],"key":"RZXmuTSJy7"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:21.279291Z","iopub.status.busy":"2024-10-21T11:07:21.279041Z","iopub.status.idle":"2024-10-21T11:07:21.622286Z","shell.execute_reply":"2024-10-21T11:07:21.544801Z","shell.execute_reply.started":"2024-10-21T11:07:21.279275Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X.shape","key":"UWKIYholah"},{"type":"outputs","id":"G8j-G2OuZXJ1mp5h0mSDs","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":118,"metadata":{},"data":{"text/plain":{"content":"(325, 30)","content_type":"text/plain"}}},"children":[],"key":"kO72OAoAsP"}],"key":"p9yZO1oIwp"}],"key":"rp1Y7evSNP"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:21.623031Z","iopub.status.busy":"2024-10-21T11:07:21.622852Z","iopub.status.idle":"2024-10-21T11:07:21.789471Z","shell.execute_reply":"2024-10-21T11:07:21.783744Z","shell.execute_reply.started":"2024-10-21T11:07:21.623017Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y","key":"DhDsj7ttO4"},{"type":"outputs","id":"nwp0JzaKTNh8y7v2-Zqrj","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":119,"metadata":{},"data":{"text/plain":{"content":"array([[  0,   0,   0, ...,   0,   0,   0],\n       [  1,   1,   1, ...,   1,   1,   1],\n       [  2,   2,   2, ...,   2,   2,   2],\n       ...,\n       [322, 322, 322, ..., 322, 322, 322],\n       [323, 323, 323, ..., 323, 323, 323],\n       [324, 324, 324, ..., 324, 324, 324]])","content_type":"text/plain"}}},"children":[],"key":"AGWS9htQa1"}],"key":"S4DdqLP6CE"}],"key":"Un53s9N674"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:21.791233Z","iopub.status.busy":"2024-10-21T11:07:21.790819Z","iopub.status.idle":"2024-10-21T11:07:22.000034Z","shell.execute_reply":"2024-10-21T11:07:21.963457Z","shell.execute_reply.started":"2024-10-21T11:07:21.791200Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Fill NaNs using forward fill, then backward fill\nmeal_data_matrix_2_df = pd.DataFrame(cleaned_imputed_meal_matrix_2)\nmeal_data_matrix_2_filled = meal_data_matrix_2_df.ffill().bfill().values","key":"twU7ojTesu"},{"type":"outputs","id":"QOQi6omCz2WX--cC0bvX7","children":[],"key":"Nh4yPYTYyA"}],"key":"WTyj38BWl3"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:22.017348Z","iopub.status.busy":"2024-10-21T11:07:22.017126Z","iopub.status.idle":"2024-10-21T11:07:22.320139Z","shell.execute_reply":"2024-10-21T11:07:22.289257Z","shell.execute_reply.started":"2024-10-21T11:07:22.017332Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Apply a moving average smoothing to each row\nwindow_size = 3  # Choose a window size for smoothing\nsmoothed_meal_data_matrix_2 = np.array([uniform_filter1d(row, size=window_size) for row in meal_data_matrix_2_filled])","key":"YPQW9dy1Dt"},{"type":"outputs","id":"a0LJNVuTAkW1oL7ye2BDt","children":[],"key":"HONPVKeAfJ"}],"key":"orF1wPaVzV"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:22.333909Z","iopub.status.busy":"2024-10-21T11:07:22.333693Z","iopub.status.idle":"2024-10-21T11:07:23.147497Z","shell.execute_reply":"2024-10-21T11:07:23.146243Z","shell.execute_reply.started":"2024-10-21T11:07:22.333893Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the plot\nfig = plt.figure(figsize=(10, 8))\nax = fig.add_subplot(111, projection='3d')\nstride = 100\n\n# Plot the surface\nsurface_plot = ax.plot_surface(X[::stride], Y[::stride], smoothed_meal_data_matrix_2[::stride], cmap='viridis', edgecolor='none')\nax.set_title('3D Surface Plot of Smoothed Averaged Meal Glucose Levels', y=0.985)\nax.set_xlabel('Time Relative to Start of Meal [minutes]', labelpad=10)\nax.set_ylabel('Meal Samples', labelpad=10)\n#ax.set_zlabel('Glucose Level (mg/dL)', labelpad=30)\n\n#ax.set_xticks(np.linspace(-30, 120, 7))\n\n# Adjust axis limits to create a zoom-out effect\n#ax.set_xlim(-30, 120)\n#ax.set_ylim(0, 800)\n#ax.set_zlim(0, 300)\n\nfig.colorbar(surface_plot, ax=ax, shrink=0.5, aspect=10, label='Glucose Level (mg/dL)')\n\n#plt.tight_layout()\nfig.subplots_adjust(left=0.01, right=1, top=0.9, bottom=0.1)\n\nax.view_init(elev=25, azim=-55)\n\nplt.show()","key":"YLVzZ4nHgU"},{"type":"outputs","id":"4ERZv0s5ImNIJDDNeYG_6","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"a2c22604216cad76cf0e2eeeb83f600c","path":"/a2c22604216cad76cf0e2eeeb83f600c.png"},"text/plain":{"content":"<Figure size 1000x800 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"PpecLh737F"}],"key":"fB1VGjbHkr"}],"key":"ih7qooFjMb"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Contour Plot of Cleaned Imputed Meal Data Matrix 2","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jfxTHF6Ls0"}],"identifier":"contour-plot-of-cleaned-imputed-meal-data-matrix-2","label":"Contour Plot of Cleaned Imputed Meal Data Matrix 2","html_id":"contour-plot-of-cleaned-imputed-meal-data-matrix-2","implicit":true,"key":"IPP7uZZ5bP"}],"key":"LriYG4cJBx"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:23.178295Z","iopub.status.busy":"2024-10-21T11:07:23.173300Z","iopub.status.idle":"2024-10-21T11:07:23.721337Z","shell.execute_reply":"2024-10-21T11:07:23.719801Z","shell.execute_reply.started":"2024-10-21T11:07:23.178263Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the contour plot\nplt.figure(figsize=(15, 10))\nplt.contourf(X, Y, meal_data_matrix_2_df, cmap='viridis', levels=30)\nplt.colorbar(label='Glucose Level (mg/dL)')\nplt.title('Contour Plot of Meal Glucose Levels')\nplt.xlabel('Time Points')\nplt.ylabel('Meal Samples')\nplt.show()","key":"jG3oerCHKg"},{"type":"outputs","id":"aNkOraVgYy-9mZq-KmulM","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"819acd09172e4c3beb5adb998974033c","path":"/819acd09172e4c3beb5adb998974033c.png"},"text/plain":{"content":"<Figure size 1500x1000 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"uI1bx3JbVI"}],"key":"nx0BDTIjtC"}],"key":"I3lvyX14Ez"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Combine Patient 1 and Patient 2 Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gEEUZOkyEd"}],"identifier":"combine-patient-1-and-patient-2-data","label":"Combine Patient 1 and Patient 2 Data","html_id":"combine-patient-1-and-patient-2-data","implicit":true,"key":"APmCD1XVD8"}],"key":"OUQm38Ruo9"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:23.722121Z","iopub.status.busy":"2024-10-21T11:07:23.721880Z","iopub.status.idle":"2024-10-21T11:07:23.751212Z","shell.execute_reply":"2024-10-21T11:07:23.727719Z","shell.execute_reply.started":"2024-10-21T11:07:23.722105Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_meal_matrix = \\\n    np.vstack((cleaned_imputed_meal_matrix_1, cleaned_imputed_meal_matrix_2))","key":"OwhyJJdzhC"},{"type":"outputs","id":"Pkgs23G0wjfFby5Dm9Y2X","children":[],"key":"ZVOVjQFJq3"}],"key":"mBaJebRMWc"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:23.762760Z","iopub.status.busy":"2024-10-21T11:07:23.760466Z","iopub.status.idle":"2024-10-21T11:07:23.937758Z","shell.execute_reply":"2024-10-21T11:07:23.936653Z","shell.execute_reply.started":"2024-10-21T11:07:23.762737Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"cleaned_imputed_no_meal_matrix = \\\n    np.vstack((cleaned_imputed_no_meal_matrix_1, cleaned_imputed_no_meal_matrix_2))","key":"H0wg0BOHiv"},{"type":"outputs","id":"4cVrGr1JEzerq75BNbsHE","children":[],"key":"CMyVXfC3lL"}],"key":"rnCvsru8U6"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Feature Extraction","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"MkQ5qhPZeG"}],"identifier":"feature-extraction","label":"Feature Extraction","html_id":"feature-extraction","implicit":true,"key":"rRTUv7VQUN"}],"key":"u9TuhHTWuQ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Define Feature Extractor Helper Functions","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ARBBEkeRvP"}],"identifier":"define-feature-extractor-helper-functions","label":"Define Feature Extractor Helper Functions","html_id":"define-feature-extractor-helper-functions","implicit":true,"key":"L6iPfr3XDn"}],"key":"aJWXm3RLlk"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:23.938893Z","iopub.status.busy":"2024-10-21T11:07:23.938540Z","iopub.status.idle":"2024-10-21T11:07:24.028517Z","shell.execute_reply":"2024-10-21T11:07:24.021972Z","shell.execute_reply.started":"2024-10-21T11:07:23.938875Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"def compute_first_derivative(glucose_data, delta_t=5):\n    return np.diff(glucose_data) / delta_t","key":"Co0nodrPpU"},{"type":"outputs","id":"r1kj5WPdS1aMiak_KBdOG","children":[],"key":"MmtamJWGxY"}],"key":"jcmuzOzrtI"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:24.029327Z","iopub.status.busy":"2024-10-21T11:07:24.029137Z","iopub.status.idle":"2024-10-21T11:07:24.278091Z","shell.execute_reply":"2024-10-21T11:07:24.195146Z","shell.execute_reply.started":"2024-10-21T11:07:24.029311Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"def compute_second_derivative(glucose_values, delta_t=5):\n    second_derivative = np.zeros(len(glucose_values) - 2)\n    for i in range(1, len(glucose_values) - 1):\n        second_derivative[i - 1] = \\\n            (glucose_values[i + 1] - 2 * glucose_values[i] + glucose_values[i - 1]) / (delta_t ** 2)\n    return second_derivative","key":"doVgZdxkWl"},{"type":"outputs","id":"5vlZ6w4LObx716uzndWzg","children":[],"key":"kVXtjpzgYZ"}],"key":"kmxSkOkeB5"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:24.278862Z","iopub.status.busy":"2024-10-21T11:07:24.278683Z","iopub.status.idle":"2024-10-21T11:07:24.557657Z","shell.execute_reply":"2024-10-21T11:07:24.448938Z","shell.execute_reply.started":"2024-10-21T11:07:24.278847Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"compute_first_derivative(cleaned_imputed_meal_matrix[0])","key":"SJ2kZoilCA"},{"type":"outputs","id":"GJki9OstNUYuWPPOcBE6i","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":128,"metadata":{},"data":{"text/plain":{"content":"array([-0.2       , -1.        , -1.        , -0.8       , -0.6       ,\n        0.        , -0.4       , -0.25714286,  6.25714286, -4.4       ,\n       -5.4       , -1.6       , -1.6       ,  1.4       ,  1.8       ,\n        1.        ,  0.6       , -1.4       , -2.        , -4.8       ,\n        1.8       ,  2.2       ,  2.        , -0.62857143,  3.42857143,\n       -0.2       , -1.2       , -0.4       , -0.8       ])","content_type":"text/plain"}}},"children":[],"key":"xDnqtliKjO"}],"key":"Msz4yxNEvL"}],"key":"ryeYhpYxQG"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:24.567565Z","iopub.status.busy":"2024-10-21T11:07:24.560214Z","iopub.status.idle":"2024-10-21T11:07:24.670246Z","shell.execute_reply":"2024-10-21T11:07:24.638731Z","shell.execute_reply.started":"2024-10-21T11:07:24.567543Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"compute_second_derivative(cleaned_imputed_meal_matrix[0])","key":"yO09T9oQGA"},{"type":"outputs","id":"qapXSxQAkrzD4f1KyftbT","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":129,"metadata":{},"data":{"text/plain":{"content":"array([-0.16      ,  0.        ,  0.04      ,  0.04      ,  0.12      ,\n       -0.08      ,  0.02857143,  1.30285714, -2.13142857, -0.2       ,\n        0.76      ,  0.        ,  0.6       ,  0.08      , -0.16      ,\n       -0.08      , -0.4       , -0.12      , -0.56      ,  1.32      ,\n        0.08      , -0.04      , -0.52571429,  0.81142857, -0.72571429,\n       -0.2       ,  0.16      , -0.08      ])","content_type":"text/plain"}}},"children":[],"key":"y6bGB57K61"}],"key":"dqGndJGlRm"}],"key":"q9qMi7jN1h"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:24.703556Z","iopub.status.busy":"2024-10-21T11:07:24.703298Z","iopub.status.idle":"2024-10-21T11:07:24.865155Z","shell.execute_reply":"2024-10-21T11:07:24.830233Z","shell.execute_reply.started":"2024-10-21T11:07:24.703540Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"def compute_AUC(glucose_values, delta_t=5):\n    return simpson(glucose_values, dx=delta_t)","key":"Lvp6fcxvDA"},{"type":"outputs","id":"_wWDJEKLXE8ahF_ofBgCn","children":[],"key":"k8lMjDw3Rt"}],"key":"tcgJNXUBkF"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Define Feature Extractor Function","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aNmvV61ZJr"}],"identifier":"define-feature-extractor-function","label":"Define Feature Extractor Function","html_id":"define-feature-extractor-function","implicit":true,"key":"wG0pWombt9"}],"key":"DbtD3ebgYm"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:24.880898Z","iopub.status.busy":"2024-10-21T11:07:24.875008Z","iopub.status.idle":"2024-10-21T11:07:25.012600Z","shell.execute_reply":"2024-10-21T11:07:25.011439Z","shell.execute_reply.started":"2024-10-21T11:07:24.880870Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"def feature_extractor(data_matrix):\n\n    features = []\n\n    for row in data_matrix:\n        mean_glucose = np.mean(row)\n        std_glucose  = np.std(row)\n        max_glucose  = np.max(row)\n        min_glucose  = np.min(row)\n        \n        first_derivative = compute_first_derivative(row)\n        mean_first_derivate = np.mean(first_derivative)\n\n        if len(row) > 2:\n            second_derivative = compute_second_derivative(row)\n            mean_second_derivative = np.mean(second_derivative)\n        else:\n            mean_second_derivative = 0\n\n        AUC = compute_AUC(row)\n\n        time_to_peak = np.argmax(row)\n\n        features_vector = [\n            mean_glucose,\n            std_glucose,\n            max_glucose,\n            min_glucose,\n            mean_first_derivate,\n            mean_second_derivative,\n            AUC,\n            time_to_peak\n        ]\n\n        features.append(features_vector)\n    \n    return np.array(features)","identifier":"cse572_code_4-code","enumerator":"1","html_id":"cse572-code-4-code","key":"tct51nCboR"},{"type":"outputs","id":"sCn-EOX2pzk8zcfrikg4f","children":[],"identifier":"cse572_code_4-outputs","html_id":"cse572-code-4-outputs","key":"S6tctOvtzh"}],"identifier":"cse572_code_4","label":"CSE572_Code_4","html_id":"cse572-code-4","key":"p24OXdVtKJ"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Get Feature Matrix for Cleaned Imputed Meal Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"uRY5Oni4Qe"}],"identifier":"get-feature-matrix-for-cleaned-imputed-meal-data","label":"Get Feature Matrix for Cleaned Imputed Meal Data","html_id":"get-feature-matrix-for-cleaned-imputed-meal-data","implicit":true,"key":"AbbCbkmbad"}],"key":"gFACRE59Lg"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:25.014362Z","iopub.status.busy":"2024-10-21T11:07:25.014040Z","iopub.status.idle":"2024-10-21T11:07:25.534940Z","shell.execute_reply":"2024-10-21T11:07:25.534480Z","shell.execute_reply.started":"2024-10-21T11:07:25.014338Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_features_matrix = feature_extractor(cleaned_imputed_meal_matrix)\nmeal_features_matrix[0]","key":"oGt1RJM69d"},{"type":"outputs","id":"Fqe5fl0CSFpsMeRRNvERz","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":132,"metadata":{},"data":{"text/plain":{"content":"array([ 8.98190476e+01,  1.91175360e+01,  1.31000000e+02,  4.90000000e+01,\n       -2.82758621e-01, -4.28571429e-03,  1.30310714e+04,  9.00000000e+00])","content_type":"text/plain"}}},"children":[],"key":"YpPooSwMOW"}],"key":"tkl3yeuOu1"}],"key":"N2iqYSYQVs"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Get Feature Matrix for Clean Imputed No Meal Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"wdvS8FGNPK"}],"identifier":"get-feature-matrix-for-clean-imputed-no-meal-data","label":"Get Feature Matrix for Clean Imputed No Meal Data","html_id":"get-feature-matrix-for-clean-imputed-no-meal-data","implicit":true,"key":"PFXHocYB5w"}],"key":"HBiNbOeuFh"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:25.535608Z","iopub.status.busy":"2024-10-21T11:07:25.535459Z","iopub.status.idle":"2024-10-21T11:07:26.000786Z","shell.execute_reply":"2024-10-21T11:07:25.962398Z","shell.execute_reply.started":"2024-10-21T11:07:25.535594Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"no_meal_features_matrix = feature_extractor(cleaned_imputed_no_meal_matrix)\nno_meal_features_matrix[0]","key":"J4aV9jWdgF"},{"type":"outputs","id":"-O22AMDUy6MkhLfErfISQ","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":133,"metadata":{},"data":{"text/plain":{"content":"array([ 9.11607143e+01,  2.10808822e+01,  1.31000000e+02,  4.90000000e+01,\n       -3.65217391e-01,  2.00000000e-02,  1.04699405e+04,  9.00000000e+00])","content_type":"text/plain"}}},"children":[],"key":"TU6l35UgWk"}],"key":"d9inZ0tJKA"}],"key":"QFO2OJnQzv"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize The Meal Features Matrix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"heMS6OHHka"}],"identifier":"visualize-the-meal-features-matrix","label":"Visualize The Meal Features Matrix","html_id":"visualize-the-meal-features-matrix","implicit":true,"key":"h1dRAU7GPC"}],"key":"J3Nu2MdGVl"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Normalize The Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kQP1CP89HO"}],"identifier":"normalize-the-data","label":"Normalize The Data","html_id":"normalize-the-data","implicit":true,"key":"omLp7IAr3f"}],"key":"tpQ5S95egM"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:26.006136Z","iopub.status.busy":"2024-10-21T11:07:26.005940Z","iopub.status.idle":"2024-10-21T11:07:26.188159Z","shell.execute_reply":"2024-10-21T11:07:26.160464Z","shell.execute_reply.started":"2024-10-21T11:07:26.006120Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"scaler = StandardScaler()\nscaled_meal_features_matrix = scaler.fit_transform(meal_features_matrix)\nscaled_no_meal_features_matrix = scaler.fit_transform(no_meal_features_matrix)","key":"QdXQXNEQGD"},{"type":"outputs","id":"AqbQ5j_me-Xc7aWzDRe-W","children":[],"key":"myFyLvwSwl"}],"key":"eNwn3OX3gU"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:26.194983Z","iopub.status.busy":"2024-10-21T11:07:26.194764Z","iopub.status.idle":"2024-10-21T11:07:26.498840Z","shell.execute_reply":"2024-10-21T11:07:26.476100Z","shell.execute_reply.started":"2024-10-21T11:07:26.194968Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"scaled_meal_features_matrix[0]","key":"YIlOjHCwFb"},{"type":"outputs","id":"Koe2tNunT0MkoM2DoYg3d","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":135,"metadata":{},"data":{"text/plain":{"content":"array([-1.43931653, -0.6890434 , -1.43186426, -1.35409331, -0.73789252,\n       -0.2568468 , -1.42698567, -0.72547238])","content_type":"text/plain"}}},"children":[],"key":"y3qizeGmvC"}],"key":"r8jvxPGZBq"}],"key":"VBM49bHVzA"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:26.499530Z","iopub.status.busy":"2024-10-21T11:07:26.499361Z","iopub.status.idle":"2024-10-21T11:07:26.598127Z","shell.execute_reply":"2024-10-21T11:07:26.597705Z","shell.execute_reply.started":"2024-10-21T11:07:26.499515Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"scaled_no_meal_features_matrix[0]","key":"bProRVRHCC"},{"type":"outputs","id":"sbQRyBf4xitXHdAkElXt4","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":136,"metadata":{},"data":{"text/plain":{"content":"array([-1.24861858, -0.24758492, -1.16121642, -1.39218291, -0.66468096,\n        1.06439767, -1.24077771, -0.41467362])","content_type":"text/plain"}}},"children":[],"key":"JGhwlbyK9m"}],"key":"Yfic5A7VnZ"}],"key":"N81guQZClb"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot Features for all Rows","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"aUjKazcCX5"}],"identifier":"plot-features-for-all-rows","label":"Plot Features for all Rows","html_id":"plot-features-for-all-rows","implicit":true,"key":"Ll4l2n9wqm"}],"key":"B10GfVKBwP"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:26.601009Z","iopub.status.busy":"2024-10-21T11:07:26.600861Z","iopub.status.idle":"2024-10-21T11:07:27.106164Z","shell.execute_reply":"2024-10-21T11:07:27.012549Z","shell.execute_reply.started":"2024-10-21T11:07:26.600996Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_features_matrix.shape[0]","key":"JZBi30KY1c"},{"type":"outputs","id":"jr8fply27wUztBoUKbmoa","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":137,"metadata":{},"data":{"text/plain":{"content":"944","content_type":"text/plain"}}},"children":[],"key":"VlKWw6BO66"}],"key":"nEaa3GzU6M"}],"key":"BIoHm3c8LI"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:27.132665Z","iopub.status.busy":"2024-10-21T11:07:27.127453Z","iopub.status.idle":"2024-10-21T11:07:27.201055Z","shell.execute_reply":"2024-10-21T11:07:27.200521Z","shell.execute_reply.started":"2024-10-21T11:07:27.132629Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X = np.arange(\n        start=0,\n        stop=meal_features_matrix.shape[0]\n    )","key":"fDfhrZCtAZ"},{"type":"outputs","id":"kx1MDBIzEFPSRArMXafKq","children":[],"key":"zRD8osaebj"}],"key":"ynNW9WSgj1"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot Max, Mean, Min, and Std Dev for All Rows","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"rpV9mP240g"}],"identifier":"plot-max-mean-min-and-std-dev-for-all-rows","label":"Plot Max, Mean, Min, and Std Dev for All Rows","html_id":"plot-max-mean-min-and-std-dev-for-all-rows","implicit":true,"key":"xgFLmgGoWF"}],"key":"YpPtOUVT2h"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:27.213410Z","iopub.status.busy":"2024-10-21T11:07:27.213196Z","iopub.status.idle":"2024-10-21T11:07:27.359899Z","shell.execute_reply":"2024-10-21T11:07:27.335317Z","shell.execute_reply.started":"2024-10-21T11:07:27.213394Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_mean = meal_features_matrix[:, 0] # First column\nY_mean_peaks, _ = find_peaks(Y_mean, height=20)\n\nY_mean_peaks_times = X[Y_mean_peaks]\nY_mean_peaks_values = Y_mean[Y_mean_peaks]\n\nwindow_size = 3\nY_mean_peaks_moving_avg = np.convolve(Y_mean_peaks_values, np.ones(window_size)/window_size, mode='valid')","key":"Cv1yW4Ugm9"},{"type":"outputs","id":"buNv3DLylm9TNjkOIt-8G","children":[],"key":"xlCPsaozjc"}],"key":"KmxusTMl0n"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:27.364916Z","iopub.status.busy":"2024-10-21T11:07:27.364702Z","iopub.status.idle":"2024-10-21T11:07:27.623000Z","shell.execute_reply":"2024-10-21T11:07:27.585613Z","shell.execute_reply.started":"2024-10-21T11:07:27.364901Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_std = meal_features_matrix[:, 1] # Second column","key":"Id26fJOLx9"},{"type":"outputs","id":"OWJWsJ5k675R4XgANsf1h","children":[],"key":"GqNK9FulH6"}],"key":"LVH00oUrHf"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:27.658991Z","iopub.status.busy":"2024-10-21T11:07:27.643421Z","iopub.status.idle":"2024-10-21T11:07:27.808356Z","shell.execute_reply":"2024-10-21T11:07:27.787802Z","shell.execute_reply.started":"2024-10-21T11:07:27.658957Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_max = meal_features_matrix[:, 2] # Third column\nY_max_peaks, _ = find_peaks(Y_max, height=20)\n\nY_max_peaks_times = X[Y_max_peaks]\nY_max_peaks_values = Y_max[Y_max_peaks]\n\nwindow_size = 3\nY_max_peaks_moving_avg = np.convolve(Y_max_peaks_values, np.ones(window_size)/window_size, mode='valid')","key":"BhYgAgD02V"},{"type":"outputs","id":"ysOwlRKbWAYzY43vL9w2d","children":[],"key":"k3RSUWTDLD"}],"key":"MXKFq79TJ3"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:27.820517Z","iopub.status.busy":"2024-10-21T11:07:27.819923Z","iopub.status.idle":"2024-10-21T11:07:28.064749Z","shell.execute_reply":"2024-10-21T11:07:28.022628Z","shell.execute_reply.started":"2024-10-21T11:07:27.820493Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_max_peaks_times.shape","key":"Ae13PP5yf4"},{"type":"outputs","id":"RuhuTH8hC2SvVkTkWBRyx","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":142,"metadata":{},"data":{"text/plain":{"content":"(289,)","content_type":"text/plain"}}},"children":[],"key":"qLKroPIk7l"}],"key":"ol6z6lohdq"}],"key":"Ha1QUQpV6p"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:28.065512Z","iopub.status.busy":"2024-10-21T11:07:28.065334Z","iopub.status.idle":"2024-10-21T11:07:28.415031Z","shell.execute_reply":"2024-10-21T11:07:28.397536Z","shell.execute_reply.started":"2024-10-21T11:07:28.065496Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_max_peaks_moving_avg.shape","key":"cZYZHP7OZE"},{"type":"outputs","id":"IZ27OXO9SLumGX1SDssIx","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":143,"metadata":{},"data":{"text/plain":{"content":"(287,)","content_type":"text/plain"}}},"children":[],"key":"KCHWL8Zmd2"}],"key":"Qy1l75mkoH"}],"key":"wpHuGeOvgU"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:28.426768Z","iopub.status.busy":"2024-10-21T11:07:28.426568Z","iopub.status.idle":"2024-10-21T11:07:28.620765Z","shell.execute_reply":"2024-10-21T11:07:28.620045Z","shell.execute_reply.started":"2024-10-21T11:07:28.426754Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_min = meal_features_matrix[:, 3] # Fourth column\nY_min_peaks, _ = find_peaks(Y_min, height=20)\n\nY_min_peaks_times = X[Y_min_peaks]\nY_min_peaks_values = Y_min[Y_min_peaks]\n\nwindow_size = 3\nY_min_peaks_moving_avg = np.convolve(Y_min_peaks_values, np.ones(window_size)/window_size, mode='valid')","key":"d3rhzz9X3q"},{"type":"outputs","id":"VGf89sV02UqyXWNCfRtm0","children":[],"key":"j9gNFGvOfC"}],"key":"QvIK4oow2A"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:28.625833Z","iopub.status.busy":"2024-10-21T11:07:28.625590Z","iopub.status.idle":"2024-10-21T11:07:29.035972Z","shell.execute_reply":"2024-10-21T11:07:28.927111Z","shell.execute_reply.started":"2024-10-21T11:07:28.625817Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_min_peaks_moving_avg.shape","key":"KDB1tpkxFL"},{"type":"outputs","id":"G_4XGAxmRFKPdWAhUwhkY","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":145,"metadata":{},"data":{"text/plain":{"content":"(281,)","content_type":"text/plain"}}},"children":[],"key":"y88yrGLsB9"}],"key":"WI9IupTv03"}],"key":"CzPpUS6myo"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:29.060419Z","iopub.status.busy":"2024-10-21T11:07:29.049347Z","iopub.status.idle":"2024-10-21T11:07:29.777425Z","shell.execute_reply":"2024-10-21T11:07:29.760766Z","shell.execute_reply.started":"2024-10-21T11:07:29.060387Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the plot\nfig = plt.figure(figsize=(18, 6))\nax = fig.add_subplot(111)\nstride = 5\n\n# Plot the features\n#ax.plot(X[::stride], Y_max[::stride], 'x', label='Max', color='red')\nax.plot(Y_max_peaks_times[:len(Y_max_peaks_moving_avg)], Y_max_peaks_moving_avg, color='red', label='Moving Average of Max', linewidth=2)\n\n#ax.plot(X[::stride], Y_mean[::stride], label='Mean', color='blue')\nax.plot(Y_mean_peaks_times[:len(Y_mean_peaks_moving_avg)], Y_mean_peaks_moving_avg, color='blue', label='Moving Average of Mean', linewidth=2)\n\n#ax.plot(X[::stride], Y_min[::stride], 'x', label='Min')\nax.plot(Y_min_peaks_times[:len(Y_min_peaks_moving_avg)], Y_min_peaks_moving_avg, color='green', label='Moving Average of Min', linewidth=2)\n\nax.plot(X[::stride], Y_std[::stride], label='Std Dev')\n\nax.set_title('Meal Glucose Level Features vs Data Row Number', fontsize=20)\nax.set_xlabel('Data Row Number [arbitrary] ', fontsize=16)\nax.set_ylabel('Glucose Level [mg/dL]', fontsize=16)\n\nax.set_xticks(np.linspace(0, 1000, 11))\nax.set_yticks(np.linspace(0, 400, 7))\nax.set_xlim(-50, 1000)\nax.set_ylim(0, 420)\n\n#ax.text(300, 380, f'Viewing every {stride} rows')\n\n# Adjust axis limits to create a zoom-out effect\n#ax.set_xlim(-30, 120)\n#ax.set_ylim(0, 800)\n\n#plt.tight_layout()\n\nplt.legend()\n\nplt.show()","key":"a9tffcd5hn"},{"type":"outputs","id":"mfryyK5DS6_cfqSI_YnTt","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"b266108f8706ef7f3388009464603aef","path":"/b266108f8706ef7f3388009464603aef.png"},"text/plain":{"content":"<Figure size 1800x600 with 1 Axes>","content_type":"text/plain"}}},"children":[],"key":"Hjd4Sx3fV0"}],"key":"IoVAIX3M77"}],"key":"kqw0hzeZC1"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot First and Second Derivatives","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"b6DeDx7jvz"}],"identifier":"plot-first-and-second-derivatives","label":"Plot First and Second Derivatives","html_id":"plot-first-and-second-derivatives","implicit":true,"key":"ZgJWyzuUxw"}],"key":"f4vHuAjMxv"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:29.788058Z","iopub.status.busy":"2024-10-21T11:07:29.782957Z","iopub.status.idle":"2024-10-21T11:07:29.922057Z","shell.execute_reply":"2024-10-21T11:07:29.843798Z","shell.execute_reply.started":"2024-10-21T11:07:29.788034Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_mean_first_derivative = meal_features_matrix[:, 4] # Fourth column\nY_mean_first_derivative_peaks, _ = find_peaks(Y_mean_first_derivative, height=None)\n\nY_mean_first_derivative_times = X[Y_mean_first_derivative_peaks]\nY_mean_first_derivative_values = Y_mean_first_derivative[Y_mean_first_derivative_peaks]\n\nwindow_size = 3\nY_mean_first_derivative_peaks_moving_avg = \\\n    np.convolve(\n        Y_mean_first_derivative_values,\n        np.ones(window_size)/window_size, mode='valid'\n    )","key":"pRyfJyiA6s"},{"type":"outputs","id":"j1aCaQsu1oIsuOBdmYiFo","children":[],"key":"ymj6K7FWbo"}],"key":"JtoG3MmxGL"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:29.954651Z","iopub.status.busy":"2024-10-21T11:07:29.943014Z","iopub.status.idle":"2024-10-21T11:07:30.161133Z","shell.execute_reply":"2024-10-21T11:07:30.113032Z","shell.execute_reply.started":"2024-10-21T11:07:29.954615Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_mean_2nd_derivative = meal_features_matrix[:, 5] # Fourth column\nY_mean_2nd_derivative_peaks, _ = find_peaks(Y_mean_2nd_derivative, height=None)\n\nY_mean_2nd_derivative_times = X[Y_mean_2nd_derivative_peaks]\nY_mean_2nd_derivative_values = Y_mean_2nd_derivative[Y_mean_2nd_derivative_peaks]\n\nwindow_size = 3\nY_mean_2nd_derivative_peaks_moving_avg = \\\n    np.convolve(\n        Y_mean_2nd_derivative_values,\n        np.ones(window_size)/window_size, mode='valid'\n    )","key":"W6Ee1VnP8H"},{"type":"outputs","id":"SYECfaSdDBG6Dw3pZVDn5","children":[],"key":"vo3RjqTpsj"}],"key":"lnglgU98I0"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:30.196942Z","iopub.status.busy":"2024-10-21T11:07:30.172025Z","iopub.status.idle":"2024-10-21T11:07:31.271520Z","shell.execute_reply":"2024-10-21T11:07:31.269964Z","shell.execute_reply.started":"2024-10-21T11:07:30.196901Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the plot\nfig = plt.figure(figsize=(18, 6))\nax = fig.add_subplot(111)\nstride = 5\n\n# Plot the features\n#ax.plot(X[::stride], Y_max[::stride], 'x', label='Max', color='red')\n#ax.plot(\n#    Y_max_peaks_times[:len(Y_max_peaks_moving_avg)], \n#    Y_max_peaks_moving_avg, \n#    color='red', \n#    label='Moving Average of Max', \n#    linewidth=2)\n\n#ax.plot(X[::stride], Y_mean[::stride], label='Mean', color='blue')\nax.plot(\n    Y_mean_peaks_times[:len(Y_mean_peaks_moving_avg)], \n    Y_mean_peaks_moving_avg, \n    color='blue', \n    label='Moving Average of Mean', \n    linewidth=2\n)\n\n#ax.plot(X[::stride], Y_min[::stride], 'x', label='Min')\n#ax.plot(Y_min_peaks_times[:len(Y_min_peaks_moving_avg)], Y_min_peaks_moving_avg, color='green', label='Moving Average of Min', linewidth=2)\n\n#ax.plot(X[::stride], Y_std[::stride], label='Std Dev')\n\nax.plot(\n    Y_mean_first_derivative_times[:len(Y_mean_first_derivative_peaks_moving_avg)],\n    Y_mean_first_derivative_peaks_moving_avg*100,\n    color='orange',\n    label=r'First Derivative $\\times 100$',\n    linewidth=2\n)\n\nax.plot(\n    Y_mean_2nd_derivative_times[:len(Y_mean_2nd_derivative_peaks_moving_avg)],\n    Y_mean_2nd_derivative_peaks_moving_avg*2500,\n    color='green',\n    label=r'Second Derivative $\\times 2500$',\n    linewidth=2\n)\n\nax.set_title('Glucose Level Features vs Data Row Number')\nax.set_xlabel('Data Row Number [arbitrary] ')\nax.set_ylabel('Glucose Level [mg/dL]')\n\n#ax.set_xticks(np.linspace(0, 1000, 11))\n#ax.set_yticks(np.linspace(0, 400, 7))\n#ax.set_xlim(-50, 1000)\n#ax.set_ylim(0, 420)\n\n#ax.text(300, 380, f'Viewing every {stride} rows')\n\n# Adjust axis limits to create a zoom-out effect\n#ax.set_xlim(-30, 120)\n#ax.set_ylim(0, 800)\n\n#plt.tight_layout()\n\nplt.legend()\n\nplt.show()","key":"OM4Ciluc5S"},{"type":"outputs","id":"maRFt6f9RyZNBIPnSxahm","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"d893bad643ecbad09dc4a751c436cb24","path":"/d893bad643ecbad09dc4a751c436cb24.png"},"text/plain":{"content":"<Figure size 1800x600 with 1 Axes>","content_type":"text/plain"}}},"children":[],"key":"CghYCG6RMi"}],"key":"u5LBRfGnPH"}],"key":"rYv2cTHIhx"},{"type":"block","kind":"notebook-content","data":{"execution":{"iopub.execute_input":"2024-10-20T00:40:40.206030Z","iopub.status.busy":"2024-10-20T00:40:40.205617Z","iopub.status.idle":"2024-10-20T00:40:40.221052Z","shell.execute_reply":"2024-10-20T00:40:40.214894Z","shell.execute_reply.started":"2024-10-20T00:40:40.205996Z"}},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Pairwise Plot of Meal Features Matrix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ynTVSsW7xH"}],"identifier":"pairwise-plot-of-meal-features-matrix","label":"Pairwise Plot of Meal Features Matrix","html_id":"pairwise-plot-of-meal-features-matrix","implicit":true,"key":"uELeCTF9Oz"}],"key":"S0lldi4RVU"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:31.276998Z","iopub.status.busy":"2024-10-21T11:07:31.276829Z","iopub.status.idle":"2024-10-21T11:07:46.449305Z","shell.execute_reply":"2024-10-21T11:07:46.446752Z","shell.execute_reply.started":"2024-10-21T11:07:31.276982Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Generate column labels for the features\nfeature_columns = [f'Feature_{i+1}' for i in range(meal_features_matrix.shape[1])]\n\n# Convert the feature matrix to a Pandas DataFrame\ndf = pd.DataFrame(meal_features_matrix, columns=feature_columns)\n\n# Create a pairwise plot using Seaborn\nplt.figure(figsize=(15, 15))  # Adjust figure size as needed\nsns.pairplot(df, diag_kind='hist', plot_kws={'alpha': 0.5, 's': 40})\n\nplt.suptitle('Pairwise Plot of Meal Features Matrix', y=1.02, fontsize=30)\n\n# Show the plot\nplt.show()","key":"L4oARrDP9n"},{"type":"outputs","id":"icZgQz3A7Aqs3mitynZT0","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1500x1500 with 0 Axes>","content_type":"text/plain"}}},"children":[],"key":"DbPwEtORTp"},{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"f62ec84e21461b12e74a7631bac6bc54","path":"/f62ec84e21461b12e74a7631bac6bc54.png"},"text/plain":{"content":"<Figure size 2000x2000 with 72 Axes>","content_type":"text/plain"}}},"children":[],"key":"zC29FoTseP"}],"key":"KbpYfCFFwX"}],"key":"RezKnQP96p"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize The No Meal Features Matrix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"J8Uy0Fw5Od"}],"identifier":"visualize-the-no-meal-features-matrix","label":"Visualize The No Meal Features Matrix","html_id":"visualize-the-no-meal-features-matrix","implicit":true,"key":"X484uYiVfT"}],"key":"Y61rCiBzsa"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Normalize The Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"fOymCsjnZM"}],"identifier":"normalize-the-data","label":"Normalize The Data","html_id":"normalize-the-data-1","implicit":true,"key":"yKP9LjNZXD"}],"key":"zv9vGNyDp4"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.450681Z","iopub.status.busy":"2024-10-21T11:07:46.450228Z","iopub.status.idle":"2024-10-21T11:07:46.461954Z","shell.execute_reply":"2024-10-21T11:07:46.460856Z","shell.execute_reply.started":"2024-10-21T11:07:46.450655Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"scaler = StandardScaler()\nscaled_meal_features_matrix = scaler.fit_transform(meal_features_matrix)\nscaled_no_meal_features_matrix = scaler.fit_transform(no_meal_features_matrix)","key":"fNFVeehPVt"},{"type":"outputs","id":"uKbYcY3ujD_5hs9ecbL_s","children":[],"key":"VEzByWdgTt"}],"key":"M0QMRp0ZWe"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.462993Z","iopub.status.busy":"2024-10-21T11:07:46.462702Z","iopub.status.idle":"2024-10-21T11:07:46.484452Z","shell.execute_reply":"2024-10-21T11:07:46.483593Z","shell.execute_reply.started":"2024-10-21T11:07:46.462968Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"scaled_meal_features_matrix[0]","key":"Vqqp8ZYKTa"},{"type":"outputs","id":"MBDVNa-yE0uE8h-Eht4eY","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":152,"metadata":{},"data":{"text/plain":{"content":"array([-1.43931653, -0.6890434 , -1.43186426, -1.35409331, -0.73789252,\n       -0.2568468 , -1.42698567, -0.72547238])","content_type":"text/plain"}}},"children":[],"key":"VLlQdnem0L"}],"key":"df7ed3Qhey"}],"key":"ezsNWynIwC"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.486104Z","iopub.status.busy":"2024-10-21T11:07:46.485009Z","iopub.status.idle":"2024-10-21T11:07:46.503861Z","shell.execute_reply":"2024-10-21T11:07:46.502820Z","shell.execute_reply.started":"2024-10-21T11:07:46.486074Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"scaled_no_meal_features_matrix[0]","key":"Gdx590XecH"},{"type":"outputs","id":"0PHi9xhK6B45cRvhyKqI7","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":153,"metadata":{},"data":{"text/plain":{"content":"array([-1.24861858, -0.24758492, -1.16121642, -1.39218291, -0.66468096,\n        1.06439767, -1.24077771, -0.41467362])","content_type":"text/plain"}}},"children":[],"key":"vXerxFbhnl"}],"key":"Byn8yiS6ZP"}],"key":"Z0FLM860ku"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot Features for all Rows","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"So87ghItNJ"}],"identifier":"plot-features-for-all-rows","label":"Plot Features for all Rows","html_id":"plot-features-for-all-rows-1","implicit":true,"key":"YgbFzhcRIX"}],"key":"GHAmPjvaKQ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.508785Z","iopub.status.busy":"2024-10-21T11:07:46.504644Z","iopub.status.idle":"2024-10-21T11:07:46.521675Z","shell.execute_reply":"2024-10-21T11:07:46.520970Z","shell.execute_reply.started":"2024-10-21T11:07:46.508766Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"no_meal_features_matrix.shape[0]","key":"iDFHLFU6IE"},{"type":"outputs","id":"wngrYLLjnTArv_PUr8t-u","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":154,"metadata":{},"data":{"text/plain":{"content":"752","content_type":"text/plain"}}},"children":[],"key":"BoROixm3kf"}],"key":"TC1OYiFJfp"}],"key":"YUFx1ZeboA"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.522522Z","iopub.status.busy":"2024-10-21T11:07:46.522273Z","iopub.status.idle":"2024-10-21T11:07:46.533195Z","shell.execute_reply":"2024-10-21T11:07:46.532417Z","shell.execute_reply.started":"2024-10-21T11:07:46.522506Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X = np.arange(\n        start=0,\n        stop=no_meal_features_matrix.shape[0]\n    )","key":"oCb56KuZpn"},{"type":"outputs","id":"1OvMteTv1sYXMZymeodsC","children":[],"key":"fPbNiblfnS"}],"key":"wSSaJvZ8Sw"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":4,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Plot Max, Mean, Min, and Std Dev for All Rows","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"jSEBOh6LKy"}],"identifier":"plot-max-mean-min-and-std-dev-for-all-rows","label":"Plot Max, Mean, Min, and Std Dev for All Rows","html_id":"plot-max-mean-min-and-std-dev-for-all-rows-1","implicit":true,"key":"fNjSOUAdoV"}],"key":"kxEjEPdFvo"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.534324Z","iopub.status.busy":"2024-10-21T11:07:46.534069Z","iopub.status.idle":"2024-10-21T11:07:46.555802Z","shell.execute_reply":"2024-10-21T11:07:46.554776Z","shell.execute_reply.started":"2024-10-21T11:07:46.534307Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_mean = no_meal_features_matrix[:, 0] # First column\nY_mean_peaks, _ = find_peaks(Y_mean, height=20)\n\nY_mean_peaks_times = X[Y_mean_peaks]\nY_mean_peaks_values = Y_mean[Y_mean_peaks]\n\nwindow_size = 3\nY_mean_peaks_moving_avg = np.convolve(Y_mean_peaks_values, np.ones(window_size)/window_size, mode='valid')","key":"wkmPoplPCV"},{"type":"outputs","id":"rj36tVHHBnLLU1I0qBG0m","children":[],"key":"HWi964eF2H"}],"key":"cu7AzZm2py"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.557412Z","iopub.status.busy":"2024-10-21T11:07:46.556533Z","iopub.status.idle":"2024-10-21T11:07:46.568479Z","shell.execute_reply":"2024-10-21T11:07:46.567678Z","shell.execute_reply.started":"2024-10-21T11:07:46.557394Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_std = no_meal_features_matrix[:, 1] # Second column","key":"n7GYBQKluo"},{"type":"outputs","id":"2P2E2WhhsltISHfSPgUZC","children":[],"key":"XAZlbjb0Tj"}],"key":"m4pfWA3qxB"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.569488Z","iopub.status.busy":"2024-10-21T11:07:46.569214Z","iopub.status.idle":"2024-10-21T11:07:46.633671Z","shell.execute_reply":"2024-10-21T11:07:46.631164Z","shell.execute_reply.started":"2024-10-21T11:07:46.569471Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_max = no_meal_features_matrix[:, 2] # Third column\nY_max_peaks, _ = find_peaks(Y_max, height=20)\n\nY_max_peaks_times = X[Y_max_peaks]\nY_max_peaks_values = Y_max[Y_max_peaks]\n\nwindow_size = 3\nY_max_peaks_moving_avg = np.convolve(Y_max_peaks_values, np.ones(window_size)/window_size, mode='valid')","key":"BWMkhenhUS"},{"type":"outputs","id":"7c0tY0NaSmMxiLemSBUYu","children":[],"key":"a5R4KKUUTn"}],"key":"h7S7Fw8RAy"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.634850Z","iopub.status.busy":"2024-10-21T11:07:46.634436Z","iopub.status.idle":"2024-10-21T11:07:46.650659Z","shell.execute_reply":"2024-10-21T11:07:46.646814Z","shell.execute_reply.started":"2024-10-21T11:07:46.634833Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_max_peaks_times.shape","key":"eWIIif0tQj"},{"type":"outputs","id":"SdqzXbpArehKAckkM5M9W","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":159,"metadata":{},"data":{"text/plain":{"content":"(238,)","content_type":"text/plain"}}},"children":[],"key":"ZYKID9BsxI"}],"key":"eNVgKPwofQ"}],"key":"ccYixTL6UE"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.651906Z","iopub.status.busy":"2024-10-21T11:07:46.651742Z","iopub.status.idle":"2024-10-21T11:07:46.659550Z","shell.execute_reply":"2024-10-21T11:07:46.658800Z","shell.execute_reply.started":"2024-10-21T11:07:46.651891Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_max_peaks_moving_avg.shape","key":"pDkha4AXNM"},{"type":"outputs","id":"S2M9NwxUC_1RAax9Rf5xR","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":160,"metadata":{},"data":{"text/plain":{"content":"(236,)","content_type":"text/plain"}}},"children":[],"key":"UeHbIblRKT"}],"key":"w3F763HsOC"}],"key":"W4p42nXUqq"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.665840Z","iopub.status.busy":"2024-10-21T11:07:46.665622Z","iopub.status.idle":"2024-10-21T11:07:46.681346Z","shell.execute_reply":"2024-10-21T11:07:46.680378Z","shell.execute_reply.started":"2024-10-21T11:07:46.665825Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_min = no_meal_features_matrix[:, 3] # Fourth column\nY_min_peaks, _ = find_peaks(Y_min, height=20)\n\nY_min_peaks_times = X[Y_min_peaks]\nY_min_peaks_values = Y_min[Y_min_peaks]\n\nwindow_size = 3\nY_min_peaks_moving_avg = np.convolve(Y_min_peaks_values, np.ones(window_size)/window_size, mode='valid')","key":"bGkOChhuoN"},{"type":"outputs","id":"pDXjIxfzxhd0RlQy9UZJI","children":[],"key":"O8SBP2DOip"}],"key":"GDqZQ6THLK"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.687162Z","iopub.status.busy":"2024-10-21T11:07:46.686623Z","iopub.status.idle":"2024-10-21T11:07:46.717999Z","shell.execute_reply":"2024-10-21T11:07:46.701672Z","shell.execute_reply.started":"2024-10-21T11:07:46.687050Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"Y_min_peaks_moving_avg.shape","key":"qlsTuApNBW"},{"type":"outputs","id":"NdKfdZb9tQv0Br5IIuFxJ","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":162,"metadata":{},"data":{"text/plain":{"content":"(238,)","content_type":"text/plain"}}},"children":[],"key":"rVY8jTptgx"}],"key":"ix9y7eAcAr"}],"key":"mRt9QS4Hbt"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:46.738753Z","iopub.status.busy":"2024-10-21T11:07:46.723697Z","iopub.status.idle":"2024-10-21T11:07:47.243088Z","shell.execute_reply":"2024-10-21T11:07:47.215932Z","shell.execute_reply.started":"2024-10-21T11:07:46.738723Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Create the plot\nfig = plt.figure(figsize=(18, 6))\nax = fig.add_subplot(111)\nstride = 5\n\n# Plot the features\n#ax.plot(X[::stride], Y_max[::stride], 'x', label='Max', color='red')\nax.plot(Y_max_peaks_times[:len(Y_max_peaks_moving_avg)], Y_max_peaks_moving_avg, color='red', label='Moving Average of Max', linewidth=2)\n\n#ax.plot(X[::stride], Y_mean[::stride], label='Mean', color='blue')\nax.plot(Y_mean_peaks_times[:len(Y_mean_peaks_moving_avg)], Y_mean_peaks_moving_avg, color='blue', label='Moving Average of Mean', linewidth=2)\n\n#ax.plot(X[::stride], Y_min[::stride], 'x', label='Min')\nax.plot(Y_min_peaks_times[:len(Y_min_peaks_moving_avg)], Y_min_peaks_moving_avg, color='green', label='Moving Average of Min', linewidth=2)\n\nax.plot(X[::stride], Y_std[::stride], label='Std Dev')\n\nax.set_title('No Meal Glucose Level Features vs Data Row Number', fontsize=20)\nax.set_xlabel('Data Row Number [arbitrary] ', fontsize=16)\nax.set_ylabel('Glucose Level [mg/dL]', fontsize=16)\n\nax.set_xticks(np.linspace(0, 800, 11))\nax.set_yticks(np.linspace(0, 400, 7))\nax.set_xlim(-50, 800)\nax.set_ylim(0, 420)\n\n#ax.text(300, 380, f'Viewing every {stride} rows')\n\n# Adjust axis limits to create a zoom-out effect\n#ax.set_xlim(-30, 120)\n#ax.set_ylim(0, 800)\n\n#plt.tight_layout()\n\nplt.legend()\n\nplt.show()","key":"ml81ewU6zJ"},{"type":"outputs","id":"L0ahHlm24BFvGVLjmX8Zt","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"adf7d67e6568598c773363d6a6979d27","path":"/adf7d67e6568598c773363d6a6979d27.png"},"text/plain":{"content":"<Figure size 1800x600 with 1 Axes>","content_type":"text/plain"}}},"children":[],"key":"k26KtUoGIr"}],"key":"BvIdtQ26un"}],"key":"twm5eUnX42"},{"type":"block","kind":"notebook-content","data":{"execution":{"iopub.execute_input":"2024-10-20T00:40:40.206030Z","iopub.status.busy":"2024-10-20T00:40:40.205617Z","iopub.status.idle":"2024-10-20T00:40:40.221052Z","shell.execute_reply":"2024-10-20T00:40:40.214894Z","shell.execute_reply.started":"2024-10-20T00:40:40.205996Z"}},"children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Pairwise Plot of No Meal Features Matrix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"WraqhQHIIt"}],"identifier":"pairwise-plot-of-no-meal-features-matrix","label":"Pairwise Plot of No Meal Features Matrix","html_id":"pairwise-plot-of-no-meal-features-matrix","implicit":true,"key":"LDAtdEXhos"}],"key":"SRx9dpJTux"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:47.251909Z","iopub.status.busy":"2024-10-21T11:07:47.251673Z","iopub.status.idle":"2024-10-21T11:07:59.582416Z","shell.execute_reply":"2024-10-21T11:07:59.581629Z","shell.execute_reply.started":"2024-10-21T11:07:47.251892Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Generate column labels for the features\nfeature_columns = [f'Feature_{i+1}' for i in range(meal_features_matrix.shape[1])]\n\n# Convert the feature matrix to a Pandas DataFrame\ndf = pd.DataFrame(no_meal_features_matrix, columns=feature_columns)\n\n# Create a pairwise plot using Seaborn\nplt.figure(figsize=(15, 15))  # Adjust figure size as needed\nsns.pairplot(df, diag_kind='hist', plot_kws={'alpha': 0.5, 's': 40})\n\nplt.suptitle('Pairwise Plot of No Meal Features Matrix', y=1.02, fontsize=30)\n\n# Show the plot\nplt.show()","key":"KgUciAPwvu"},{"type":"outputs","id":"HowJvYn0-wmbXnm2Xa5uj","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"text/plain":{"content":"<Figure size 1500x1500 with 0 Axes>","content_type":"text/plain"}}},"children":[],"key":"W9SKzCUFsc"},{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"fdede4157f769963ff3d36f16540e6ad","path":"/fdede4157f769963ff3d36f16540e6ad.png"},"text/plain":{"content":"<Figure size 2000x2000 with 72 Axes>","content_type":"text/plain"}}},"children":[],"key":"Tep6C9Oqs2"}],"key":"CxHJ9WmfQt"}],"key":"wdnq57sUbu"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Concatenate Feature Matrices and Add Class Labels","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"k6BZDG0EiE"}],"identifier":"concatenate-feature-matrices-and-add-class-labels","label":"Concatenate Feature Matrices and Add Class Labels","html_id":"concatenate-feature-matrices-and-add-class-labels","implicit":true,"key":"o6DvsaORK9"}],"key":"MkArkO9amE"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:59.583823Z","iopub.status.busy":"2024-10-21T11:07:59.583398Z","iopub.status.idle":"2024-10-21T11:07:59.591045Z","shell.execute_reply":"2024-10-21T11:07:59.589668Z","shell.execute_reply.started":"2024-10-21T11:07:59.583805Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_labels = np.ones((meal_features_matrix.shape[0], 1))\nlen(meal_labels)","key":"UclCEfnql6"},{"type":"outputs","id":"QmOP4cF1pNMLmJpZwENQ6","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":165,"metadata":{},"data":{"text/plain":{"content":"944","content_type":"text/plain"}}},"children":[],"key":"wfb0QDARoX"}],"key":"cijNRhbCEG"}],"key":"hU5GuNAxIQ"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:59.592389Z","iopub.status.busy":"2024-10-21T11:07:59.592075Z","iopub.status.idle":"2024-10-21T11:07:59.615951Z","shell.execute_reply":"2024-10-21T11:07:59.614735Z","shell.execute_reply.started":"2024-10-21T11:07:59.592369Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"meal_features_matrix_with_labels = \\\n    np.hstack((meal_features_matrix, meal_labels))\n#meal_features_matrix_with_labels[1]","key":"gZUfoJmtst"},{"type":"outputs","id":"jqJ1oEMzEzA94_RDRDAey","children":[],"key":"lHEuNvGZBA"}],"key":"CWbq2cVPta"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:59.617549Z","iopub.status.busy":"2024-10-21T11:07:59.616607Z","iopub.status.idle":"2024-10-21T11:07:59.743785Z","shell.execute_reply":"2024-10-21T11:07:59.676210Z","shell.execute_reply.started":"2024-10-21T11:07:59.617530Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"no_meal_labels = np.zeros((no_meal_features_matrix.shape[0], 1))\nlen(no_meal_labels)","key":"nITNmwdag4"},{"type":"outputs","id":"hEou3wrAzlPrPT9_UKsKj","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":167,"metadata":{},"data":{"text/plain":{"content":"752","content_type":"text/plain"}}},"children":[],"key":"Yw53mdazlb"}],"key":"GzSbR85nVM"}],"key":"hYK9fbXm9s"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:59.755731Z","iopub.status.busy":"2024-10-21T11:07:59.755489Z","iopub.status.idle":"2024-10-21T11:07:59.800043Z","shell.execute_reply":"2024-10-21T11:07:59.797256Z","shell.execute_reply.started":"2024-10-21T11:07:59.755715Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"no_meal_features_matrix_with_labels = \\\n    np.hstack((no_meal_features_matrix, no_meal_labels))\n#no_meal_features_matrix_with_labels[1]","key":"lMW8Wcts0k"},{"type":"outputs","id":"XpPD1VXViI2KBpOf2NZVj","children":[],"key":"G6RcLYyyfa"}],"key":"swtqRRdEgE"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:07:59.801191Z","iopub.status.busy":"2024-10-21T11:07:59.800992Z","iopub.status.idle":"2024-10-21T11:08:00.169537Z","shell.execute_reply":"2024-10-21T11:08:00.119235Z","shell.execute_reply.started":"2024-10-21T11:07:59.801173Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"concat_features = \\\n    np.vstack((meal_features_matrix_with_labels, no_meal_features_matrix_with_labels))\nlen(concat_features)","key":"Y4nSBlarqZ"},{"type":"outputs","id":"1FGpu1o6w2_V6VOyTiQ5y","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":169,"metadata":{},"data":{"text/plain":{"content":"1696","content_type":"text/plain"}}},"children":[],"key":"BSlp2DWafB"}],"key":"LAmV4eCHDq"}],"key":"AVoIIBoVEy"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Train Support Vector Machine","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"TGLDygcPm9"}],"identifier":"train-support-vector-machine","label":"Train Support Vector Machine","html_id":"train-support-vector-machine","implicit":true,"key":"QSF5n6chki"}],"key":"sueaiyu6mo"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Use Standard Variable Names for Features and Class Label","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"GHujdqA4LL"}],"identifier":"use-standard-variable-names-for-features-and-class-label","label":"Use Standard Variable Names for Features and Class Label","html_id":"use-standard-variable-names-for-features-and-class-label","implicit":true,"key":"mugWCVGiTc"}],"key":"E5xX69ywUt"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:00.220378Z","iopub.status.busy":"2024-10-21T11:08:00.214585Z","iopub.status.idle":"2024-10-21T11:08:00.377273Z","shell.execute_reply":"2024-10-21T11:08:00.307775Z","shell.execute_reply.started":"2024-10-21T11:08:00.220347Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X = concat_features[:, :-1]\ny = concat_features[:, -1]","key":"R3haT5m3um"},{"type":"outputs","id":"TbFXqIlmuzBGEYUhZj9p8","children":[],"key":"lAhBkWKNTo"}],"key":"h9fqmx07kj"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:00.382898Z","iopub.status.busy":"2024-10-21T11:08:00.382692Z","iopub.status.idle":"2024-10-21T11:08:00.747665Z","shell.execute_reply":"2024-10-21T11:08:00.671442Z","shell.execute_reply.started":"2024-10-21T11:08:00.382882Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X[0]","key":"OgdychaNlP"},{"type":"outputs","id":"gto--LL_y214VNLNdRq31","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":171,"metadata":{},"data":{"text/plain":{"content":"array([ 8.98190476e+01,  1.91175360e+01,  1.31000000e+02,  4.90000000e+01,\n       -2.82758621e-01, -4.28571429e-03,  1.30310714e+04,  9.00000000e+00])","content_type":"text/plain"}}},"children":[],"key":"ryPm84dEbf"}],"key":"XtQSQAeDZF"}],"key":"ZNgJIFIikk"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:00.767068Z","iopub.status.busy":"2024-10-21T11:08:00.766840Z","iopub.status.idle":"2024-10-21T11:08:00.914799Z","shell.execute_reply":"2024-10-21T11:08:00.912693Z","shell.execute_reply.started":"2024-10-21T11:08:00.767051Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"y[0]","key":"xSf7Y9gqBT"},{"type":"outputs","id":"OOyNHXCoJVZgP4-Pt0jfQ","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":172,"metadata":{},"data":{"text/plain":{"content":"np.float64(1.0)","content_type":"text/plain"}}},"children":[],"key":"RuOQ5t7PZ4"}],"key":"auFe54wWRV"}],"key":"x5Tsk3J5MF"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Train / Test Split","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Xv57Z3qfvf"}],"identifier":"train-test-split","label":"Train / Test Split","html_id":"train-test-split","implicit":true,"key":"BZjHk1qI1d"}],"key":"ZFEeeh3Wht"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:00.920115Z","iopub.status.busy":"2024-10-21T11:08:00.915948Z","iopub.status.idle":"2024-10-21T11:08:01.139500Z","shell.execute_reply":"2024-10-21T11:08:01.138868Z","shell.execute_reply.started":"2024-10-21T11:08:00.920090Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"X_train, X_test, y_train, y_test = \\\n    train_test_split(X, y, test_size = 0.2, random_state=40)","key":"N74F8wxFO1"},{"type":"outputs","id":"oovPYKt-Iz6h8tZh7R3Rf","children":[],"key":"kq1qS0Ww1h"}],"key":"V5tZSPCi8S"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Normalize The Data","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"sQm9pP581l"}],"identifier":"normalize-the-data","label":"Normalize The Data","html_id":"normalize-the-data-2","implicit":true,"key":"wuiwkUmQaG"}],"key":"JuiFuQayEs"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:01.148153Z","iopub.status.busy":"2024-10-21T11:08:01.147852Z","iopub.status.idle":"2024-10-21T11:08:01.391824Z","shell.execute_reply":"2024-10-21T11:08:01.391116Z","shell.execute_reply.started":"2024-10-21T11:08:01.148136Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"scaler = StandardScaler()\nX_train_scaled = scaler.fit_transform(X_train)\nX_test_scaled = scaler.fit_transform(X_test)","key":"OOPBm3Ha5E"},{"type":"outputs","id":"rxpaZ7wwc4Hg__zrzSFb6","children":[],"key":"K9iWyt7F92"}],"key":"X5mDAH35nC"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Train SVM Model","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"lZKyivhEkC"}],"identifier":"train-svm-model","label":"Train SVM Model","html_id":"train-svm-model","implicit":true,"key":"tlh5AdHFAZ"}],"key":"a5S9t2NiJT"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:01.405838Z","iopub.status.busy":"2024-10-21T11:08:01.405609Z","iopub.status.idle":"2024-10-21T11:08:01.726628Z","shell.execute_reply":"2024-10-21T11:08:01.726055Z","shell.execute_reply.started":"2024-10-21T11:08:01.405823Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"svm_model = SVC(kernel='linear', C=0.1)\nsvm_model.fit(X_train_scaled, y_train)","key":"aXP4Had6sh"},{"type":"outputs","id":"rTtX457yQpxXoLBZs_uAq","children":[{"type":"output","jupyter_data":{"output_type":"execute_result","execution_count":175,"metadata":{},"data":{"text/html":{"content":"<style>#sk-container-id-1 {\n  /* Definition of color scheme common for light and dark mode */\n  --sklearn-color-text: black;\n  --sklearn-color-line: gray;\n  /* Definition of color scheme for unfitted estimators */\n  --sklearn-color-unfitted-level-0: #fff5e6;\n  --sklearn-color-unfitted-level-1: #f6e4d2;\n  --sklearn-color-unfitted-level-2: #ffe0b3;\n  --sklearn-color-unfitted-level-3: chocolate;\n  /* Definition of color scheme for fitted estimators */\n  --sklearn-color-fitted-level-0: #f0f8ff;\n  --sklearn-color-fitted-level-1: #d4ebff;\n  --sklearn-color-fitted-level-2: #b3dbfd;\n  --sklearn-color-fitted-level-3: cornflowerblue;\n\n  /* Specific color for light theme */\n  --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));\n  --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, white)));\n  --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, black)));\n  --sklearn-color-icon: #696969;\n\n  @media (prefers-color-scheme: dark) {\n    /* Redefinition of color scheme for dark theme */\n    --sklearn-color-text-on-default-background: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));\n    --sklearn-color-background: var(--sg-background-color, var(--theme-background, var(--jp-layout-color0, #111)));\n    --sklearn-color-border-box: var(--sg-text-color, var(--theme-code-foreground, var(--jp-content-font-color1, white)));\n    --sklearn-color-icon: #878787;\n  }\n}\n\n#sk-container-id-1 {\n  color: var(--sklearn-color-text);\n}\n\n#sk-container-id-1 pre {\n  padding: 0;\n}\n\n#sk-container-id-1 input.sk-hidden--visually {\n  border: 0;\n  clip: rect(1px 1px 1px 1px);\n  clip: rect(1px, 1px, 1px, 1px);\n  height: 1px;\n  margin: -1px;\n  overflow: hidden;\n  padding: 0;\n  position: absolute;\n  width: 1px;\n}\n\n#sk-container-id-1 div.sk-dashed-wrapped {\n  border: 1px dashed var(--sklearn-color-line);\n  margin: 0 0.4em 0.5em 0.4em;\n  box-sizing: border-box;\n  padding-bottom: 0.4em;\n  background-color: var(--sklearn-color-background);\n}\n\n#sk-container-id-1 div.sk-container {\n  /* jupyter's `normalize.less` sets `[hidden] { display: none; }`\n     but bootstrap.min.css set `[hidden] { display: none !important; }`\n     so we also need the `!important` here to be able to override the\n     default hidden behavior on the sphinx rendered scikit-learn.org.\n     See: https://github.com/scikit-learn/scikit-learn/issues/21755 */\n  display: inline-block !important;\n  position: relative;\n}\n\n#sk-container-id-1 div.sk-text-repr-fallback {\n  display: none;\n}\n\ndiv.sk-parallel-item,\ndiv.sk-serial,\ndiv.sk-item {\n  /* draw centered vertical line to link estimators */\n  background-image: linear-gradient(var(--sklearn-color-text-on-default-background), var(--sklearn-color-text-on-default-background));\n  background-size: 2px 100%;\n  background-repeat: no-repeat;\n  background-position: center center;\n}\n\n/* Parallel-specific style estimator block */\n\n#sk-container-id-1 div.sk-parallel-item::after {\n  content: \"\";\n  width: 100%;\n  border-bottom: 2px solid var(--sklearn-color-text-on-default-background);\n  flex-grow: 1;\n}\n\n#sk-container-id-1 div.sk-parallel {\n  display: flex;\n  align-items: stretch;\n  justify-content: center;\n  background-color: var(--sklearn-color-background);\n  position: relative;\n}\n\n#sk-container-id-1 div.sk-parallel-item {\n  display: flex;\n  flex-direction: column;\n}\n\n#sk-container-id-1 div.sk-parallel-item:first-child::after {\n  align-self: flex-end;\n  width: 50%;\n}\n\n#sk-container-id-1 div.sk-parallel-item:last-child::after {\n  align-self: flex-start;\n  width: 50%;\n}\n\n#sk-container-id-1 div.sk-parallel-item:only-child::after {\n  width: 0;\n}\n\n/* Serial-specific style estimator block */\n\n#sk-container-id-1 div.sk-serial {\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  background-color: var(--sklearn-color-background);\n  padding-right: 1em;\n  padding-left: 1em;\n}\n\n\n/* Toggleable style: style used for estimator/Pipeline/ColumnTransformer box that is\nclickable and can be expanded/collapsed.\n- Pipeline and ColumnTransformer use this feature and define the default style\n- Estimators will overwrite some part of the style using the `sk-estimator` class\n*/\n\n/* Pipeline and ColumnTransformer style (default) */\n\n#sk-container-id-1 div.sk-toggleable {\n  /* Default theme specific background. It is overwritten whether we have a\n  specific estimator or a Pipeline/ColumnTransformer */\n  background-color: var(--sklearn-color-background);\n}\n\n/* Toggleable label */\n#sk-container-id-1 label.sk-toggleable__label {\n  cursor: pointer;\n  display: block;\n  width: 100%;\n  margin-bottom: 0;\n  padding: 0.5em;\n  box-sizing: border-box;\n  text-align: center;\n}\n\n#sk-container-id-1 label.sk-toggleable__label-arrow:before {\n  /* Arrow on the left of the label */\n  content: \"▸\";\n  float: left;\n  margin-right: 0.25em;\n  color: var(--sklearn-color-icon);\n}\n\n#sk-container-id-1 label.sk-toggleable__label-arrow:hover:before {\n  color: var(--sklearn-color-text);\n}\n\n/* Toggleable content - dropdown */\n\n#sk-container-id-1 div.sk-toggleable__content {\n  max-height: 0;\n  max-width: 0;\n  overflow: hidden;\n  text-align: left;\n  /* unfitted */\n  background-color: var(--sklearn-color-unfitted-level-0);\n}\n\n#sk-container-id-1 div.sk-toggleable__content.fitted {\n  /* fitted */\n  background-color: var(--sklearn-color-fitted-level-0);\n}\n\n#sk-container-id-1 div.sk-toggleable__content pre {\n  margin: 0.2em;\n  border-radius: 0.25em;\n  color: var(--sklearn-color-text);\n  /* unfitted */\n  background-color: var(--sklearn-color-unfitted-level-0);\n}\n\n#sk-container-id-1 div.sk-toggleable__content.fitted pre {\n  /* unfitted */\n  background-color: var(--sklearn-color-fitted-level-0);\n}\n\n#sk-container-id-1 input.sk-toggleable__control:checked~div.sk-toggleable__content {\n  /* Expand drop-down */\n  max-height: 200px;\n  max-width: 100%;\n  overflow: auto;\n}\n\n#sk-container-id-1 input.sk-toggleable__control:checked~label.sk-toggleable__label-arrow:before {\n  content: \"▾\";\n}\n\n/* Pipeline/ColumnTransformer-specific style */\n\n#sk-container-id-1 div.sk-label input.sk-toggleable__control:checked~label.sk-toggleable__label {\n  color: var(--sklearn-color-text);\n  background-color: var(--sklearn-color-unfitted-level-2);\n}\n\n#sk-container-id-1 div.sk-label.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {\n  background-color: var(--sklearn-color-fitted-level-2);\n}\n\n/* Estimator-specific style */\n\n/* Colorize estimator box */\n#sk-container-id-1 div.sk-estimator input.sk-toggleable__control:checked~label.sk-toggleable__label {\n  /* unfitted */\n  background-color: var(--sklearn-color-unfitted-level-2);\n}\n\n#sk-container-id-1 div.sk-estimator.fitted input.sk-toggleable__control:checked~label.sk-toggleable__label {\n  /* fitted */\n  background-color: var(--sklearn-color-fitted-level-2);\n}\n\n#sk-container-id-1 div.sk-label label.sk-toggleable__label,\n#sk-container-id-1 div.sk-label label {\n  /* The background is the default theme color */\n  color: var(--sklearn-color-text-on-default-background);\n}\n\n/* On hover, darken the color of the background */\n#sk-container-id-1 div.sk-label:hover label.sk-toggleable__label {\n  color: var(--sklearn-color-text);\n  background-color: var(--sklearn-color-unfitted-level-2);\n}\n\n/* Label box, darken color on hover, fitted */\n#sk-container-id-1 div.sk-label.fitted:hover label.sk-toggleable__label.fitted {\n  color: var(--sklearn-color-text);\n  background-color: var(--sklearn-color-fitted-level-2);\n}\n\n/* Estimator label */\n\n#sk-container-id-1 div.sk-label label {\n  font-family: monospace;\n  font-weight: bold;\n  display: inline-block;\n  line-height: 1.2em;\n}\n\n#sk-container-id-1 div.sk-label-container {\n  text-align: center;\n}\n\n/* Estimator-specific */\n#sk-container-id-1 div.sk-estimator {\n  font-family: monospace;\n  border: 1px dotted var(--sklearn-color-border-box);\n  border-radius: 0.25em;\n  box-sizing: border-box;\n  margin-bottom: 0.5em;\n  /* unfitted */\n  background-color: var(--sklearn-color-unfitted-level-0);\n}\n\n#sk-container-id-1 div.sk-estimator.fitted {\n  /* fitted */\n  background-color: var(--sklearn-color-fitted-level-0);\n}\n\n/* on hover */\n#sk-container-id-1 div.sk-estimator:hover {\n  /* unfitted */\n  background-color: var(--sklearn-color-unfitted-level-2);\n}\n\n#sk-container-id-1 div.sk-estimator.fitted:hover {\n  /* fitted */\n  background-color: var(--sklearn-color-fitted-level-2);\n}\n\n/* Specification for estimator info (e.g. \"i\" and \"?\") */\n\n/* Common style for \"i\" and \"?\" */\n\n.sk-estimator-doc-link,\na:link.sk-estimator-doc-link,\na:visited.sk-estimator-doc-link {\n  float: right;\n  font-size: smaller;\n  line-height: 1em;\n  font-family: monospace;\n  background-color: var(--sklearn-color-background);\n  border-radius: 1em;\n  height: 1em;\n  width: 1em;\n  text-decoration: none !important;\n  margin-left: 1ex;\n  /* unfitted */\n  border: var(--sklearn-color-unfitted-level-1) 1pt solid;\n  color: var(--sklearn-color-unfitted-level-1);\n}\n\n.sk-estimator-doc-link.fitted,\na:link.sk-estimator-doc-link.fitted,\na:visited.sk-estimator-doc-link.fitted {\n  /* fitted */\n  border: var(--sklearn-color-fitted-level-1) 1pt solid;\n  color: var(--sklearn-color-fitted-level-1);\n}\n\n/* On hover */\ndiv.sk-estimator:hover .sk-estimator-doc-link:hover,\n.sk-estimator-doc-link:hover,\ndiv.sk-label-container:hover .sk-estimator-doc-link:hover,\n.sk-estimator-doc-link:hover {\n  /* unfitted */\n  background-color: var(--sklearn-color-unfitted-level-3);\n  color: var(--sklearn-color-background);\n  text-decoration: none;\n}\n\ndiv.sk-estimator.fitted:hover .sk-estimator-doc-link.fitted:hover,\n.sk-estimator-doc-link.fitted:hover,\ndiv.sk-label-container:hover .sk-estimator-doc-link.fitted:hover,\n.sk-estimator-doc-link.fitted:hover {\n  /* fitted */\n  background-color: var(--sklearn-color-fitted-level-3);\n  color: var(--sklearn-color-background);\n  text-decoration: none;\n}\n\n/* Span, style for the box shown on hovering the info icon */\n.sk-estimator-doc-link span {\n  display: none;\n  z-index: 9999;\n  position: relative;\n  font-weight: normal;\n  right: .2ex;\n  padding: .5ex;\n  margin: .5ex;\n  width: min-content;\n  min-width: 20ex;\n  max-width: 50ex;\n  color: var(--sklearn-color-text);\n  box-shadow: 2pt 2pt 4pt #999;\n  /* unfitted */\n  background: var(--sklearn-color-unfitted-level-0);\n  border: .5pt solid var(--sklearn-color-unfitted-level-3);\n}\n\n.sk-estimator-doc-link.fitted span {\n  /* fitted */\n  background: var(--sklearn-color-fitted-level-0);\n  border: var(--sklearn-color-fitted-level-3);\n}\n\n.sk-estimator-doc-link:hover span {\n  display: block;\n}\n\n/* \"?\"-specific style due to the `<a>` HTML tag */\n\n#sk-container-id-1 a.estimator_doc_link {\n  float: right;\n  font-size: 1rem;\n  line-height: 1em;\n  font-family: monospace;\n  background-color: var(--sklearn-color-background);\n  border-radius: 1rem;\n  height: 1rem;\n  width: 1rem;\n  text-decoration: none;\n  /* unfitted */\n  color: var(--sklearn-color-unfitted-level-1);\n  border: var(--sklearn-color-unfitted-level-1) 1pt solid;\n}\n\n#sk-container-id-1 a.estimator_doc_link.fitted {\n  /* fitted */\n  border: var(--sklearn-color-fitted-level-1) 1pt solid;\n  color: var(--sklearn-color-fitted-level-1);\n}\n\n/* On hover */\n#sk-container-id-1 a.estimator_doc_link:hover {\n  /* unfitted */\n  background-color: var(--sklearn-color-unfitted-level-3);\n  color: var(--sklearn-color-background);\n  text-decoration: none;\n}\n\n#sk-container-id-1 a.estimator_doc_link.fitted:hover {\n  /* fitted */\n  background-color: var(--sklearn-color-fitted-level-3);\n}\n</style><div id=\"sk-container-id-1\" class=\"sk-top-container\"><div class=\"sk-text-repr-fallback\"><pre>SVC(C=0.1, kernel=&#x27;linear&#x27;)</pre><b>In a Jupyter environment, please rerun this cell to show the HTML representation or trust the notebook. <br />On GitHub, the HTML representation is unable to render, please try loading this page with nbviewer.org.</b></div><div class=\"sk-container\" hidden><div class=\"sk-item\"><div class=\"sk-estimator fitted sk-toggleable\"><input class=\"sk-toggleable__control sk-hidden--visually\" id=\"sk-estimator-id-1\" type=\"checkbox\" checked><label for=\"sk-estimator-id-1\" class=\"sk-toggleable__label fitted sk-toggleable__label-arrow fitted\">&nbsp;&nbsp;SVC<a class=\"sk-estimator-doc-link fitted\" rel=\"noreferrer\" target=\"_blank\" href=\"https://scikit-learn.org/1.5/modules/generated/sklearn.svm.SVC.html\">?<span>Documentation for SVC</span></a><span class=\"sk-estimator-doc-link fitted\">i<span>Fitted</span></span></label><div class=\"sk-toggleable__content fitted\"><pre>SVC(C=0.1, kernel=&#x27;linear&#x27;)</pre></div> </div></div></div></div>","content_type":"text/html"},"text/plain":{"content":"SVC(C=0.1, kernel='linear')","content_type":"text/plain"}}},"children":[],"key":"TzECUiploX"}],"key":"r95NoHCJOL"}],"key":"xFgtcpstIv"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Test SVM Model","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"gTiqqhLXv3"}],"identifier":"test-svm-model","label":"Test SVM Model","html_id":"test-svm-model","implicit":true,"key":"y6gpbprZxa"}],"key":"keld9NpjqN"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:01.737957Z","iopub.status.busy":"2024-10-21T11:08:01.733646Z","iopub.status.idle":"2024-10-21T11:08:02.171188Z","shell.execute_reply":"2024-10-21T11:08:02.143222Z","shell.execute_reply.started":"2024-10-21T11:08:01.737929Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"y_pred = svm_model.predict(X_test_scaled)","key":"MCBT5t5Awc"},{"type":"outputs","id":"TmkUdqrhUPLVkkTOQJrhm","children":[],"key":"j9RReGA3ao"}],"key":"iey4Bxgpze"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Obtain Accuracy of SVM Model","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"pohgcwHD51"}],"identifier":"obtain-accuracy-of-svm-model","label":"Obtain Accuracy of SVM Model","html_id":"obtain-accuracy-of-svm-model","implicit":true,"key":"gNSSFEco2Q"}],"key":"dnFnBQ3dtE"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:02.226855Z","iopub.status.busy":"2024-10-21T11:08:02.223031Z","iopub.status.idle":"2024-10-21T11:08:02.440834Z","shell.execute_reply":"2024-10-21T11:08:02.427035Z","shell.execute_reply.started":"2024-10-21T11:08:02.226799Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"accuracy = accuracy_score(y_test, y_pred)\nprint(f\"Accuracy: {accuracy * 100:.2f}%\")","key":"OqYM9P8NZJ"},{"type":"outputs","id":"mlXDEzvBtZgXZqRFBoC2r","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Accuracy: 99.71%\n"},"children":[],"key":"Ad4IidAghB"}],"key":"hCIvvsXIW2"}],"key":"TvDqnYMuDv"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Obtain Training and Test Accuracy of SVM Model","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"oo5Qjk2V5J"}],"identifier":"obtain-training-and-test-accuracy-of-svm-model","label":"Obtain Training and Test Accuracy of SVM Model","html_id":"obtain-training-and-test-accuracy-of-svm-model","implicit":true,"key":"dGc3XjVI8i"}],"key":"YrKuV3vlzE"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:02.504298Z","iopub.status.busy":"2024-10-21T11:08:02.470559Z","iopub.status.idle":"2024-10-21T11:08:02.661855Z","shell.execute_reply":"2024-10-21T11:08:02.652716Z","shell.execute_reply.started":"2024-10-21T11:08:02.504260Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"train_accuracy = svm_model.score(X_train_scaled, y_train)\ntest_accuracy = svm_model.score(X_test_scaled, y_test)\nprint(f\"Training Accuracy: {train_accuracy * 100:.2f}%\")\nprint(f\"Test Accuracy: {test_accuracy * 100:.2f}%\")","key":"bBZxBnpQhD"},{"type":"outputs","id":"IQZ9dp_q8R4w1V0sq3hlb","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Training Accuracy: 100.00%\nTest Accuracy: 99.71%\n"},"children":[],"key":"qYEF1mnnmq"}],"key":"Wh6g3sceqR"}],"key":"Yv6vRIYmjw"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Obtain F1 Score of SVM Model","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"ppUGstcYau"}],"identifier":"obtain-f1-score-of-svm-model","label":"Obtain F1 Score of SVM Model","html_id":"obtain-f1-score-of-svm-model","implicit":true,"key":"tA314D6qnY"}],"key":"CUuiqhNAAK"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:02.662460Z","iopub.status.busy":"2024-10-21T11:08:02.662304Z","iopub.status.idle":"2024-10-21T11:08:02.844701Z","shell.execute_reply":"2024-10-21T11:08:02.820634Z","shell.execute_reply.started":"2024-10-21T11:08:02.662446Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"f1 = f1_score(y_test, y_pred)\nprint(f\"F1 Score: {f1:.2f}\")","key":"BiexrF2dJV"},{"type":"outputs","id":"hxAe_UlrW9yoImzA48er5","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"F1 Score: 1.00\n"},"children":[],"key":"alr79ILetz"}],"key":"fDJdbsNI73"}],"key":"KobWdAdgHB"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Cross Validate SVM Model","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"SnDCWOoFDe"}],"identifier":"cross-validate-svm-model","label":"Cross Validate SVM Model","html_id":"cross-validate-svm-model","implicit":true,"key":"yIZXnZY3yd"}],"key":"CmCAd9zks2"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:02.857744Z","iopub.status.busy":"2024-10-21T11:08:02.857503Z","iopub.status.idle":"2024-10-21T11:08:03.325390Z","shell.execute_reply":"2024-10-21T11:08:03.324783Z","shell.execute_reply.started":"2024-10-21T11:08:02.857727Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"scores = cross_val_score(svm_model, X_train_scaled, y_train, cv=5, scoring='accuracy')\nprint(f\"Cross-Validation Accuracy: {scores.mean():.2f} (+/- {scores.std():.2f})\")","key":"E5izI7Tgej"},{"type":"outputs","id":"IDTaX8oEglVRhnl2yzod0","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Cross-Validation Accuracy: 1.00 (+/- 0.00)\n"},"children":[],"key":"P0IqNw09r6"}],"key":"qYTXpxTsMf"}],"key":"R6V5hPYngR"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Visualize Results of SVM Model","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"OoAGDyEpiA"}],"identifier":"visualize-results-of-svm-model","label":"Visualize Results of SVM Model","html_id":"visualize-results-of-svm-model","implicit":true,"key":"UAMkQZ7TgT"}],"key":"qGDOMF3QLl"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Scatter Plot with PCA","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"Ux5tgUwwnY"}],"identifier":"scatter-plot-with-pca","label":"Scatter Plot with PCA","html_id":"scatter-plot-with-pca","implicit":true,"key":"qX3ORpSe63"}],"key":"kMrlbOoDlC"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:20:58.583214Z","iopub.status.busy":"2024-10-21T11:20:58.523066Z","iopub.status.idle":"2024-10-21T11:20:59.053719Z","shell.execute_reply":"2024-10-21T11:20:59.052629Z","shell.execute_reply.started":"2024-10-21T11:20:58.583176Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Reduce dimensions using PCA\npca = PCA(n_components=2)\n\nX_reduced = pca.fit_transform(X_test_scaled)\n\ncomponents = pca.components_\nprint(components)\n\n# Get the predicted labels\npredicted_labels = svm_model.predict(X_test_scaled)\n\n# Create boolean masks for correct and incorrect predictions\ncorrect_mask = (predicted_labels == y_test)\nincorrect_mask = ~correct_mask\n\n# Create a figure\nplt.figure(figsize=(10, 6))\n\n# Plot correct predictions in green\nplt.scatter(X_reduced[correct_mask, 0], X_reduced[correct_mask, 1], color='green',\n            marker='o', alpha=0.7, s=60, label='Correct Prediction')\n\n# Plot incorrect predictions in red\nplt.scatter(X_reduced[incorrect_mask, 0], X_reduced[incorrect_mask, 1], color='red',\n            marker='x', alpha=0.7, s=60, label='Incorrect Prediction')\n\n# Set labels and title\nplt.xlabel('PCA Component 1', fontsize=20)\nplt.ylabel('PCA Component 2', fontsize=20)\nplt.title('SVM Classification Results: Correct vs Incorrect Predictions on Test Data', fontsize=18)\n\n# Add a legend\nplt.legend()\n\n# Display the plot\nplt.tight_layout()\nplt.show()","key":"hAuyPo9qTf"},{"type":"outputs","id":"sJ85G8eJ_Lka1mNtgZkI6","children":[{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"[[ 0.51111341  0.13118439  0.47327076  0.4251986   0.00643744 -0.257121\n   0.50031459  0.01753109]\n [-0.03692307  0.31993471  0.1095569  -0.19047139  0.66528982  0.06390289\n   0.01416038  0.63332595]]\n"},"children":[],"key":"GJxb4e23XJ"},{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"5c63e3d289033a639c6b7a782c09b34c","path":"/5c63e3d289033a639c6b7a782c09b34c.png"},"text/plain":{"content":"<Figure size 1000x600 with 1 Axes>","content_type":"text/plain"}}},"children":[],"key":"r139uaQrNA"}],"key":"Gi953huPKV"}],"key":"AbtO4R2D2V"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Pairwise Plotting of Feature vs Feature","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"mgUABt7CKN"}],"identifier":"pairwise-plotting-of-feature-vs-feature","label":"Pairwise Plotting of Feature vs Feature","html_id":"pairwise-plotting-of-feature-vs-feature","implicit":true,"key":"SkjtTBfGYx"}],"key":"CKMijQit0c"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:23:12.085695Z","iopub.status.busy":"2024-10-21T11:23:12.076217Z","iopub.status.idle":"2024-10-21T11:23:29.120236Z","shell.execute_reply":"2024-10-21T11:23:29.104449Z","shell.execute_reply.started":"2024-10-21T11:23:12.085640Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"df = pd.DataFrame(X_test_scaled, columns=[f'Feature {i+1}' for i in range(X_test_scaled.shape[1])])\ndf['Predicted Class'] = svm_model.predict(X_test_scaled)\n\n# Plot pairwise relationships\nsns.pairplot(df, hue='Predicted Class', palette='viridis')\nplt.suptitle('Pair Plot of SVM Classification Results', y=1.02, fontsize=30)\nplt.show()\n","key":"VMxSOg4BJM"},{"type":"outputs","id":"E43efNehQZqiONWEEcc-q","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"8b4b5acb8b0d4a6b5b3f8937e7b09d1b","path":"/8b4b5acb8b0d4a6b5b3f8937e7b09d1b.png"},"text/plain":{"content":"<Figure size 2117.49x2000 with 72 Axes>","content_type":"text/plain"}}},"children":[],"key":"ES5PfT8mlN"}],"key":"P0FDYBqGbk"}],"key":"Atzg03eAgM"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":3,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Heatmaps of Confusion Matrix","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"kUpqSGFzky"}],"identifier":"heatmaps-of-confusion-matrix","label":"Heatmaps of Confusion Matrix","html_id":"heatmaps-of-confusion-matrix","implicit":true,"key":"xL612L5aCA"}],"key":"wjNnupMhHi"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-22T01:38:29.385324Z","iopub.status.busy":"2024-10-22T01:38:29.384594Z","iopub.status.idle":"2024-10-22T01:38:29.615638Z","shell.execute_reply":"2024-10-22T01:38:29.605462Z","shell.execute_reply.started":"2024-10-22T01:38:29.385296Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"# Get the predicted classes\ny_pred = svm_model.predict(X_test_scaled)\n\n# Create the confusion matrix\ncm = confusion_matrix(y_test, y_pred)\n\n# Plot the heatmap of the confusion matrix\nsns.heatmap(cm, annot=True, cmap='Blues', fmt='d')\nplt.xlabel('Predicted')\nplt.ylabel('Actual')\nplt.title('Confusion Matrix Heatmap of Test Data')\nplt.show()\n\n\n# Print accuracy, recall, precision, and F1 score\naccuracy = accuracy_score(y_test, y_pred)\nrecall = recall_score(y_test, y_pred)\nprecision = precision_score(y_test, y_pred)\nf1 = f1_score(y_test, y_pred)\n\nprint(f'Accuracy: {accuracy:.4f}')\nprint(f'Recall: {recall:.4f}')\nprint(f'Precision: {precision:.4f}')\nprint(f'F1 Score: {f1:.4f}')","key":"IXp4oH4Nc4"},{"type":"outputs","id":"vlWVRt5-kaXHlYkS6RR9B","children":[{"type":"output","jupyter_data":{"output_type":"display_data","metadata":{},"data":{"image/png":{"content_type":"image/png","hash":"316fae2de0eebc02e06b1573c013a345","path":"/316fae2de0eebc02e06b1573c013a345.png"},"text/plain":{"content":"<Figure size 640x480 with 2 Axes>","content_type":"text/plain"}}},"children":[],"key":"jvZXsCFKbH"},{"type":"output","jupyter_data":{"name":"stdout","output_type":"stream","text":"Accuracy: 0.9971\nRecall: 0.9950\nPrecision: 1.0000\nF1 Score: 0.9975\n"},"children":[],"key":"ZUot3mZueg"}],"key":"tnIudMGjNu"}],"key":"CfXUtuLl4b"},{"type":"block","kind":"notebook-content","children":[{"type":"heading","depth":2,"position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"children":[{"type":"text","value":"Dump Model to Pickle File","position":{"start":{"line":1,"column":1},"end":{"line":1,"column":1}},"key":"UWAxhzGQWB"}],"identifier":"dump-model-to-pickle-file","label":"Dump Model to Pickle File","html_id":"dump-model-to-pickle-file","implicit":true,"key":"HwighR07dX"}],"key":"Q5cN4BOnzv"},{"type":"block","kind":"notebook-code","data":{"execution":{"iopub.execute_input":"2024-10-21T11:08:19.318791Z","iopub.status.busy":"2024-10-21T11:08:19.318477Z","iopub.status.idle":"2024-10-21T11:08:19.456746Z","shell.execute_reply":"2024-10-21T11:08:19.407527Z","shell.execute_reply.started":"2024-10-21T11:08:19.318772Z"}},"children":[{"type":"code","lang":"python","executable":true,"value":"with open('svm_model.pkl', 'wb') as f:\n    pickle.dump(svm_model, f)","key":"YHsq7oDqjT"},{"type":"outputs","id":"qR7JCiOifILcjjNf89a6o","children":[],"key":"KzJtbUqtLX"}],"key":"zvKDV080jE"}],"key":"hANor63kOx"},"references":{"cite":{"order":[],"data":{}}}}