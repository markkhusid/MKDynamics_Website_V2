\begin{verbatim}
- - -
jupytext:
  formats: md:myst
  text_representation:
    extension: .md
    format_name: myst
kernelspec:
  display_name: Python 3
  language: python
  name: python3
 - - -
\end{verbatim}

\subparagraph{Variables, Scopes and Namespaces: Scopes}

Adapted from: ``Learn Modern C++'' by cpptutor: \href{https://learnmoderncpp.com/variables-scopes-and-namespaces/}{Learn Modern C++: Variables, Scopes and Namespaces}

\subparagraph{Program that Demonstrates Scopes}

\begin{verbatim}
// 02 -scopes.cpp : define three variables with the same name in one program
 
#include <print>
using namespace std;
 
auto a{ 1.5f };
 
int main() {
    println("(1) {}", a);
    auto a{ 2u };
    println("(2) {}", a);
    {
        auto a{ 2.5 };
        println("(3) {}", a);
    }
}
\end{verbatim}

\subparagraph{Explanation of the Above Code}

This C++ code demonstrates the concept of variable scopes by defining three variables with the same name (\texttt{a}) in different scopes. Here's an explanation:

\subparagraph{Code Breakdown:}

\begin{verbatim}
#include <print>
using namespace std;
\end{verbatim}

\begin{itemize}
\item The \texttt{\textless print\textgreater } header is used for formatted output (similar to \texttt{std::format} in C++20). It allows the use of \texttt{println} for printing formatted strings.
\item \texttt{using namespace std;} allows direct access to standard library functions without prefixing them with \texttt{std::}.
\end{itemize}

\begin{verbatim}
auto a{ 1.5f };
\end{verbatim}

\begin{itemize}
\item A global variable \texttt{a} is defined with a value of \texttt{1.5f} (a floating-point literal). This variable is accessible throughout the program unless shadowed by a local variable.
\end{itemize}

\begin{verbatim}
int main() {
    println("(1) {}", a);
\end{verbatim}

\begin{itemize}
\item Inside the \texttt{main} function, the global variable \texttt{a} is accessed and printed. The output will be:

\begin{verbatim}
(1) 1.5
\end{verbatim}
\end{itemize}

\begin{verbatim}
auto a{ 2u };
    println("(2) {}", a);
\end{verbatim}

\begin{itemize}
\item A local variable \texttt{a} is defined within the \texttt{main} function, shadowing the global variable \texttt{a}. This local variable is an unsigned integer (\texttt{2u}).
\item The local \texttt{a} is printed, and the output will be:

\begin{verbatim}
(2) 2
\end{verbatim}
\end{itemize}

\begin{verbatim}
{
        auto a{ 2.5 };
        println("(3) {}", a);
    }
\end{verbatim}

\begin{itemize}
\item A new block scope is introduced with \texttt{\{\}}. Inside this block, another local variable \texttt{a} is defined, shadowing the \texttt{a} from the outer scope. This variable is a double (\texttt{2.5}).
\item The innermost \texttt{a} is printed, and the output will be:

\begin{verbatim}
(3) 2.5
\end{verbatim}
\end{itemize}

\subparagraph{Key Concepts:}

\begin{enumerate}
\item \textbf{Global Scope}: The first \texttt{a} is defined globally and is accessible unless shadowed by a local variable.
\item \textbf{Local Scope}: The second \texttt{a} is defined within the \texttt{main} function, shadowing the global \texttt{a}.
\item \textbf{Block Scope}: The third \texttt{a} is defined within a block inside \texttt{main}, shadowing the \texttt{a} from the \texttt{main} function.
\end{enumerate}

\subparagraph{Output:}

The program will produce the following output:

\begin{verbatim}
(1) 1.5
(2) 2
(3) 2.5
\end{verbatim}

This demonstrates how variables with the same name can coexist in different scopes without conflict, as each scope has its own ``view'' of the variable.

\subparagraph{Compile and Run Code}

\subparagraph{Use Python to Change to Working Directory}

\begin{verbatim}
import os
root_dir = os.getcwd()
\end{verbatim}

\begin{verbatim}
code_dir = root_dir + "/" + "Cpp_Code/02_Variables_Scopes_and_Namespaces"
\end{verbatim}

\begin{verbatim}
os.chdir(code_dir)
\end{verbatim}

\subparagraph{Use Docker to Compile the Code in a C++23 Environment}

\begin{verbatim}
!docker run - -rm -v $(pwd):/app cpp23 -clang18:latest clang++ -18 -std=c++23 -stdlib=libc++ /app/02 -scopes.cpp -o /app/02 -scopes
\end{verbatim}

\subparagraph{Use Docker to Run Executable in a C++23 Environment}

\begin{verbatim}
!docker run - -rm -v $(pwd):/app cpp23 -clang18:latest ./02 -scopes
\end{verbatim}

\begin{verbatim}
(1) 1.5
(2) 2
(3) 2.5
\end{verbatim}