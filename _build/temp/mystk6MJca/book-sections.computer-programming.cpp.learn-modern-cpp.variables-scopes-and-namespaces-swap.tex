\begin{verbatim}
- - -
jupytext:
  formats: md:myst
  text_representation:
    extension: .md
    format_name: myst
kernelspec:
  display_name: Python 3
  language: python
  name: python3
 - - -
\end{verbatim}

\subparagraph{Variables, Scopes and Namespaces: Swap}

Adapted from: ``Learn Modern C++'' by cpptutor: \href{https://learnmoderncpp.com/variables-scopes-and-namespaces/}{Learn Modern C++: Variables, Scopes and Namespaces}

\subparagraph{Program that Demonstrates Variable Swapping and Implicit Casting}

\begin{verbatim}
// 02 -swap.cpp : attempt to swap the values of an int and a double
 
#include <print>
using namespace std;
 
int main() {
    int a = 1;
    double b = 2.5;
    println("(1) a = {}, b = {}", a, b);
    a = 2.5;
    b = 1;
    println("(2) a = {}, b = {}", a, b);
}
\end{verbatim}

\subparagraph{Explanation of the Above Code}

\begin{enumerate}
\item The program attempts to swap the values of an \texttt{int} and a \texttt{double}.
\item The first line of the \texttt{main} function initializes an \texttt{int} variable \texttt{a} with the value \texttt{1} and a \texttt{double} variable \texttt{b} with the value \texttt{2.5}.
\item The program prints the values of \texttt{a} and \texttt{b} using the \texttt{println} function.
\item The second line of the \texttt{main} function attempts to assign the value \texttt{2.5} (a \texttt{double}) to the \texttt{int} variable \texttt{a}, which results in an implicit cast.
\item The program then attempts to assign the value \texttt{1} (an \texttt{int}) to the \texttt{double} variable \texttt{b}, which is valid.
\item Finally, the program prints the values of \texttt{a} and \texttt{b} again.
\item The output of the program will show the values of \texttt{a} and \texttt{b} before and after the swap attempt.
\item The implicit cast from \texttt{double} to \texttt{int} will truncate the decimal part, and the output will reflect this.
\item The program demonstrates the concept of variable swapping and the behavior of implicit casting in C++.
\item The program also highlights the importance of understanding variable types and their scopes in C++.
\item The program uses the \texttt{print} library for output, which is a modern C++ feature.
\end{enumerate}

\subparagraph{Compile and Run Code}

\subparagraph{Use Python to Change to Working Directory}

\begin{verbatim}
import os
root_dir = os.getcwd()
\end{verbatim}

\begin{verbatim}
code_dir = root_dir + "/" + "Cpp_Code/02_Variables_Scopes_and_Namespaces"
\end{verbatim}

\begin{verbatim}
os.chdir(code_dir)
\end{verbatim}

\subparagraph{Use Docker to Compile the Code in a C++23 Environment}

\begin{verbatim}
!docker run - -rm -v $(pwd):/app cpp23 -clang18:latest clang++ -18 -std=c++23 -stdlib=libc++ /app/02 -swap.cpp -o /app/02 -swap
\end{verbatim}

\begin{verbatim}
/app/02 -swap.cpp:10:9: warning: implicit conversion from 'double' to 'int' changes value from 2.5 to 2 [ -Wliteral -conversion]
   10 |     a = 2.5;
      |       ~ ^~~
1 warning generated.
\end{verbatim}

\subparagraph{Use Docker to Run Executable in a C++23 Environment}

\begin{verbatim}
!docker run - -rm -v $(pwd):/app cpp23 -clang18:latest ./02 -swap
\end{verbatim}

\begin{verbatim}
(1) a = 1, b = 2.5
(2) a = 2, b = 1
\end{verbatim}